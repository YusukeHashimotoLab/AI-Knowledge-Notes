<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Á¨¨3Á´†Ôºö„Éá„Éº„Çø„Éô„Éº„ÇπÁµ±Âêà„Å®„ÉØ„Éº„ÇØ„Éï„É≠„Éº - AI Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #7b2cbf;
            --color-accent-light: #9d4edd;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #3182ce;
            --color-link-hover: #2c5aa0;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .mermaid {
            text-align: center;
            margin: var(--spacing-lg) 0;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        details {
            background-color: var(--color-bg-alt);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            color: var(--color-primary);
            user-select: none;
            padding: var(--spacing-xs);
            margin: calc(-1 * var(--spacing-md));
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        summary:hover {
            background-color: rgba(123, 44, 191, 0.1);
        }

        details[open] summary {
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-border);
        }

        .learning-objectives {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--color-accent);
            margin-bottom: var(--spacing-xl);
        }

        .learning-objectives h2 {
            margin-top: 0;
            border-bottom: none;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'strict' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\(', '\)']],
                displayMath: [['$$', '$$'], ['\[', '\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Á¨¨3Á´†Ôºö„Éá„Éº„Çø„Éô„Éº„ÇπÁµ±Âêà„Å®„ÉØ„Éº„ÇØ„Éï„É≠„Éº</h1>
            <p class="subtitle">Ë§áÊï∞DB„ÅÆÁµ±Âêà„Å®„Éá„Éº„Çø„ÇØ„É™„Éº„Éã„É≥„Ç∞ÂÆüË∑µ</p>
            <div class="meta">
                <span class="meta-item">üìñ Ë™≠‰∫ÜÊôÇÈñì: 20-25ÂàÜ</span>
                <span class="meta-item">üìä Èõ£ÊòìÂ∫¶: ÂàùÁ¥ö„Äú‰∏≠Á¥ö</span>
                <span class="meta-item">üíª „Ç≥„Éº„Éâ‰æã: 12ÂÄã</span>
                <span class="meta-item">üìù ÊºîÁøíÂïèÈ°å: 3Âïè</span>
            </div>
        </div>
    </header>

    <main class="container">
<h1>Á¨¨3Á´†Ôºö„Éá„Éº„Çø„Éô„Éº„ÇπÁµ±Âêà„Å®„ÉØ„Éº„ÇØ„Éï„É≠„Éº</h1>
<p class="chapter-description" style="margin: 1.5rem 0; padding: 1rem; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-left: 4px solid #7b2cbf; border-radius: 8px; font-size: 1.05rem; line-height: 1.8; color: #2d3748;">„Çπ„Ç≠„Éº„Éû„ÅÆÈÅï„ÅÑ„Çí‰πó„ÇäË∂ä„Åà„Å¶„Éá„Éº„Çø„ÇíÁµ±Âêà„Åô„ÇãÊµÅ„Çå„ÇíÂ≠¶„Å≥„Åæ„Åô„ÄÇÂìÅË≥™ÁÆ°ÁêÜ„Å®ËøΩË∑°ÂèØËÉΩÊÄß„ÅÆÂãòÊâÄ„ÇÇÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ</p>
<p class="chapter-supplement" style="margin: 0.75rem 0 1.5rem 0; padding: 0.75rem 1rem; background: linear-gradient(135deg, #fff8e1 0%, #fff3cd 100%); border-left: 3px solid #f59e0b; border-radius: 6px; font-size: 0.95rem; line-height: 1.7; color: #4a5568;"><strong>üí° Ë£úË∂≥:</strong> „Ç≠„ÉºÊï¥Âêà„Å®Âçò‰ΩçÁµ±‰∏Ä„ÅåÊúÄÈáçË¶Å„ÄÇÁî±Êù•ÔºàprovenanceÔºâ„ÇíÊÆã„Åô„Å®Âæå„Åã„ÇâÊ§úË®º„Åß„Åç„Åæ„Åô„ÄÇ</p>





<p><strong>Ë§áÊï∞DB„ÅÆÁµ±Âêà„Å®„Éá„Éº„Çø„ÇØ„É™„Éº„Éã„É≥„Ç∞ÂÆüË∑µ</strong></p>
<h2>Â≠¶ÁøíÁõÆÊ®ô</h2>
<p>„Åì„ÅÆÁ´†„ÇíË™≠„ÇÄ„Åì„Å®„Åß„ÄÅ‰ª•‰∏ã„ÇíÁøíÂæó„Åß„Åç„Åæ„ÅôÔºö</p>
<ul>
<li>‚úÖ Materials Project„Å®AFLOW„Éá„Éº„Çø„ÇíÁµ±Âêà„Åß„Åç„Çã</li>
<li>‚úÖ „Éá„Éº„Çø„ÇØ„É™„Éº„Éã„É≥„Ç∞„ÅÆÊ®ôÊ∫ñÊâãÊ≥ï„ÇíÈÅ©Áî®„Åß„Åç„Çã</li>
<li>‚úÖ Ê¨†ÊêçÂÄ§„ÇíÈÅ©Âàá„Å´Âá¶ÁêÜ„Åß„Åç„Çã</li>
<li>‚úÖ Ëá™ÂãïÊõ¥Êñ∞„Éë„Ç§„Éó„É©„Ç§„É≥„ÇíÊßãÁØâ„Åß„Åç„Çã</li>
<li>‚úÖ „Éá„Éº„ÇøÂìÅË≥™„ÇíÂÆöÈáèÁöÑ„Å´Ë©ï‰æ°„Åß„Åç„Çã</li>
</ul>
<p><strong>Ë™≠‰∫ÜÊôÇÈñì</strong>: 20-25ÂàÜ
<strong>„Ç≥„Éº„Éâ‰æã</strong>: 12ÂÄã
<strong>ÊºîÁøíÂïèÈ°å</strong>: 3Âïè</p>
<hr />
<h2>3.1 Ë§áÊï∞„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÁµ±Âêà</h2>
<p>ÊùêÊñôÁ†îÁ©∂„Åß„ÅØ„ÄÅÂçò‰∏Ä„ÅÆ„Éá„Éº„Çø„Éô„Éº„Çπ„Å†„Åë„Åß„Å™„Åè„ÄÅË§áÊï∞„ÅÆ„Éá„Éº„Çø„Éô„Éº„Çπ„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Çã„Åì„Å®„Åß„ÄÅ„Çà„Çä‰ø°È†ºÊÄß„ÅÆÈ´ò„ÅÑÁµêÊûú„ÅåÂæó„Çâ„Çå„Åæ„Åô„ÄÇ„Åì„Åì„Åß„ÅØ„ÄÅMaterials Project„Å®AFLOW„Éá„Éº„Çø„ÇíÁµ±Âêà„Åô„ÇãÊñπÊ≥ï„ÇíÂ≠¶„Å≥„Åæ„Åô„ÄÇ</p>
<h3>3.1.1 „Éá„Éº„Çø„Éô„Éº„ÇπÁµ±Âêà„ÅÆÂü∫Êú¨Êà¶Áï•</h3>
<div class="mermaid">
flowchart TD
    A[Materials Project] --> C[ÂÖ±ÈÄöË≠òÂà•Â≠ê„ÅßÁÖßÂêà]
    B[AFLOW] --> C
    C --> D[„Éá„Éº„ÇøÁµêÂêà]
    D --> E[ÈáçË§áÂâäÈô§]
    E --> F[Ê¨†ÊêçÂÄ§Âá¶ÁêÜ]
    F --> G[Áµ±Âêà„Éá„Éº„Çø„Çª„ÉÉ„Éà]

    style A fill:#e3f2fd
    style B fill:#fff3e0
    style G fill:#e8f5e9
</div>

<p><strong>„Ç≥„Éº„Éâ‰æã1: Materials Project„Å®AFLOW„Éá„Éº„Çø„ÅÆÂèñÂæó</strong></p>
<pre><code class="language-python">from mp_api.client import MPRester
import requests
import pandas as pd

MP_API_KEY = &quot;your_mp_key&quot;

def get_mp_data(formula):
    &quot;&quot;&quot;Materials Project„Åã„Çâ„Éá„Éº„ÇøÂèñÂæó&quot;&quot;&quot;
    with MPRester(MP_API_KEY) as mpr:
        docs = mpr.materials.summary.search(
            formula=formula,
            fields=[
                &quot;material_id&quot;,
                &quot;formula_pretty&quot;,
                &quot;band_gap&quot;,
                &quot;formation_energy_per_atom&quot;,
                &quot;energy_above_hull&quot;
            ]
        )

        if docs:
            doc = docs[0]
            return {
                &quot;source&quot;: &quot;Materials Project&quot;,
                &quot;id&quot;: doc.material_id,
                &quot;formula&quot;: doc.formula_pretty,
                &quot;band_gap&quot;: doc.band_gap,
                &quot;formation_energy&quot;:
                    doc.formation_energy_per_atom,
                &quot;stability&quot;: doc.energy_above_hull
            }
    return None

def get_aflow_data(formula):
    &quot;&quot;&quot;AFLOW„Åã„Çâ„Éá„Éº„ÇøÂèñÂæó&quot;&quot;&quot;
    url = &quot;http://aflowlib.org/API/aflux&quot;
    params = {
        &quot;species&quot;: formula,
        &quot;$&quot;: &quot;formula,Egap,enthalpy_formation_atom&quot;
    }

    try:
        response = requests.get(url, params=params, timeout=10)
        data = response.json()

        if data:
            item = data[0]
            return {
                &quot;source&quot;: &quot;AFLOW&quot;,
                &quot;id&quot;: item.get(&quot;auid&quot;, &quot;N/A&quot;),
                &quot;formula&quot;: item.get(&quot;formula&quot;, formula),
                &quot;band_gap&quot;: item.get(&quot;Egap&quot;, None),
                &quot;formation_energy&quot;:
                    item.get(&quot;enthalpy_formation_atom&quot;, None),
                &quot;stability&quot;: None  # AFLOW„Å´„ÅØÁõ¥Êé•ÁöÑ„Å™ÂÄ§„Å™„Åó
            }
    except Exception as e:
        print(f&quot;AFLOWÂèñÂæó„Ç®„É©„Éº: {e}&quot;)

    return None

# TiO2„ÅÆ„Éá„Éº„Çø„Çí‰∏°Êñπ„Åã„ÇâÂèñÂæó
formula = &quot;TiO2&quot;
mp_data = get_mp_data(formula)
aflow_data = get_aflow_data(formula)

print(f&quot;=== {formula}„ÅÆ„Éá„Éº„ÇøÊØîËºÉ ===&quot;)
print(f&quot;\nMaterials Project:&quot;)
print(mp_data)
print(f&quot;\nAFLOW:&quot;)
print(aflow_data)
</code></pre>
<p><strong>Âá∫Âäõ‰æã</strong>:</p>
<pre><code>=== TiO2„ÅÆ„Éá„Éº„ÇøÊØîËºÉ ===

Materials Project:
{'source': 'Materials Project', 'id': 'mp-2657', 'formula': 'TiO2',
 'band_gap': 3.44, 'formation_energy': -4.872, 'stability': 0.0}

AFLOW:
{'source': 'AFLOW', 'id': 'aflow:123456', 'formula': 'TiO2',
 'band_gap': 3.38, 'formation_energy': -4.915, 'stability': None}
</code></pre>
<h3>3.1.2 „Éá„Éº„ÇøÁµêÂêàÔºàJoinÔºâ</h3>
<p><strong>„Ç≥„Éº„Éâ‰æã2: ÂåñÂ≠¶Âºè„Çí„Ç≠„Éº„Å®„Åó„ÅüÁµêÂêà</strong></p>
<pre><code class="language-python">import pandas as pd

def merge_databases(formulas):
    &quot;&quot;&quot;Ë§áÊï∞„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆ„Éá„Éº„Çø„ÇíÁµêÂêà&quot;&quot;&quot;
    mp_data_list = []
    aflow_data_list = []

    for formula in formulas:
        mp_data = get_mp_data(formula)
        if mp_data:
            mp_data_list.append(mp_data)

        aflow_data = get_aflow_data(formula)
        if aflow_data:
            aflow_data_list.append(aflow_data)

    # DataFrame„Å´Â§âÊèõ
    df_mp = pd.DataFrame(mp_data_list)
    df_aflow = pd.DataFrame(aflow_data_list)

    # ÂåñÂ≠¶Âºè„Åß„Éû„Éº„Ç∏
    df_merged = pd.merge(
        df_mp,
        df_aflow,
        on=&quot;formula&quot;,
        how=&quot;outer&quot;,
        suffixes=(&quot;_mp&quot;, &quot;_aflow&quot;)
    )

    return df_merged

# Ë§áÊï∞ÊùêÊñô„ÅßÁµ±Âêà
formulas = [&quot;TiO2&quot;, &quot;ZnO&quot;, &quot;GaN&quot;, &quot;SiC&quot;]
df = merge_databases(formulas)

print(&quot;Áµ±Âêà„Éá„Éº„Çø„Çª„ÉÉ„Éà:&quot;)
print(df)
print(f&quot;\nÁ∑è‰ª∂Êï∞: {len(df)}&quot;)
</code></pre>
<p><strong>Âá∫Âäõ‰æã</strong>:</p>
<pre><code>Áµ±Âêà„Éá„Éº„Çø„Çª„ÉÉ„Éà:
  formula    id_mp  band_gap_mp  formation_energy_mp    id_aflow  band_gap_aflow  ...
0    TiO2  mp-2657         3.44                -4.872  aflow:123              3.38  ...
1     ZnO  mp-2133         3.44                -1.950  aflow:456              3.41  ...
...

Á∑è‰ª∂Êï∞: 4
</code></pre>
<hr />
<h2>3.2 „Éá„Éº„Çø„ÇØ„É™„Éº„Éã„É≥„Ç∞</h2>
<h3>3.2.1 ÈáçË§á„Éá„Éº„Çø„ÅÆÊ§úÂá∫„Å®ÂâäÈô§</h3>
<p><strong>„Ç≥„Éº„Éâ‰æã3: ÈáçË§áÊ§úÂá∫</strong></p>
<pre><code class="language-python">import pandas as pd

def detect_duplicates(df):
    &quot;&quot;&quot;ÈáçË§á„Éá„Éº„Çø„ÅÆÊ§úÂá∫&quot;&quot;&quot;
    # ÂåñÂ≠¶Âºè„Å´„Çà„ÇãÈáçË§á
    duplicates = df[df.duplicated(subset=['formula'],
                                   keep=False)]

    print(&quot;=== ÈáçË§á„Éá„Éº„ÇøÊ§úÂá∫ ===&quot;)
    print(f&quot;Á∑è„Éá„Éº„ÇøÊï∞: {len(df)}&quot;)
    print(f&quot;ÈáçË§á„ÅÇ„Çä: {len(duplicates)}&quot;)

    if len(duplicates) &gt; 0:
        print(&quot;\nÈáçË§á„Éá„Éº„Çø:&quot;)
        print(duplicates[['formula', 'source', 'id']])

    # ÈáçË§áÂâäÈô§ÔºàÊúÄÂàù„ÅÆ„Ç®„É≥„Éà„É™„Çí‰øùÊåÅÔºâ
    df_clean = df.drop_duplicates(subset=['formula'],
                                   keep='first')

    print(f&quot;\nÈáçË§áÂâäÈô§Âæå: {len(df_clean)}‰ª∂&quot;)
    return df_clean

# ‰ΩøÁî®‰æã
df_clean = detect_duplicates(df)
</code></pre>
<h3>3.2.2 Áï∞Â∏∏ÂÄ§„ÅÆÊ§úÂá∫</h3>
<p><strong>„Ç≥„Éº„Éâ‰æã4: Â§ñ„ÇåÂÄ§Ê§úÂá∫ÔºàIQRÊ≥ïÔºâ</strong></p>
<pre><code class="language-python">import numpy as np

def detect_outliers(df, column):
    &quot;&quot;&quot;IQRÊ≥ï„Å´„Çà„ÇãÂ§ñ„ÇåÂÄ§Ê§úÂá∫&quot;&quot;&quot;
    Q1 = df[column].quantile(0.25)
    Q3 = df[column].quantile(0.75)
    IQR = Q3 - Q1

    # Â§ñ„ÇåÂÄ§„ÅÆÁØÑÂõ≤
    lower_bound = Q1 - 1.5 * IQR
    upper_bound = Q3 + 1.5 * IQR

    # Â§ñ„ÇåÂÄ§Ê§úÂá∫
    outliers = df[
        (df[column] &lt; lower_bound) |
        (df[column] &gt; upper_bound)
    ]

    print(f&quot;=== {column}„ÅÆÂ§ñ„ÇåÂÄ§Ê§úÂá∫ ===&quot;)
    print(f&quot;Q1: {Q1:.3f}, Q3: {Q3:.3f}, IQR: {IQR:.3f}&quot;)
    print(f&quot;ÁØÑÂõ≤: [{lower_bound:.3f}, {upper_bound:.3f}]&quot;)
    print(f&quot;Â§ñ„ÇåÂÄ§: {len(outliers)}‰ª∂&quot;)

    if len(outliers) &gt; 0:
        print(&quot;\nÂ§ñ„ÇåÂÄ§„Éá„Éº„Çø:&quot;)
        print(outliers[['formula', column]])

    return outliers

# „Éê„É≥„Éâ„ÇÆ„É£„ÉÉ„Éó„ÅÆÂ§ñ„ÇåÂÄ§Ê§úÂá∫
outliers_bg = detect_outliers(df_clean, 'band_gap_mp')
</code></pre>
<hr />
<h2>3.3 Ê¨†ÊêçÂÄ§Âá¶ÁêÜ</h2>
<h3>3.3.1 Ê¨†Êêç„Éë„Çø„Éº„É≥„ÅÆÂèØË¶ñÂåñ</h3>
<p><strong>„Ç≥„Éº„Éâ‰æã5: Ê¨†ÊêçÂÄ§„ÅÆÂàÜÊûê</strong></p>
<pre><code class="language-python">import matplotlib.pyplot as plt
import seaborn as sns

def analyze_missing_values(df):
    &quot;&quot;&quot;Ê¨†ÊêçÂÄ§„ÅÆË©≥Á¥∞ÂàÜÊûê&quot;&quot;&quot;
    # Ê¨†ÊêçÂÄ§„Ç´„Ç¶„É≥„Éà
    missing_count = df.isnull().sum()
    missing_percent = (missing_count / len(df)) * 100

    # „É¨„Éù„Éº„Éà‰ΩúÊàê
    missing_df = pd.DataFrame({
        &quot;Column&quot;: missing_count.index,
        &quot;Missing Count&quot;: missing_count.values,
        &quot;Missing %&quot;: missing_percent.values
    })
    missing_df = missing_df[missing_df[&quot;Missing Count&quot;] &gt; 0]
    missing_df = missing_df.sort_values(&quot;Missing %&quot;,
                                        ascending=False)

    print(&quot;=== Ê¨†ÊêçÂÄ§„É¨„Éù„Éº„Éà ===&quot;)
    print(missing_df)

    # „Éí„Éº„Éà„Éû„ÉÉ„Éó
    plt.figure(figsize=(10, 6))
    sns.heatmap(
        df.isnull(),
        cbar=True,
        cmap='viridis',
        yticklabels=False
    )
    plt.title(&quot;Missing Values Heatmap&quot;)
    plt.xlabel(&quot;Columns&quot;)
    plt.tight_layout()
    plt.savefig(&quot;missing_values_heatmap.png&quot;, dpi=150)
    plt.show()

    return missing_df

# Ê¨†ÊêçÂÄ§ÂàÜÊûê
missing_report = analyze_missing_values(df_clean)
</code></pre>
<h3>3.3.2 Ê¨†ÊêçÂÄ§„ÅÆË£úÂÆå</h3>
<p><strong>„Ç≥„Éº„Éâ‰æã6: Ë£úÂÆåÊà¶Áï•</strong></p>
<pre><code class="language-python">from sklearn.impute import SimpleImputer, KNNImputer

def impute_missing_values(df, method='mean'):
    &quot;&quot;&quot;
    Ê¨†ÊêçÂÄ§Ë£úÂÆå

    Parameters:
    -----------
    method : str
        'mean', 'median', 'knn'„ÅÆ„ÅÑ„Åö„Çå„Åã
    &quot;&quot;&quot;
    numeric_cols = df.select_dtypes(
        include=[np.number]
    ).columns

    df_imputed = df.copy()

    if method == 'mean':
        imputer = SimpleImputer(strategy='mean')
    elif method == 'median':
        imputer = SimpleImputer(strategy='median')
    elif method == 'knn':
        imputer = KNNImputer(n_neighbors=5)
    else:
        raise ValueError(f&quot;Unknown method: {method}&quot;)

    # Êï∞ÂÄ§Âàó„ÅÆ„ÅøË£úÂÆå
    df_imputed[numeric_cols] = imputer.fit_transform(
        df[numeric_cols]
    )

    print(f&quot;=== Ê¨†ÊêçÂÄ§Ë£úÂÆåÔºà{method}Ê≥ïÔºâ ===&quot;)
    print(f&quot;Ë£úÂÆåÂâç: {df.isnull().sum().sum()}‰ª∂&quot;)
    print(f&quot;Ë£úÂÆåÂæå: {df_imputed.isnull().sum().sum()}‰ª∂&quot;)

    return df_imputed

# Âπ≥ÂùáÂÄ§Ë£úÂÆå
df_imputed = impute_missing_values(df_clean, method='mean')

# KNNË£úÂÆåÔºà„Çà„ÇäÈ´òÂ∫¶Ôºâ
df_knn = impute_missing_values(df_clean, method='knn')
</code></pre>
<hr />
<h2>3.4 Ëá™ÂãïÊõ¥Êñ∞„Éë„Ç§„Éó„É©„Ç§„É≥</h2>
<h3>3.4.1 „Éá„Éº„ÇøÂèñÂæó„Éë„Ç§„Éó„É©„Ç§„É≥</h3>
<p><strong>„Ç≥„Éº„Éâ‰æã7: Ëá™ÂãïÊõ¥Êñ∞„Çπ„ÇØ„É™„Éó„Éà</strong></p>
<pre><code class="language-python">from datetime import datetime
import json
import os

class DataUpdatePipeline:
    &quot;&quot;&quot;Ëá™Âãï„Éá„Éº„ÇøÊõ¥Êñ∞„Éë„Ç§„Éó„É©„Ç§„É≥&quot;&quot;&quot;

    def __init__(self, output_dir=&quot;data&quot;):
        self.output_dir = output_dir
        os.makedirs(output_dir, exist_ok=True)

    def fetch_data(self, formulas):
        &quot;&quot;&quot;„Éá„Éº„ÇøÂèñÂæó&quot;&quot;&quot;
        print(f&quot;„Éá„Éº„ÇøÂèñÂæóÈñãÂßã: {datetime.now()}&quot;)
        df = merge_databases(formulas)
        return df

    def clean_data(self, df):
        &quot;&quot;&quot;„Éá„Éº„Çø„ÇØ„É™„Éº„Éã„É≥„Ç∞&quot;&quot;&quot;
        print(&quot;„Éá„Éº„Çø„ÇØ„É™„Éº„Éã„É≥„Ç∞‰∏≠...&quot;)
        df = detect_duplicates(df)
        df = impute_missing_values(df, method='mean')
        return df

    def save_data(self, df, filename=None):
        &quot;&quot;&quot;„Éá„Éº„Çø‰øùÂ≠ò&quot;&quot;&quot;
        if filename is None:
            timestamp = datetime.now().strftime(&quot;%Y%m%d_%H%M%S&quot;)
            filename = f&quot;materials_data_{timestamp}.csv&quot;

        filepath = os.path.join(self.output_dir, filename)
        df.to_csv(filepath, index=False)
        print(f&quot;„Éá„Éº„Çø‰øùÂ≠òÂÆå‰∫Ü: {filepath}&quot;)

        # „É°„Çø„Éá„Éº„Çø‰øùÂ≠ò
        metadata = {
            &quot;timestamp&quot;: datetime.now().isoformat(),
            &quot;num_records&quot;: len(df),
            &quot;columns&quot;: list(df.columns),
            &quot;file&quot;: filename
        }

        meta_file = filepath.replace(&quot;.csv&quot;, &quot;_meta.json&quot;)
        with open(meta_file, 'w') as f:
            json.dump(metadata, f, indent=2)

        return filepath

    def run(self, formulas):
        &quot;&quot;&quot;„Éë„Ç§„Éó„É©„Ç§„É≥ÂÆüË°å&quot;&quot;&quot;
        # „Éá„Éº„ÇøÂèñÂæó
        df = self.fetch_data(formulas)

        # „ÇØ„É™„Éº„Éã„É≥„Ç∞
        df_clean = self.clean_data(df)

        # ‰øùÂ≠ò
        filepath = self.save_data(df_clean)

        print(f&quot;\n=== „Éë„Ç§„Éó„É©„Ç§„É≥ÂÆå‰∫Ü ===&quot;)
        print(f&quot;ÂèñÂæó‰ª∂Êï∞: {len(df_clean)}&quot;)
        print(f&quot;„Éï„Ç°„Ç§„É´: {filepath}&quot;)

        return df_clean

# ‰ΩøÁî®‰æã
pipeline = DataUpdatePipeline()
formulas = [&quot;TiO2&quot;, &quot;ZnO&quot;, &quot;GaN&quot;, &quot;SiC&quot;, &quot;Al2O3&quot;]
df_result = pipeline.run(formulas)
</code></pre>
<h3>3.4.2 „Çπ„Ç±„Ç∏„É•„Éº„É´ÂÆüË°å</h3>
<p><strong>„Ç≥„Éº„Éâ‰æã8: cronÈ¢®„ÅÆÂÆöÊúüÂÆüË°å</strong></p>
<pre><code class="language-python">import schedule
import time

def scheduled_update():
    &quot;&quot;&quot;ÂÆöÊúüÊõ¥Êñ∞„Ç∏„Éß„Éñ&quot;&quot;&quot;
    print(f&quot;\n{'='*50}&quot;)
    print(f&quot;ÂÆöÊúüÊõ¥Êñ∞ÈñãÂßã: {datetime.now()}&quot;)
    print(f&quot;{'='*50}&quot;)

    # „Éë„Ç§„Éó„É©„Ç§„É≥ÂÆüË°å
    pipeline = DataUpdatePipeline()
    formulas = [&quot;TiO2&quot;, &quot;ZnO&quot;, &quot;GaN&quot;, &quot;SiC&quot;]
    pipeline.run(formulas)

# „Çπ„Ç±„Ç∏„É•„Éº„É´Ë®≠ÂÆö
schedule.every().day.at(&quot;09:00&quot;).do(scheduled_update)
schedule.every().week.do(scheduled_update)

# ÂÆüË°åÔºà„Éá„É¢Áî®: 10Áßí„Åî„Å®Ôºâ
schedule.every(10).seconds.do(scheduled_update)

print(&quot;„Çπ„Ç±„Ç∏„É•„Éº„É©„ÉºÈñãÂßã...&quot;)
print(&quot;Ctrl+C„ÅßÁµÇ‰∫Ü&quot;)

# ÁÑ°Èôê„É´„Éº„Éó
while True:
    schedule.run_pending()
    time.sleep(1)
</code></pre>
<hr />
<h2>3.5 „Éá„Éº„ÇøÂìÅË≥™ÁÆ°ÁêÜ</h2>
<h3>3.5.1 ÂìÅË≥™„É°„Éà„É™„ÇØ„Çπ</h3>
<p><strong>„Ç≥„Éº„Éâ‰æã9: „Éá„Éº„ÇøÂìÅË≥™Ë©ï‰æ°</strong></p>
<pre><code class="language-python">def calculate_quality_metrics(df):
    &quot;&quot;&quot;„Éá„Éº„ÇøÂìÅË≥™„É°„Éà„É™„ÇØ„ÇπË®àÁÆó&quot;&quot;&quot;

    metrics = {}

    # ÂÆåÂÖ®ÊÄßÔºàCompletenessÔºâ
    total_cells = df.size
    missing_cells = df.isnull().sum().sum()
    completeness = (
        (total_cells - missing_cells) / total_cells
    ) * 100

    # ‰∏ÄË≤´ÊÄßÔºàConsistencyÔºâ
    # ‰æã: „Éê„É≥„Éâ„ÇÆ„É£„ÉÉ„Éó„ÅåË≤†„ÅÆÂÄ§„Åß„Å™„ÅÑ„Åã
    if 'band_gap_mp' in df.columns:
        invalid_bg = (df['band_gap_mp'] &lt; 0).sum()
        consistency = (
            (len(df) - invalid_bg) / len(df)
        ) * 100
    else:
        consistency = 100.0

    # Á≤æÂ∫¶ÔºàAccuracyÔºâ
    # ‰æã: MP„Å®AFLOW„ÅÆÂ∑ÆÁï∞
    if 'band_gap_mp' in df.columns and \
       'band_gap_aflow' in df.columns:
        diff = (
            df['band_gap_mp'] - df['band_gap_aflow']
        ).abs()
        avg_diff = diff.mean()
        accuracy = max(
            0, 100 - (avg_diff / df['band_gap_mp'].mean()) * 100
        )
    else:
        accuracy = None

    metrics = {
        &quot;Completeness (%)&quot;: round(completeness, 2),
        &quot;Consistency (%)&quot;: round(consistency, 2),
        &quot;Accuracy (%)&quot;: round(accuracy, 2) if accuracy else &quot;N/A&quot;,
        &quot;Total Records&quot;: len(df),
        &quot;Total Cells&quot;: total_cells,
        &quot;Missing Cells&quot;: missing_cells
    }

    print(&quot;=== „Éá„Éº„ÇøÂìÅË≥™„É°„Éà„É™„ÇØ„Çπ ===&quot;)
    for key, value in metrics.items():
        print(f&quot;{key}: {value}&quot;)

    return metrics

# ÂìÅË≥™Ë©ï‰æ°
quality = calculate_quality_metrics(df_clean)
</code></pre>
<h3>3.5.2 „Éê„É™„Éá„Éº„Ç∑„Éß„É≥„É´„Éº„É´</h3>
<p><strong>„Ç≥„Éº„Éâ‰æã10: „Éá„Éº„Çø„Éê„É™„Éá„Éº„Ç∑„Éß„É≥</strong></p>
<pre><code class="language-python">def validate_materials_data(df):
    &quot;&quot;&quot;ÊùêÊñô„Éá„Éº„Çø„ÅÆ„Éê„É™„Éá„Éº„Ç∑„Éß„É≥&quot;&quot;&quot;

    validation_report = []

    # „É´„Éº„É´1: „Éê„É≥„Éâ„ÇÆ„É£„ÉÉ„Éó„ÅØ0‰ª•‰∏ä
    if 'band_gap_mp' in df.columns:
        invalid_bg = df[df['band_gap_mp'] &lt; 0]
        if len(invalid_bg) &gt; 0:
            validation_report.append({
                &quot;Rule&quot;: &quot;Band Gap &gt;= 0&quot;,
                &quot;Status&quot;: &quot;FAIL&quot;,
                &quot;Failed Records&quot;: len(invalid_bg)
            })
        else:
            validation_report.append({
                &quot;Rule&quot;: &quot;Band Gap &gt;= 0&quot;,
                &quot;Status&quot;: &quot;PASS&quot;,
                &quot;Failed Records&quot;: 0
            })

    # „É´„Éº„É´2: ÂΩ¢Êàê„Ç®„Éç„É´„ÇÆ„Éº„ÅØË≤†
    if 'formation_energy_mp' in df.columns:
        invalid_fe = df[df['formation_energy_mp'] &gt; 0]
        if len(invalid_fe) &gt; 0:
            validation_report.append({
                &quot;Rule&quot;: &quot;Formation Energy &lt;= 0&quot;,
                &quot;Status&quot;: &quot;WARNING&quot;,
                &quot;Failed Records&quot;: len(invalid_fe)
            })
        else:
            validation_report.append({
                &quot;Rule&quot;: &quot;Formation Energy &lt;= 0&quot;,
                &quot;Status&quot;: &quot;PASS&quot;,
                &quot;Failed Records&quot;: 0
            })

    # „É´„Éº„É´3: ÂÆâÂÆöÊÄß &lt;= 0.1 eV/atom
    if 'stability_mp' in df.columns:
        unstable = df[df['stability_mp'] &gt; 0.1]
        validation_report.append({
            &quot;Rule&quot;: &quot;Stability &lt;= 0.1 eV/atom&quot;,
            &quot;Status&quot;: &quot;INFO&quot;,
            &quot;Failed Records&quot;: len(unstable)
        })

    # „É¨„Éù„Éº„ÉàË°®Á§∫
    print(&quot;=== „Éê„É™„Éá„Éº„Ç∑„Éß„É≥„É¨„Éù„Éº„Éà ===&quot;)
    report_df = pd.DataFrame(validation_report)
    print(report_df)

    return report_df

# „Éê„É™„Éá„Éº„Ç∑„Éß„É≥ÂÆüË°å
validation = validate_materials_data(df_clean)
</code></pre>
<hr />
<h2>3.6 ÂÆüË∑µ„Ç±„Éº„Çπ„Çπ„Çø„Éá„Ç£</h2>
<h3>3.6.1 ÈõªÊ±†ÊùêÊñôÊé¢Á¥¢</h3>
<p><strong>„Ç≥„Éº„Éâ‰æã11: Li-ionÈõªÊ±†Ê≠£Ê•µÊùêÊñô„ÅÆÁµ±ÂêàÊé¢Á¥¢</strong></p>
<pre><code class="language-python">def find_battery_materials():
    &quot;&quot;&quot;Ë§áÊï∞DB„Åã„ÇâÈõªÊ±†ÊùêÊñô„ÇíÊé¢Á¥¢&quot;&quot;&quot;

    # Materials Project„Åã„ÇâÊé¢Á¥¢
    with MPRester(MP_API_KEY) as mpr:
        mp_docs = mpr.materials.summary.search(
            elements=[&quot;Li&quot;, &quot;Co&quot;, &quot;O&quot;],
            energy_above_hull=(0, 0.05),
            fields=[
                &quot;material_id&quot;,
                &quot;formula_pretty&quot;,
                &quot;energy_above_hull&quot;,
                &quot;formation_energy_per_atom&quot;
            ]
        )

    mp_data = [{
        &quot;source&quot;: &quot;MP&quot;,
        &quot;formula&quot;: doc.formula_pretty,
        &quot;stability&quot;: doc.energy_above_hull,
        &quot;formation_energy&quot;: doc.formation_energy_per_atom
    } for doc in mp_docs]

    # AFLOWÔºàÁ∞°Áï•ÁâàÔºâ
    # ÂÆüÈöõ„ÅÆAFLOW API„Ç≥„Éº„É´„ÅØÁúÅÁï•

    # Áµ±Âêà
    df_battery = pd.DataFrame(mp_data)

    # ÂÆâÂÆöÊÄß„Åß„ÇΩ„Éº„Éà
    df_battery = df_battery.sort_values('stability')

    print(&quot;=== Li-Co-OÁ≥ªÈõªÊ±†ÊùêÊñôÂÄôË£ú ===&quot;)
    print(df_battery.head(10))

    return df_battery

# ÂÆüË°å
df_battery = find_battery_materials()
</code></pre>
<h3>3.6.2 Ëß¶Â™íÊùêÊñô„Çπ„ÇØ„É™„Éº„Éã„É≥„Ç∞</h3>
<p><strong>„Ç≥„Éº„Éâ‰æã12: ÈÅ∑ÁßªÈáëÂ±ûÈÖ∏ÂåñÁâ©Ëß¶Â™í„ÅÆÁµ±Âêà„Çπ„ÇØ„É™„Éº„Éã„É≥„Ç∞</strong></p>
<pre><code class="language-python">def screen_catalysts(
    transition_metals=[&quot;Ti&quot;, &quot;V&quot;, &quot;Cr&quot;, &quot;Mn&quot;, &quot;Fe&quot;]
):
    &quot;&quot;&quot;Ëß¶Â™íÊùêÊñô„ÅÆÁµ±Âêà„Çπ„ÇØ„É™„Éº„Éã„É≥„Ç∞&quot;&quot;&quot;

    all_results = []

    for tm in transition_metals:
        # Materials Project„Åã„ÇâÂèñÂæó
        with MPRester(MP_API_KEY) as mpr:
            docs = mpr.materials.summary.search(
                elements=[tm, &quot;O&quot;],
                band_gap=(0.1, 3.0),
                energy_above_hull=(0, 0.1),
                fields=[
                    &quot;material_id&quot;,
                    &quot;formula_pretty&quot;,
                    &quot;band_gap&quot;,
                    &quot;energy_above_hull&quot;
                ]
            )

            for doc in docs:
                all_results.append({
                    &quot;transition_metal&quot;: tm,
                    &quot;formula&quot;: doc.formula_pretty,
                    &quot;band_gap&quot;: doc.band_gap,
                    &quot;stability&quot;: doc.energy_above_hull,
                    &quot;source&quot;: &quot;MP&quot;
                })

    df_catalysts = pd.DataFrame(all_results)

    # „Éá„Éº„Çø„ÇØ„É™„Éº„Éã„É≥„Ç∞
    df_catalysts = df_catalysts.drop_duplicates(
        subset=['formula']
    )

    # „Éê„É≥„Éâ„ÇÆ„É£„ÉÉ„ÉóÁØÑÂõ≤„Åß„Éï„Ç£„É´„Çø
    df_ideal = df_catalysts[
        (df_catalysts['band_gap'] &gt;= 1.5) &amp;
        (df_catalysts['band_gap'] &lt;= 2.5)
    ]

    print(f&quot;=== Ëß¶Â™íÂÄôË£úÊùêÊñô ===&quot;)
    print(f&quot;Á∑èÂÄôË£ú: {len(df_catalysts)}‰ª∂&quot;)
    print(f&quot;ÁêÜÊÉ≥ÁöÑ„Éê„É≥„Éâ„ÇÆ„É£„ÉÉ„Éó: {len(df_ideal)}‰ª∂&quot;)
    print(&quot;\n‰∏ä‰Ωç10‰ª∂:&quot;)
    print(df_ideal.head(10))

    return df_ideal

# ÂÆüË°å
df_catalysts = screen_catalysts()
</code></pre>
<hr />
<h2>3.7 „ÉØ„Éº„ÇØ„Éï„É≠„ÉºÂèØË¶ñÂåñ</h2>
<div class="mermaid">
flowchart TD
    A[„Éá„Éº„ÇøÂèñÂæó] --> B[Materials Project]
    A --> C[AFLOW]
    A --> D[OQMD]

    B --> E[„Éá„Éº„ÇøÁµêÂêà]
    C --> E
    D --> E

    E --> F[ÈáçË§áÂâäÈô§]
    F --> G[Â§ñ„ÇåÂÄ§Ê§úÂá∫]
    G --> H[Ê¨†ÊêçÂÄ§Âá¶ÁêÜ]

    H --> I[ÂìÅË≥™Ë©ï‰æ°]
    I --> J{ÂìÅË≥™OK?}

    J -->|Yes| K[„Éá„Éº„Çø‰øùÂ≠ò]
    J -->|No| L[ÂÜçÂá¶ÁêÜ]
    L --> E

    K --> M[ÂÆöÊúüÊõ¥Êñ∞]
    M --> A

    style A fill:#e3f2fd
    style K fill:#e8f5e9
    style J fill:#fff3e0
</div>

<hr />
<h2>3.8 Êú¨Á´†„ÅÆ„Åæ„Å®„ÇÅ</h2>
<h3>Â≠¶„Çì„Å†„Åì„Å®</h3>
<ol>
<li>
<p><strong>„Éá„Éº„Çø„Éô„Éº„ÇπÁµ±Âêà</strong>
   - Materials Project„Å®AFLOW„ÅÆÁµ±Âêà
   - ÂåñÂ≠¶Âºè„Çí„Ç≠„Éº„Å®„Åó„ÅüÁµêÂêà
   - outer join„Å´„Çà„Çã„Éá„Éº„ÇøÁµ±Âêà</p>
</li>
<li>
<p><strong>„Éá„Éº„Çø„ÇØ„É™„Éº„Éã„É≥„Ç∞</strong>
   - ÈáçË§á„Éá„Éº„Çø„ÅÆÊ§úÂá∫„Å®ÂâäÈô§
   - IQRÊ≥ï„Å´„Çà„ÇãÂ§ñ„ÇåÂÄ§Ê§úÂá∫
   - „Éá„Éº„ÇøÂûã„ÅÆÁµ±‰∏Ä</p>
</li>
<li>
<p><strong>Ê¨†ÊêçÂÄ§Âá¶ÁêÜ</strong>
   - Ê¨†Êêç„Éë„Çø„Éº„É≥„ÅÆÂèØË¶ñÂåñ
   - Âπ≥ÂùáÂÄ§„Éª‰∏≠Â§ÆÂÄ§Ë£úÂÆå
   - KNNË£úÂÆå</p>
</li>
<li>
<p><strong>Ëá™ÂãïÂåñ„Éë„Ç§„Éó„É©„Ç§„É≥</strong>
   - „Éá„Éº„ÇøÂèñÂæó‚Üí„ÇØ„É™„Éº„Éã„É≥„Ç∞‚Üí‰øùÂ≠ò
   - „Çπ„Ç±„Ç∏„É•„Éº„É´ÂÆüË°å
   - „É°„Çø„Éá„Éº„ÇøÁÆ°ÁêÜ</p>
</li>
<li>
<p><strong>ÂìÅË≥™ÁÆ°ÁêÜ</strong>
   - ÂÆåÂÖ®ÊÄß„Éª‰∏ÄË≤´ÊÄß„ÉªÁ≤æÂ∫¶„ÅÆË©ï‰æ°
   - „Éê„É™„Éá„Éº„Ç∑„Éß„É≥„É´„Éº„É´
   - ÂìÅË≥™„É¨„Éù„Éº„ÉàËá™ÂãïÁîüÊàê</p>
</li>
</ol>
<h3>ÈáçË¶Å„Å™„Éù„Ç§„É≥„Éà</h3>
<ul>
<li>‚úÖ Ë§áÊï∞DB„ÅÆÁµ±Âêà„Åß‰ø°È†ºÊÄßÂêë‰∏ä</li>
<li>‚úÖ „Éá„Éº„Çø„ÇØ„É™„Éº„Éã„É≥„Ç∞„ÅØÂøÖÈ†à„Éó„É≠„Çª„Çπ</li>
<li>‚úÖ Ê¨†ÊêçÂÄ§Âá¶ÁêÜ„ÅØÁî®ÈÄî„Å´Âøú„Åò„Å¶ÈÅ∏Êäû</li>
<li>‚úÖ Ëá™ÂãïÂåñ„ÅßÁ∂ôÁ∂öÁöÑ„Å™„Éá„Éº„ÇøÊõ¥Êñ∞</li>
<li>‚úÖ ÂìÅË≥™„É°„Éà„É™„ÇØ„Çπ„ÅßÂÆ¢Ë¶≥ÁöÑË©ï‰æ°</li>
</ul>
<h3>Ê¨°„ÅÆÁ´†„Å∏</h3>
<p>Á¨¨4Á´†„Åß„ÅØ„ÄÅÁã¨Ëá™„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÊßãÁØâ„ÇíÂ≠¶„Å≥„Åæ„ÅôÔºö
- SQLite/PostgreSQLË®≠Ë®à
- „Çπ„Ç≠„Éº„ÉûË®≠Ë®à
- CRUDÊìç‰Ωú
- „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÊà¶Áï•</p>
<p><strong><a href="./chapter-4.html">Á¨¨4Á´†ÔºöÁã¨Ëá™„Éá„Éº„Çø„Éô„Éº„ÇπÊßãÁØâ ‚Üí</a></strong></p>
<hr />
<h2>ÊºîÁøíÂïèÈ°å</h2>
<h3>ÂïèÈ°å1ÔºàÈõ£ÊòìÂ∫¶ÔºöeasyÔºâ</h3>
<p>Materials Project„Å®AFLOW„Åã„ÇâÂêå‰∏ÄÊùêÊñôÔºàSiCÔºâ„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó„Åó„ÄÅ„Éê„É≥„Éâ„ÇÆ„É£„ÉÉ„Éó„Å®ÂΩ¢Êàê„Ç®„Éç„É´„ÇÆ„Éº„ÇíÊØîËºÉ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
<p><strong>Ë¶ÅÊ±Ç‰∫ãÈ†Ö</strong>:
1. ‰∏°Êñπ„ÅÆ„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâSiC„ÅÆ„Éá„Éº„ÇøÂèñÂæó
2. „Éê„É≥„Éâ„ÇÆ„É£„ÉÉ„Éó„ÅÆÂ∑ÆÁï∞„Çí%„ÅßË°®Á§∫
3. ÂΩ¢Êàê„Ç®„Éç„É´„ÇÆ„Éº„ÅÆÂ∑ÆÁï∞„Çí%„ÅßË°®Á§∫</p>
<details>
<summary>Ëß£Á≠î‰æã</summary>


<pre><code class="language-python">from mp_api.client import MPRester
import requests

MP_API_KEY = &quot;your_api_key&quot;

# Materials Project„Åã„ÇâÂèñÂæó
with MPRester(MP_API_KEY) as mpr:
    mp_docs = mpr.materials.summary.search(
        formula=&quot;SiC&quot;,
        fields=[&quot;band_gap&quot;, &quot;formation_energy_per_atom&quot;]
    )
    mp_bg = mp_docs[0].band_gap
    mp_fe = mp_docs[0].formation_energy_per_atom

# AFLOW„Åã„ÇâÂèñÂæóÔºàÁ∞°Áï•ÁâàÔºâ
aflow_url = &quot;http://aflowlib.org/API/aflux&quot;
params = {
    &quot;species&quot;: &quot;Si,C&quot;,
    &quot;$&quot;: &quot;Egap,enthalpy_formation_atom&quot;
}
response = requests.get(aflow_url, params=params)
aflow_data = response.json()[0]
aflow_bg = aflow_data.get(&quot;Egap&quot;)
aflow_fe = aflow_data.get(&quot;enthalpy_formation_atom&quot;)

# ÊØîËºÉ
bg_diff = abs(mp_bg - aflow_bg) / mp_bg * 100
fe_diff = abs(mp_fe - aflow_fe) / abs(mp_fe) * 100

print(f&quot;SiC„Éá„Éº„ÇøÊØîËºÉ:&quot;)
print(f&quot;„Éê„É≥„Éâ„ÇÆ„É£„ÉÉ„Éó: MP={mp_bg} eV, AFLOW={aflow_bg} eV&quot;)
print(f&quot;Â∑ÆÁï∞: {bg_diff:.1f}%&quot;)
print(f&quot;\nÂΩ¢Êàê„Ç®„Éç„É´„ÇÆ„Éº: MP={mp_fe} eV/atom, &quot;
      f&quot;AFLOW={aflow_fe} eV/atom&quot;)
print(f&quot;Â∑ÆÁï∞: {fe_diff:.1f}%&quot;)
</code></pre>


</details>

<hr />
<h3>ÂïèÈ°å2ÔºàÈõ£ÊòìÂ∫¶ÔºömediumÔºâ</h3>
<p>‰ª•‰∏ã„ÅÆ„Éá„Éº„Çø„Çª„ÉÉ„Éà„Å´ÂØæ„Åó„Å¶„ÄÅÊ¨†ÊêçÂÄ§Âá¶ÁêÜ„ÇíÂÆüË°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
<pre><code class="language-python">import pandas as pd
import numpy as np

# „Çµ„É≥„Éó„É´„Éá„Éº„Çø
data = {
    'material_id': ['mp-1', 'mp-2', 'mp-3', 'mp-4', 'mp-5'],
    'formula': ['TiO2', 'ZnO', 'GaN', 'SiC', 'Al2O3'],
    'band_gap': [3.44, np.nan, 3.20, 2.36, np.nan],
    'formation_energy': [-4.87, -1.95, np.nan, -0.67, -3.45]
}
df = pd.DataFrame(data)
</code></pre>
<p><strong>Ë¶ÅÊ±Ç‰∫ãÈ†Ö</strong>:
1. Ê¨†ÊêçÂÄ§„ÇíÂπ≥ÂùáÂÄ§„ÅßË£úÂÆå
2. Ê¨†ÊêçÂÄ§„ÇíKNNÊ≥ï„ÅßË£úÂÆå
3. 2„Å§„ÅÆÊñπÊ≥ï„ÅÆÁµêÊûú„ÇíÊØîËºÉ</p>
<details>
<summary>Ëß£Á≠î‰æã</summary>


<pre><code class="language-python">from sklearn.impute import SimpleImputer, KNNImputer

# Âπ≥ÂùáÂÄ§Ë£úÂÆå
imputer_mean = SimpleImputer(strategy='mean')
df_mean = df.copy()
df_mean[['band_gap', 'formation_energy']] = \
    imputer_mean.fit_transform(
        df[['band_gap', 'formation_energy']]
    )

# KNNË£úÂÆå
imputer_knn = KNNImputer(n_neighbors=2)
df_knn = df.copy()
df_knn[['band_gap', 'formation_energy']] = \
    imputer_knn.fit_transform(
        df[['band_gap', 'formation_energy']]
    )

# ÊØîËºÉ
print(&quot;ÂÖÉ„Éá„Éº„Çø:&quot;)
print(df)
print(&quot;\nÂπ≥ÂùáÂÄ§Ë£úÂÆå:&quot;)
print(df_mean)
print(&quot;\nKNNË£úÂÆå:&quot;)
print(df_knn)

# Â∑ÆÁï∞ÂàÜÊûê
diff_bg = (
    df_mean['band_gap'] - df_knn['band_gap']
).abs().mean()
diff_fe = (
    df_mean['formation_energy'] -
    df_knn['formation_energy']
).abs().mean()

print(f&quot;\nÂπ≥ÂùáÂ∑ÆÁï∞:&quot;)
print(f&quot;„Éê„É≥„Éâ„ÇÆ„É£„ÉÉ„Éó: {diff_bg:.3f} eV&quot;)
print(f&quot;ÂΩ¢Êàê„Ç®„Éç„É´„ÇÆ„Éº: {diff_fe:.3f} eV/atom&quot;)
</code></pre>


</details>

<hr />
<h3>ÂïèÈ°å3ÔºàÈõ£ÊòìÂ∫¶ÔºöhardÔºâ</h3>
<p>Materials Project„Å®AFLOW„Åã„Çâ100‰ª∂‰ª•‰∏ä„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó„Åó„ÄÅÁµ±Âêà„Éª„ÇØ„É™„Éº„Éã„É≥„Ç∞„ÉªÂìÅË≥™Ë©ï‰æ°„ÇíË°å„ÅÜÂÆåÂÖ®„Å™„Éë„Ç§„Éó„É©„Ç§„É≥„ÇíÊßãÁØâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
<p><strong>Ë¶ÅÊ±Ç‰∫ãÈ†Ö</strong>:
1. ÈÖ∏ÂåñÁâ©ÔºàOÂê´ÊúâÔºâÊùêÊñô„Çí100‰ª∂‰ª•‰∏äÂèñÂæó
2. „Éá„Éº„ÇøÁµ±ÂêàÔºàouter joinÔºâ
3. ÈáçË§áÂâäÈô§„ÄÅÂ§ñ„ÇåÂÄ§Ê§úÂá∫
4. Ê¨†ÊêçÂÄ§Ë£úÂÆå
5. ÂìÅË≥™„É°„Éà„É™„ÇØ„ÇπÁÆóÂá∫
6. ÁµêÊûú„ÇíCSV„Å®JSON„Åß‰øùÂ≠ò</p>
<details>
<summary>Ëß£Á≠î‰æã</summary>


<pre><code class="language-python">from mp_api.client import MPRester
import requests
import pandas as pd
import numpy as np
from sklearn.impute import KNNImputer
import json
from datetime import datetime

MP_API_KEY = &quot;your_api_key&quot;

class IntegratedDataPipeline:
    &quot;&quot;&quot;Áµ±Âêà„Éá„Éº„Çø„Éë„Ç§„Éó„É©„Ç§„É≥&quot;&quot;&quot;

    def __init__(self):
        self.df = None

    def fetch_mp_data(self, num_materials=100):
        &quot;&quot;&quot;Materials Project„Åã„Çâ„Éá„Éº„ÇøÂèñÂæó&quot;&quot;&quot;
        with MPRester(MP_API_KEY) as mpr:
            docs = mpr.materials.summary.search(
                elements=[&quot;O&quot;],
                fields=[
                    &quot;material_id&quot;,
                    &quot;formula_pretty&quot;,
                    &quot;band_gap&quot;,
                    &quot;formation_energy_per_atom&quot;
                ]
            )[:num_materials]

            return pd.DataFrame([{
                &quot;material_id&quot;: doc.material_id,
                &quot;formula&quot;: doc.formula_pretty,
                &quot;band_gap_mp&quot;: doc.band_gap,
                &quot;formation_energy_mp&quot;:
                    doc.formation_energy_per_atom,
                &quot;source&quot;: &quot;MP&quot;
            } for doc in docs])

    def merge_data(self, df_mp, df_aflow=None):
        &quot;&quot;&quot;„Éá„Éº„ÇøÁµ±Âêà&quot;&quot;&quot;
        # Á∞°Áï•Áâà: AFLOW„Éá„Éº„Çø„ÅØÁúÅÁï•
        return df_mp

    def clean_data(self, df):
        &quot;&quot;&quot;„Éá„Éº„Çø„ÇØ„É™„Éº„Éã„É≥„Ç∞&quot;&quot;&quot;
        # ÈáçË§áÂâäÈô§
        df = df.drop_duplicates(subset=['formula'])

        # Â§ñ„ÇåÂÄ§Ê§úÂá∫ÔºàIQRÊ≥ïÔºâ
        Q1 = df['band_gap_mp'].quantile(0.25)
        Q3 = df['band_gap_mp'].quantile(0.75)
        IQR = Q3 - Q1
        df = df[
            (df['band_gap_mp'] &gt;= Q1 - 1.5 * IQR) &amp;
            (df['band_gap_mp'] &lt;= Q3 + 1.5 * IQR)
        ]

        return df

    def impute_missing(self, df):
        &quot;&quot;&quot;Ê¨†ÊêçÂÄ§Ë£úÂÆå&quot;&quot;&quot;
        numeric_cols = [
            'band_gap_mp', 'formation_energy_mp'
        ]
        imputer = KNNImputer(n_neighbors=5)
        df[numeric_cols] = imputer.fit_transform(
            df[numeric_cols]
        )
        return df

    def calculate_quality(self, df):
        &quot;&quot;&quot;ÂìÅË≥™„É°„Éà„É™„ÇØ„Çπ&quot;&quot;&quot;
        total_cells = df.size
        missing_cells = df.isnull().sum().sum()
        completeness = (
            (total_cells - missing_cells) / total_cells
        ) * 100

        return {
            &quot;completeness&quot;: completeness,
            &quot;num_records&quot;: len(df),
            &quot;timestamp&quot;: datetime.now().isoformat()
        }

    def save_results(self, df, quality):
        &quot;&quot;&quot;ÁµêÊûú‰øùÂ≠ò&quot;&quot;&quot;
        # CSV‰øùÂ≠ò
        df.to_csv(&quot;integrated_data.csv&quot;, index=False)

        # „É°„Çø„Éá„Éº„Çø‰øùÂ≠ò
        with open(&quot;quality_report.json&quot;, 'w') as f:
            json.dump(quality, f, indent=2)

        print(&quot;„Éá„Éº„Çø‰øùÂ≠òÂÆå‰∫Ü:&quot;)
        print(&quot;- integrated_data.csv&quot;)
        print(&quot;- quality_report.json&quot;)

    def run(self):
        &quot;&quot;&quot;„Éë„Ç§„Éó„É©„Ç§„É≥ÂÆüË°å&quot;&quot;&quot;
        print(&quot;=== Áµ±Âêà„Éá„Éº„Çø„Éë„Ç§„Éó„É©„Ç§„É≥ ===&quot;)

        # „Éá„Éº„ÇøÂèñÂæó
        print(&quot;1. „Éá„Éº„ÇøÂèñÂæó‰∏≠...&quot;)
        df_mp = self.fetch_mp_data(100)

        # Áµ±Âêà
        print(&quot;2. „Éá„Éº„ÇøÁµ±Âêà‰∏≠...&quot;)
        df = self.merge_data(df_mp)

        # „ÇØ„É™„Éº„Éã„É≥„Ç∞
        print(&quot;3. „Éá„Éº„Çø„ÇØ„É™„Éº„Éã„É≥„Ç∞‰∏≠...&quot;)
        df = self.clean_data(df)

        # Ê¨†ÊêçÂÄ§Ë£úÂÆå
        print(&quot;4. Ê¨†ÊêçÂÄ§Ë£úÂÆå‰∏≠...&quot;)
        df = self.impute_missing(df)

        # ÂìÅË≥™Ë©ï‰æ°
        print(&quot;5. ÂìÅË≥™Ë©ï‰æ°‰∏≠...&quot;)
        quality = self.calculate_quality(df)

        # ‰øùÂ≠ò
        print(&quot;6. ÁµêÊûú‰øùÂ≠ò‰∏≠...&quot;)
        self.save_results(df, quality)

        print(&quot;\n=== ÂÆå‰∫Ü ===&quot;)
        print(f&quot;Á∑è„Éá„Éº„ÇøÊï∞: {len(df)}&quot;)
        print(f&quot;ÂìÅË≥™„Çπ„Ç≥„Ç¢: {quality['completeness']:.2f}%&quot;)

        self.df = df
        return df, quality

# ÂÆüË°å
pipeline = IntegratedDataPipeline()
df_result, quality_metrics = pipeline.run()
</code></pre>


</details>

<hr />
<h2>ÂèÇËÄÉÊñáÁåÆ</h2>
<ol>
<li>
<p>Wilkinson, M. D. et al. (2016). "The FAIR Guiding Principles for scientific data management and stewardship." <em>Scientific Data</em>, 3, 160018.
   DOI: <a href="https://doi.org/10.1038/sdata.2016.18">10.1038/sdata.2016.18</a></p>
</li>
<li>
<p>pandas Documentation. "Merge, join, concatenate and compare." URL: <a href="https://pandas.pydata.org/docs">pandas.pydata.org/docs</a></p>
</li>
</ol>
<hr />
<h2>„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥</h2>
<h3>Ââç„ÅÆÁ´†</h3>
<p><strong><a href="./chapter-2.html">Á¨¨2Á´†ÔºöMaterials ProjectÂÆåÂÖ®„Ç¨„Ç§„Éâ ‚Üê</a></strong></p>
<h3>Ê¨°„ÅÆÁ´†</h3>
<p><strong><a href="./chapter-4.html">Á¨¨4Á´†ÔºöÁã¨Ëá™„Éá„Éº„Çø„Éô„Éº„ÇπÊßãÁØâ ‚Üí</a></strong></p>
<h3>„Ç∑„É™„Éº„Ç∫ÁõÆÊ¨°</h3>
<p><strong><a href="./index.html">‚Üê „Ç∑„É™„Éº„Ç∫ÁõÆÊ¨°„Å´Êàª„Çã</a></strong></p>
<hr />
<h2>ËëóËÄÖÊÉÖÂ†±</h2>
<p><strong>‰ΩúÊàêËÄÖ</strong>: AI Terakoya Content Team
<strong>Áõ£‰øÆ</strong>: Dr. Yusuke HashimotoÔºàÊù±ÂåóÂ§ßÂ≠¶Ôºâ
<strong>‰ΩúÊàêÊó•</strong>: 2025-10-17
<strong>„Éê„Éº„Ç∏„Éß„É≥</strong>: 1.0</p>
<p><strong>„É©„Ç§„Çª„É≥„Çπ</strong>: Creative Commons BY 4.0</p>
<hr />
<p><strong>Ê¨°„ÅÆÁ´†„ÅßÂ≠¶Áøí„ÇíÁ∂ö„Åë„Åæ„Åó„Çá„ÅÜÔºÅ</strong></p><div class="navigation">
    <a href="chapter-2.html" class="nav-button">‚Üê Ââç„ÅÆÁ´†</a>
    <a href="index.html" class="nav-button">„Ç∑„É™„Éº„Ç∫ÁõÆÊ¨°„Å´Êàª„Çã</a>
    <a href="chapter-4.html" class="nav-button">Ê¨°„ÅÆÁ´† ‚Üí</a>
</div>
    </main>

    <footer>
        <p><strong>‰ΩúÊàêËÄÖ</strong>: AI Terakoya Content Team</p>
        <p><strong>Áõ£‰øÆ</strong>: Dr. Yusuke HashimotoÔºàÊù±ÂåóÂ§ßÂ≠¶Ôºâ</p>
        <p><strong>„Éê„Éº„Ç∏„Éß„É≥</strong>: 1.0 | <strong>‰ΩúÊàêÊó•</strong>: 2025-10-17</p>
        <p><strong>„É©„Ç§„Çª„É≥„Çπ</strong>: Creative Commons BY 4.0</p>
        <p>¬© 2025 AI Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>
