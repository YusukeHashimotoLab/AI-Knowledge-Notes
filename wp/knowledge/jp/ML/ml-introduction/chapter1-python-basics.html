<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="第1章：Python基礎 - 機械学習入門シリーズ">
    <title>第1章：Python基礎 - 機械学習入門 - AI Terakoya</title>

    <!-- CSS Styling -->
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --bg-color: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --code-bg: #f5f5f5;
            --link-color: #3498db;
            --link-hover: #2980b9;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Hiragino Sans", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
            line-height: 1.8;
            color: var(--text-color);
            background: var(--bg-color);
            padding: 0;
            margin: 0;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        header .container {
            padding: 0 1.5rem;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .meta {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            font-size: 0.9rem;
            opacity: 0.95;
            margin-top: 1rem;
        }

        .meta span {
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
        }

        /* Typography */
        h2 {
            font-size: 1.75rem;
            margin-top: 2.5rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid var(--secondary-color);
            color: var(--primary-color);
        }

        h3 {
            font-size: 1.4rem;
            margin-top: 2rem;
            margin-bottom: 0.8rem;
            color: var(--primary-color);
        }

        h4 {
            font-size: 1.2rem;
            margin-top: 1.5rem;
            margin-bottom: 0.6rem;
            color: var(--primary-color);
        }

        p {
            margin-bottom: 1.2rem;
        }

        a {
            color: var(--link-color);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--link-hover);
            text-decoration: underline;
        }

        /* Lists */
        ul, ol {
            margin-left: 2rem;
            margin-bottom: 1.2rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        /* Code blocks */
        code {
            background: var(--code-bg);
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
        }

        pre {
            background: var(--code-bg);
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin-bottom: 1.5rem;
            border: 1px solid var(--border-color);
        }

        pre code {
            background: none;
            padding: 0;
            font-size: 0.9rem;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
            overflow-x: auto;
            display: block;
        }

        thead {
            display: table;
            width: 100%;
            table-layout: fixed;
        }

        tbody {
            display: table;
            width: 100%;
            table-layout: fixed;
        }

        th, td {
            padding: 0.8rem;
            text-align: left;
            border: 1px solid var(--border-color);
        }

        th {
            background: var(--primary-color);
            color: white;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background: #f9f9f9;
        }

        /* Blockquotes */
        blockquote {
            border-left: 4px solid var(--secondary-color);
            padding-left: 1.5rem;
            margin: 1.5rem 0;
            font-style: italic;
            color: #666;
        }

        /* Mermaid diagrams */
        .mermaid {
            text-align: center;
            margin: 2rem 0;
            background: white;
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        /* Details/Summary (for exercises) */
        details {
            margin: 1rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            color: var(--primary-color);
            padding: 0.5rem;
        }

        summary:hover {
            color: var(--secondary-color);
        }

        /* Footer */
        footer {
            margin-top: 4rem;
            padding: 2rem 0;
            border-top: 2px solid var(--border-color);
            text-align: center;
            color: #666;
            font-size: 0.9rem;
        }

        /* Navigation buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin: 3rem 0;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .nav-button {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background: var(--secondary-color);
            color: white;
            border-radius: 6px;
            text-decoration: none;
            transition: all 0.3s;
            font-weight: 600;
        }

        .nav-button:hover {
            background: var(--link-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 1.6rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            pre {
                padding: 1rem;
                font-size: 0.85rem;
            }

            table {
                font-size: 0.9rem;
            }
        }
    </style>

    <!-- Mermaid for diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof mermaid !== 'undefined') {
                mermaid.initialize({ startOnLoad: true, theme: 'default' });
            }
        });
    </script>
</head>
<body>
    <header>
        <div class="container">
            <h1>第1章：Python基礎</h1>
            <div class="meta">
                <span>📖 読了時間: 20-25分</span>
                <span>💻 コード例: 10個</span>
                <span>📝 演習: 5問</span>
                <span>📊 難易度: 入門</span>
            </div>
        </div>
    </header>

    <main class="container">
        <p><strong>Pythonプログラミングの基本をマスターしよう</strong></p>

        <h2 id="introduction">はじめに</h2>
        <p>機械学習を学ぶ第一歩は、<strong>Pythonプログラミング</strong>の基礎を固めることです。Pythonは機械学習で最も広く使われているプログラミング言語で、シンプルで読みやすい構文が特徴です。</p>

        <p>この章では、以下の内容を学びます：</p>
        <ul>
            <li>変数とデータ型の基礎</li>
            <li>関数の定義と使い方</li>
            <li>制御構文（条件分岐・繰り返し）</li>
            <li>リスト内包表記</li>
            <li>ファイル入出力</li>
            <li>エラー処理</li>
        </ul>

        <h2 id="variables">1. 変数とデータ型</h2>

        <h3>1.1 基本的なデータ型</h3>
        <p>Pythonには主に以下のデータ型があります：</p>

        <table>
            <thead>
                <tr>
                    <th>データ型</th>
                    <th>説明</th>
                    <th>例</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>int</code></td>
                    <td>整数</td>
                    <td>42, -10, 0</td>
                </tr>
                <tr>
                    <td><code>float</code></td>
                    <td>浮動小数点数</td>
                    <td>3.14, -0.5, 2.0</td>
                </tr>
                <tr>
                    <td><code>str</code></td>
                    <td>文字列</td>
                    <td>"Hello", 'Python'</td>
                </tr>
                <tr>
                    <td><code>bool</code></td>
                    <td>真偽値</td>
                    <td>True, False</td>
                </tr>
                <tr>
                    <td><code>list</code></td>
                    <td>リスト（配列）</td>
                    <td>[1, 2, 3], ["a", "b"]</td>
                </tr>
                <tr>
                    <td><code>dict</code></td>
                    <td>辞書（キーと値のペア）</td>
                    <td>{"name": "Alice", "age": 25}</td>
                </tr>
            </tbody>
        </table>

        <h4>例1：変数とデータ型</h4>
        <pre><code class="language-python"># 整数
age = 25
print(f"年齢: {age}, 型: {type(age)}")  # 出力: 年齢: 25, 型: &lt;class 'int'&gt;

# 浮動小数点数
height = 170.5
print(f"身長: {height}cm, 型: {type(height)}")  # 出力: 身長: 170.5cm, 型: &lt;class 'float'&gt;

# 文字列
name = "太郎"
print(f"名前: {name}, 型: {type(name)}")  # 出力: 名前: 太郎, 型: &lt;class 'str'&gt;

# 真偽値
is_student = True
print(f"学生: {is_student}, 型: {type(is_student)}")  # 出力: 学生: True, 型: &lt;class 'bool'&gt;

# リスト
scores = [85, 90, 78, 92]
print(f"成績: {scores}, 型: {type(scores)}")  # 出力: 成績: [85, 90, 78, 92], 型: &lt;class 'list'&gt;

# 辞書
person = {"name": "太郎", "age": 25, "city": "東京"}
print(f"人物: {person}, 型: {type(person)}")  # 出力: 人物: {'name': '太郎', 'age': 25, 'city': '東京'}, 型: &lt;class 'dict'&gt;
</code></pre>

        <h3>1.2 リストと辞書の操作</h3>

        <h4>例2：リストの基本操作</h4>
        <pre><code class="language-python"># リストの作成
numbers = [1, 2, 3, 4, 5]

# 要素のアクセス（0から始まるインデックス）
print(numbers[0])    # 出力: 1
print(numbers[-1])   # 出力: 5（最後の要素）

# スライシング
print(numbers[1:4])  # 出力: [2, 3, 4]（インデックス1から3まで）
print(numbers[:3])   # 出力: [1, 2, 3]（最初から3個）
print(numbers[2:])   # 出力: [3, 4, 5]（インデックス2から最後まで）

# 要素の追加
numbers.append(6)
print(numbers)       # 出力: [1, 2, 3, 4, 5, 6]

# 要素の削除
numbers.remove(3)
print(numbers)       # 出力: [1, 2, 4, 5, 6]

# リストの長さ
print(len(numbers))  # 出力: 5
</code></pre>

        <h4>例3：辞書の基本操作</h4>
        <pre><code class="language-python"># 辞書の作成
student = {
    "name": "花子",
    "age": 20,
    "major": "情報科学"
}

# 値のアクセス
print(student["name"])        # 出力: 花子
print(student.get("age"))     # 出力: 20

# 値の追加・更新
student["gpa"] = 3.8
student["age"] = 21
print(student)  # 出力: {'name': '花子', 'age': 21, 'major': '情報科学', 'gpa': 3.8}

# キーの確認
print("name" in student)      # 出力: True
print("email" in student)     # 出力: False

# すべてのキーと値
print(student.keys())         # 出力: dict_keys(['name', 'age', 'major', 'gpa'])
print(student.values())       # 出力: dict_values(['花子', 21, '情報科学', 3.8])
</code></pre>

        <h2 id="functions">2. 関数の定義と使い方</h2>
        <p>関数は、再利用可能なコードのまとまりです。<code>def</code>キーワードを使って定義します。</p>

        <h4>例4：関数の基本</h4>
        <pre><code class="language-python"># 引数なしの関数
def greet():
    print("こんにちは！")

greet()  # 出力: こんにちは！

# 引数ありの関数
def greet_person(name):
    print(f"こんにちは、{name}さん！")

greet_person("太郎")  # 出力: こんにちは、太郎さん！

# 戻り値のある関数
def add(a, b):
    return a + b

result = add(5, 3)
print(result)  # 出力: 8

# デフォルト引数
def power(base, exponent=2):
    return base ** exponent

print(power(3))      # 出力: 9（3の2乗）
print(power(3, 3))   # 出力: 27（3の3乗）

# 複数の戻り値
def calculate(a, b):
    return a + b, a - b, a * b, a / b

sum_val, diff, prod, quot = calculate(10, 2)
print(f"和: {sum_val}, 差: {diff}, 積: {prod}, 商: {quot}")
# 出力: 和: 12, 差: 8, 積: 20, 商: 5.0
</code></pre>

        <div class="mermaid">
graph LR
    A[関数呼び出し] --> B[引数を渡す]
    B --> C[関数内で処理]
    C --> D[戻り値を返す]
    D --> E[呼び出し元で使用]

    style A fill:#e3f2fd
    style C fill:#fff3e0
    style E fill:#e8f5e9
        </div>

        <h2 id="control">3. 制御構文</h2>

        <h3>3.1 条件分岐（if文）</h3>

        <h4>例5：if文の基本</h4>
        <pre><code class="language-python"># 基本的なif文
score = 85

if score >= 90:
    print("優秀です！")
elif score >= 70:
    print("良好です。")
elif score >= 60:
    print("合格です。")
else:
    print("不合格です。")
# 出力: 良好です。

# 複数条件
age = 25
has_license = True

if age >= 18 and has_license:
    print("運転できます。")
else:
    print("運転できません。")
# 出力: 運転できます。

# 三項演算子
temperature = 25
weather = "暑い" if temperature > 30 else "涼しい"
print(weather)  # 出力: 涼しい
</code></pre>

        <h3>3.2 繰り返し（for文・while文）</h3>

        <h4>例6：for文とwhile文</h4>
        <pre><code class="language-python"># for文（リストの要素を反復）
fruits = ["りんご", "バナナ", "オレンジ"]
for fruit in fruits:
    print(f"好きな果物: {fruit}")
# 出力:
# 好きな果物: りんご
# 好きな果物: バナナ
# 好きな果物: オレンジ

# range関数を使った繰り返し
for i in range(5):
    print(i)
# 出力: 0, 1, 2, 3, 4

# while文
count = 0
while count < 5:
    print(f"カウント: {count}")
    count += 1
# 出力: カウント: 0, カウント: 1, ..., カウント: 4

# enumerate（インデックス付き反復）
for index, fruit in enumerate(fruits):
    print(f"{index}: {fruit}")
# 出力:
# 0: りんご
# 1: バナナ
# 2: オレンジ

# 辞書の反復
student = {"name": "太郎", "age": 20, "major": "CS"}
for key, value in student.items():
    print(f"{key}: {value}")
# 出力:
# name: 太郎
# age: 20
# major: CS
</code></pre>

        <div class="mermaid">
graph TD
    A[開始] --> B{条件チェック}
    B -->|True| C[処理実行]
    C --> D[更新]
    D --> B
    B -->|False| E[終了]

    style A fill:#e3f2fd
    style C fill:#fff3e0
    style E fill:#e8f5e9
        </div>

        <h2 id="comprehension">4. リスト内包表記</h2>
        <p>リスト内包表記は、リストを簡潔に作成する強力な機能です。</p>

        <h4>例7：リスト内包表記</h4>
        <pre><code class="language-python"># 通常の方法
squares = []
for i in range(10):
    squares.append(i ** 2)
print(squares)  # 出力: [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

# リスト内包表記（1行で書ける）
squares = [i ** 2 for i in range(10)]
print(squares)  # 出力: [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

# 条件付きリスト内包表記
even_squares = [i ** 2 for i in range(10) if i % 2 == 0]
print(even_squares)  # 出力: [0, 4, 16, 36, 64]

# 文字列の変換
words = ["hello", "world", "python"]
upper_words = [word.upper() for word in words]
print(upper_words)  # 出力: ['HELLO', 'WORLD', 'PYTHON']

# ネストしたリスト内包表記
matrix = [[i * j for j in range(1, 4)] for i in range(1, 4)]
print(matrix)
# 出力: [[1, 2, 3], [2, 4, 6], [3, 6, 9]]

# 辞書内包表記
numbers = [1, 2, 3, 4, 5]
squares_dict = {n: n ** 2 for n in numbers}
print(squares_dict)  # 出力: {1: 1, 2: 4, 3: 9, 4: 16, 5: 25}
</code></pre>

        <h2 id="file-io">5. ファイル入出力</h2>

        <h4>例8：ファイルの読み書き</h4>
        <pre><code class="language-python"># ファイルへの書き込み
with open("sample.txt", "w", encoding="utf-8") as f:
    f.write("こんにちは、Python！\n")
    f.write("機械学習を学びましょう。\n")

# ファイルの読み込み（全体）
with open("sample.txt", "r", encoding="utf-8") as f:
    content = f.read()
    print(content)

# ファイルの読み込み（行ごと）
with open("sample.txt", "r", encoding="utf-8") as f:
    for line in f:
        print(line.strip())  # strip()で改行を削除

# ファイルへの追記
with open("sample.txt", "a", encoding="utf-8") as f:
    f.write("新しい行を追加\n")

# CSVファイルの読み書き
import csv

# CSVへの書き込み
data = [
    ["名前", "年齢", "都市"],
    ["太郎", "25", "東京"],
    ["花子", "30", "大阪"]
]

with open("data.csv", "w", newline="", encoding="utf-8") as f:
    writer = csv.writer(f)
    writer.writerows(data)

# CSVの読み込み
with open("data.csv", "r", encoding="utf-8") as f:
    reader = csv.reader(f)
    for row in reader:
        print(row)
</code></pre>

        <h2 id="error-handling">6. エラー処理（try-except）</h2>

        <h4>例9：例外処理</h4>
        <pre><code class="language-python"># 基本的な例外処理
try:
    result = 10 / 0  # ZeroDivisionError
except ZeroDivisionError:
    print("ゼロで割ることはできません！")
# 出力: ゼロで割ることはできません！

# 複数の例外処理
def safe_divide(a, b):
    try:
        return a / b
    except ZeroDivisionError:
        print("エラー: ゼロで割れません")
        return None
    except TypeError:
        print("エラー: 数値を入力してください")
        return None

print(safe_divide(10, 2))     # 出力: 5.0
print(safe_divide(10, 0))     # 出力: エラー: ゼロで割れません, None
print(safe_divide(10, "a"))   # 出力: エラー: 数値を入力してください, None

# else と finally
try:
    number = int(input("数値を入力: "))
    result = 100 / number
except ValueError:
    print("エラー: 数値を入力してください")
except ZeroDivisionError:
    print("エラー: ゼロ以外を入力してください")
else:
    print(f"結果: {result}")  # エラーがない場合のみ実行
finally:
    print("処理完了")  # 常に実行される

# カスタム例外
class NegativeNumberError(Exception):
    pass

def sqrt(x):
    if x < 0:
        raise NegativeNumberError("負の数の平方根は計算できません")
    return x ** 0.5

try:
    print(sqrt(16))   # 出力: 4.0
    print(sqrt(-4))   # NegativeNumberError発生
except NegativeNumberError as e:
    print(f"エラー: {e}")
</code></pre>

        <h2 id="practical">7. 実践例：簡単なデータ処理</h2>

        <h4>例10：学生の成績処理プログラム</h4>
        <pre><code class="language-python"># 学生データ
students = [
    {"name": "太郎", "scores": [85, 90, 78]},
    {"name": "花子", "scores": [92, 88, 95]},
    {"name": "次郎", "scores": [70, 75, 80]},
    {"name": "桃子", "scores": [88, 91, 87]}
]

# 平均点を計算する関数
def calculate_average(scores):
    return sum(scores) / len(scores)

# 成績評価を返す関数
def get_grade(average):
    if average >= 90:
        return "A"
    elif average >= 80:
        return "B"
    elif average >= 70:
        return "C"
    elif average >= 60:
        return "D"
    else:
        return "F"

# 各学生の成績を処理
results = []
for student in students:
    avg = calculate_average(student["scores"])
    grade = get_grade(avg)
    results.append({
        "name": student["name"],
        "average": avg,
        "grade": grade
    })

# 結果を表示
print("=" * 50)
print("成績レポート")
print("=" * 50)
for result in results:
    print(f"{result['name']}: 平均 {result['average']:.2f} (評価: {result['grade']})")

# 最高得点の学生を見つける
best_student = max(results, key=lambda x: x["average"])
print("=" * 50)
print(f"最優秀学生: {best_student['name']} ({best_student['average']:.2f})")

# リスト内包表記で優秀な学生を抽出
excellent_students = [r["name"] for r in results if r["average"] >= 85]
print(f"優秀な学生 (平均85以上): {', '.join(excellent_students)}")
</code></pre>

        <div class="mermaid">
graph TD
    A[データ入力] --> B[平均点計算]
    B --> C[成績評価]
    C --> D[結果の格納]
    D --> E[レポート出力]
    E --> F[統計情報表示]

    style A fill:#e3f2fd
    style C fill:#fff3e0
    style F fill:#e8f5e9
        </div>

        <h2 id="summary">まとめ</h2>
        <p>この章では、Pythonプログラミングの基礎を学びました：</p>

        <ul>
            <li>✅ <strong>データ型</strong>: int, float, str, bool, list, dict</li>
            <li>✅ <strong>関数</strong>: def, return, 引数, デフォルト引数</li>
            <li>✅ <strong>制御構文</strong>: if-elif-else, for, while</li>
            <li>✅ <strong>リスト内包表記</strong>: 簡潔なリスト作成</li>
            <li>✅ <strong>ファイルI/O</strong>: open, read, write, CSV処理</li>
            <li>✅ <strong>例外処理</strong>: try-except-finally</li>
        </ul>

        <p><strong>次のステップ</strong>: これらの基礎を使って、第2章でNumPyによる数値計算を学びます。</p>

        <h2 id="exercises">演習問題</h2>

        <details>
            <summary>演習1：FizzBuzz問題</summary>
            <p><strong>問題</strong>: 1から100までの数字を出力するプログラムを書いてください。ただし、3の倍数のときは数字の代わりに「Fizz」、5の倍数のときは「Buzz」、3と5の両方の倍数のときは「FizzBuzz」と出力してください。</p>
            <pre><code class="language-python"># 解答例
for i in range(1, 101):
    if i % 15 == 0:  # 3と5の倍数（15の倍数）
        print("FizzBuzz")
    elif i % 3 == 0:
        print("Fizz")
    elif i % 5 == 0:
        print("Buzz")
    else:
        print(i)
</code></pre>
        </details>

        <details>
            <summary>演習2：素数判定関数</summary>
            <p><strong>問題</strong>: 与えられた数が素数かどうかを判定する関数<code>is_prime(n)</code>を作成してください。</p>
            <pre><code class="language-python"># 解答例
def is_prime(n):
    """素数判定関数"""
    if n < 2:
        return False
    for i in range(2, int(n ** 0.5) + 1):
        if n % i == 0:
            return False
    return True

# テスト
test_numbers = [2, 3, 4, 17, 20, 29, 100]
for num in test_numbers:
    result = "素数" if is_prime(num) else "素数でない"
    print(f"{num}: {result}")
</code></pre>
        </details>

        <details>
            <summary>演習3：リスト内包表記</summary>
            <p><strong>問題</strong>: 1から100までの数字のうち、3の倍数または5の倍数（または両方）のリストをリスト内包表記で作成してください。</p>
            <pre><code class="language-python"># 解答例
multiples = [i for i in range(1, 101) if i % 3 == 0 or i % 5 == 0]
print(multiples)
print(f"総数: {len(multiples)}個")
print(f"合計: {sum(multiples)}")

# 出力: [3, 5, 6, 9, 10, 12, 15, ..., 100]
# 総数: 47個
# 合計: 2418
</code></pre>
        </details>

        <details>
            <summary>演習4：辞書の集計</summary>
            <p><strong>問題</strong>: 文字列から各文字の出現回数を辞書として返す関数<code>count_chars(text)</code>を作成してください。</p>
            <pre><code class="language-python"># 解答例
def count_chars(text):
    """文字の出現回数を数える"""
    char_count = {}
    for char in text:
        if char in char_count:
            char_count[char] += 1
        else:
            char_count[char] = 1
    return char_count

# または辞書のget()を使った方法
def count_chars_v2(text):
    char_count = {}
    for char in text:
        char_count[char] = char_count.get(char, 0) + 1
    return char_count

# テスト
text = "hello world"
result = count_chars(text)
print(result)
# 出力: {'h': 1, 'e': 1, 'l': 3, 'o': 2, ' ': 1, 'w': 1, 'r': 1, 'd': 1}
</code></pre>
        </details>

        <details>
            <summary>演習5：ファイル処理</summary>
            <p><strong>問題</strong>: テキストファイルを読み込み、各行の単語数を数えて、結果を新しいファイルに出力するプログラムを作成してください。</p>
            <pre><code class="language-python"># 解答例
def count_words_in_file(input_file, output_file):
    """ファイル内の各行の単語数を数える"""
    try:
        with open(input_file, "r", encoding="utf-8") as f:
            lines = f.readlines()

        with open(output_file, "w", encoding="utf-8") as f:
            f.write("行番号,単語数,内容\n")
            for i, line in enumerate(lines, 1):
                word_count = len(line.split())
                f.write(f"{i},{word_count},{line.strip()}\n")

        print(f"結果を {output_file} に保存しました。")

    except FileNotFoundError:
        print(f"エラー: {input_file} が見つかりません")
    except Exception as e:
        print(f"エラーが発生しました: {e}")

# テスト用ファイルを作成
with open("test.txt", "w", encoding="utf-8") as f:
    f.write("Python is great\n")
    f.write("Machine learning is fun\n")
    f.write("Let's learn together\n")

# 関数を実行
count_words_in_file("test.txt", "result.txt")
</code></pre>
        </details>

        <div class="nav-buttons">
            <a href="./index.html" class="nav-button">← シリーズトップ</a>
            <a href="./chapter2-numpy-basics.html" class="nav-button">第2章: NumPy基礎 →</a>
        </div>

    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 AI Terakoya - Dr. Yusuke Hashimoto, Tohoku University</p>
            <p>Licensed under CC BY 4.0</p>
        </div>
    </footer>
</body>
</html>
