<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第2章: 物理蒸着法（PVD） - 薄膜・ナノ材料プロセス入門 - MS Dojo</title>
    <meta name="description" content="物理蒸着法（PVD）の原理と応用を学ぶ。スパッタリング、蒸着、MBEの技術をPythonシミュレーションで理解する。">

    <!-- Prism.js for code highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">

    <!-- MathJax for mathematical expressions -->
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Mermaid for diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>

    <style>
        :root {
            --accent-pink: #f093fb;
            --accent-coral: #f5576c;
            --primary-dark: #2c3e50;
            --secondary-dark: #34495e;
            --text-dark: #2c3e50;
            --text-light: #7f8c8d;
            --bg-light: #ecf0f1;
            --white: #ffffff;
            --code-bg: #2d2d2d;
            --border-light: #bdc3c7;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.8;
            color: var(--text-dark);
            background: var(--bg-light);
        }

        header {
            background: linear-gradient(135deg, var(--accent-pink) 0%, var(--accent-coral) 100%);
            color: white;
            padding: 3rem 1.5rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        nav {
            background: var(--white);
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.5rem;
        }

        nav a {
            text-decoration: none;
            color: var(--text-dark);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: all 0.3s;
            font-weight: 500;
        }

        nav a:hover {
            background: linear-gradient(135deg, var(--accent-pink) 0%, var(--accent-coral) 100%);
            color: white;
        }

        main {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 1.5rem;
        }

        section {
            background: var(--white);
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        h2 {
            color: var(--primary-dark);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid;
            border-image: linear-gradient(90deg, var(--accent-pink), var(--accent-coral)) 1;
        }

        h3 {
            color: var(--secondary-dark);
            font-size: 1.4rem;
            margin: 2rem 0 1rem;
        }

        h4 {
            color: var(--secondary-dark);
            font-size: 1.2rem;
            margin: 1.5rem 0 1rem;
        }

        p {
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        ul, ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        code {
            background: #f8f9fa;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: "Consolas", "Monaco", monospace;
            font-size: 0.9em;
            color: #e74c3c;
        }

        pre {
            background: var(--code-bg);
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1.5rem 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        pre code {
            background: none;
            color: #f8f8f2;
            padding: 0;
        }

        .info-box {
            background: linear-gradient(135deg, rgba(240, 147, 251, 0.1) 0%, rgba(245, 87, 108, 0.1) 100%);
            border-left: 4px solid var(--accent-coral);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 4px;
        }

        .info-box strong {
            color: var(--accent-coral);
            display: block;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .warning-box {
            background: rgba(243, 156, 18, 0.1);
            border-left: 4px solid var(--warning);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 4px;
        }

        .warning-box strong {
            color: var(--warning);
            display: block;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .exercise-box {
            background: rgba(39, 174, 96, 0.05);
            border: 2px solid var(--success);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
        }

        .exercise-box h4 {
            color: var(--success);
            margin-top: 0;
        }

        .difficulty {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .difficulty.easy {
            background: #d4edda;
            color: #155724;
        }

        .difficulty.medium {
            background: #fff3cd;
            color: #856404;
        }

        .difficulty.hard {
            background: #f8d7da;
            color: #721c24;
        }

        .mermaid {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            margin: 2rem 0;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-light);
        }

        th {
            background: linear-gradient(135deg, var(--accent-pink) 0%, var(--accent-coral) 100%);
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background: rgba(240, 147, 251, 0.05);
        }

        footer {
            background: var(--primary-dark);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 4rem;
        }

        footer a {
            color: var(--accent-pink);
            text-decoration: none;
        }

        footer a:hover {
            color: var(--accent-coral);
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.5rem;
            }

            nav ul {
                flex-direction: column;
                align-items: center;
            }

            section {
                padding: 1.5rem;
            }

            pre {
                padding: 1rem;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>第2章: 物理蒸着法（PVD）</h1>
        <p>スパッタリング・蒸着・MBEの原理と応用技術</p>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">トップ</a></li>
            <li><a href="chapter-1.html">← 前の章</a></li>
            <li><a href="#overview">PVD概要</a></li>
            <li><a href="#sputtering">スパッタリング</a></li>
            <li><a href="#evaporation">蒸着</a></li>
            <li><a href="#mbe">MBE</a></li>
            <li><a href="#exercises">演習問題</a></li>
            <li><a href="#references">参考文献</a></li>
            <li><a href="chapter-3.html">次の章へ →</a></li>
        </ul>
    </nav>

    <main>
        <section id="intro">
            <h2>2.1 物理蒸着法（PVD）の概要</h2>

            <p>
                <strong>物理蒸着法（Physical Vapor Deposition, PVD）</strong>は、ターゲット材料を物理的プロセス（加熱、イオン衝撃など）で気化・原子化し、基板上に堆積させる技術です。化学反応を主体とするCVDと対比され、高純度・高密着性の薄膜が得られます。
            </p>

            <div class="info-box">
                <strong>本章の学習目標</strong>
                <ul>
                    <li><strong>レベル1（基本理解）</strong>: PVD3技術（スパッタリング、蒸着、MBE）の原理と違いを理解する</li>
                    <li><strong>レベル2（実践スキル）</strong>: Pythonでスパッタ収率、蒸着速度、MBE成長速度を計算できる</li>
                    <li><strong>レベル3（応用力）</strong>: プロセスパラメータ（圧力、電力、温度）と膜質の関係を説明し、実験条件を最適化できる</li>
                </ul>
            </div>

            <h3>PVD技術の分類</h3>

            <div class="mermaid">
            flowchart TD
                A[物理蒸着法 PVD] --> B[スパッタリング]
                A --> C[蒸着]
                A --> D[MBE]

                B --> B1[DCスパッタ]
                B --> B2[RFスパッタ]
                B --> B3[マグネトロンスパッタ]

                C --> C1[抵抗加熱蒸着]
                C --> C2[電子ビーム蒸着]

                D --> D1[固体ソースMBE]
                D --> D2[ガスソースMBE]

                style A fill:#f093fb,color:#fff
                style B fill:#f5576c,color:#fff
                style C fill:#27ae60,color:#fff
                style D fill:#f39c12,color:#fff
            </div>

            <h3>PVDの主な特徴</h3>

            <table>
                <thead>
                    <tr>
                        <th>特徴</th>
                        <th>PVD</th>
                        <th>CVD（比較）</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>成膜メカニズム</td>
                        <td>物理的気化・堆積</td>
                        <td>化学反応</td>
                    </tr>
                    <tr>
                        <td>プロセス温度</td>
                        <td>室温～500°C</td>
                        <td>400～1000°C</td>
                    </tr>
                    <tr>
                        <td>真空度</td>
                        <td>10⁻³～10⁻¹⁰ Torr</td>
                        <td>0.1～10 Torr</td>
                    </tr>
                    <tr>
                        <td>膜質</td>
                        <td>高純度、緻密</td>
                        <td>共形性高い</td>
                    </tr>
                    <tr>
                        <td>ステップカバレッジ</td>
                        <td>低～中</td>
                        <td>高</td>
                    </tr>
                    <tr>
                        <td>成膜速度</td>
                        <td>0.1～10 nm/s</td>
                        <td>1～100 nm/min</td>
                    </tr>
                </tbody>
            </table>

            <div class="warning-box">
                <strong>PVDの制約</strong>
                <ul>
                    <li>指向性が高い → 複雑形状へのカバレッジが困難</li>
                    <li>高真空が必要 → 装置コストが高い</li>
                    <li>材料依存性 → 多元系合金の組成制御が難しい</li>
                </ul>
            </div>
        </section>

        <section id="sputtering">
            <h2>2.2 スパッタリング</h2>

            <h3>2.2.1 スパッタリングの原理</h3>

            <p>
                <strong>スパッタリング（Sputtering）</strong>は、Ar⁺などのイオンをターゲット（カソード）に加速衝突させ、ターゲット原子を弾き飛ばして基板に堆積させる技術です。
            </p>

            <p><strong>基本プロセス</strong>:</p>
            <ol>
                <li><strong>プラズマ生成</strong>: Arガス中でグロー放電を発生（10⁻³～10⁻² Torr）</li>
                <li><strong>イオン加速</strong>: 負バイアス（-100～-1000V）でAr⁺をターゲットに加速</li>
                <li><strong>スパッタ</strong>: イオン衝突で運動量移行 → ターゲット原子放出</li>
                <li><strong>輸送・堆積</strong>: スパッタ原子が基板に到達し、薄膜形成</li>
            </ol>

            <h3>2.2.2 スパッタ収率</h3>

            <p>
                <strong>スパッタ収率（Sputtering Yield） \(Y\)</strong>は、1個のイオン入射あたりに放出されるターゲット原子数です。
            </p>

            <p>
                \[
                Y = \frac{\text{放出原子数}}{\text{入射イオン数}}
                \]
            </p>

            <p>
                Sigmundの理論（1969）による経験式：
            </p>

            <p>
                \[
                Y \propto \frac{\alpha S_n(E)}{U_0}
                \]
            </p>

            <p>ここで：</p>
            <ul>
                <li>\(\alpha\): ターゲット材料に依存する係数（0.1～1）</li>
                <li>\(S_n(E)\): 核阻止能（Nuclear Stopping Power）</li>
                <li>\(E\): イオンエネルギー [eV]</li>
                <li>\(U_0\): 表面結合エネルギー（昇華熱に比例、3～8 eV）</li>
            </ul>

            <p>
                典型的な収率: Ar⁺ (500 eV) → Cu で \(Y \approx 2.0\)、W で \(Y \approx 0.5\)
            </p>

            <h3>2.2.3 DCスパッタとRFスパッタ</h3>

            <table>
                <thead>
                    <tr>
                        <th>方式</th>
                        <th>DCスパッタ</th>
                        <th>RFスパッタ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>電源</td>
                        <td>直流（DC）</td>
                        <td>高周波（13.56 MHz）</td>
                    </tr>
                    <tr>
                        <td>ターゲット</td>
                        <td>導電性（金属）</td>
                        <td>絶縁体も可</td>
                    </tr>
                    <tr>
                        <td>原理</td>
                        <td>負電圧印加</td>
                        <td>AC交番でチャージアップ防止</td>
                    </tr>
                    <tr>
                        <td>成膜速度</td>
                        <td>高い（1～10 nm/s）</td>
                        <td>低い（0.1～1 nm/s）</td>
                    </tr>
                    <tr>
                        <td>応用</td>
                        <td>金属膜（Al, Cu, Ti）</td>
                        <td>酸化物（ITO, ZnO）</td>
                    </tr>
                </tbody>
            </table>

            <h3>2.2.4 マグネトロンスパッタ</h3>

            <p>
                ターゲット背面に磁石を配置し、電子を磁場で閉じ込めることでプラズマ密度を向上させる技術です。成膜速度が3～10倍向上します。
            </p>

            <div class="info-box">
                <strong>マグネトロンスパッタの利点</strong>
                <ul>
                    <li>低圧力動作（10⁻⁴～10⁻³ Torr）→ 高品質膜</li>
                    <li>高速成膜（5～20 nm/s）</li>
                    <li>低基板温度（室温成膜可能）</li>
                    <li>工業生産に最適</li>
                </ul>
            </div>

            <h3>Python実装: スパッタ収率の計算</h3>

            <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def sputtering_yield_sigmund(E, M1, M2, Z1, Z2, U0):
    """
    Sigmundの理論に基づくスパッタ収率の計算（簡略版）

    Parameters:
    -----------
    E : float or array
        イオンエネルギー [eV]
    M1 : float
        入射イオン質量 [amu]（Ar: 40）
    M2 : float
        ターゲット原子質量 [amu]
    Z1 : float
        入射イオン原子番号（Ar: 18）
    Z2 : float
        ターゲット原子番号
    U0 : float
        表面結合エネルギー [eV]

    Returns:
    --------
    Y : float or array
        スパッタ収率（原子/イオン）
    """
    # 簡略化した経験式（実際のSigmund理論はより複雑）
    # Y ≈ 0.042 * (M2 / M1) * (E / U0) * Sn(ε)
    # ここでは低エネルギー近似を使用

    # 質量比による補正
    mass_factor = M2 / (M1 + M2)

    # エネルギー依存（低エネルギー領域: E < 10 keV）
    # 実用的には Y ∝ E^0.5 近似
    energy_factor = np.sqrt(E / U0)

    # 原子番号による補正（簡略版）
    Z_factor = (Z1 * Z2) / (Z1 + Z2)

    # 全体のスパッタ収率（経験的スケーリング）
    Y = 0.1 * mass_factor * energy_factor * (Z_factor / 10)

    return Y

# 実用的な材料系の計算
targets = [
    ("Cu", 63.5, 29, 3.5),   # 質量, 原子番号, U0
    ("Al", 27.0, 13, 3.4),
    ("Ti", 47.9, 22, 4.9),
    ("W", 183.8, 74, 8.8),
    ("Au", 197.0, 79, 3.8),
]

E_range = np.linspace(100, 2000, 100)  # エネルギー範囲 [eV]
M1, Z1 = 40, 18  # Ar+

fig, ax = plt.subplots(figsize=(10, 6))

for name, M2, Z2, U0 in targets:
    Y_values = sputtering_yield_sigmund(E_range, M1, M2, Z1, Z2, U0)
    ax.plot(E_range, Y_values, linewidth=2.5, label=name)

ax.set_xlabel('Ion Energy (eV)', fontsize=13)
ax.set_ylabel('Sputtering Yield Y (atoms/ion)', fontsize=13)
ax.set_title('Sputtering Yield vs Ion Energy (Ar$^+$)', fontsize=15, fontweight='bold')
ax.legend(fontsize=11, loc='upper left')
ax.grid(True, alpha=0.3)
ax.set_xlim(100, 2000)
plt.tight_layout()
plt.savefig('sputtering_yield.png', dpi=300, bbox_inches='tight')
plt.show()

# 具体的な計算例（500 eV Ar+ → Cu）
E_example = 500  # eV
M2_Cu, Z2_Cu, U0_Cu = 63.5, 29, 3.5
Y_Cu = sputtering_yield_sigmund(E_example, M1, M2_Cu, Z1, Z2_Cu, U0_Cu)

print("=== スパッタ収率計算（Ar+ → Cu）===")
print(f"イオンエネルギー: {E_example} eV")
print(f"スパッタ収率 Y: {Y_Cu:.2f} atoms/ion")
print(f"\n解釈: 1個のAr+イオンが{Y_Cu:.2f}個のCu原子を放出")
</code></pre>

            <h3>Python実装: スパッタ成膜速度の計算</h3>

            <pre><code class="language-python">import numpy as np

def sputtering_deposition_rate(J, Y, A_target, d, M, rho):
    """
    スパッタ成膜速度の計算

    Parameters:
    -----------
    J : float
        イオン電流密度 [mA/cm^2]
    Y : float
        スパッタ収率 [atoms/ion]
    A_target : float
        ターゲット面積 [cm^2]
    d : float
        ターゲット-基板間距離 [cm]
    M : float
        原子質量 [g/mol]
    rho : float
        ターゲット密度 [g/cm^3]

    Returns:
    --------
    rate : float
        成膜速度 [nm/s]
    """
    # イオン電流からイオンフラックスへ変換
    e = 1.602e-19  # 電荷 [C]
    Phi_ion = (J * 1e-3) / e  # [ions/(cm^2·s)]

    # スパッタ原子フラックス
    Phi_atom = Phi_ion * Y  # [atoms/(cm^2·s)]

    # 幾何学的因子（簡略版: cosine分布を仮定）
    # 基板上のフラックス ≈ (A_target / 4πd^2) * Phi_atom
    solid_angle_factor = A_target / (4 * np.pi * d**2)
    Phi_substrate = Phi_atom * solid_angle_factor

    # 質量から体積への変換
    N_A = 6.022e23  # アボガドロ数
    volume_per_atom = M / (rho * N_A)  # [cm^3/atom]

    # 成膜速度 [cm/s]
    rate_cm_s = Phi_substrate * volume_per_atom

    # [nm/s]に変換
    rate_nm_s = rate_cm_s * 1e7

    return rate_nm_s

# 実用的な計算例: Cu スパッタ
J = 5.0  # mA/cm^2（典型的な条件）
Y = 2.0  # atoms/ion（Ar+ 500eV → Cu）
A_target = 100  # cm^2（4インチターゲット）
d = 5  # cm（ターゲット-基板間距離）
M_Cu = 63.5  # g/mol
rho_Cu = 8.96  # g/cm^3

rate = sputtering_deposition_rate(J, Y, A_target, d, M_Cu, rho_Cu)

print("=== スパッタ成膜速度計算（Cu）===")
print(f"イオン電流密度: {J} mA/cm^2")
print(f"スパッタ収率: {Y} atoms/ion")
print(f"ターゲット面積: {A_target} cm^2")
print(f"ターゲット-基板間距離: {d} cm")
print(f"\n成膜速度: {rate:.2f} nm/s")
print(f"成膜速度: {rate*60:.1f} nm/min")
print(f"\n100 nm成膜に必要な時間: {100/rate:.1f} s ({100/rate/60:.2f} min)")

# パラメータ依存性の解析
print("\n=== パラメータ依存性 ===")
J_values = [1, 5, 10, 20]  # mA/cm^2
print("\n電流密度依存性:")
for J_var in J_values:
    rate_var = sputtering_deposition_rate(J_var, Y, A_target, d, M_Cu, rho_Cu)
    print(f"J = {J_var:2d} mA/cm^2: {rate_var:.2f} nm/s")

d_values = [3, 5, 10, 15]  # cm
print("\n距離依存性:")
for d_var in d_values:
    rate_var = sputtering_deposition_rate(J, Y, A_target, d_var, M_Cu, rho_Cu)
    print(f"d = {d_var:2d} cm: {rate_var:.2f} nm/s")
</code></pre>

            <div class="info-box">
                <strong>実用的な成膜速度の目安</strong>
                <ul>
                    <li>DCマグネトロンスパッタ（金属）: 5～20 nm/s</li>
                    <li>RFスパッタ（酸化物）: 0.1～1 nm/s</li>
                    <li>リアクティブスパッタ（TiN, AlN）: 1～5 nm/s</li>
                </ul>
            </div>
        </section>

        <section id="evaporation">
            <h2>2.3 蒸着（Evaporation）</h2>

            <h3>2.3.1 蒸着の原理</h3>

            <p>
                <strong>蒸着（Evaporation）</strong>は、ターゲット材料を加熱して蒸発させ、気相中を輸送して基板に堆積させる技術です。高真空（10⁻⁶ Torr以下）で行われ、平均自由行程が長いため、指向性の高い成膜が可能です。
            </p>

            <h3>2.3.2 加熱方式</h3>

            <table>
                <thead>
                    <tr>
                        <th>方式</th>
                        <th>抵抗加熱蒸着</th>
                        <th>電子ビーム蒸着</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>加熱源</td>
                        <td>ジュール熱（W, Mo, Ta線）</td>
                        <td>電子ビーム（5～10 kV）</td>
                    </tr>
                    <tr>
                        <td>到達温度</td>
                        <td>～2000°C</td>
                        <td>～3500°C</td>
                    </tr>
                    <tr>
                        <td>適用材料</td>
                        <td>低融点金属（Al, Ag, Au）</td>
                        <td>高融点金属（Ti, W, SiO₂）</td>
                    </tr>
                    <tr>
                        <td>成膜速度</td>
                        <td>1～10 nm/s</td>
                        <td>5～50 nm/s</td>
                    </tr>
                    <tr>
                        <td>純度</td>
                        <td>中（ボートからの汚染あり）</td>
                        <td>高（局所加熱）</td>
                    </tr>
                </tbody>
            </table>

            <h3>2.3.3 蒸発速度とClausing-Clausius式</h3>

            <p>
                蒸発源からの蒸発フラックス \(\Phi_e\) は、<strong>Hertz-Knudsen式</strong>で記述されます：
            </p>

            <p>
                \[
                \Phi_e = \alpha \frac{P_v(T)}{\sqrt{2\pi m k_B T}}
                \]
            </p>

            <p>ここで：</p>
            <ul>
                <li>\(\alpha\): 蒸発係数（0～1、通常0.1～1）</li>
                <li>\(P_v(T)\): 蒸気圧 [Pa]</li>
                <li>\(m\): 原子質量 [kg]</li>
                <li>\(k_B\): ボルツマン定数</li>
                <li>\(T\): 蒸発源温度 [K]</li>
            </ul>

            <p>
                蒸気圧の温度依存性は<strong>Clausius-Clapeyron式</strong>：
            </p>

            <p>
                \[
                P_v(T) = P_0 \exp\left(-\frac{\Delta H_v}{RT}\right)
                \]
            </p>

            <p>
                \(\Delta H_v\) は蒸発エンタルピー、\(R\) は気体定数です。
            </p>

            <h3>2.3.4 基板上の成膜速度</h3>

            <p>
                点源からの蒸発を仮定すると、基板上の成膜速度分布は<strong>コサイン則</strong>に従います：
            </p>

            <p>
                \[
                R(r, \theta) = \frac{R_0 \cos\theta}{r^2}
                \]
            </p>

            <p>ここで：</p>
            <ul>
                <li>\(R_0\): 蒸発源直上の成膜速度定数</li>
                <li>\(r\): 蒸発源から基板までの距離</li>
                <li>\(\theta\): 蒸発源法線と基板方向のなす角</li>
            </ul>

            <h3>Python実装: 蒸気圧と蒸発速度の計算</h3>

            <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def vapor_pressure_clausius(T, P0, delta_Hv, T0=298):
    """
    Clausius-Clapeyron式による蒸気圧の計算

    Parameters:
    -----------
    T : float or array
        温度 [K]
    P0 : float
        基準温度T0での蒸気圧 [Pa]
    delta_Hv : float
        蒸発エンタルピー [kJ/mol]
    T0 : float
        基準温度 [K]（デフォルト: 298K）

    Returns:
    --------
    Pv : float or array
        蒸気圧 [Pa]
    """
    R = 8.314  # J/(mol·K)
    delta_Hv_J = delta_Hv * 1000  # kJ/mol → J/mol
    Pv = P0 * np.exp(-delta_Hv_J / R * (1/T - 1/T0))
    return Pv

def evaporation_rate(T, M, alpha=0.5):
    """
    Hertz-Knudsen式による蒸発速度の計算

    Parameters:
    -----------
    T : float or array
        蒸発源温度 [K]
    M : float
        原子質量 [g/mol]
    alpha : float
        蒸発係数（0-1、デフォルト: 0.5）

    Returns:
    --------
    rate : float or array
        蒸発速度 [g/(cm^2·s)]
    """
    # 材料ごとの蒸気圧パラメータ（簡略版）
    # 実際にはAntoine式や詳細な熱力学データを使用
    vapor_params = {
        "Al": (1e5, 294, 1800),   # P0, delta_Hv, 典型的蒸発温度
        "Au": (1e3, 334, 2000),
        "Ag": (1e4, 255, 1600),
        "Cu": (1e3, 305, 1900),
    }

    k_B = 1.381e-23  # J/K
    m = M * 1.66e-27  # amu → kg

    # 簡略化: 蒸気圧を指数関数で近似
    Pv = 1e3 * np.exp((T - 1500) / 200)  # Pa（例）

    # 蒸発フラックス [molecules/(cm^2·s)]
    Phi = alpha * Pv / np.sqrt(2 * np.pi * m * k_B * T) * 1e-4  # m^-2 → cm^-2

    # 質量フラックス [g/(cm^2·s)]
    rate = Phi * M / 6.022e23

    return rate

# 温度依存性のプロット
T_range = np.linspace(1200, 2200, 100)  # K

materials = [
    ("Al", 27.0),
    ("Cu", 63.5),
    ("Ag", 107.9),
    ("Au", 197.0),
]

fig, ax = plt.subplots(figsize=(10, 6))

for name, M in materials:
    rates = evaporation_rate(T_range, M, alpha=0.5)
    ax.semilogy(T_range, rates * 1e6, linewidth=2.5, label=name)  # μg/(cm^2·s)

ax.set_xlabel('Temperature (K)', fontsize=13)
ax.set_ylabel('Evaporation Rate (μg/(cm$^2$·s))', fontsize=13)
ax.set_title('Evaporation Rate vs Temperature', fontsize=15, fontweight='bold')
ax.legend(fontsize=11)
ax.grid(True, alpha=0.3, which='both')
plt.tight_layout()
plt.savefig('evaporation_rate_temperature.png', dpi=300, bbox_inches='tight')
plt.show()

# 具体的な計算例（Al蒸着）
T_Al = 1500  # K
M_Al = 27.0  # g/mol
rate_Al = evaporation_rate(T_Al, M_Al, alpha=0.5)

print("=== Al蒸発速度計算 ===")
print(f"蒸発源温度: {T_Al} K")
print(f"蒸発速度: {rate_Al*1e6:.2f} μg/(cm^2·s)")
print(f"\nAl密度 2.7 g/cm^3 として:")
thickness_rate = rate_Al / 2.7 * 1e7  # nm/s
print(f"成膜速度: {thickness_rate:.2f} nm/s")
</code></pre>

            <h3>Python実装: コサイン則による膜厚分布</h3>

            <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def thickness_distribution_cosine(x, y, h, R0):
    """
    コサイン則による膜厚分布の計算

    Parameters:
    -----------
    x, y : array
        基板上の座標 [cm]
    h : float
        蒸発源から基板までの垂直距離 [cm]
    R0 : float
        直上の成膜速度 [nm/s]

    Returns:
    --------
    thickness : array
        各点での相対膜厚（直上を1に規格化）
    """
    r = np.sqrt(x**2 + y**2 + h**2)  # 蒸発源から各点までの距離
    cos_theta = h / r  # cosθ = h / r

    # 相対成膜速度（直上を1に規格化）
    thickness = (cos_theta / (r/h)**2)

    return thickness

# 2D膜厚分布の可視化
x_range = np.linspace(-10, 10, 100)  # cm
y_range = np.linspace(-10, 10, 100)  # cm
X, Y = np.meshgrid(x_range, y_range)

h = 20  # cm（蒸発源-基板間距離）
R0 = 5  # nm/s（直上の成膜速度）

Z = thickness_distribution_cosine(X, Y, h, R0)

fig, ax = plt.subplots(figsize=(10, 8))
contour = ax.contourf(X, Y, Z, levels=20, cmap='viridis')
ax.contour(X, Y, Z, levels=10, colors='white', linewidths=0.5, alpha=0.5)
cbar = plt.colorbar(contour, ax=ax)
cbar.set_label('Relative Thickness', fontsize=12)
ax.set_xlabel('X Position (cm)', fontsize=13)
ax.set_ylabel('Y Position (cm)', fontsize=13)
ax.set_title(f'Thickness Distribution (h = {h} cm, Cosine Law)', fontsize=14, fontweight='bold')
ax.set_aspect('equal')
plt.tight_layout()
plt.savefig('evaporation_thickness_distribution.png', dpi=300, bbox_inches='tight')
plt.show()

# 径方向プロファイル
r_radial = np.linspace(0, 15, 100)  # cm
thickness_radial = thickness_distribution_cosine(r_radial, 0, h, R0)

fig, ax = plt.subplots(figsize=(10, 6))
ax.plot(r_radial, thickness_radial, linewidth=3, color='#f5576c')
ax.set_xlabel('Radial Distance from Center (cm)', fontsize=13)
ax.set_ylabel('Relative Thickness', fontsize=13)
ax.set_title('Radial Thickness Profile (Evaporation)', fontsize=14, fontweight='bold')
ax.grid(True, alpha=0.3)
ax.axhline(y=0.5, color='gray', linestyle='--', label='50% uniformity')
ax.legend(fontsize=11)
plt.tight_layout()
plt.savefig('evaporation_radial_profile.png', dpi=300, bbox_inches='tight')
plt.show()

print("=== 膜厚均一性評価 ===")
print(f"蒸発源-基板間距離: {h} cm")
print(f"直上（r=0）: 相対膜厚 1.00")
for r in [5, 10, 15]:
    t = thickness_distribution_cosine(r, 0, h, R0)[0]
    print(f"r = {r:2d} cm: 相対膜厚 {t:.2f}")
</code></pre>

            <div class="warning-box">
                <strong>蒸着の課題と対策</strong>
                <ul>
                    <li><strong>膜厚不均一</strong>: 基板回転、複数蒸発源の使用</li>
                    <li><strong>ステップカバレッジ不良</strong>: イオンアシスト、基板加熱</li>
                    <li><strong>合金組成ずれ</strong>: 共蒸着（Co-evaporation）で個別制御</li>
                </ul>
            </div>
        </section>

        <section id="mbe">
            <h2>2.4 分子線エピタキシー（MBE）</h2>

            <h3>2.4.1 MBEの原理</h3>

            <p>
                <strong>分子線エピタキシー（Molecular Beam Epitaxy, MBE）</strong>は、超高真空（10⁻¹⁰ Torr）中で原子・分子ビームを基板に照射し、原子層レベルで制御されたエピタキシャル成長を実現する技術です。
            </p>

            <p><strong>MBEの特徴</strong>:</p>
            <ul>
                <li><strong>原子層制御</strong>: モノレイヤー（ML）単位の膜厚制御</li>
                <li><strong>in-situ観察</strong>: RHEED（反射高速電子回折）でリアルタイム成長監視</li>
                <li><strong>急峻界面</strong>: 拡散が少ない低温成長 → ヘテロ構造に最適</li>
                <li><strong>ドーピング制御</strong>: シャッター制御で組成変調可能</li>
            </ul>

            <h3>2.4.2 MBE成長速度</h3>

            <p>
                MBEでは、Knudsenセル（K-cell）からの熱蒸発ビームが使用されます。成長速度 \(R\) は、ビームフラックス \(\Phi\) と基板温度 \(T_s\) に依存します：
            </p>

            <p>
                \[
                R = \Phi \cdot \tau_{\text{residence}}
                \]
            </p>

            <p>
                \(\tau_{\text{residence}}\) は原子の表面滞在時間で、温度に依存します：
            </p>

            <p>
                \[
                \tau_{\text{residence}} = \tau_0 \exp\left(\frac{E_d}{k_B T_s}\right)
                \]
            </p>

            <p>
                \(E_d\) は脱離エネルギーです。低温では \(\tau\) が長く、原子が再蒸発せずに堆積します。
            </p>

            <h3>2.4.3 RHEED振動とML成長</h3>

            <p>
                RHEEDの鏡面反射強度は、層ごとの成長に伴って振動します。1周期 = 1モノレイヤー成長に対応し、成長速度のキャリブレーションに利用されます。
            </p>

            <div class="info-box">
                <strong>RHEED振動の原理</strong>
                <ul>
                    <li>平坦な表面: 強い鏡面反射（振動の極大）</li>
                    <li>島状成長中: 表面粗さ増加 → 反射強度減少（振動の極小）</li>
                    <li>次の層完成: 再び平坦化 → 反射強度回復</li>
                    <li>振動周期から成長速度を精密測定（±0.01 ML精度）</li>
                </ul>
            </div>

            <h3>2.4.4 固体ソースMBE vs ガスソースMBE</h3>

            <table>
                <thead>
                    <tr>
                        <th>特徴</th>
                        <th>固体ソースMBE</th>
                        <th>ガスソースMBE（GSMBE）</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>原料</td>
                        <td>固体元素（Ga, As, Al）</td>
                        <td>ガス（AsH₃, PH₃, TMGa）</td>
                    </tr>
                    <tr>
                        <td>供給制御</td>
                        <td>セル温度制御</td>
                        <td>マスフローコントローラ</td>
                    </tr>
                    <tr>
                        <td>適用材料</td>
                        <td>GaAs, AlGaAs, InAs</td>
                        <td>InP, GaInAsP, GaN</td>
                    </tr>
                    <tr>
                        <td>安全性</td>
                        <td>高い</td>
                        <td>毒性ガス取扱い</td>
                    </tr>
                    <tr>
                        <td>成長速度</td>
                        <td>0.1～1 ML/s</td>
                        <td>0.5～2 ML/s</td>
                    </tr>
                </tbody>
            </table>

            <h3>Python実装: MBE成長速度とRHEED振動</h3>

            <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def mbe_growth_rate(T_cell, M, A_cell=1.0):
    """
    MBE Knudsenセルからのビームフラックス計算

    Parameters:
    -----------
    T_cell : float or array
        セル温度 [K]
    M : float
        原子質量 [g/mol]
    A_cell : float
        セル面積 [cm^2]（デフォルト: 1.0）

    Returns:
    --------
    Phi : float or array
        ビームフラックス [atoms/(cm^2·s)]
    growth_rate_ML_s : float or array
        成長速度 [ML/s]（GaAsを想定）
    """
    # 簡略化した蒸気圧（実際にはAntoine式等を使用）
    P_vapor = 1e-2 * np.exp((T_cell - 1000) / 150)  # Pa

    k_B = 1.381e-23  # J/K
    m = M * 1.66e-27  # amu → kg

    # ビームフラックス [molecules/(m^2·s)]
    Phi_m2 = P_vapor / np.sqrt(2 * np.pi * m * k_B * T_cell)

    # [atoms/(cm^2·s)]に変換
    Phi = Phi_m2 * 1e-4

    # GaAs(001)のモノレイヤー密度: 約6.26e14 atoms/cm^2
    ML_density = 6.26e14  # atoms/cm^2

    # 成長速度 [ML/s]
    growth_rate_ML_s = Phi / ML_density

    return Phi, growth_rate_ML_s

# Ga セルの温度依存性
T_Ga_range = np.linspace(900, 1200, 100)  # K
M_Ga = 69.7  # g/mol

Phi_Ga, R_Ga_ML_s = mbe_growth_rate(T_Ga_range, M_Ga)

fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 5))

# ビームフラックス
ax1.semilogy(T_Ga_range, Phi_Ga, linewidth=2.5, color='#f5576c')
ax1.set_xlabel('Cell Temperature (K)', fontsize=12)
ax1.set_ylabel('Beam Flux (atoms/(cm$^2$·s))', fontsize=12)
ax1.set_title('Ga Beam Flux vs Cell Temperature', fontsize=14, fontweight='bold')
ax1.grid(True, alpha=0.3, which='both')

# 成長速度
ax2.plot(T_Ga_range, R_Ga_ML_s * 3600, linewidth=2.5, color='#27ae60')  # ML/h
ax2.set_xlabel('Cell Temperature (K)', fontsize=12)
ax2.set_ylabel('Growth Rate (ML/h)', fontsize=12)
ax2.set_title('GaAs Growth Rate vs Ga Cell Temperature', fontsize=14, fontweight='bold')
ax2.grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig('mbe_growth_rate.png', dpi=300, bbox_inches='tight')
plt.show()

# 具体的な計算例
T_Ga_typical = 1000  # K
Phi_typical, R_ML_s_typical = mbe_growth_rate(T_Ga_typical, M_Ga)

print("=== MBE成長速度計算（GaAs）===")
print(f"Gaセル温度: {T_Ga_typical} K")
print(f"Gaビームフラックス: {Phi_typical:.2e} atoms/(cm^2·s)")
print(f"成長速度: {R_ML_s_typical:.3f} ML/s")
print(f"成長速度: {R_ML_s_typical * 3600:.1f} ML/h")
print(f"\n1 ML = 0.283 nm（GaAs）として:")
print(f"成長速度: {R_ML_s_typical * 0.283:.3f} nm/s")
print(f"成長速度: {R_ML_s_typical * 0.283 * 3600:.1f} nm/h")
</code></pre>

            <h3>Python実装: RHEED振動シミュレーション</h3>

            <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def rheed_oscillation_simulation(t, R_ML_s, damping=0.05):
    """
    RHEED振動の簡易シミュレーション

    Parameters:
    -----------
    t : array
        時間 [s]
    R_ML_s : float
        成長速度 [ML/s]
    damping : float
        減衰係数（表面粗さ化による、デフォルト: 0.05）

    Returns:
    --------
    intensity : array
        RHEED鏡面反射強度（任意単位）
    """
    # MLカバレッジ
    coverage = (R_ML_s * t) % 1.0  # 0～1の範囲で周期的

    # 表面粗さは成長とともに増加（減衰）
    roughness_factor = np.exp(-damping * t)

    # RHEED強度: cosine振動 × 減衰
    # カバレッジ0.5（最も粗い）で最小、カバレッジ0または1で最大
    intensity = (1 + np.cos(2 * np.pi * coverage)) * roughness_factor

    return intensity

# シミュレーション実行
t_total = 100  # s
t_range = np.linspace(0, t_total, 1000)
R_ML_s = 0.1  # ML/s（典型的なMBE成長速度）

intensity = rheed_oscillation_simulation(t_range, R_ML_s, damping=0.02)

fig, ax = plt.subplots(figsize=(12, 6))
ax.plot(t_range, intensity, linewidth=2, color='#f5576c')
ax.set_xlabel('Time (s)', fontsize=13)
ax.set_ylabel('RHEED Specular Intensity (a.u.)', fontsize=13)
ax.set_title(f'RHEED Oscillation Simulation (Growth Rate = {R_ML_s} ML/s)', fontsize=14, fontweight='bold')
ax.grid(True, alpha=0.3)

# 振動周期の表示
period = 1 / R_ML_s  # s/ML
ax.axvline(x=period, color='gray', linestyle='--', label=f'1 ML period = {period:.1f} s')
ax.axvline(x=2*period, color='gray', linestyle='--')
ax.legend(fontsize=11)

plt.tight_layout()
plt.savefig('rheed_oscillation.png', dpi=300, bbox_inches='tight')
plt.show()

print("=== RHEED振動解析 ===")
print(f"成長速度: {R_ML_s} ML/s")
print(f"1 ML成長時間: {1/R_ML_s:.1f} s")
print(f"10 ML成長時間: {10/R_ML_s:.1f} s")
print(f"\n振動周期から成長速度を逆算:")
observed_period = 1 / R_ML_s  # s
calculated_rate = 1 / observed_period  # ML/s
print(f"観測周期 {observed_period:.1f} s → 成長速度 {calculated_rate:.3f} ML/s")
</code></pre>

            <div class="info-box">
                <strong>MBEの応用分野</strong>
                <ul>
                    <li>量子井戸レーザー（AlGaAs/GaAs、InGaAs/GaAs）</li>
                    <li>高電子移動度トランジスタ（HEMT: AlGaN/GaN）</li>
                    <li>量子ドット（InAs/GaAs、Ge/Si）</li>
                    <li>トポロジカル絶縁体（Bi₂Se₃、Bi₂Te₃）</li>
                </ul>
            </div>
        </section>

        <section id="exercises">
            <h2>演習問題</h2>

            <div class="exercise-box">
                <h4>演習1: スパッタ収率の計算 <span class="difficulty easy">Easy</span></h4>
                <p><strong>問題</strong>: Ar⁺イオン（質量40 amu、原子番号18）を500 eVでCuターゲット（質量63.5 amu、原子番号29、U₀=3.5 eV）に照射する。簡略化したSigmund理論を用いてスパッタ収率 \(Y\) を推定せよ。</p>

                <details>
                    <summary>解答を表示</summary>
                    <p><strong>解答</strong>:</p>
                    <p>簡略版の式を使用:</p>
                    <p>質量因子: \(\frac{M_2}{M_1 + M_2} = \frac{63.5}{40 + 63.5} = 0.614\)</p>
                    <p>エネルギー因子: \(\sqrt{\frac{E}{U_0}} = \sqrt{\frac{500}{3.5}} = 11.95\)</p>
                    <p>原子番号因子: \(\frac{Z_1 Z_2}{Z_1 + Z_2} = \frac{18 \times 29}{18 + 29} = 11.11\)</p>
                    <p>スパッタ収率: \(Y \approx 0.1 \times 0.614 \times 11.95 \times \frac{11.11}{10} \approx 0.82\) atoms/ion</p>
                    <p><strong>実測値との比較</strong>: 実験値は約2.0 atoms/ionなので、簡略式は過小評価。より正確にはSigmund理論の完全版や実験データを使用。</p>
                </details>
            </div>

            <div class="exercise-box">
                <h4>演習2: スパッタ成膜速度の推定 <span class="difficulty easy">Easy</span></h4>
                <p><strong>問題</strong>: Cuスパッタで、イオン電流密度 \(J = 10\) mA/cm²、スパッタ収率 \(Y = 2.0\) atoms/ion、ターゲット面積100 cm²、ターゲット-基板間距離5 cmのとき、基板上の成膜速度を計算せよ。Cu密度8.96 g/cm³、原子質量63.5 g/mol。</p>

                <details>
                    <summary>解答を表示</summary>
                    <p><strong>解答</strong>:</p>
                    <p>提供されたPythonコードを使用:</p>
                    <pre><code class="language-python">J = 10  # mA/cm^2
Y = 2.0
A_target = 100  # cm^2
d = 5  # cm
M_Cu = 63.5
rho_Cu = 8.96

rate = sputtering_deposition_rate(J, Y, A_target, d, M_Cu, rho_Cu)
print(f"成膜速度: {rate:.2f} nm/s")
</code></pre>
                    <p><strong>期待される結果</strong>: 約5～10 nm/s（具体的な値はコードの幾何学的因子に依存）</p>
                    <p><strong>実用的意味</strong>: 100 nm成膜に10～20秒程度、工業的に実用的な速度です。</p>
                </details>
            </div>

            <div class="exercise-box">
                <h4>演習3: 蒸着の膜厚分布評価 <span class="difficulty medium">Medium</span></h4>
                <p><strong>問題</strong>: 蒸発源から基板までの距離が20 cmの蒸着装置で、基板中心から半径5 cm、10 cm、15 cm離れた位置での相対膜厚を計算せよ。コサイン則を仮定する。</p>

                <details>
                    <summary>解答を表示</summary>
                    <p><strong>解答</strong>:</p>
                    <p>コサイン則: \(t(r) = \frac{t_0 \cos\theta}{(r/h)^2}\)</p>
                    <p>\(r = \sqrt{x^2 + y^2 + h^2}\)、\(\cos\theta = h / r\)</p>

                    <pre><code class="language-python">h = 20  # cm

for r_radial in [0, 5, 10, 15]:
    r_total = np.sqrt(r_radial**2 + h**2)
    cos_theta = h / r_total
    t_relative = cos_theta / (r_total/h)**2
    print(f"r = {r_radial:2d} cm: 相対膜厚 {t_relative:.3f}")
</code></pre>

                    <p><strong>期待される結果</strong>:</p>
                    <ul>
                        <li>r = 0 cm: 1.000（基準）</li>
                        <li>r = 5 cm: 0.894</li>
                        <li>r = 10 cm: 0.640</li>
                        <li>r = 15 cm: 0.426</li>
                    </ul>

                    <p><strong>解釈</strong>: 基板端（r=15cm）では中心の約43%の膜厚。均一性向上には基板回転や距離増加が必要。</p>
                </details>
            </div>

            <div class="exercise-box">
                <h4>演習4: MBE成長速度のキャリブレーション <span class="difficulty medium">Medium</span></h4>
                <p><strong>問題</strong>: GaAs MBEで、RHEED振動の周期が12秒と観測された。GaAs(001)のモノレイヤー厚さが0.283 nmのとき、成長速度を nm/s および µm/h で計算せよ。</p>

                <details>
                    <summary>解答を表示</summary>
                    <p><strong>解答</strong>:</p>
                    <p>RHEED振動1周期 = 1 モノレイヤー成長</p>
                    <p>周期 \(T = 12\) s → 成長速度 \(R = 1/T = 0.0833\) ML/s</p>
                    <p>nm/s換算: \(0.0833 \times 0.283 = 0.0236\) nm/s</p>
                    <p>µm/h換算: \(0.0236 \times 3600 / 1000 = 0.085\) µm/h</p>

                    <p><strong>実用的意味</strong>: 1 µmの膜を成長させるのに約12時間かかります。MBEは低速ですが、原子層制御の精密さが特長です。</p>
                </details>
            </div>

            <div class="exercise-box">
                <h4>演習5: スパッタと蒸着の比較 <span class="difficulty medium">Medium</span></h4>
                <p><strong>問題</strong>: 以下の条件で、Alの100 nm成膜に要する時間をスパッタと蒸着で比較せよ。</p>
                <ul>
                    <li>スパッタ: 成膜速度5 nm/s</li>
                    <li>蒸着: 成膜速度10 nm/s</li>
                </ul>
                <p>また、それぞれの長所・短所を3つずつ挙げよ。</p>

                <details>
                    <summary>解答を表示</summary>
                    <p><strong>解答</strong>:</p>
                    <p><strong>スパッタ</strong>: 時間 = 100 / 5 = 20秒</p>
                    <p><strong>蒸着</strong>: 時間 = 100 / 10 = 10秒</p>

                    <p><strong>スパッタの長所</strong>:</p>
                    <ol>
                        <li>高融点材料（W, Ta）も成膜可能</li>
                        <li>合金組成がターゲット組成を保持（ストイキオメトリ保存）</li>
                        <li>膜密着性が高い（イオンアシスト効果）</li>
                    </ol>

                    <p><strong>スパッタの短所</strong>:</p>
                    <ol>
                        <li>膜厚均一性が蒸着より劣る</li>
                        <li>ターゲットコストが高い</li>
                        <li>基板損傷リスク（イオン衝撃）</li>
                    </ol>

                    <p><strong>蒸着の長所</strong>:</p>
                    <ol>
                        <li>高速成膜（スパッタの2～5倍）</li>
                        <li>装置が比較的簡素</li>
                        <li>基板損傷が少ない</li>
                    </ol>

                    <p><strong>蒸着の短所</strong>:</p>
                    <ol>
                        <li>膜厚均一性が悪い（コサイン分布）</li>
                        <li>合金組成制御が困難</li>
                        <li>ステップカバレッジが低い</li>
                    </ol>
                </details>
            </div>

            <div class="exercise-box">
                <h4>演習6: Pythonでスパッタ条件最適化 <span class="difficulty medium">Medium</span></h4>
                <p><strong>問題</strong>: Cuスパッタで目標成膜速度5 nm/sを達成するために、イオン電流密度 \(J\) とターゲット-基板間距離 \(d\) の組み合わせを3パターン提案せよ。スパッタ収率 \(Y = 2.0\)、ターゲット面積100 cm²を仮定。</p>

                <details>
                    <summary>解答を表示</summary>
                    <p><strong>解答（Pythonコード）</strong>:</p>
                    <pre><code class="language-python"># 目標成膜速度
target_rate = 5.0  # nm/s

# パラメータ組み合わせ
conditions = [
    (5, 5),    # J=5 mA/cm^2, d=5 cm
    (10, 7),   # J=10 mA/cm^2, d=7 cm
    (20, 10),  # J=20 mA/cm^2, d=10 cm
]

print("=== スパッタ条件最適化 ===")
print("目標成膜速度: 5.0 nm/s\n")

for J, d in conditions:
    rate = sputtering_deposition_rate(J, 2.0, 100, d, 63.5, 8.96)
    print(f"条件: J = {J:2d} mA/cm^2, d = {d:2d} cm")
    print(f"  成膜速度: {rate:.2f} nm/s")
    print(f"  目標との差: {rate - target_rate:+.2f} nm/s\n")
</code></pre>

                    <p><strong>考察</strong>:</p>
                    <ul>
                        <li>電流密度増加 → 成膜速度増加（線形関係）</li>
                        <li>距離増加 → 成膜速度減少（1/d²依存）</li>
                        <li>実用的には J=5～10 mA/cm², d=5～7 cm が一般的</li>
                    </ul>
                </details>
            </div>

            <div class="exercise-box">
                <h4>演習7: RHEED振動からの成長モード判定 <span class="difficulty hard">Hard</span></h4>
                <p><strong>問題</strong>: MBE成長中、RHEED振動が以下のように観測された：</p>
                <ul>
                    <li>初期20秒: 明瞭な振動（振幅一定）</li>
                    <li>20～50秒: 振動振幅が徐々に減少</li>
                    <li>50秒以降: 振動消失、強度一定</li>
                </ul>
                <p>この現象を説明し、どの成長モード（FM、VW、SK）が起こっている可能性が高いか推測せよ。成長速度0.1 ML/sを仮定。</p>

                <details>
                    <summary>解答を表示</summary>
                    <p><strong>解答</strong>:</p>
                    <p><strong>現象の解釈</strong>:</p>
                    <ul>
                        <li>初期20秒（2 ML成長）: 層状成長（FM） → RHEED振動明瞭</li>
                        <li>20～50秒（5 ML成長）: 層状→島状転移（SK） → 振動減衰</li>
                        <li>50秒以降（&gt;5 ML）: 島状成長（VW的） → 振動消失</li>
                    </ul>

                    <p><strong>成長モード判定</strong>: <strong>Stranski-Krastanov（SK）成長</strong></p>

                    <p><strong>物理的メカニズム</strong>:</p>
                    <ol>
                        <li>初期: wetting layer形成（格子整合または小さい歪）</li>
                        <li>中期: 歪エネルギー蓄積 → 臨界膜厚超過 → 島形成開始</li>
                        <li>後期: 3次元島が支配的 → 表面粗さ化 → RHEED振動消失</li>
                    </ol>

                    <p><strong>臨界膜厚推定</strong>: 振動減衰開始（20秒）→ 約2 ML、完全転移（50秒）→ 約5 ML</p>

                    <p><strong>実材料系の例</strong>:</p>
                    <ul>
                        <li>InAs/GaAs: h_c ≈ 1.7 ML</li>
                        <li>Ge/Si: h_c ≈ 3～4 ML</li>
                        <li>この系は h_c ≈ 2 ML → 中程度の格子不整合（3～5%）と推定</li>
                    </ul>
                </details>
            </div>

            <div class="exercise-box">
                <h4>演習8: マグネトロンスパッタの効果 <span class="difficulty hard">Hard</span></h4>
                <p><strong>問題</strong>: 通常のDCスパッタで成膜速度1 nm/s、動作圧力5×10⁻³ Torrの条件を、マグネトロンスパッタに変更すると、成膜速度が5倍、動作圧力が1/10になった。この改善のメカニズムを、プラズマ密度と平均自由行程の観点から説明せよ。</p>

                <details>
                    <summary>解答を表示</summary>
                    <p><strong>解答</strong>:</p>

                    <p><strong>1. 成膜速度の5倍向上メカニズム</strong></p>
                    <ul>
                        <li><strong>プラズマ密度増加</strong>: 磁場により電子がターゲット近傍に閉じ込められる</li>
                        <li>電子密度 \(n_e\) が10～100倍増加 → イオン化効率向上</li>
                        <li>Ar⁺イオンフラックス増加 → スパッタレート向上</li>
                        <li>数式: \(\Phi_{\text{ion}} \propto n_e\)、成膜速度 \(R \propto \Phi_{\text{ion}} \times Y\)</li>
                    </ul>

                    <p><strong>2. 動作圧力の1/10低減メカニズム</strong></p>
                    <ul>
                        <li><strong>高効率イオン化</strong>: 低圧力でも十分なプラズマ密度維持</li>
                        <li>通常DC: 5×10⁻³ Torr → 平均自由行程 \(\lambda \approx 1\) cm</li>
                        <li>マグネトロン: 5×10⁻⁴ Torr → 平均自由行程 \(\lambda \approx 10\) cm</li>
                        <li>平均自由行程 \(\lambda = \frac{k_B T}{P \sigma}\)（\(\sigma\): 衝突断面積）</li>
                    </ul>

                    <p><strong>3. 膜質への影響</strong></p>
                    <ul>
                        <li>低圧力 → スパッタ原子の散乱減少 → 高エネルギー堆積</li>
                        <li>結果: 膜密度増加、不純物混入減少、密着性向上</li>
                    </ul>

                    <p><strong>定量的評価</strong>:</p>
                    <pre><code class="language-python">P_DC = 5e-3  # Torr
P_magnetron = 5e-4  # Torr

# 平均自由行程（簡略式）
lambda_DC = 1 / P_DC  # cm·Torr
lambda_magnetron = 1 / P_magnetron  # cm·Torr

print(f"DC平均自由行程: {lambda_DC:.1f} cm·Torr")
print(f"マグネトロン平均自由行程: {lambda_magnetron:.1f} cm·Torr")
print(f"平均自由行程比: {lambda_magnetron / lambda_DC:.1f}倍")
</code></pre>

                    <p><strong>工業的意義</strong>: マグネトロンスパッタは高速・高品質成膜を実現し、半導体・ディスプレイ産業の標準技術となっています。</p>
                </details>
            </div>

            <div class="exercise-box">
                <h4>演習9: 蒸着の共蒸着制御 <span class="difficulty hard">Hard</span></h4>
                <p><strong>問題</strong>: Au-Cu合金薄膜（Au:Cu = 3:1の原子比）を共蒸着で作製する。Auセル温度1800K、Cuセル温度1700Kで、それぞれのビームフラックスが \(\Phi_{\text{Au}} = 1 \times 10^{15}\) atoms/(cm²·s)、\(\Phi_{\text{Cu}} = 5 \times 10^{14}\) atoms/(cm²·s) のとき、基板上の組成比を計算せよ。付着係数（sticking coefficient）はAu、Cuともに1.0と仮定。</p>

                <details>
                    <summary>解答を表示</summary>
                    <p><strong>解答</strong>:</p>

                    <p><strong>Step 1: ビームフラックス比</strong></p>
                    <p>\[
                    \frac{\Phi_{\text{Au}}}{\Phi_{\text{Cu}}} = \frac{1 \times 10^{15}}{5 \times 10^{14}} = 2.0
                    \]</p>

                    <p><strong>Step 2: 堆積原子数比</strong></p>
                    <p>付着係数1.0 → 到達原子全て堆積</p>
                    <p>Au : Cu = 2.0 : 1.0</p>

                    <p><strong>Step 3: 原子比への換算</strong></p>
                    <p>Au : Cu = 2 : 1（原子比）</p>

                    <p><strong>Step 4: 目標組成との比較</strong></p>
                    <p>目標: Au : Cu = 3 : 1</p>
                    <p>実際: Au : Cu = 2 : 1</p>
                    <p>→ <strong>Auが不足</strong></p>

                    <p><strong>Step 5: 条件修正案</strong></p>
                    <ol>
                        <li><strong>Auセル温度上昇</strong>: 1800K → 1900K（フラックス1.5倍）</li>
                        <li><strong>Cuセル温度低下</strong>: 1700K → 1650K（フラックス0.67倍）</li>
                        <li><strong>基板回転速度調整</strong>: Auセル側の滞在時間増加</li>
                    </ol>

                    <p><strong>修正後の計算</strong>:</p>
                    <pre><code class="language-python"># 修正後のフラックス
Phi_Au_new = 1e15 * 1.5  # atoms/(cm^2·s)
Phi_Cu_new = 5e14 * 0.67

ratio = Phi_Au_new / Phi_Cu_new
print(f"修正後のAu:Cu比 = {ratio:.2f} : 1.00")
# 期待される結果: 約3.0 : 1.0
</code></pre>

                    <p><strong>実用的考慮事項</strong>:</p>
                    <ul>
                        <li>温度変化に対する応答時間（数分～数十分）</li>
                        <li>QCM（水晶振動子）による成膜速度モニタリング</li>
                        <li>事前キャリブレーション（組成分析: XRF、EDX）</li>
                    </ul>
                </details>
            </div>

            <div class="exercise-box">
                <h4>演習10: 総合問題 - PVD技術選択 <span class="difficulty hard">Hard</span></h4>
                <p><strong>問題</strong>: 以下の3つの成膜要求に対して、最適なPVD技術（DC/RFスパッタ、マグネトロンスパッタ、抵抗加熱蒸着、電子ビーム蒸着、MBE）を選択し、理由を述べよ。</p>
                <ol>
                    <li>シリコンウェハ上にAl配線（1 µm厚）を高速成膜（目標: 10分以内）</li>
                    <li>GaAs基板上にAlGaAs/GaAs量子井戸構造（各層10 nm、10層）</li>
                    <li>ガラス基板上にITO透明導電膜（200 nm厚、低抵抗率）</li>
                </ol>

                <details>
                    <summary>解答を表示</summary>
                    <p><strong>解答</strong>:</p>

                    <p><strong>要求1: Al配線（1 µm厚、10分以内）</strong></p>
                    <p><strong>推奨技術</strong>: <strong>DCマグネトロンスパッタ</strong></p>
                    <p><strong>理由</strong>:</p>
                    <ul>
                        <li>必要成膜速度: 1000 nm / 600 s = 1.67 nm/s</li>
                        <li>DCマグネトロンスパッタ: 5～20 nm/s → 十分高速</li>
                        <li>Alは導電性 → DC電源使用可</li>
                        <li>膜密着性が高い（イオンアシスト効果）→ 配線に最適</li>
                        <li>工業標準技術 → 装置入手性・コスト優位</li>
                    </ul>
                    <p><strong>代替案</strong>: 電子ビーム蒸着（5～50 nm/s）も可能だが、膜密着性でスパッタに劣る</p>

                    <p><strong>要求2: AlGaAs/GaAs量子井戸（各層10 nm、10層）</strong></p>
                    <p><strong>推奨技術</strong>: <strong>MBE（分子線エピタキシー）</strong></p>
                    <p><strong>理由</strong>:</p>
                    <ul>
                        <li>原子層レベルの制御（±0.1 ML精度）が必須</li>
                        <li>急峻界面（&lt;1 ML）が量子井戸性能を決定</li>
                        <li>RHEED監視により各層をin-situ制御</li>
                        <li>組成制御（AlₓGa₁₋ₓAs）が容易</li>
                        <li>低温成長（&lt;600°C）→ 相互拡散抑制</li>
                    </ul>
                    <p><strong>不適技術</strong>: スパッタ・蒸着では界面急峻性・組成制御が不十分</p>

                    <p><strong>要求3: ITO透明導電膜（200 nm厚、低抵抗率）</strong></p>
                    <p><strong>推奨技術</strong>: <strong>RFマグネトロンスパッタ</strong></p>
                    <p><strong>理由</strong>:</p>
                    <ul>
                        <li>ITOは絶縁性酸化物 → RF電源必須</li>
                        <li>ストイキオメトリ保存（In₂O₃:SnO₂ = 9:1）</li>
                        <li>低抵抗率達成（&lt;2×10⁻⁴ Ω·cm）</li>
                        <li>基板加熱（200～300°C）で結晶性向上</li>
                        <li>工業生産実績（ディスプレイ、太陽電池）</li>
                    </ul>
                    <p><strong>プロセス条件</strong>:</p>
                    <ul>
                        <li>Ar:O₂ = 95:5（酸素分圧制御で抵抗率調整）</li>
                        <li>RF電力密度: 2～5 W/cm²</li>
                        <li>基板温度: 250°C</li>
                        <li>成膜速度: 0.5～1 nm/s → 200 nm成膜に3～7分</li>
                    </ul>

                    <p><strong>技術選択の判断基準まとめ</strong>:</p>
                    <table>
                        <thead>
                            <tr>
                                <th>要求</th>
                                <th>重要因子</th>
                                <th>最適技術</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>高速・密着性</td>
                                <td>スループット、信頼性</td>
                                <td>DCマグネトロンスパッタ</td>
                            </tr>
                            <tr>
                                <td>原子層制御・急峻界面</td>
                                <td>精密性、エピタキシー</td>
                                <td>MBE</td>
                            </tr>
                            <tr>
                                <td>絶縁体・組成保存</td>
                                <td>ストイキオメトリ、電気特性</td>
                                <td>RFスパッタ</td>
                            </tr>
                        </tbody>
                    </table>
                </details>
            </div>
        </section>

        <section id="references">
            <h2>参考文献</h2>

            <ol>
                <li>
                    <strong>Sigmund, P. (1969).</strong> "Theory of Sputtering. I. Sputtering Yield of Amorphous and Polycrystalline Targets." <em>Physical Review</em>, 184(2), 383-416. (スパッタ理論の基礎)
                </li>
                <li>
                    <strong>Ohring, M. (2002).</strong> <em>Materials Science of Thin Films: Deposition and Structure</em> (2nd ed.). Academic Press, pp. 179-245 (sputtering), pp. 246-320 (evaporation), pp. 579-635 (MBE).
                </li>
                <li>
                    <strong>Chapman, B. (1980).</strong> <em>Glow Discharge Processes: Sputtering and Plasma Etching</em>. Wiley, pp. 87-154 (DC/RF sputtering), pp. 203-267 (magnetron sputtering).
                </li>
                <li>
                    <strong>Chopra, K.L. (1969).</strong> <em>Thin Film Phenomena</em>. McGraw-Hill, pp. 165-234 (evaporation kinetics), pp. 345-412 (film growth mechanisms).
                </li>
                <li>
                    <strong>Herman, M.A., Sitter, H. (1996).</strong> <em>Molecular Beam Epitaxy: Fundamentals and Current Status</em> (2nd ed.). Springer, pp. 45-112 (MBE principles), pp. 201-278 (RHEED), pp. 345-423 (III-V epitaxy).
                </li>
                <li>
                    <strong>Mattox, D.M. (2010).</strong> <em>Handbook of Physical Vapor Deposition (PVD) Processing</em> (2nd ed.). Elsevier, pp. 123-267 (sputtering applications), pp. 345-456 (evaporation techniques).
                </li>
                <li>
                    <strong>Seshan, K. (Ed.) (2012).</strong> <em>Handbook of Thin Film Deposition</em> (3rd ed.). William Andrew, pp. 89-156 (PVD overview), pp. 234-301 (industrial applications).
                </li>
            </ol>

            <div class="info-box">
                <strong>さらに学ぶために</strong>
                <ul>
                    <li>実験技術詳細: <em>Handbook of Deposition Technologies for Films and Coatings</em> (Bunshah, 1994)</li>
                    <li>MBE応用: <em>Epitaxy of Nanostructures</em> (Shchukin et al., 2003)</li>
                    <li>プラズマ物理: <em>Principles of Plasma Discharges and Materials Processing</em> (Lieberman & Lichtenberg, 2005)</li>
                </ul>
            </div>
        </section>

        <section id="learning-objectives">
            <h2>学習目標確認チェックリスト</h2>

            <h3>レベル1: 基本理解</h3>
            <ul>
                <li>□ PVDの3技術（スパッタリング、蒸着、MBE）の原理を説明できる</li>
                <li>□ DC/RFスパッタの違いと適用材料を理解している</li>
                <li>□ 蒸着の加熱方式（抵抗加熱、電子ビーム）の違いを説明できる</li>
                <li>□ MBEの特徴（超高真空、RHEED、ML制御）を理解している</li>
                <li>□ PVDとCVDの違いを説明できる</li>
            </ul>

            <h3>レベル2: 実践スキル</h3>
            <ul>
                <li>□ Pythonでスパッタ収率をSigmund理論で計算できる</li>
                <li>□ スパッタ成膜速度を電流密度・収率から推定できる</li>
                <li>□ 蒸発速度の温度依存性を計算し、可視化できる</li>
                <li>□ コサイン則で膜厚分布を予測できる</li>
                <li>□ MBE成長速度をRHEED振動からキャリブレーションできる</li>
                <li>□ RHEED振動シミュレーションで成長過程を可視化できる</li>
            </ul>

            <h3>レベル3: 応用力</h3>
            <ul>
                <li>□ プロセスパラメータ（電力、圧力、温度）と膜質の関係を説明できる</li>
                <li>□ マグネトロンスパッタの高速化メカニズムを理解し、条件最適化できる</li>
                <li>□ 共蒸着による合金組成制御を設計できる</li>
                <li>□ RHEED振動パターンから成長モード（FM/VW/SK）を判定できる</li>
                <li>□ 成膜要求（材料、膜厚、品質）に応じて最適なPVD技術を選択できる</li>
                <li>□ 実験条件の最適化（速度、均一性、膜質のトレードオフ）を提案できる</li>
            </ul>

            <div class="warning-box">
                <strong>次のステップ</strong>
                第3章では、化学蒸着法（CVD）の技術（熱CVD、PECVD、ALD、MOCVD）を学びます。PVDとの違い（化学反応の役割、共形性、温度依存性）を理解し、プロセス選択の幅を広げましょう。
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 MS Dojo - Materials Science Learning Platform</p>
        <p><a href="https://github.com/your-repo/ms-dojo" target="_blank" rel="noopener">GitHub</a> | <a href="../index.html">トップページ</a></p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script>
        // Mermaid initialization
        mermaid.initialize({ startOnLoad: true, theme: 'default' });

        // Smooth scrolling for navigation links
        document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>