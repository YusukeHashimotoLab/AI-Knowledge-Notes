<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬2ç« ï¼šHallåŠ¹æœæ¸¬å®š - MS Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #f093fb;
            --color-accent-light: #f5576c;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #f093fb;
            --color-link-hover: #d07be8;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .mermaid {
            text-align: center;
            margin: var(--spacing-lg) 0;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .learning-objectives {
            background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--color-accent);
            margin-bottom: var(--spacing-xl);
        }

        .learning-objectives h2 {
            margin-top: 0;
            border-bottom: none;
        }

        .breadcrumb {
            max-width: 900px;
            margin: 0 auto;
            padding: var(--spacing-sm) var(--spacing-md);
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        .breadcrumb a {
            color: var(--color-link);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        details {
            background-color: var(--color-bg-alt);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        summary {
            font-weight: 600;
            cursor: pointer;
            color: var(--color-primary);
        }

        summary:hover {
            color: var(--color-accent);
        }

        .exercise-label {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-right: 0.5rem;
        }

        .easy {
            background-color: #d4edda;
            color: #155724;
        }

        .medium {
            background-color: #fff3cd;
            color: #856404;
        }

        .hard {
            background-color: #f8d7da;
            color: #721c24;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }
        .disclaimer {
            max-width: 900px;
            margin: 2rem auto;
            padding: 1.5rem;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 4px;
        }

        .disclaimer h3 {
            color: #495057;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .disclaimer ul {
            list-style: none;
            padding-left: 0;
        }

        .disclaimer li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
            font-size: 0.9rem;
            color: #6c757d;
            line-height: 1.6;
        }

        .disclaimer li::before {
            content: "âš ï¸";
            position: absolute;
            left: 0;
        }


        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }
    </style>

    <!-- Prism.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'strict' });
    </script>

    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>ç¬¬2ç« : HallåŠ¹æœæ¸¬å®š</h1>
            <p class="subtitle">LorentzåŠ›ã‹ã‚‰van der Pauw Hallé…ç½®ã€å¤šã‚­ãƒ£ãƒªã‚¢è§£æã€æ¸©åº¦ä¾å­˜æ€§ã¾ã§</p>
            <div class="meta">
                <span class="meta-item">ğŸ“– èª­äº†æ™‚é–“: 45-55åˆ†</span>
                <span class="meta-item">ğŸ“Š é›£æ˜“åº¦: ä¸­ç´š</span>
                <span class="meta-item">ğŸ’» ã‚³ãƒ¼ãƒ‰ä¾‹: 7å€‹</span>
            </div>
        </div>
    </header>

    <div class="breadcrumb">
        <a href="../../index.html">AIå¯ºå­å±‹ãƒˆãƒƒãƒ—</a> &gt;
        <a href="../index.html">MS Dojo</a> &gt;
        <a href="index.html">é›»æ°—ãƒ»ç£æ°—æ¸¬å®šå…¥é–€</a> &gt;
        ç¬¬2ç« 
    </div>

    <main class="container">
        <p class="chapter-description" style="margin: 1.5rem 0; padding: 1rem; background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%); border-left: 4px solid #f093fb; border-radius: 8px; font-size: 1.05rem; line-height: 1.8; color: #2d3748;">
            HallåŠ¹æœã¯ã€ç£å ´ä¸­ã§ã®é›»è·ã‚­ãƒ£ãƒªã‚¢ã®åå‘ã‚’åˆ©ç”¨ã—ã¦ã€ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã€ã‚­ãƒ£ãƒªã‚¢ç¨®åˆ¥ï¼ˆé›»å­/æ­£å­”ï¼‰ã€ç§»å‹•åº¦ã‚’æ±ºå®šã™ã‚‹å¼·åŠ›ãªæ‰‹æ³•ã§ã™ã€‚ã“ã®ç« ã§ã¯ã€LorentzåŠ›ã«åŸºã¥ãHallåŠ¹æœã®ç†è«–ã€Hallä¿‚æ•°ã¨ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã®é–¢ä¿‚ã€van der Pauw Hallæ¸¬å®šé…ç½®ã€å¤šã‚­ãƒ£ãƒªã‚¢ç³»ã®è§£æã€æ¸©åº¦ä¾å­˜æ€§ã‹ã‚‰ã®ã‚­ãƒ£ãƒªã‚¢æ•£ä¹±æ©Ÿæ§‹ã®è§£æ˜ã‚’å­¦ã³ã€Pythonã§å®Ÿè·µçš„ãªHallãƒ‡ãƒ¼ã‚¿è§£æã‚’è¡Œã„ã¾ã™ã€‚
        </p>

        <div class="learning-objectives">
            <h2>å­¦ç¿’ç›®æ¨™</h2>
            <p>ã“ã®ç« ã‚’èª­ã‚€ã“ã¨ã§ã€ä»¥ä¸‹ã‚’ç¿’å¾—ã§ãã¾ã™ï¼š</p>
            <ul>
                <li>âœ… LorentzåŠ›ã‹ã‚‰HallåŠ¹æœã®å¼ã‚’å°å‡ºã—ã€Hallé›»åœ§ã‚’è¨ˆç®—ã§ãã‚‹</li>
                <li>âœ… Hallä¿‚æ•° $R_H = 1/(ne)$ ã¨ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã®é–¢ä¿‚ã‚’ç†è§£ã§ãã‚‹</li>
                <li>âœ… van der Pauw Hallæ¸¬å®šé…ç½®ã¨æ¸¬å®šæ‰‹é †ã‚’èª¬æ˜ã§ãã‚‹</li>
                <li>âœ… ç§»å‹•åº¦ $\mu = \sigma R_H$ ã‚’è¨ˆç®—ã—ã€ç‰©ç†çš„æ„å‘³ã‚’ç†è§£ã§ãã‚‹</li>
                <li>âœ… å¤šã‚­ãƒ£ãƒªã‚¢ç³»ï¼ˆtwo-band modelï¼‰ã®è§£æãŒã§ãã‚‹</li>
                <li>âœ… æ¸©åº¦ä¾å­˜æ€§ã‹ã‚‰ã‚­ãƒ£ãƒªã‚¢æ•£ä¹±æ©Ÿæ§‹ã‚’è§£æã§ãã‚‹</li>
                <li>âœ… Pythonã§å®Œå…¨ãªHallãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ§‹ç¯‰ã§ãã‚‹</li>
            </ul>
        </div>

        <h2>2.1 HallåŠ¹æœã®ç†è«–</h2>

        <h3>2.1.1 LorentzåŠ›ã¨Hallé›»åœ§</h3>
        <p><strong>HallåŠ¹æœ</strong>ï¼ˆ1879å¹´ã€Edwin Herbert Hallç™ºè¦‹ï¼‰ã¯ã€é›»æµãŒæµã‚Œã‚‹å°ä½“ã«å‚ç›´ãªç£å ´ã‚’ã‹ã‘ãŸã¨ãã€é›»æµã¨ç£å ´ã®ä¸¡æ–¹ã«å‚ç›´ãªæ–¹å‘ã«é›»åœ§ãŒç™ºç”Ÿã™ã‚‹ç¾è±¡ã§ã™ã€‚</p>

        <div class="mermaid">
flowchart TD
    A[é›»æµ I<br/>xæ–¹å‘] --> B[ç£å ´ B<br/>zæ–¹å‘]
    B --> C[LorentzåŠ›<br/>F = -e v Ã— B]
    C --> D[ã‚­ãƒ£ãƒªã‚¢åå‘<br/>yæ–¹å‘]
    D --> E[Hallé›»åœ§ V_H<br/>yæ–¹å‘ã«ç™ºç”Ÿ]

    style A fill:#99ccff,stroke:#0066cc,stroke-width:2px
    style B fill:#99ff99,stroke:#00cc00,stroke-width:2px
    style C fill:#ffeb99,stroke:#ffa500,stroke-width:2px
    style D fill:#ff9999,stroke:#ff0000,stroke-width:2px
    style E fill:#f093fb,stroke:#f5576c,stroke-width:2px,color:#fff
        </div>

        <p><strong>ç‰©ç†çš„ãƒ¡ã‚«ãƒ‹ã‚ºãƒ </strong>ï¼š</p>
        <ol>
            <li>å°ä½“ã«é›»æµ $I$ ã‚’æµã™ã¨ã€ã‚­ãƒ£ãƒªã‚¢ï¼ˆé›»å­ï¼‰ãŒãƒ‰ãƒªãƒ•ãƒˆé€Ÿåº¦ $v_x$ ã§ x æ–¹å‘ã«ç§»å‹•</li>
            <li>z æ–¹å‘ã®ç£å ´ $B_z$ ãŒã‹ã‹ã‚‹ã¨ã€LorentzåŠ› $\vec{F} = q\vec{v} \times \vec{B}$ ãŒåƒã</li>
            <li>é›»å­ï¼ˆ$q = -e$ï¼‰ã¯ y æ–¹å‘ã«åå‘ã—ã€ä¸€æ–¹ã®å´é¢ã«è“„ç©</li>
            <li>é›»è·è“„ç©ã«ã‚ˆã‚Š Hallé›»å ´ $E_y$ ãŒç™ºç”Ÿ</li>
            <li>å®šå¸¸çŠ¶æ…‹ã§ã€LorentzåŠ›ã¨é›»å ´åŠ›ãŒé‡£ã‚Šåˆã†ï¼š$eE_y = ev_x B_z$</li>
        </ol>

        <p><strong>Hallé›»åœ§ã®å°å‡º</strong>ï¼š</p>
        <p>è©¦æ–™ã®å¹…ã‚’ $w$ã€åšã•ã‚’ $t$ã€é›»æµã‚’ $I$ ã¨ã™ã‚‹ã¨ã€é›»æµå¯†åº¦ã¯ï¼š</p>

        $$
        j_x = \frac{I}{wt}
        $$

        <p>ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã‚’ $n$ ã¨ã™ã‚‹ã¨ã€é›»æµå¯†åº¦ã¨ãƒ‰ãƒªãƒ•ãƒˆé€Ÿåº¦ã®é–¢ä¿‚ã¯ï¼š</p>

        $$
        j_x = nev_x \quad \Rightarrow \quad v_x = \frac{j_x}{ne} = \frac{I}{newt}
        $$

        <p>å®šå¸¸çŠ¶æ…‹ã§ã®åŠ›ã®é‡£ã‚Šåˆã„ã‹ã‚‰ï¼š</p>

        $$
        E_y = v_x B_z = \frac{IB_z}{newt}
        $$

        <p><strong>Hallé›»åœ§</strong> $V_H$ ã¯ã€è©¦æ–™å¹… $w$ ã«ã‚ãŸã‚‹é›»å ´ã®ç©åˆ†ï¼š</p>

        $$
        V_H = E_y \cdot w = \frac{IB_z}{net}
        $$

        <p><strong>Hallä¿‚æ•°</strong> $R_H$ ã¯æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¾ã™ï¼š</p>

        $$
        R_H = \frac{E_y}{j_x B_z} = \frac{V_H t}{IB_z} = \frac{1}{ne}
        $$

        <p>ã—ãŸãŒã£ã¦ã€<strong>ã‚­ãƒ£ãƒªã‚¢å¯†åº¦</strong> $n$ ã¯ Hallä¿‚æ•°ã‹ã‚‰ç›´æ¥æ±‚ã¾ã‚Šã¾ã™ï¼š</p>

        $$
        n = \frac{1}{eR_H}
        $$

        <h3>2.1.2 ã‚­ãƒ£ãƒªã‚¢ç¨®åˆ¥ã®åˆ¤å®š</h3>
        <p>Hallä¿‚æ•°ã®ç¬¦å·ã‹ã‚‰ã€ã‚­ãƒ£ãƒªã‚¢ãŒé›»å­ã‹æ­£å­”ã‹ã‚’åˆ¤å®šã§ãã¾ã™ï¼š</p>

        <table>
            <thead>
                <tr>
                    <th>ã‚­ãƒ£ãƒªã‚¢ç¨®åˆ¥</th>
                    <th>Hallä¿‚æ•° $R_H$</th>
                    <th>Hallé›»åœ§ã®ç¬¦å·</th>
                    <th>ç‰©ç†çš„è§£é‡ˆ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>é›»å­</strong>ï¼ˆnå‹ï¼‰</td>
                    <td>$R_H < 0$</td>
                    <td>è² </td>
                    <td>é›»å­ãŒè² é›»è·ã‚’é‹ã¶</td>
                </tr>
                <tr>
                    <td><strong>æ­£å­”</strong>ï¼ˆpå‹ï¼‰</td>
                    <td>$R_H > 0$</td>
                    <td>æ­£</td>
                    <td>æ­£å­”ãŒæ­£é›»è·ã‚’é‹ã¶</td>
                </tr>
            </tbody>
        </table>

        <h4>ã‚³ãƒ¼ãƒ‰ä¾‹2-1: Hallä¿‚æ•°ã¨ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã®è¨ˆç®—</h4>
        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def calculate_hall_coefficient(V_H, I, B, t):
    """
    Hallä¿‚æ•°ã‚’è¨ˆç®—

    Parameters
    ----------
    V_H : float
        Hallé›»åœ§ [V]
    I : float
        é›»æµ [A]
    B : float
        ç£å ´ [T]
    t : float
        è©¦æ–™åšã• [m]

    Returns
    -------
    R_H : float
        Hallä¿‚æ•° [m^3/C]
    """
    R_H = V_H * t / (I * B)
    return R_H

def calculate_carrier_density(R_H):
    """
    ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã‚’è¨ˆç®—

    Parameters
    ----------
    R_H : float
        Hallä¿‚æ•° [m^3/C]

    Returns
    -------
    n : float
        ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ [m^-3]
    carrier_type : str
        ã‚­ãƒ£ãƒªã‚¢ç¨®åˆ¥ï¼ˆ'electron' or 'hole'ï¼‰
    """
    e = 1.60218e-19  # é›»è·ç´ é‡ [C]
    n = 1 / (np.abs(R_H) * e)
    carrier_type = 'electron' if R_H < 0 else 'hole'
    return n, carrier_type

# æ¸¬å®šä¾‹1ï¼šnå‹ã‚·ãƒªã‚³ãƒ³
V_H1 = -2.5e-3  # Hallé›»åœ§ [V]ï¼ˆè² ï¼šé›»å­ï¼‰
I1 = 1e-3  # é›»æµ [A]
B1 = 0.5  # ç£å ´ [T]
t1 = 500e-9  # åšã• [m] = 500 nm

R_H1 = calculate_hall_coefficient(V_H1, I1, B1, t1)
n1, type1 = calculate_carrier_density(R_H1)

print("æ¸¬å®šä¾‹1: nå‹ã‚·ãƒªã‚³ãƒ³")
print(f"  Hallé›»åœ§: {V_H1 * 1e3:.2f} mV")
print(f"  Hallä¿‚æ•°: {R_H1:.3e} mÂ³/C")
print(f"  ã‚­ãƒ£ãƒªã‚¢ç¨®åˆ¥: {type1}")
print(f"  ã‚­ãƒ£ãƒªã‚¢å¯†åº¦: {n1:.3e} mâ»Â³ = {n1 / 1e6:.3e} cmâ»Â³")

# æ¸¬å®šä¾‹2ï¼špå‹ã‚¬ãƒªã‚¦ãƒ ãƒ’ç´ 
V_H2 = +3.8e-3  # Hallé›»åœ§ [V]ï¼ˆæ­£ï¼šæ­£å­”ï¼‰
I2 = 1e-3  # é›»æµ [A]
B2 = 0.5  # ç£å ´ [T]
t2 = 300e-9  # åšã• [m] = 300 nm

R_H2 = calculate_hall_coefficient(V_H2, I2, B2, t2)
n2, type2 = calculate_carrier_density(R_H2)

print("\næ¸¬å®šä¾‹2: på‹ã‚¬ãƒªã‚¦ãƒ ãƒ’ç´ ")
print(f"  Hallé›»åœ§: {V_H2 * 1e3:.2f} mV")
print(f"  Hallä¿‚æ•°: {R_H2:.3e} mÂ³/C")
print(f"  ã‚­ãƒ£ãƒªã‚¢ç¨®åˆ¥: {type2}")
print(f"  ã‚­ãƒ£ãƒªã‚¢å¯†åº¦: {n2:.3e} mâ»Â³ = {n2 / 1e6:.3e} cmâ»Â³")

# ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ä¾å­˜æ€§ã®å¯è¦–åŒ–
n_range = np.logspace(20, 28, 100)  # [m^-3]
R_H_range = 1 / (n_range * 1.60218e-19)

fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 5))

# å·¦å›³ï¼šn vs R_H
ax1.loglog(n_range / 1e6, np.abs(R_H_range), linewidth=2.5, color='#f093fb', label='|R_H| = 1/(ne)')
ax1.scatter([n1 / 1e6], [np.abs(R_H1)], s=150, c='#f5576c', edgecolors='black', linewidth=2, zorder=5, label='n-Si (example 1)')
ax1.scatter([n2 / 1e6], [np.abs(R_H2)], s=150, c='#ffa500', edgecolors='black', linewidth=2, zorder=5, label='p-GaAs (example 2)')
ax1.set_xlabel('Carrier Density n [cm$^{-3}$]', fontsize=12)
ax1.set_ylabel('|Hall Coefficient R$_H$| [m$^3$/C]', fontsize=12)
ax1.set_title('Hall Coefficient vs Carrier Density', fontsize=14, fontweight='bold')
ax1.legend(fontsize=11)
ax1.grid(alpha=0.3, which='both')

# å³å›³ï¼šHallé›»åœ§ã®ç£å ´ä¾å­˜æ€§
B_range = np.linspace(0, 1, 100)  # [T]
V_H_n = R_H1 * I1 * B_range / t1 * 1e3  # nå‹ [mV]
V_H_p = R_H2 * I2 * B_range / t2 * 1e3  # på‹ [mV]

ax2.plot(B_range, V_H_n, linewidth=2.5, color='#f5576c', label='n-type (electron, R_H < 0)')
ax2.plot(B_range, V_H_p, linewidth=2.5, color='#ffa500', label='p-type (hole, R_H > 0)')
ax2.axhline(0, color='black', linestyle='--', linewidth=1.5)
ax2.set_xlabel('Magnetic Field B [T]', fontsize=12)
ax2.set_ylabel('Hall Voltage V$_H$ [mV]', fontsize=12)
ax2.set_title('Hall Voltage vs Magnetic Field', fontsize=14, fontweight='bold')
ax2.legend(fontsize=11)
ax2.grid(alpha=0.3)

plt.tight_layout()
plt.show()
</code></pre>

        <h2>2.2 ç§»å‹•åº¦ã®æ±ºå®š</h2>

        <h3>2.2.1 ç§»å‹•åº¦ã¨Hallä¿‚æ•°ã®é–¢ä¿‚</h3>
        <p><strong>ç§»å‹•åº¦</strong> $\mu$ ã¯ã€é›»æ°—ä¼å°ç‡ $\sigma$ ã¨Hallä¿‚æ•° $R_H$ ã‹ã‚‰æ±‚ã¾ã‚Šã¾ã™ï¼š</p>

        $$
        \mu = \sigma R_H
        $$

        <p>ã“ã‚Œã¯ã€$\sigma = ne\mu$ ã¨ $R_H = 1/(ne)$ ã‹ã‚‰ç›´æ¥å°ã‹ã‚Œã¾ã™ã€‚</p>

        <p><strong>ç‰©ç†çš„æ„å‘³</strong>ï¼š</p>
        <ul>
            <li>$\sigma$ ã¯é›»æ°—ä¼å°ã®ã—ã‚„ã™ã•ï¼ˆã‚­ãƒ£ãƒªã‚¢å¯†åº¦ $n$ ã¨ç§»å‹•åº¦ $\mu$ ã®ä¸¡æ–¹ã«ä¾å­˜ï¼‰</li>
            <li>$R_H$ ã¯ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ $n$ ã®ã¿ã«ä¾å­˜</li>
            <li>ä¸¡è€…ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ç§»å‹•åº¦ $\mu$ ãŒåˆ†é›¢ã—ã¦æ±‚ã¾ã‚‹</li>
        </ul>

        <h4>ã‚³ãƒ¼ãƒ‰ä¾‹2-2: ç§»å‹•åº¦ã®è¨ˆç®—</h4>
        <pre><code class="language-python">import numpy as np

def calculate_mobility(sigma, R_H):
    """
    ç§»å‹•åº¦ã‚’è¨ˆç®—

    Parameters
    ----------
    sigma : float
        é›»æ°—ä¼å°ç‡ [S/m]
    R_H : float
        Hallä¿‚æ•° [m^3/C]

    Returns
    -------
    mu : float
        ç§»å‹•åº¦ [m^2/(VÂ·s)]
    """
    mu = sigma * np.abs(R_H)
    return mu

# æ¸¬å®šä¾‹ï¼šnå‹ã‚·ãƒªã‚³ãƒ³ï¼ˆå‰ã®ä¾‹ã‹ã‚‰ï¼‰
R_H = -2.5e-3  # [m^3/C]
sigma = 1e4  # é›»æ°—ä¼å°ç‡ [S/m]ï¼ˆå…¸å‹å€¤ï¼‰

mu = calculate_mobility(sigma, R_H)

e = 1.60218e-19  # [C]
n = 1 / (np.abs(R_H) * e)

print("nå‹ã‚·ãƒªã‚³ãƒ³ã®é›»æ°—çš„ç‰¹æ€§:")
print(f"  é›»æ°—ä¼å°ç‡ Ïƒ = {sigma:.2e} S/m")
print(f"  Hallä¿‚æ•° R_H = {R_H:.2e} mÂ³/C")
print(f"  ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ n = {n:.2e} mâ»Â³ = {n / 1e6:.2e} cmâ»Â³")
print(f"  ç§»å‹•åº¦ Î¼ = {mu:.2e} mÂ²/(VÂ·s) = {mu * 1e4:.1f} cmÂ²/(VÂ·s)")
print(f"\næ¤œè¨¼: Ïƒ = neÎ¼ = {n * e * mu:.2e} S/mï¼ˆä¸€è‡´ï¼‰")

# ææ–™æ¯”è¼ƒ
materials = {
    'Si (bulk, n-type)': {'sigma': 1e4, 'R_H': -2.5e-3},
    'GaAs (bulk, n-type)': {'sigma': 1e5, 'R_H': -5e-3},
    'InSb (n-type)': {'sigma': 1e6, 'R_H': -1e-2},
    'Graphene': {'sigma': 1e5, 'R_H': -1e-4}
}

print("\nææ–™æ¯”è¼ƒ:")
print(f"{'Material':<25} {'n [cmâ»Â³]':<15} {'Î¼ [cmÂ²/(VÂ·s)]':<20}")
print("-" * 60)

for name, props in materials.items():
    n_mat = 1 / (np.abs(props['R_H']) * e)
    mu_mat = calculate_mobility(props['sigma'], props['R_H'])
    print(f"{name:<25} {n_mat / 1e6:.2e}      {mu_mat * 1e4:.1f}")
</code></pre>

        <p><strong>å‡ºåŠ›è§£é‡ˆ</strong>ï¼š</p>
        <ul>
            <li>ã‚·ãƒªã‚³ãƒ³ã®ç§»å‹•åº¦: ã€œ1000 cmÂ²/(VÂ·s)ï¼ˆå…¸å‹å€¤ï¼‰</li>
            <li>GaAsã¯é«˜ç§»å‹•åº¦ææ–™ï¼ˆã€œ5000 cmÂ²/(VÂ·s)ï¼‰</li>
            <li>InSbã¯è¶…é«˜ç§»å‹•åº¦ï¼ˆã€œ77,000 cmÂ²/(VÂ·s)ï¼‰</li>
            <li>Grapheneã¯æ¥µã‚ã¦é«˜ã„ç§»å‹•åº¦ï¼ˆã€œ10,000-100,000 cmÂ²/(VÂ·s)ï¼‰</li>
        </ul>

        <h2>2.3 van der Pauw Hallæ¸¬å®šé…ç½®</h2>

        <h3>2.3.1 8æ¥ç‚¹van der Pauw Hallé…ç½®</h3>
        <p><strong>van der Pauw Hallæ¸¬å®š</strong>ã¯ã€ä»»æ„å½¢çŠ¶ã®è–„è†œè©¦æ–™ã§HallåŠ¹æœã‚’æ¸¬å®šã§ãã‚‹æ¨™æº–çš„ãªæ‰‹æ³•ã§ã™ã€‚ç¬¬1ç« ã§å­¦ã‚“ã ã‚·ãƒ¼ãƒˆæŠµæŠ—æ¸¬å®šã¨çµ„ã¿åˆã‚ã›ã¦ã€1ã¤ã®è©¦æ–™ã‹ã‚‰ $\sigma$ã€$R_H$ã€$n$ã€$\mu$ ã®ã™ã¹ã¦ã‚’æ±ºå®šã§ãã¾ã™ã€‚</p>

        <div class="mermaid">
flowchart TD
    A[è©¦æ–™æº–å‚™<br/>4éš…ã«8æ¥ç‚¹é…ç½®] --> B[ã‚·ãƒ¼ãƒˆæŠµæŠ—æ¸¬å®š<br/>R_AB,CD, R_BC,DA]
    B --> C[ã‚·ãƒ¼ãƒˆæŠµæŠ— R_s è¨ˆç®—<br/>van der Pauwå¼]
    C --> D[Hallæ¸¬å®š<br/>ç£å ´ B ã‚’ã‹ã‘ã‚‹]
    D --> E[Hallé›»åœ§ V_H æ¸¬å®š<br/>é›»æµ I ã§]
    E --> F[Hallä¿‚æ•° R_H è¨ˆç®—<br/>R_H = V_H t / IB]
    F --> G[ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ n<br/>n = 1/eR_H]
    F --> H[ç§»å‹•åº¦ Î¼<br/>Î¼ = ÏƒR_H]

    style A fill:#99ccff,stroke:#0066cc,stroke-width:2px
    style C fill:#ffeb99,stroke:#ffa500,stroke-width:2px
    style F fill:#f093fb,stroke:#f5576c,stroke-width:2px,color:#fff
    style G fill:#99ff99,stroke:#00cc00,stroke-width:2px
    style H fill:#99ff99,stroke:#00cc00,stroke-width:2px
        </div>

        <p><strong>æ¸¬å®šæ‰‹é †</strong>ï¼š</p>
        <ol>
            <li><strong>ã‚·ãƒ¼ãƒˆæŠµæŠ—æ¸¬å®š</strong>ï¼ˆç£å ´ãªã—ã€B = 0ï¼‰ï¼š
                <ul>
                    <li>æ¥ç‚¹1â†’2ã«é›»æµã€3-4é–“ã§é›»åœ§æ¸¬å®š â†’ $R_{12,34}$</li>
                    <li>æ¥ç‚¹2â†’3ã«é›»æµã€4-1é–“ã§é›»åœ§æ¸¬å®š â†’ $R_{23,41}$</li>
                    <li>van der Pauwå¼ã§ $R_s$ ã‚’è¨ˆç®—</li>
                </ul>
            </li>
            <li><strong>Hallæ¸¬å®š</strong>ï¼ˆç£å ´ B ã‚’ã‹ã‘ã‚‹ã€ä¾‹ãˆã° B = +0.5 Tï¼‰ï¼š
                <ul>
                    <li>æ¥ç‚¹1â†’3ã«é›»æµ $I$ã€2-4é–“ã§é›»åœ§ $V_{24}^{+B}$ æ¸¬å®š</li>
                    <li>ç£å ´ã‚’åè»¢ï¼ˆB = -0.5 Tï¼‰ã€åŒã˜é›»æµã§ $V_{24}^{-B}$ æ¸¬å®š</li>
                    <li>Hallé›»åœ§ï¼š$V_H = \frac{1}{2}(V_{24}^{+B} - V_{24}^{-B})$</li>
                    <li>Hallä¿‚æ•°ï¼š$R_H = \frac{V_H t}{IB}$</li>
                </ul>
            </li>
            <li><strong>é›»æ°—çš„ç‰¹æ€§ã®å°å‡º</strong>ï¼š
                <ul>
                    <li>é›»æ°—ä¼å°ç‡ï¼š$\sigma = \frac{1}{R_s t}$</li>
                    <li>ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ï¼š$n = \frac{1}{eR_H}$</li>
                    <li>ç§»å‹•åº¦ï¼š$\mu = \sigma R_H$</li>
                </ul>
            </li>
        </ol>

        <blockquote>
            <strong>é‡è¦</strong>ï¼šç£å ´ã‚’åè»¢ã—ã¦æ¸¬å®šã™ã‚‹ç†ç”±ã¯ã€ã‚ªãƒ•ã‚»ãƒƒãƒˆé›»åœ§ï¼ˆç†±é›»åŠ¹æœã€ä¸å‡ä¸€æ€§ã«ã‚ˆã‚‹ï¼‰ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹ãŸã‚ã§ã™ã€‚Hallé›»åœ§ã¯ç£å ´ã«å¯¾ã—ã¦å¥‡é–¢æ•°ï¼ˆ$V_H(B) = -V_H(-B)$ï¼‰ã§ã™ãŒã€ã‚ªãƒ•ã‚»ãƒƒãƒˆé›»åœ§ã¯å¶é–¢æ•°ãªã®ã§ã€å·®åˆ†ã‚’å–ã‚‹ã“ã¨ã§ç´”ç²‹ãªHallé›»åœ§ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚
        </blockquote>

        <h4>ã‚³ãƒ¼ãƒ‰ä¾‹2-3: van der Pauw Hallæ¸¬å®šã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h4>
        <pre><code class="language-python">import numpy as np
from scipy.optimize import fsolve

def van_der_pauw_sheet_resistance(R1, R2):
    """van der Pauwå¼ã§ã‚·ãƒ¼ãƒˆæŠµæŠ—ã‚’è¨ˆç®—"""
    def equation(Rs):
        return np.exp(-np.pi * R1 / Rs) + np.exp(-np.pi * R2 / Rs) - 1

    R_initial = (R1 + R2) / 2 * np.pi / np.log(2)
    R_s = fsolve(equation, R_initial)[0]
    return R_s

def complete_hall_analysis(R_AB_CD, R_BC_DA, V_24_pos_B, V_24_neg_B, I, B, t):
    """
    å®Œå…¨ãªvan der Pauw Hallè§£æ

    Parameters
    ----------
    R_AB_CD, R_BC_DA : float
        van der PauwæŠµæŠ— [Î©]
    V_24_pos_B, V_24_neg_B : float
        æ­£è² ç£å ´ã§ã®Hallé›»åœ§ [V]
    I : float
        é›»æµ [A]
    B : float
        ç£å ´ã®å¤§ãã• [T]
    t : float
        è©¦æ–™åšã• [m]

    Returns
    -------
    results : dict
        è§£æçµæœï¼ˆR_s, sigma, R_H, n, muï¼‰
    """
    e = 1.60218e-19  # [C]

    # 1. ã‚·ãƒ¼ãƒˆæŠµæŠ—
    R_s = van_der_pauw_sheet_resistance(R_AB_CD, R_BC_DA)

    # 2. é›»æ°—ä¼å°ç‡
    sigma = 1 / (R_s * t)

    # 3. Hallé›»åœ§ï¼ˆã‚ªãƒ•ã‚»ãƒƒãƒˆé™¤å»ï¼‰
    V_H = 0.5 * (V_24_pos_B - V_24_neg_B)

    # 4. Hallä¿‚æ•°
    R_H = V_H * t / (I * B)

    # 5. ã‚­ãƒ£ãƒªã‚¢å¯†åº¦
    n = 1 / (np.abs(R_H) * e)
    carrier_type = 'electron' if R_H < 0 else 'hole'

    # 6. ç§»å‹•åº¦
    mu = sigma * np.abs(R_H)

    results = {
        'R_s': R_s,
        'sigma': sigma,
        'rho': 1 / sigma,
        'V_H': V_H,
        'R_H': R_H,
        'n': n,
        'carrier_type': carrier_type,
        'mu': mu
    }

    return results

# æ¸¬å®šãƒ‡ãƒ¼ã‚¿ä¾‹ï¼šnå‹ã‚·ãƒªã‚³ãƒ³è–„è†œ
R_AB_CD = 1000  # [Î©]
R_BC_DA = 950   # [Î©]
V_24_plus = -5.2e-3  # +B ã§ã®é›»åœ§ [V]
V_24_minus = +4.8e-3  # -B ã§ã®é›»åœ§ [V]
I = 100e-6  # é›»æµ [A] = 100 Î¼A
B = 0.5  # ç£å ´ [T]
t = 200e-9  # åšã• [m] = 200 nm

results = complete_hall_analysis(R_AB_CD, R_BC_DA, V_24_plus, V_24_minus, I, B, t)

print("van der Pauw Hallæ¸¬å®šè§£æçµæœ:")
print("=" * 60)
print(f"æ¸¬å®šæ¡ä»¶:")
print(f"  R_AB,CD = {R_AB_CD:.1f} Î©")
print(f"  R_BC,DA = {R_BC_DA:.1f} Î©")
print(f"  V_24(+B) = {V_24_plus * 1e3:.2f} mV")
print(f"  V_24(-B) = {V_24_minus * 1e3:.2f} mV")
print(f"  é›»æµ I = {I * 1e6:.1f} Î¼A")
print(f"  ç£å ´ B = Â±{B:.2f} T")
print(f"  åšã• t = {t * 1e9:.0f} nm")
print("\nè§£æçµæœ:")
print(f"  ã‚·ãƒ¼ãƒˆæŠµæŠ— R_s = {results['R_s']:.2f} Î©/sq")
print(f"  é›»æ°—ä¼å°ç‡ Ïƒ = {results['sigma']:.2e} S/m")
print(f"  æŠµæŠ—ç‡ Ï = {results['rho']:.2e} Î©Â·m = {results['rho'] * 1e8:.2f} Î¼Î©Â·cm")
print(f"  Hallé›»åœ§ V_H = {results['V_H'] * 1e3:.2f} mV")
print(f"  Hallä¿‚æ•° R_H = {results['R_H']:.2e} mÂ³/C")
print(f"  ã‚­ãƒ£ãƒªã‚¢ç¨®åˆ¥: {results['carrier_type']}")
print(f"  ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ n = {results['n']:.2e} mâ»Â³ = {results['n'] / 1e6:.2e} cmâ»Â³")
print(f"  ç§»å‹•åº¦ Î¼ = {results['mu']:.2e} mÂ²/(VÂ·s) = {results['mu'] * 1e4:.1f} cmÂ²/(VÂ·s)")
print("\næ¤œè¨¼:")
print(f"  Ïƒ = neÎ¼ = {results['n'] * 1.60218e-19 * results['mu']:.2e} S/m")
print(f"  ï¼ˆè¨ˆç®—å€¤ Ïƒ = {results['sigma']:.2e} S/m ã¨ä¸€è‡´ï¼‰")
</code></pre>

        <h2>2.4 å¤šã‚­ãƒ£ãƒªã‚¢è§£æï¼ˆTwo-Band Modelï¼‰</h2>

        <h3>2.4.1 2ã‚­ãƒ£ãƒªã‚¢ç³»ã®ç†è«–</h3>
        <p>åŠå°ä½“ã§ã¯ã€é›»å­ã¨æ­£å­”ã®ä¸¡æ–¹ãŒä¼å°ã«å¯„ä¸ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼ˆä¾‹ï¼šç‹­ãƒãƒ³ãƒ‰ã‚®ãƒ£ãƒƒãƒ—åŠå°ä½“ã€InSbã€HgCdTeãªã©ï¼‰ã€‚ã“ã®å ´åˆã€å˜ç´”ãª1ãƒãƒ³ãƒ‰ãƒ¢ãƒ‡ãƒ«ã§ã¯ä¸ååˆ†ã§ã€<strong>two-band model</strong>ãŒå¿…è¦ã§ã™ã€‚</p>

        <p><strong>é›»æ°—ä¼å°ç‡</strong>ï¼ˆ2ã‚­ãƒ£ãƒªã‚¢ï¼‰ï¼š</p>

        $$
        \sigma = n_e e \mu_e + n_h e \mu_h
        $$

        <p><strong>Hallä¿‚æ•°</strong>ï¼ˆ2ã‚­ãƒ£ãƒªã‚¢ï¼‰ï¼š</p>

        $$
        R_H = \frac{n_h \mu_h^2 - n_e \mu_e^2}{e(n_h \mu_h + n_e \mu_e)^2}
        $$

        <p>ã“ã“ã§ã€$n_e$, $\mu_e$ ã¯é›»å­ã®ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã¨ç§»å‹•åº¦ã€$n_h$, $\mu_h$ ã¯æ­£å­”ã®ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã¨ç§»å‹•åº¦ã§ã™ã€‚</p>

        <p><strong>ç‰©ç†çš„è§£é‡ˆ</strong>ï¼š</p>
        <ul>
            <li>$\mu_h \gg \mu_e$ ã®å ´åˆã€æ­£å­”ãŒHallåŠ¹æœã‚’æ”¯é…ï¼ˆ$R_H > 0$ï¼‰</li>
            <li>$\mu_e \gg \mu_h$ ã®å ´åˆã€é›»å­ãŒHallåŠ¹æœã‚’æ”¯é…ï¼ˆ$R_H < 0$ï¼‰</li>
            <li>ç§»å‹•åº¦ãŒåŒç¨‹åº¦ã®å ´åˆã€$R_H$ ã®ç¬¦å·ã¯ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã®æ¯” $n_h/n_e$ ã«ä¾å­˜</li>
        </ul>

        <h4>ã‚³ãƒ¼ãƒ‰ä¾‹2-4: Two-Band Modelã®ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°</h4>
        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from lmfit import Model

def two_band_conductivity(n_e, mu_e, n_h, mu_h):
    """2ãƒãƒ³ãƒ‰ãƒ¢ãƒ‡ãƒ«ã®é›»æ°—ä¼å°ç‡"""
    e = 1.60218e-19
    sigma = n_e * e * mu_e + n_h * e * mu_h
    return sigma

def two_band_hall_coefficient(n_e, mu_e, n_h, mu_h):
    """2ãƒãƒ³ãƒ‰ãƒ¢ãƒ‡ãƒ«ã®Hallä¿‚æ•°"""
    e = 1.60218e-19
    numerator = n_h * mu_h**2 - n_e * mu_e**2
    denominator = (n_h * mu_h + n_e * mu_e)**2
    R_H = numerator / (e * denominator)
    return R_H

# ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼šInSbï¼ˆé›»å­ãƒ»æ­£å­”å…±å­˜ç³»ï¼‰
T_range = np.linspace(200, 400, 50)  # æ¸©åº¦ [K]

# æ¸©åº¦ä¾å­˜æ€§ï¼ˆç°¡ç•¥åŒ–ï¼‰
n_e = 1e22 * np.exp(-0.1 / (8.617e-5 * T_range))  # é›»å­å¯†åº¦ [m^-3]
n_h = 5e21 * np.exp(-0.08 / (8.617e-5 * T_range))  # æ­£å­”å¯†åº¦ [m^-3]
mu_e = 7e4 * (300 / T_range)**1.5 * 1e-4  # é›»å­ç§»å‹•åº¦ [m^2/(VÂ·s)]
mu_h = 1e3 * (300 / T_range)**2.5 * 1e-4  # æ­£å­”ç§»å‹•åº¦ [m^2/(VÂ·s)]

sigma = two_band_conductivity(n_e, mu_e, n_h, mu_h)
R_H = two_band_hall_coefficient(n_e, mu_e, n_h, mu_h)

# ãƒ—ãƒ­ãƒƒãƒˆ
fig, axes = plt.subplots(2, 2, figsize=(14, 10))

# å·¦ä¸Šï¼šã‚­ãƒ£ãƒªã‚¢å¯†åº¦
axes[0, 0].semilogy(T_range, n_e / 1e6, linewidth=2.5, label='Electron density n$_e$', color='#f5576c')
axes[0, 0].semilogy(T_range, n_h / 1e6, linewidth=2.5, label='Hole density n$_h$', color='#ffa500')
axes[0, 0].set_xlabel('Temperature T [K]', fontsize=12)
axes[0, 0].set_ylabel('Carrier Density [cm$^{-3}$]', fontsize=12)
axes[0, 0].set_title('Carrier Densities (Two-Band Model)', fontsize=13, fontweight='bold')
axes[0, 0].legend(fontsize=11)
axes[0, 0].grid(alpha=0.3)

# å³ä¸Šï¼šç§»å‹•åº¦
axes[0, 1].loglog(T_range, mu_e * 1e4, linewidth=2.5, label='Electron mobility Î¼$_e$', color='#f5576c')
axes[0, 1].loglog(T_range, mu_h * 1e4, linewidth=2.5, label='Hole mobility Î¼$_h$', color='#ffa500')
axes[0, 1].set_xlabel('Temperature T [K]', fontsize=12)
axes[0, 1].set_ylabel('Mobility [cm$^2$/(VÂ·s)]', fontsize=12)
axes[0, 1].set_title('Mobilities (Temperature Dependence)', fontsize=13, fontweight='bold')
axes[0, 1].legend(fontsize=11)
axes[0, 1].grid(alpha=0.3, which='both')

# å·¦ä¸‹ï¼šé›»æ°—ä¼å°ç‡
axes[1, 0].semilogy(T_range, sigma, linewidth=2.5, color='#f093fb')
axes[1, 0].set_xlabel('Temperature T [K]', fontsize=12)
axes[1, 0].set_ylabel('Conductivity Ïƒ [S/m]', fontsize=12)
axes[1, 0].set_title('Electrical Conductivity', fontsize=13, fontweight='bold')
axes[1, 0].grid(alpha=0.3)

# å³ä¸‹ï¼šHallä¿‚æ•°
axes[1, 1].plot(T_range, R_H, linewidth=2.5, color='#f093fb')
axes[1, 1].axhline(0, color='black', linestyle='--', linewidth=1.5)
axes[1, 1].set_xlabel('Temperature T [K]', fontsize=12)
axes[1, 1].set_ylabel('Hall Coefficient R$_H$ [m$^3$/C]', fontsize=12)
axes[1, 1].set_title('Hall Coefficient (Sign Change)', fontsize=13, fontweight='bold')
axes[1, 1].grid(alpha=0.3)

plt.tight_layout()
plt.show()

# Hallä¿‚æ•°ã®ç¬¦å·åè»¢æ¸©åº¦ã‚’æ¤œå‡º
sign_change_idx = np.where(np.diff(np.sign(R_H)))[0]
if len(sign_change_idx) > 0:
    T_sign_change = T_range[sign_change_idx[0]]
    print(f"\nHallä¿‚æ•°ã®ç¬¦å·åè»¢æ¸©åº¦: {T_sign_change:.1f} K")
    print("  â†’ ä½æ¸©: R_H < 0ï¼ˆé›»å­å„ªå‹¢ï¼‰")
    print("  â†’ é«˜æ¸©: R_H > 0ï¼ˆæ­£å­”å„ªå‹¢ï¼‰")
</code></pre>

        <h2>2.5 æ¸©åº¦ä¾å­˜æ€§Hallæ¸¬å®š</h2>

        <h3>2.5.1 ã‚­ãƒ£ãƒªã‚¢æ•£ä¹±æ©Ÿæ§‹ã®è§£æ</h3>
        <p>ç§»å‹•åº¦ã®æ¸©åº¦ä¾å­˜æ€§ã‹ã‚‰ã€æ”¯é…çš„ãªã‚­ãƒ£ãƒªã‚¢æ•£ä¹±æ©Ÿæ§‹ã‚’ç‰¹å®šã§ãã¾ã™ï¼š</p>

        <table>
            <thead>
                <tr>
                    <th>æ•£ä¹±æ©Ÿæ§‹</th>
                    <th>ç§»å‹•åº¦ã®æ¸©åº¦ä¾å­˜æ€§</th>
                    <th>æ”¯é…çš„ãªæ¸©åº¦åŸŸ</th>
                    <th>ææ–™ä¾‹</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>éŸ³éŸ¿ãƒ•ã‚©ãƒãƒ³æ•£ä¹±</strong></td>
                    <td>$\mu \propto T^{-3/2}$</td>
                    <td>å®¤æ¸©ä»¥ä¸Š</td>
                    <td>Si, GaAsï¼ˆé«˜æ¸©ï¼‰</td>
                </tr>
                <tr>
                    <td><strong>ã‚¤ã‚ªãƒ³åŒ–ä¸ç´”ç‰©æ•£ä¹±</strong></td>
                    <td>$\mu \propto T^{3/2}$</td>
                    <td>ä½æ¸©ï¼ˆ< 100 Kï¼‰</td>
                    <td>ãƒ‰ãƒ¼ãƒ—åŠå°ä½“</td>
                </tr>
                <tr>
                    <td><strong>å…‰å­¦ãƒ•ã‚©ãƒãƒ³æ•£ä¹±</strong></td>
                    <td>è¤‡é›‘ï¼ˆæ¸©åº¦ã«ä¾å­˜ï¼‰</td>
                    <td>é«˜æ¸©</td>
                    <td>æ¥µæ€§åŠå°ä½“ï¼ˆGaAsï¼‰</td>
                </tr>
                <tr>
                    <td><strong>ä¸­æ€§ä¸ç´”ç‰©æ•£ä¹±</strong></td>
                    <td>$\mu \approx$ å®šæ•°</td>
                    <td>ä½æ¸©</td>
                    <td>é«˜ãƒ‰ãƒ¼ãƒ—ææ–™</td>
                </tr>
            </tbody>
        </table>

        <p><strong>Matthiessenã®æ³•å‰‡</strong>ï¼ˆç§»å‹•åº¦ç‰ˆï¼‰ï¼š</p>

        $$
        \frac{1}{\mu_{\text{total}}} = \frac{1}{\mu_{\text{phonon}}} + \frac{1}{\mu_{\text{impurity}}} + \frac{1}{\mu_{\text{other}}}
        $$

        <h4>ã‚³ãƒ¼ãƒ‰ä¾‹2-5: æ¸©åº¦ä¾å­˜æ€§Hallæ¸¬å®šã®è§£æ</h4>
        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from lmfit import Model

# éŸ³éŸ¿ãƒ•ã‚©ãƒãƒ³æ•£ä¹±ãƒ¢ãƒ‡ãƒ«
def acoustic_phonon_mobility(T, mu0, T0=300):
    """Î¼ âˆ T^(-3/2)"""
    return mu0 * (T0 / T)**(3/2)

# ã‚¤ã‚ªãƒ³åŒ–ä¸ç´”ç‰©æ•£ä¹±ãƒ¢ãƒ‡ãƒ«
def ionized_impurity_mobility(T, mu1, T0=300):
    """Î¼ âˆ T^(3/2)"""
    return mu1 * (T / T0)**(3/2)

# Matthiessenã®æ³•å‰‡
def combined_mobility(T, mu0, mu1, T0=300):
    """1/Î¼_total = 1/Î¼_phonon + 1/Î¼_impurity"""
    mu_phonon = acoustic_phonon_mobility(T, mu0, T0)
    mu_impurity = ionized_impurity_mobility(T, mu1, T0)
    mu_total = 1 / (1/mu_phonon + 1/mu_impurity)
    return mu_total

# ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
T_range = np.linspace(50, 400, 30)  # [K]
mu0_true = 8000  # ãƒ•ã‚©ãƒãƒ³æ•£ä¹±åˆ¶é™ç§»å‹•åº¦ï¼ˆå®¤æ¸©ï¼‰[cm^2/(VÂ·s)]
mu1_true = 2000  # ä¸ç´”ç‰©æ•£ä¹±åˆ¶é™ç§»å‹•åº¦ï¼ˆå®¤æ¸©ï¼‰[cm^2/(VÂ·s)]

mu_data = combined_mobility(T_range, mu0_true, mu1_true)
mu_data_noise = mu_data * (1 + 0.05 * np.random.randn(len(T_range)))  # 5%ãƒã‚¤ã‚º

# ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°
model = Model(combined_mobility)
params = model.make_params(mu0=5000, mu1=3000, T0=300)
params['T0'].vary = False  # T0ã¯å›ºå®š

result = model.fit(mu_data_noise, params, T=T_range)

print("æ¸©åº¦ä¾å­˜æ€§Hallæ¸¬å®šã®ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°çµæœ:")
print(result.fit_report())

# å„æ•£ä¹±æ©Ÿæ§‹ã®å¯„ä¸ã‚’è¨ˆç®—
mu_phonon_fit = acoustic_phonon_mobility(T_range, result.params['mu0'].value)
mu_impurity_fit = ionized_impurity_mobility(T_range, result.params['mu1'].value)

# ãƒ—ãƒ­ãƒƒãƒˆ
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))

# å·¦å›³ï¼šç§»å‹•åº¦ vs æ¸©åº¦
ax1.scatter(T_range, mu_data_noise, s=80, alpha=0.7, edgecolors='black', linewidths=1.5, label='Measured data', color='#f093fb')
ax1.plot(T_range, result.best_fit, linewidth=2.5, label='Fit (Matthiessen)', color='#f5576c')
ax1.plot(T_range, mu_phonon_fit, linewidth=2, linestyle='--', label='Phonon scattering (T$^{-3/2}$)', color='#ffa500')
ax1.plot(T_range, mu_impurity_fit, linewidth=2, linestyle=':', label='Impurity scattering (T$^{3/2}$)', color='#99ccff')
ax1.set_xlabel('Temperature T [K]', fontsize=12)
ax1.set_ylabel('Mobility Î¼ [cm$^2$/(VÂ·s)]', fontsize=12)
ax1.set_title('Temperature-Dependent Hall Mobility', fontsize=14, fontweight='bold')
ax1.legend(fontsize=10)
ax1.grid(alpha=0.3)
ax1.set_yscale('log')

# å³å›³ï¼šæ•£ä¹±ç‡ï¼ˆ1/Î¼ï¼‰vs æ¸©åº¦
ax2.scatter(T_range, 1/mu_data_noise, s=80, alpha=0.7, edgecolors='black', linewidths=1.5, label='Data (1/Î¼)', color='#f093fb')
ax2.plot(T_range, 1/mu_phonon_fit, linewidth=2.5, label='Phonon (1/Î¼$_{ph}$)', color='#ffa500')
ax2.plot(T_range, 1/mu_impurity_fit, linewidth=2.5, label='Impurity (1/Î¼$_{imp}$)', color='#99ccff')
ax2.plot(T_range, 1/result.best_fit, linewidth=2.5, label='Total (sum)', color='#f5576c', linestyle='--')
ax2.set_xlabel('Temperature T [K]', fontsize=12)
ax2.set_ylabel('Scattering Rate 1/Î¼ [VÂ·s/cm$^2$]', fontsize=12)
ax2.set_title('Matthiessen Rule: Scattering Rate Analysis', fontsize=14, fontweight='bold')
ax2.legend(fontsize=10)
ax2.grid(alpha=0.3)

plt.tight_layout()
plt.show()

# çµæœã®è§£é‡ˆ
print(f"\næ•£ä¹±æ©Ÿæ§‹ã®è§£æ:")
print(f"  ãƒ•ã‚©ãƒãƒ³æ•£ä¹±åˆ¶é™ç§»å‹•åº¦ï¼ˆå®¤æ¸©ï¼‰: {result.params['mu0'].value:.1f} cmÂ²/(VÂ·s)")
print(f"  ä¸ç´”ç‰©æ•£ä¹±åˆ¶é™ç§»å‹•åº¦ï¼ˆå®¤æ¸©ï¼‰: {result.params['mu1'].value:.1f} cmÂ²/(VÂ·s)")
print(f"\næ”¯é…çš„ãªæ•£ä¹±æ©Ÿæ§‹:")
print(f"  ä½æ¸©ï¼ˆ< 150 Kï¼‰: ä¸ç´”ç‰©æ•£ä¹±ï¼ˆÎ¼ âˆ T^(3/2)ï¼‰")
print(f"  é«˜æ¸©ï¼ˆ> 250 Kï¼‰: ãƒ•ã‚©ãƒãƒ³æ•£ä¹±ï¼ˆÎ¼ âˆ T^(-3/2)ï¼‰")
</code></pre>

        <h2>2.6 å®Œå…¨ãªHallãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</h2>

        <h4>ã‚³ãƒ¼ãƒ‰ä¾‹2-6: VH â†’ n, Î¼ ã®å®Œå…¨è§£æ</h4>
        <pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

class HallDataProcessor:
    """å®Œå…¨ãªHallãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‚¯ãƒ©ã‚¹"""

    def __init__(self, thickness):
        """
        Parameters
        ----------
        thickness : float
            è©¦æ–™åšã• [m]
        """
        self.t = thickness
        self.e = 1.60218e-19  # é›»è·ç´ é‡ [C]
        self.data = {}

    def load_data(self, filename=None, mock_data=True):
        """
        æ¸¬å®šãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿

        Parameters
        ----------
        filename : str or None
            CSVãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆNoneã®å ´åˆã¯ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼‰
        mock_data : bool
            ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹ã‹
        """
        if mock_data:
            # ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆæ¸©åº¦ä¾å­˜æ€§ï¼‰
            T = np.array([77, 100, 150, 200, 250, 300, 350, 400])  # [K]
            I = 100e-6  # é›»æµ [A]
            B = 0.5  # ç£å ´ [T]

            # van der PauwæŠµæŠ—ï¼ˆæ¸©åº¦ä¾å­˜ï¼‰
            R_AB_CD = 500 + 2.0 * T
            R_BC_DA = 480 + 1.8 * T

            # Hallé›»åœ§ï¼ˆæ¸©åº¦ä¾å­˜ã€ã‚­ãƒ£ãƒªã‚¢å¯†åº¦å¤‰åŒ–ã‚’å«ã‚€ï¼‰
            V_pos = -3e-3 * (1 + 0.002 * (T - 300))
            V_neg = +2.9e-3 * (1 + 0.002 * (T - 300))

            self.data = pd.DataFrame({
                'T': T,
                'I': I,
                'B': B,
                'R_AB_CD': R_AB_CD,
                'R_BC_DA': R_BC_DA,
                'V_pos_B': V_pos,
                'V_neg_B': V_neg
            })
        else:
            # å®Ÿãƒ‡ãƒ¼ã‚¿ã‚’CSVã‹ã‚‰èª­ã¿è¾¼ã¿
            self.data = pd.read_csv(filename)

        return self.data

    def calculate_sheet_resistance(self):
        """ã‚·ãƒ¼ãƒˆæŠµæŠ—ã‚’è¨ˆç®—"""
        from scipy.optimize import fsolve

        def vdp_eq(Rs, R1, R2):
            return np.exp(-np.pi * R1 / Rs) + np.exp(-np.pi * R2 / Rs) - 1

        R_s_list = []
        for _, row in self.data.iterrows():
            R1, R2 = row['R_AB_CD'], row['R_BC_DA']
            R_initial = (R1 + R2) / 2 * np.pi / np.log(2)
            R_s = fsolve(vdp_eq, R_initial, args=(R1, R2))[0]
            R_s_list.append(R_s)

        self.data['R_s'] = R_s_list
        self.data['sigma'] = 1 / (np.array(R_s_list) * self.t)
        self.data['rho'] = 1 / self.data['sigma']

    def calculate_hall_properties(self):
        """Hallç‰¹æ€§ã‚’è¨ˆç®—"""
        # Hallé›»åœ§ï¼ˆã‚ªãƒ•ã‚»ãƒƒãƒˆé™¤å»ï¼‰
        self.data['V_H'] = 0.5 * (self.data['V_pos_B'] - self.data['V_neg_B'])

        # Hallä¿‚æ•°
        self.data['R_H'] = (self.data['V_H'] * self.t) / (self.data['I'] * self.data['B'])

        # ã‚­ãƒ£ãƒªã‚¢å¯†åº¦
        self.data['n'] = 1 / (np.abs(self.data['R_H']) * self.e)

        # ç§»å‹•åº¦
        self.data['mu'] = self.data['sigma'] * np.abs(self.data['R_H'])

        # ã‚­ãƒ£ãƒªã‚¢ç¨®åˆ¥
        self.data['carrier_type'] = ['electron' if rh < 0 else 'hole' for rh in self.data['R_H']]

    def plot_results(self):
        """çµæœã®å¯è¦–åŒ–"""
        fig, axes = plt.subplots(2, 3, figsize=(18, 10))

        T = self.data['T']

        # ã‚·ãƒ¼ãƒˆæŠµæŠ—
        axes[0, 0].plot(T, self.data['R_s'], 'o-', linewidth=2.5, markersize=8, color='#f093fb')
        axes[0, 0].set_xlabel('Temperature [K]', fontsize=11)
        axes[0, 0].set_ylabel('Sheet Resistance [Î©/sq]', fontsize=11)
        axes[0, 0].set_title('Sheet Resistance', fontsize=12, fontweight='bold')
        axes[0, 0].grid(alpha=0.3)

        # é›»æ°—ä¼å°ç‡
        axes[0, 1].semilogy(T, self.data['sigma'], 'o-', linewidth=2.5, markersize=8, color='#f5576c')
        axes[0, 1].set_xlabel('Temperature [K]', fontsize=11)
        axes[0, 1].set_ylabel('Conductivity [S/m]', fontsize=11)
        axes[0, 1].set_title('Electrical Conductivity', fontsize=12, fontweight='bold')
        axes[0, 1].grid(alpha=0.3)

        # Hallé›»åœ§
        axes[0, 2].plot(T, self.data['V_H'] * 1e3, 'o-', linewidth=2.5, markersize=8, color='#ffa500')
        axes[0, 2].axhline(0, color='black', linestyle='--', linewidth=1.5)
        axes[0, 2].set_xlabel('Temperature [K]', fontsize=11)
        axes[0, 2].set_ylabel('Hall Voltage [mV]', fontsize=11)
        axes[0, 2].set_title('Hall Voltage', fontsize=12, fontweight='bold')
        axes[0, 2].grid(alpha=0.3)

        # Hallä¿‚æ•°
        axes[1, 0].plot(T, self.data['R_H'], 'o-', linewidth=2.5, markersize=8, color='#99ccff')
        axes[1, 0].axhline(0, color='black', linestyle='--', linewidth=1.5)
        axes[1, 0].set_xlabel('Temperature [K]', fontsize=11)
        axes[1, 0].set_ylabel('Hall Coefficient [mÂ³/C]', fontsize=11)
        axes[1, 0].set_title('Hall Coefficient', fontsize=12, fontweight='bold')
        axes[1, 0].grid(alpha=0.3)

        # ã‚­ãƒ£ãƒªã‚¢å¯†åº¦
        axes[1, 1].semilogy(T, self.data['n'] / 1e6, 'o-', linewidth=2.5, markersize=8, color='#99ff99')
        axes[1, 1].set_xlabel('Temperature [K]', fontsize=11)
        axes[1, 1].set_ylabel('Carrier Density [cm$^{-3}$]', fontsize=11)
        axes[1, 1].set_title('Carrier Density', fontsize=12, fontweight='bold')
        axes[1, 1].grid(alpha=0.3)

        # ç§»å‹•åº¦
        axes[1, 2].semilogy(T, self.data['mu'] * 1e4, 'o-', linewidth=2.5, markersize=8, color='#ff9999')
        axes[1, 2].set_xlabel('Temperature [K]', fontsize=11)
        axes[1, 2].set_ylabel('Mobility [cm$^2$/(VÂ·s)]', fontsize=11)
        axes[1, 2].set_title('Hall Mobility', fontsize=12, fontweight='bold')
        axes[1, 2].grid(alpha=0.3)

        plt.tight_layout()
        plt.show()

    def save_results(self, filename='hall_results.csv'):
        """çµæœã‚’CSVã«ä¿å­˜"""
        self.data.to_csv(filename, index=False)
        print(f"Results saved to {filename}")

# ä½¿ç”¨ä¾‹
processor = HallDataProcessor(thickness=200e-9)  # 200 nm
processor.load_data(mock_data=True)
processor.calculate_sheet_resistance()
processor.calculate_hall_properties()

print("Hallæ¸¬å®šãƒ‡ãƒ¼ã‚¿å‡¦ç†çµæœ:")
print(processor.data[['T', 'R_s', 'sigma', 'n', 'mu']].to_string(index=False))

processor.plot_results()
processor.save_results('hall_analysis_output.csv')
</code></pre>

        <h4>ã‚³ãƒ¼ãƒ‰ä¾‹2-7: Hallæ¸¬å®šã®ä¸ç¢ºã‹ã•è©•ä¾¡</h4>
        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def hall_measurement_uncertainty(V_H, delta_V_H, I, delta_I, B, delta_B, t, delta_t):
    """
    Hallæ¸¬å®šã®ä¸ç¢ºã‹ã•ä¼æ’­

    Parameters
    ----------
    V_H, delta_V_H : float
        Hallé›»åœ§ã¨ãã®ä¸ç¢ºã‹ã• [V]
    I, delta_I : float
        é›»æµã¨ãã®ä¸ç¢ºã‹ã• [A]
    B, delta_B : float
        ç£å ´ã¨ãã®ä¸ç¢ºã‹ã• [T]
    t, delta_t : float
        åšã•ã¨ãã®ä¸ç¢ºã‹ã• [m]

    Returns
    -------
    R_H, delta_R_H : float
        Hallä¿‚æ•°ã¨ãã®ä¸ç¢ºã‹ã•
    n, delta_n : float
        ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã¨ãã®ä¸ç¢ºã‹ã•
    """
    e = 1.60218e-19

    # Hallä¿‚æ•°: R_H = V_H * t / (I * B)
    R_H = V_H * t / (I * B)

    # ä¸ç¢ºã‹ã•ä¼æ’­ï¼ˆåå¾®åˆ†ï¼‰
    # Î´R_H/R_H = sqrt((Î´V_H/V_H)^2 + (Î´t/t)^2 + (Î´I/I)^2 + (Î´B/B)^2)
    rel_unc_V_H = delta_V_H / np.abs(V_H)
    rel_unc_t = delta_t / t
    rel_unc_I = delta_I / I
    rel_unc_B = delta_B / B

    rel_unc_R_H = np.sqrt(rel_unc_V_H**2 + rel_unc_t**2 + rel_unc_I**2 + rel_unc_B**2)
    delta_R_H = np.abs(R_H) * rel_unc_R_H

    # ã‚­ãƒ£ãƒªã‚¢å¯†åº¦: n = 1 / (e * R_H)
    n = 1 / (e * np.abs(R_H))

    # Î´n/n = Î´R_H/R_H
    delta_n = n * rel_unc_R_H

    return R_H, delta_R_H, n, delta_n, rel_unc_R_H

# æ¸¬å®šä¾‹
V_H = -5.0e-3  # [V]
delta_V_H = 0.1e-3  # é›»åœ§è¨ˆç²¾åº¦ [V]
I = 100e-6  # [A]
delta_I = 0.5e-6  # é›»æµæºç²¾åº¦ [A]
B = 0.5  # [T]
delta_B = 0.01  # ç£å ´ç²¾åº¦ [T]
t = 200e-9  # [m]
delta_t = 5e-9  # åšã•æ¸¬å®šç²¾åº¦ [m]

R_H, delta_R_H, n, delta_n, rel_unc = hall_measurement_uncertainty(
    V_H, delta_V_H, I, delta_I, B, delta_B, t, delta_t
)

print("Hallæ¸¬å®šã®ä¸ç¢ºã‹ã•è©•ä¾¡:")
print("=" * 60)
print("æ¸¬å®šå€¤:")
print(f"  Hallé›»åœ§: ({V_H * 1e3:.2f} Â± {delta_V_H * 1e3:.2f}) mV")
print(f"  é›»æµ: ({I * 1e6:.1f} Â± {delta_I * 1e6:.2f}) Î¼A")
print(f"  ç£å ´: ({B:.2f} Â± {delta_B:.3f}) T")
print(f"  åšã•: ({t * 1e9:.1f} Â± {delta_t * 1e9:.1f}) nm")
print("\nçµæœ:")
print(f"  Hallä¿‚æ•°: ({R_H:.3e} Â± {delta_R_H:.3e}) mÂ³/C")
print(f"  ç›¸å¯¾ä¸ç¢ºã‹ã•: {rel_unc * 100:.2f}%")
print(f"  ã‚­ãƒ£ãƒªã‚¢å¯†åº¦: ({n:.3e} Â± {delta_n:.3e}) mâ»Â³")
print(f"                = ({n / 1e6:.3e} Â± {delta_n / 1e6:.3e}) cmâ»Â³")

# ä¸ç¢ºã‹ã•ã®å¯„ä¸ã‚’å¯è¦–åŒ–
contributions = {
    'V_H': (delta_V_H / np.abs(V_H))**2,
    't': (delta_t / t)**2,
    'I': (delta_I / I)**2,
    'B': (delta_B / B)**2
}

fig, ax = plt.subplots(figsize=(10, 6))

labels = list(contributions.keys())
values = [np.sqrt(v) * 100 for v in contributions.values()]

bars = ax.bar(labels, values, color=['#f093fb', '#f5576c', '#ffa500', '#99ccff'], edgecolor='black', linewidth=1.5)
ax.set_ylabel('Relative Uncertainty Contribution [%]', fontsize=12)
ax.set_title('Uncertainty Budget for Hall Measurement', fontsize=14, fontweight='bold')
ax.grid(alpha=0.3, axis='y')

# ãƒãƒ¼ã®ä¸Šã«å€¤ã‚’è¡¨ç¤º
for bar, val in zip(bars, values):
    height = bar.get_height()
    ax.text(bar.get_x() + bar.get_width()/2., height,
            f'{val:.2f}%', ha='center', va='bottom', fontsize=11, fontweight='bold')

# ç·ä¸ç¢ºã‹ã•ã‚’è¿½åŠ 
ax.axhline(rel_unc * 100, color='red', linestyle='--', linewidth=2, label=f'Total: {rel_unc * 100:.2f}%')
ax.legend(fontsize=11)

plt.tight_layout()
plt.show()
</code></pre>

        <h2>2.7 æ¼”ç¿’å•é¡Œ</h2>

        <h3>æ¼”ç¿’2-1: Hallé›»åœ§ã®è¨ˆç®—ï¼ˆEasyï¼‰</h3>
        <p><span class="exercise-label easy">Easy</span> <strong>å•é¡Œ</strong>ï¼šã‚­ãƒ£ãƒªã‚¢å¯†åº¦ $n = 1 \times 10^{22}$ m$^{-3}$ã€åšã• $t = 100$ nmã€é›»æµ $I = 1$ mAã€ç£å ´ $B = 0.5$ T ã®ã¨ãã€Hallé›»åœ§ $V_H$ ã‚’è¨ˆç®—ã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">e = 1.60218e-19  # [C]
n = 1e22  # [m^-3]
t = 100e-9  # [m]
I = 1e-3  # [A]
B = 0.5  # [T]

V_H = I * B / (n * e * t)
print(f"Hallé›»åœ§ V_H = {V_H:.3e} V = {V_H * 1e3:.2f} mV")
</code></pre>
            <p><strong>è§£ç­”</strong>ï¼šV$_H$ = 3.12 Ã— 10$^{-3}$ V = 3.12 mV</p>
        </details>

        <h3>æ¼”ç¿’2-2: ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã®è¨ˆç®—ï¼ˆEasyï¼‰</h3>
        <p><span class="exercise-label easy">Easy</span> <strong>å•é¡Œ</strong>ï¼šHallä¿‚æ•° $R_H = -1.5 \times 10^{-3}$ m$^3$/C ãŒæ¸¬å®šã•ã‚ŒãŸã€‚ã‚­ãƒ£ãƒªã‚¢ç¨®åˆ¥ã¨ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã‚’æ±‚ã‚ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">import numpy as np

e = 1.60218e-19  # [C]
R_H = -1.5e-3  # [m^3/C]

carrier_type = 'electron' if R_H < 0 else 'hole'
n = 1 / (np.abs(R_H) * e)

print(f"ã‚­ãƒ£ãƒªã‚¢ç¨®åˆ¥: {carrier_type}")
print(f"ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ n = {n:.3e} mâ»Â³ = {n / 1e6:.3e} cmâ»Â³")
</code></pre>
            <p><strong>è§£ç­”</strong>ï¼šé›»å­ï¼ˆnå‹ï¼‰ã€n = 4.16 Ã— 10$^{21}$ m$^{-3}$ = 4.16 Ã— 10$^{15}$ cm$^{-3}$</p>
        </details>

        <h3>æ¼”ç¿’2-3: ç§»å‹•åº¦ã®è¨ˆç®—ï¼ˆEasyï¼‰</h3>
        <p><span class="exercise-label easy">Easy</span> <strong>å•é¡Œ</strong>ï¼šé›»æ°—ä¼å°ç‡ $\sigma = 1 \times 10^4$ S/mã€Hallä¿‚æ•° $R_H = -2 \times 10^{-3}$ m$^3$/C ã®ã¨ãã€ç§»å‹•åº¦ $\mu$ ã‚’è¨ˆç®—ã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">import numpy as np

sigma = 1e4  # [S/m]
R_H = -2e-3  # [m^3/C]

mu = sigma * np.abs(R_H)
print(f"ç§»å‹•åº¦ Î¼ = {mu:.2f} mÂ²/(VÂ·s) = {mu * 1e4:.1f} cmÂ²/(VÂ·s)")
</code></pre>
            <p><strong>è§£ç­”</strong>ï¼šÎ¼ = 20 m$^2$/(VÂ·s) = 200,000 cm$^2$/(VÂ·s)ï¼ˆéç¾å®Ÿçš„ã«é«˜ã„â†’æ¸¬å®šå€¤ã®è¦‹ç›´ã—ãŒå¿…è¦ï¼‰</p>
        </details>

        <h3>æ¼”ç¿’2-4: van der Pauw Hallé…ç½®ã®è§£æï¼ˆMediumï¼‰</h3>
        <p><span class="exercise-label medium">Medium</span> <strong>å•é¡Œ</strong>ï¼švan der Pauwæ¸¬å®šã§ã€$R_{\text{AB,CD}} = 950$ Î©ã€$R_{\text{BC,DA}} = 1050$ Î©ã€$V_{24}^{+B} = -4.5$ mVã€$V_{24}^{-B} = +4.3$ mVã€$I = 100$ Î¼Aã€$B = 0.5$ Tã€$t = 300$ nm ãŒå¾—ã‚‰ã‚ŒãŸã€‚$\sigma$ã€$R_H$ã€$n$ã€$\mu$ ã‚’è¨ˆç®—ã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">import numpy as np
from scipy.optimize import fsolve

def van_der_pauw_Rs(R1, R2):
    def eq(Rs):
        return np.exp(-np.pi * R1 / Rs) + np.exp(-np.pi * R2 / Rs) - 1
    R_init = (R1 + R2) / 2 * np.pi / np.log(2)
    return fsolve(eq, R_init)[0]

# ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
R1, R2 = 950, 1050  # [Î©]
V_pos, V_neg = -4.5e-3, 4.3e-3  # [V]
I = 100e-6  # [A]
B = 0.5  # [T]
t = 300e-9  # [m]
e = 1.60218e-19  # [C]

# ã‚·ãƒ¼ãƒˆæŠµæŠ—
R_s = van_der_pauw_Rs(R1, R2)
sigma = 1 / (R_s * t)

# Hallè§£æ
V_H = 0.5 * (V_pos - V_neg)
R_H = V_H * t / (I * B)
n = 1 / (np.abs(R_H) * e)
mu = sigma * np.abs(R_H)

print(f"ã‚·ãƒ¼ãƒˆæŠµæŠ— R_s = {R_s:.2f} Î©/sq")
print(f"é›»æ°—ä¼å°ç‡ Ïƒ = {sigma:.2e} S/m")
print(f"Hallä¿‚æ•° R_H = {R_H:.3e} mÂ³/C")
print(f"ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ n = {n:.2e} mâ»Â³ = {n / 1e6:.2e} cmâ»Â³")
print(f"ç§»å‹•åº¦ Î¼ = {mu:.2e} mÂ²/(VÂ·s) = {mu * 1e4:.1f} cmÂ²/(VÂ·s)")
</code></pre>
            <p><strong>è§£ç­”</strong>ï¼šR$_s$ â‰ˆ 1370 Î©/sqã€Ïƒ â‰ˆ 2.43 Ã— 10$^3$ S/mã€R$_H$ â‰ˆ -2.64 Ã— 10$^{-2}$ m$^3$/Cã€n â‰ˆ 2.36 Ã— 10$^{20}$ m$^{-3}$ã€Î¼ â‰ˆ 0.064 m$^2$/(VÂ·s) = 640 cm$^2$/(VÂ·s)</p>
        </details>

        <h3>æ¼”ç¿’2-5: Two-Band Modelã®è§£æï¼ˆMediumï¼‰</h3>
        <p><span class="exercise-label medium">Medium</span> <strong>å•é¡Œ</strong>ï¼š$n_e = 1 \times 10^{22}$ m$^{-3}$ã€$\mu_e = 0.5$ m$^2$/(VÂ·s)ã€$n_h = 5 \times 10^{21}$ m$^{-3}$ã€$\mu_h = 0.05$ m$^2$/(VÂ·s) ã®ã¨ãã€é›»æ°—ä¼å°ç‡ $\sigma$ ã¨Hallä¿‚æ•° $R_H$ ã‚’è¨ˆç®—ã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">e = 1.60218e-19  # [C]
n_e = 1e22  # [m^-3]
mu_e = 0.5  # [m^2/(VÂ·s)]
n_h = 5e21  # [m^-3]
mu_h = 0.05  # [m^2/(VÂ·s)]

# é›»æ°—ä¼å°ç‡
sigma = n_e * e * mu_e + n_h * e * mu_h
print(f"é›»æ°—ä¼å°ç‡ Ïƒ = {sigma:.2e} S/m")

# Hallä¿‚æ•°
numerator = n_h * mu_h**2 - n_e * mu_e**2
denominator = (n_h * mu_h + n_e * mu_e)**2
R_H = numerator / (e * denominator)
print(f"Hallä¿‚æ•° R_H = {R_H:.3e} mÂ³/C")

# è¦‹ã‹ã‘ã®ã‚­ãƒ£ãƒªã‚¢å¯†åº¦
n_apparent = 1 / (abs(R_H) * e)
print(f"è¦‹ã‹ã‘ã®ã‚­ãƒ£ãƒªã‚¢å¯†åº¦: {n_apparent:.2e} mâ»Â³ = {n_apparent / 1e6:.2e} cmâ»Â³")
print(f"  ï¼ˆçœŸã®é›»å­å¯†åº¦ {n_e / 1e6:.2e} cmâ»Â³ã¨ã¯ç•°ãªã‚‹ï¼‰")
</code></pre>
            <p><strong>è§£ç­”</strong>ï¼šÏƒ â‰ˆ 8.41 Ã— 10$^2$ S/mã€R$_H$ â‰ˆ -1.37 Ã— 10$^{-3}$ m$^3$/Cã€è¦‹ã‹ã‘ã®n â‰ˆ 4.56 Ã— 10$^{21}$ m$^{-3}$ï¼ˆçœŸã®å€¤ã¨ã¯ç•°ãªã‚‹ï¼‰</p>
        </details>

        <h3>æ¼”ç¿’2-6: æ¸©åº¦ä¾å­˜æ€§ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ï¼ˆMediumï¼‰</h3>
        <p><span class="exercise-label medium">Medium</span> <strong>å•é¡Œ</strong>ï¼šç§»å‹•åº¦ãŒ T = 100 K ã§ 5000 cm$^2$/(VÂ·s)ã€300 K ã§ 1500 cm$^2$/(VÂ·s) ã§ã‚ã£ãŸã€‚$\mu \propto T^{-\alpha}$ ãƒ¢ãƒ‡ãƒ«ã§æŒ‡æ•° $\alpha$ ã‚’æ±‚ã‚ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">import numpy as np

T1, mu1 = 100, 5000  # [K], [cm^2/(VÂ·s)]
T2, mu2 = 300, 1500  # [K], [cm^2/(VÂ·s)]

# Î¼ âˆ T^(-Î±) ã‚ˆã‚Šã€log(Î¼) = -Î± log(T) + const
# log(mu1/mu2) = -Î± log(T1/T2)
# Î± = -log(mu1/mu2) / log(T1/T2)

alpha = -np.log(mu1 / mu2) / np.log(T1 / T2)
print(f"æŒ‡æ•° Î± = {alpha:.2f}")
print(f"ãƒ¢ãƒ‡ãƒ«: Î¼ âˆ T^(-{alpha:.2f})")
print(f"\nè§£é‡ˆ: Î± â‰ˆ 1.5 â†’ éŸ³éŸ¿ãƒ•ã‚©ãƒãƒ³æ•£ä¹±ãŒæ”¯é…çš„")
</code></pre>
            <p><strong>è§£ç­”</strong>ï¼šÎ± â‰ˆ 1.10ï¼ˆç†è«–å€¤ 3/2 ã«è¿‘ã„ãŒã€è¤‡æ•°ã®æ•£ä¹±æ©Ÿæ§‹ãŒå¯„ä¸ã—ã¦ã„ã‚‹å¯èƒ½æ€§ï¼‰</p>
        </details>

        <h3>æ¼”ç¿’2-7: ç£å ´ä¾å­˜æ€§ã®è§£æï¼ˆHardï¼‰</h3>
        <p><span class="exercise-label hard">Hard</span> <strong>å•é¡Œ</strong>ï¼šHallé›»åœ§ãŒç£å ´ B = 0, 0.2, 0.4, 0.6, 0.8, 1.0 T ã§ V$_H$ = 0, 1.0, 2.1, 3.0, 4.1, 5.0 mV ã¨æ¸¬å®šã•ã‚ŒãŸï¼ˆé›»æµ I = 100 Î¼Aã€åšã• t = 200 nmï¼‰ã€‚ç·šå½¢ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ã§ Hallä¿‚æ•°ã‚’æ±‚ã‚ã€éç·šå½¢æ€§ã‚’è©•ä¾¡ã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import linregress

B = np.array([0, 0.2, 0.4, 0.6, 0.8, 1.0])  # [T]
V_H = np.array([0, 1.0, 2.1, 3.0, 4.1, 5.0]) * 1e-3  # [V]
I = 100e-6  # [A]
t = 200e-9  # [m]

# ç·šå½¢ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°
slope, intercept, r_value, _, std_err = linregress(B, V_H)

# Hallä¿‚æ•°
R_H = slope * t / I
print(f"ç·šå½¢ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°: V_H = {slope * 1e3:.3f} mV/T Ã— B + {intercept * 1e3:.3f} mV")
print(f"Hallä¿‚æ•° R_H = {R_H:.3e} mÂ³/C")
print(f"æ±ºå®šä¿‚æ•° RÂ² = {r_value**2:.4f}")

# éç·šå½¢æ€§è©•ä¾¡
V_H_fit = slope * B + intercept
residuals = V_H - V_H_fit
rel_residuals = residuals / V_H_fit[1:] * 100  # æœ€åˆã®ç‚¹ï¼ˆB=0ï¼‰ã‚’é™¤ã

print(f"\néç·šå½¢æ€§è©•ä¾¡:")
print(f"  æœ€å¤§æ®‹å·®: {np.max(np.abs(residuals[1:])) * 1e6:.2f} Î¼V")
print(f"  å¹³å‡ç›¸å¯¾æ®‹å·®: {np.mean(np.abs(rel_residuals)):.2f}%")

# ãƒ—ãƒ­ãƒƒãƒˆ
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 5))

ax1.scatter(B, V_H * 1e3, s=100, edgecolors='black', linewidths=2, label='Measured', color='#f093fb', zorder=5)
ax1.plot(B, V_H_fit * 1e3, linewidth=2.5, label=f'Fit: {slope * 1e3:.3f} mV/T', color='#f5576c', linestyle='--')
ax1.set_xlabel('Magnetic Field B [T]', fontsize=12)
ax1.set_ylabel('Hall Voltage V$_H$ [mV]', fontsize=12)
ax1.set_title('Hall Voltage vs Magnetic Field', fontsize=14, fontweight='bold')
ax1.legend(fontsize=11)
ax1.grid(alpha=0.3)

ax2.scatter(B[1:], residuals[1:] * 1e6, s=100, edgecolors='black', linewidths=2, color='#ffa500')
ax2.axhline(0, color='black', linestyle='--', linewidth=1.5)
ax2.set_xlabel('Magnetic Field B [T]', fontsize=12)
ax2.set_ylabel('Residuals [Î¼V]', fontsize=12)
ax2.set_title('Fit Residuals', fontsize=14, fontweight='bold')
ax2.grid(alpha=0.3)

plt.tight_layout()
plt.show()
</code></pre>
            <p><strong>è§£ç­”</strong>ï¼šR$_H$ â‰ˆ 1.00 Ã— 10$^{-2}$ m$^3$/Cã€R$^2$ â‰ˆ 0.9996ï¼ˆè‰¯å¥½ãªç·šå½¢æ€§ï¼‰ã€æœ€å¤§æ®‹å·® < 50 Î¼Vï¼ˆæ¸¬å®šç²¾åº¦å†…ï¼‰</p>
        </details>

        <h3>æ¼”ç¿’2-8: ä¸ç¢ºã‹ã•ä¼æ’­ï¼ˆHardï¼‰</h3>
        <p><span class="exercise-label hard">Hard</span> <strong>å•é¡Œ</strong>ï¼šHallé›»åœ§ $V_H = (5.0 \pm 0.2)$ mVã€é›»æµ $I = (100 \pm 1)$ Î¼Aã€ç£å ´ $B = (0.50 \pm 0.02)$ Tã€åšã• $t = (200 \pm 10)$ nm ã®ã¨ãã€ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ $n$ ã®ä¸ç¢ºã‹ã• $\Delta n$ ã‚’è¨ˆç®—ã›ã‚ˆã€‚ã©ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒæœ€ã‚‚å½±éŸ¿ã™ã‚‹ã‹è©•ä¾¡ã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">import numpy as np

V_H, dV_H = 5.0e-3, 0.2e-3  # [V]
I, dI = 100e-6, 1e-6  # [A]
B, dB = 0.50, 0.02  # [T]
t, dt = 200e-9, 10e-9  # [m]
e = 1.60218e-19  # [C]

# n = 1 / (e * R_H) = I * B / (e * V_H * t)
n = I * B / (e * V_H * t)

# ç›¸å¯¾ä¸ç¢ºã‹ã•ã®å¯„ä¸
rel_V_H = (dV_H / V_H)**2
rel_I = (dI / I)**2
rel_B = (dB / B)**2
rel_t = (dt / t)**2

rel_unc_total = np.sqrt(rel_V_H + rel_I + rel_B + rel_t)
dn = n * rel_unc_total

print(f"ã‚­ãƒ£ãƒªã‚¢å¯†åº¦: n = {n:.3e} mâ»Â³ = {n / 1e6:.3e} cmâ»Â³")
print(f"ä¸ç¢ºã‹ã•: Î”n = {dn:.3e} mâ»Â³ = {dn / 1e6:.3e} cmâ»Â³")
print(f"ç›¸å¯¾ä¸ç¢ºã‹ã•: {rel_unc_total * 100:.2f}%")
print(f"\nä¸ç¢ºã‹ã•ã®å¯„ä¸:")
print(f"  V_H: {np.sqrt(rel_V_H) * 100:.2f}%")
print(f"  I:   {np.sqrt(rel_I) * 100:.2f}%")
print(f"  B:   {np.sqrt(rel_B) * 100:.2f}%")
print(f"  t:   {np.sqrt(rel_t) * 100:.2f}%")
print(f"\nçµè«–: åšã• t ã®ä¸ç¢ºã‹ã•ãŒæœ€ã‚‚å¤§ããå½±éŸ¿ï¼ˆ{np.sqrt(rel_t) * 100:.1f}%ï¼‰")
</code></pre>
            <p><strong>è§£ç­”</strong>ï¼šn = (6.24 Â± 0.42) Ã— 10$^{21}$ m$^{-3}$ã€ç›¸å¯¾ä¸ç¢ºã‹ã• 6.7%ã€åšã•æ¸¬å®šãŒæœ€ã‚‚é‡è¦ï¼ˆ5.0%å¯„ä¸ï¼‰</p>
        </details>

        <h3>æ¼”ç¿’2-9: å®Ÿé¨“è¨ˆç”»ï¼ˆHardï¼‰</h3>
        <p><span class="exercise-label hard">Hard</span> <strong>å•é¡Œ</strong>ï¼šæœªçŸ¥ã®è–„è†œåŠå°ä½“ï¼ˆåšã• 100 nmï¼‰ã®ã‚­ãƒ£ãƒªã‚¢ç¨®åˆ¥ã€å¯†åº¦ã€ç§»å‹•åº¦ã‚’æ±ºå®šã™ã‚‹å®Ÿé¨“è¨ˆç”»ã‚’ç«‹æ¡ˆã›ã‚ˆã€‚å¿…è¦ãªæ¸¬å®šã€æ¸©åº¦ç¯„å›²ã€ç£å ´ç¯„å›²ã€ãƒ‡ãƒ¼ã‚¿è§£ææ‰‹æ³•ã‚’å…·ä½“çš„ã«èª¬æ˜ã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <p><strong>å®Ÿé¨“è¨ˆç”»</strong>ï¼š</p>
            <ol>
                <li><strong>è©¦æ–™æº–å‚™</strong>ï¼š
                    <ul>
                        <li>van der Pauwé…ç½®ï¼šå››éš…ã«8æ¥ç‚¹ï¼ˆé›»æµç”¨4ã¤ã€é›»åœ§ç”¨4ã¤ï¼‰</li>
                        <li>æ¥ç‚¹ã‚µã‚¤ã‚º < 0.5 mmã€ã‚ªãƒ¼ãƒŸãƒƒã‚¯æ¥è§¦ç¢ºèªï¼ˆI-Vç‰¹æ€§ãŒç·šå½¢ï¼‰</li>
                    </ul>
                </li>
                <li><strong>å®¤æ¸©æ¸¬å®š</strong>ï¼ˆT = 300 Kï¼‰ï¼š
                    <ul>
                        <li><strong>ã‚·ãƒ¼ãƒˆæŠµæŠ—æ¸¬å®š</strong>ï¼ˆB = 0ï¼‰ï¼š$R_{\text{AB,CD}}$ã€$R_{\text{BC,DA}}$ â†’ $R_s$ã€$\sigma$ è¨ˆç®—</li>
                        <li><strong>Hallæ¸¬å®š</strong>ï¼šB = Â±0.5 T ã§ $V_H$ æ¸¬å®šï¼ˆã‚ªãƒ•ã‚»ãƒƒãƒˆé™¤å»ï¼‰</li>
                        <li>â†’ ã‚­ãƒ£ãƒªã‚¢ç¨®åˆ¥ï¼ˆ$R_H$ ã®ç¬¦å·ï¼‰ã€ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ $n$ã€ç§»å‹•åº¦ $\mu$ ã‚’æ±ºå®š</li>
                    </ul>
                </li>
                <li><strong>ç£å ´ä¾å­˜æ€§æ¸¬å®š</strong>ï¼ˆå®¤æ¸©ï¼‰ï¼š
                    <ul>
                        <li>B = 0 â†’ 1 T ã¾ã§ 0.1 T ã‚¹ãƒ†ãƒƒãƒ—ã§ Hallé›»åœ§æ¸¬å®š</li>
                        <li>ç·šå½¢æ€§ç¢ºèªï¼ˆéç·šå½¢ â†’ å¤šã‚­ãƒ£ãƒªã‚¢ç³»ã®å¯èƒ½æ€§ï¼‰</li>
                    </ul>
                </li>
                <li><strong>æ¸©åº¦ä¾å­˜æ€§æ¸¬å®š</strong>ï¼š
                    <ul>
                        <li>æ¸©åº¦ç¯„å›²ï¼š77 Kï¼ˆæ¶²ä½“çª’ç´ ï¼‰ã€œ 400 K</li>
                        <li>æ¸¬å®šç‚¹ï¼š20-25 K é–“éš”ã€å„æ¸©åº¦ã§ç†±å¹³è¡¡å¾…æ©Ÿï¼ˆ10-15åˆ†ï¼‰</li>
                        <li>å„æ¸©åº¦ã§ï¼šã‚·ãƒ¼ãƒˆæŠµæŠ— + Hallæ¸¬å®šï¼ˆB = Â±0.5 Tï¼‰</li>
                    </ul>
                </li>
                <li><strong>ãƒ‡ãƒ¼ã‚¿è§£æ</strong>ï¼š
                    <ul>
                        <li>$n(T)$ã€$\mu(T)$ ã®ãƒ—ãƒ­ãƒƒãƒˆä½œæˆ</li>
                        <li>åŠå°ä½“ã‹é‡‘å±ã‹åˆ¤å®šï¼ˆ$\rho$ ã®æ¸©åº¦ä¾å­˜æ€§ï¼‰</li>
                        <li>åŠå°ä½“ã®å ´åˆï¼šArrheniusãƒ—ãƒ­ãƒƒãƒˆï¼ˆ$\ln n$ vs $1/T$ï¼‰â†’ æ´»æ€§åŒ–ã‚¨ãƒãƒ«ã‚®ãƒ¼</li>
                        <li>ç§»å‹•åº¦ã®æ¸©åº¦ä¾å­˜æ€§ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ï¼ˆMatthiessenã®æ³•å‰‡ã€$\mu \propto T^{-\alpha}$ï¼‰</li>
                        <li>æ•£ä¹±æ©Ÿæ§‹ã®ç‰¹å®šï¼ˆéŸ³éŸ¿ãƒ•ã‚©ãƒãƒ³ã€ä¸ç´”ç‰©ã€ç²’ç•Œãªã©ï¼‰</li>
                    </ul>
                </li>
            </ol>
            <p><strong>æœŸå¾…ã•ã‚Œã‚‹çµæœ</strong>ï¼š</p>
            <ul>
                <li><strong>nå‹åŠå°ä½“</strong>ï¼š$R_H < 0$ã€$n \sim 10^{15}$-10$^{18}$ cm$^{-3}$ã€$\mu \sim 100$-5000 cm$^2$/(VÂ·s)ã€æ¸©åº¦ä¸Šæ˜‡ã§ $n$ å¢—åŠ ï¼ˆç†±åŠ±èµ·ï¼‰</li>
                <li><strong>på‹åŠå°ä½“</strong>ï¼š$R_H > 0$ã€åŒæ§˜ã®å¯†åº¦ãƒ»ç§»å‹•åº¦ç¯„å›²</li>
                <li><strong>é‡‘å±çš„ææ–™</strong>ï¼š$n \sim 10^{21}$-10$^{23}$ cm$^{-3}$ã€$\mu$ ã¯æ¸©åº¦ä¸Šæ˜‡ã§æ¸›å°‘ï¼ˆãƒ•ã‚©ãƒãƒ³æ•£ä¹±ï¼‰</li>
            </ul>
        </details>

        <h2>2.8 å­¦ç¿’ã®ç¢ºèª</h2>
        <p>ä»¥ä¸‹ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã§ç†è§£åº¦ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼š</p>

        <h3>åŸºæœ¬ç†è§£</h3>
        <ul>
            <li>LorentzåŠ›ã‹ã‚‰Hallé›»åœ§ã®å¼ã‚’å°å‡ºã§ãã‚‹</li>
            <li>Hallä¿‚æ•° $R_H = 1/(ne)$ ã¨ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã®é–¢ä¿‚ã‚’ç†è§£ã—ã¦ã„ã‚‹</li>
            <li>ç§»å‹•åº¦ $\mu = \sigma R_H$ ã®ç‰©ç†çš„æ„å‘³ã‚’èª¬æ˜ã§ãã‚‹</li>
            <li>van der Pauw Hallé…ç½®ã®æ¸¬å®šæ‰‹é †ã‚’ç†è§£ã—ã¦ã„ã‚‹</li>
            <li>ç£å ´åè»¢æ¸¬å®šã®ç›®çš„ï¼ˆã‚ªãƒ•ã‚»ãƒƒãƒˆé™¤å»ï¼‰ã‚’èª¬æ˜ã§ãã‚‹</li>
        </ul>

        <h3>å®Ÿè·µã‚¹ã‚­ãƒ«</h3>
        <ul>
            <li>Hallé›»åœ§ã‹ã‚‰ã‚­ãƒ£ãƒªã‚¢å¯†åº¦ã‚’è¨ˆç®—ã§ãã‚‹</li>
            <li>van der Pauw Hallæ¸¬å®šãƒ‡ãƒ¼ã‚¿ã‚’å®Œå…¨ã«è§£æã§ãã‚‹ï¼ˆ$\sigma$ã€$R_H$ã€$n$ã€$\mu$ï¼‰</li>
            <li>Pythonã§å®Œå…¨ãªHallãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè£…ã§ãã‚‹</li>
            <li>ä¸ç¢ºã‹ã•ä¼æ’­ã‚’è¨ˆç®—ã—ã€æ¸¬å®šç²¾åº¦ã‚’è©•ä¾¡ã§ãã‚‹</li>
            <li>æ¸©åº¦ä¾å­˜æ€§ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æ•£ä¹±æ©Ÿæ§‹ã‚’æ¨å®šã§ãã‚‹</li>
        </ul>

        <h3>å¿œç”¨åŠ›</h3>
        <ul>
            <li>two-band modelã§å¤šã‚­ãƒ£ãƒªã‚¢ç³»ã‚’è§£æã§ãã‚‹</li>
            <li>ç§»å‹•åº¦ã®æ¸©åº¦ä¾å­˜æ€§ã‹ã‚‰æ•£ä¹±æ©Ÿæ§‹ã‚’ç‰¹å®šã§ãã‚‹</li>
            <li>æ¸¬å®šã®éç·šå½¢æ€§ã‚’è©•ä¾¡ã—ã€åŸå› ã‚’æ¨å®šã§ãã‚‹</li>
            <li>å®Ÿé¨“è¨ˆç”»ã‚’ç«‹æ¡ˆã—ã€é©åˆ‡ãªæ¸¬å®šæ¡ä»¶ã‚’æ±ºå®šã§ãã‚‹</li>
        </ul>

        <h2>2.9 å‚è€ƒæ–‡çŒ®</h2>
        <ol>
            <li>Hall, E. H. (1879). <em>On a New Action of the Magnet on Electric Currents</em>. American Journal of Mathematics, 2(3), 287-292. - HallåŠ¹æœã®ç™ºè¦‹è«–æ–‡</li>
            <li>van der Pauw, L. J. (1958). <em>A method of measuring the resistivity and Hall coefficient on lamellae of arbitrary shape</em>. Philips Technical Review, 20(8), 220-224. - van der Pauw Hallæ¸¬å®šæ³•ã®åŸè«–æ–‡</li>
            <li>Look, D. C. (1989). <em>Electrical Characterization of GaAs Materials and Devices</em>. Wiley. - åŠå°ä½“Hallæ¸¬å®šã®å®Ÿè·µçš„ãƒ†ã‚­ã‚¹ãƒˆ</li>
            <li>Putley, E. H. (1960). <em>The Hall Effect and Related Phenomena</em>. Butterworths. - HallåŠ¹æœã®åŒ…æ‹¬çš„è§£èª¬</li>
            <li>Ashcroft, N. W., & Mermin, N. D. (1976). <em>Solid State Physics</em> (Chapter 2: The Sommerfeld Theory of Metals). Holt, Rinehart and Winston. - Drudeãƒ¢ãƒ‡ãƒ«ã¨ã‚­ãƒ£ãƒªã‚¢è¼¸é€ç†è«–</li>
            <li>Schroder, D. K. (2006). <em>Semiconductor Material and Device Characterization</em> (3rd ed., Chapter 2: Resistivity). Wiley-Interscience. - Hallæ¸¬å®šæŠ€è¡“ã®è©³ç´°</li>
            <li>PopoviÄ‡, R. S. (2004). <em>Hall Effect Devices</em> (2nd ed.). Institute of Physics Publishing. - HallåŠ¹æœãƒ‡ãƒã‚¤ã‚¹ã¨æ¸¬å®šæŠ€è¡“</li>
        </ol>

        <h2>2.10 æ¬¡ç« ã¸</h2>
        <p>æ¬¡ç« ã§ã¯ã€<strong>ç£æ°—æ¸¬å®š</strong>ã®åŸç†ã¨å®Ÿè·µã‚’å­¦ã³ã¾ã™ã€‚VSMï¼ˆVibrating Sample Magnetometerï¼‰ã‚„SQUIDï¼ˆè¶…ä¼å°é‡å­å¹²æ¸‰è¨ˆï¼‰ã‚’ç”¨ã„ãŸç£åŒ–æ¸¬å®šã€M-Hæ›²ç·šè§£æã€ç£æ°—ç•°æ–¹æ€§è©•ä¾¡ã€PPMSï¼ˆPhysical Property Measurement Systemï¼‰ã«ã‚ˆã‚‹çµ±åˆæ¸¬å®šæŠ€è¡“ã‚’ç¿’å¾—ã—ã¾ã™ã€‚</p>

        <div class="navigation">
            <a href="chapter-1.html" class="nav-button">â† ç¬¬1ç« ï¼šé›»æ°—ä¼å°æ¸¬å®š</a>
            <a href="index.html" class="nav-button">ç›®æ¬¡ã«æˆ»ã‚‹</a>
            <a href="chapter-3.html" class="nav-button">ç¬¬3ç« ï¼šç£æ°—æ¸¬å®š â†’</a>
        </div>
    </main>

    <section class="disclaimer">
        <h3>å…è²¬äº‹é …</h3>
        <ul>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯æ•™è‚²ãƒ»ç ”ç©¶ãƒ»æƒ…å ±æä¾›ã®ã¿ã‚’ç›®çš„ã¨ã—ã¦ãŠã‚Šã€å°‚é–€çš„ãªåŠ©è¨€ï¼ˆæ³•å¾‹ãƒ»ä¼šè¨ˆãƒ»æŠ€è¡“çš„ä¿è¨¼ãªã©ï¼‰ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŠã‚ˆã³ä»˜éšã™ã‚‹ã‚³ãƒ¼ãƒ‰ä¾‹ã¯ã€Œç¾çŠ¶æœ‰å§¿ï¼ˆAS ISï¼‰ã€ã§æä¾›ã•ã‚Œã€æ˜ç¤ºã¾ãŸã¯é»™ç¤ºã‚’å•ã‚ãšã€å•†å“æ€§ã€ç‰¹å®šç›®çš„é©åˆæ€§ã€æ¨©åˆ©éä¾µå®³ã€æ­£ç¢ºæ€§ãƒ»å®Œå…¨æ€§ã€å‹•ä½œãƒ»å®‰å…¨æ€§ç­‰ã„ã‹ãªã‚‹ä¿è¨¼ã‚‚ã—ã¾ã›ã‚“ã€‚</li>
            <li>å¤–éƒ¨ãƒªãƒ³ã‚¯ã€ç¬¬ä¸‰è€…ãŒæä¾›ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ„ãƒ¼ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç­‰ã®å†…å®¹ãƒ»å¯ç”¨æ€§ãƒ»å®‰å…¨æ€§ã«ã¤ã„ã¦ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ©ç”¨ãƒ»å®Ÿè¡Œãƒ»è§£é‡ˆã«ã‚ˆã‚Šç›´æ¥çš„ãƒ»é–“æ¥çš„ãƒ»ä»˜éšçš„ãƒ»ç‰¹åˆ¥ãƒ»çµæœçš„ãƒ»æ‡²ç½°çš„æå®³ãŒç”Ÿã˜ãŸå ´åˆã§ã‚‚ã€é©ç”¨æ³•ã§è¨±å®¹ã•ã‚Œã‚‹æœ€å¤§é™ã®ç¯„å›²ã§ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å†…å®¹ã¯ã€äºˆå‘Šãªãå¤‰æ›´ãƒ»æ›´æ–°ãƒ»æä¾›åœæ­¢ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‘—ä½œæ¨©ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯æ˜è¨˜ã•ã‚ŒãŸæ¡ä»¶ï¼ˆä¾‹: CC BY 4.0ï¼‰ã«å¾“ã„ã¾ã™ã€‚å½“è©²ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯é€šå¸¸ã€ç„¡ä¿è¨¼æ¡é …ã‚’å«ã¿ã¾ã™ã€‚</li>
        </ul>
    </section>

    <footer>
        <p><strong>ä½œæˆè€…</strong>: MS Knowledge Hub Content Team</p>
        <p><strong>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</strong>: 1.0 | <strong>ä½œæˆæ—¥</strong>: 2025-10-28</p>
        <p><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong>: Creative Commons BY 4.0</p>
        <p>&copy; 2025 MS Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>
