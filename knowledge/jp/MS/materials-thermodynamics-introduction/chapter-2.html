<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬2ç« : ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã¨åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ« - ææ–™ç†±åŠ›å­¦å…¥é–€ - MS Terakoya</title>
    <meta name="description" content="ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æœ€å°åŒ–åŸç†ã€åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã€æ´»é‡ã€ç†æƒ³æº¶ä½“ãƒ»æ­£å‰‡æº¶ä½“ãƒ¢ãƒ‡ãƒ«ã€å…±é€šæ¥ç·šæ³•ã‚’å­¦ã³ã€Pythonã§ç›¸å¹³è¡¡ã‚’è¨ˆç®—ãƒ»å¯è¦–åŒ–ã—ã¾ã™ã€‚">

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #f093fb;
            --color-accent-light: #f5576c;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #f093fb;
            --color-link-hover: #d07be8;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        .breadcrumb {
            font-size: 0.9rem;
            margin-bottom: var(--spacing-sm);
            opacity: 0.95;
        }

        .breadcrumb a {
            color: white;
            text-decoration: underline;
            opacity: 0.9;
        }

        .breadcrumb a:hover {
            opacity: 1;
        }

        .breadcrumb span {
            margin: 0 0.5rem;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.15rem;
            color: var(--color-primary);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        .info-box {
            background-color: var(--color-bg-alt);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        .info-box h3,
        .info-box h4 {
            margin-top: 0;
        }

        .warning-box {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        .example-box {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        .key-point {
            background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--color-accent);
            margin-bottom: var(--spacing-md);
        }

        .code-container {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            overflow-x: auto;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-sm);
            padding-bottom: var(--spacing-xs);
            border-bottom: 1px solid var(--color-border);
        }

        .code-title {
            font-weight: 600;
            color: var(--color-primary);
            font-size: 0.95rem;
        }

        .copy-button {
            background-color: var(--color-accent);
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: background-color 0.2s;
        }

        .copy-button:hover {
            background-color: var(--color-link-hover);
        }

        pre {
            margin: 0;
            padding: 0;
            overflow-x: auto;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .inline-code {
            background-color: var(--color-code-bg);
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: var(--font-mono);
            font-size: 0.9em;
            color: var(--color-primary-dark);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            background-color: white;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: var(--color-bg-alt);
        }

        .exercise-section {
            background-color: #f0f9ff;
            border-left: 4px solid #0ea5e9;
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
        }

        .exercise {
            background-color: white;
            padding: var(--spacing-md);
            margin-top: var(--spacing-md);
            border-radius: var(--border-radius);
            border: 1px solid #bae6fd;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
            flex-wrap: wrap;
        }

        .nav-button {
            flex: 1;
            min-width: 200px;
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        .mermaid {
            background-color: white;
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            margin-bottom: var(--spacing-md);
            border: 1px solid var(--color-border);
        }

        .disclaimer {
            background-color: var(--color-bg-alt);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin: var(--spacing-xl) var(--spacing-md);
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }

        .disclaimer h3 {
            margin-top: 0;
            color: var(--color-primary);
        }

        .disclaimer ul {
            margin-left: var(--spacing-lg);
        }

        .disclaimer li {
            margin-bottom: var(--spacing-xs);
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        footer {
            background-color: var(--color-primary-dark);
            color: white;
            padding: var(--spacing-lg) var(--spacing-md);
            text-align: center;
            margin-top: var(--spacing-xl);
        }

        footer p {
            margin-bottom: var(--spacing-xs);
            color: white;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            body {
                font-size: 15px;
            }

            h1 {
                font-size: 1.6rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .navigation {
                flex-direction: column;
            }

            .nav-button {
                min-width: 100%;
            }

            .meta {
                font-size: 0.85rem;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation: none !important;
                transition: none !important;
            }
        }
    </style>

    <!-- MathJax 3.x for mathematical equations -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>

    <!-- Mermaid.js for diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#f093fb',
                primaryTextColor: '#2c3e50',
                primaryBorderColor: '#f5576c',
                lineColor: '#f5576c',
                secondaryColor: '#fce7f3',
                tertiaryColor: '#f7fafc'
            }
        });
    </script>

    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</head>
<body>
    <header>
        <div class="header-content">
            <nav class="breadcrumb" aria-label="ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ">
                <a href="../../../../index.html">AIå¯ºå­å±‹ãƒˆãƒƒãƒ—</a>
                <span>â€º</span>
                <a href="../../../index.html">MS Dojo</a>
                <span>â€º</span>
                <a href="index.html">ææ–™ç†±åŠ›å­¦å…¥é–€</a>
                <span>â€º</span>
                <span>ç¬¬2ç« </span>
            </nav>
            <h1>ç¬¬2ç« : ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã¨åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«</h1>
            <p class="subtitle">Gibbs Energy and Chemical Potential</p>
            <div class="meta">
                <span class="meta-item">ğŸ“– æ¨å®šå­¦ç¿’æ™‚é–“: 26-32åˆ†</span>
                <span class="meta-item">ğŸ’» ã‚³ãƒ¼ãƒ‰ä¾‹: 8å€‹</span>
                <span class="meta-item">ğŸ“Š é›£æ˜“åº¦: ä¸­ç´š</span>
            </div>
        </div>
    </header>

    <main class="container">
        <section>
            <h2>å­¦ç¿’ç›®æ¨™</h2>
            <div class="info-box">
                <p>ã“ã®ç« ã‚’å­¦ã¶ã“ã¨ã§ã€ä»¥ä¸‹ã®ã‚¹ã‚­ãƒ«ã‚’ç¿’å¾—ã§ãã¾ã™ï¼š</p>
                <ul>
                    <li>ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æœ€å°åŒ–åŸç†ã‚’ç†è§£ã—ã€å¹³è¡¡çŠ¶æ…‹ã®åˆ¤å®šãŒã§ãã‚‹</li>
                    <li>åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®ç‰©ç†çš„æ„å‘³ã¨è¨ˆç®—æ–¹æ³•ã‚’èª¬æ˜ã§ãã‚‹</li>
                    <li>æ´»é‡ï¼ˆactivityï¼‰ã¨æ´»é‡ä¿‚æ•°ã®å½¹å‰²ã‚’ç†è§£ã—ã€å®Ÿåœ¨æº¶ä½“ã«å¿œç”¨ã§ãã‚‹</li>
                    <li>ç†æƒ³æº¶ä½“ã¨æ­£å‰‡æº¶ä½“ãƒ¢ãƒ‡ãƒ«ã®é•ã„ã‚’èª¬æ˜ã—ã€ä½¿ã„åˆ†ã‘ã‚‰ã‚Œã‚‹</li>
                    <li>å…±é€šæ¥ç·šæ³•ã‚’ç”¨ã„ã¦äºŒç›¸å¹³è¡¡çµ„æˆã‚’æ±ºå®šã§ãã‚‹</li>
                    <li>Pythonã§ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ›²ç·šã‚’æç”»ã—ã€ç›¸åˆ†é›¢ã‚’äºˆæ¸¬ã§ãã‚‹</li>
                    <li>å®Ÿææ–™ç³»ï¼ˆCu-Niã€Fe-Crç­‰ï¼‰ã§ã®ç†±åŠ›å­¦è¨ˆç®—ã‚’å®Ÿè¡Œã§ãã‚‹</li>
                </ul>
            </div>
        </section>

        <section>
            <h2>1. ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æœ€å°åŒ–åŸç†</h2>

            <h3>1.1 å¹³è¡¡ã®ç†±åŠ›å­¦çš„æ¡ä»¶</h3>
            <p>å‰ç« ã§å­¦ã‚“ã ã‚ˆã†ã«ã€ä¸€å®šæ¸©åº¦ãƒ»åœ§åŠ›ä¸‹ã§ã¯ã€ç³»ã¯<strong>ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼ˆGï¼‰ãŒæœ€å°</strong>ã¨ãªã‚‹çŠ¶æ…‹ã§å¹³è¡¡ã«é”ã—ã¾ã™ã€‚ã“ã‚Œã¯ææ–™ç§‘å­¦ã«ãŠã‘ã‚‹æœ€ã‚‚é‡è¦ãªåŸç†ã®ä¸€ã¤ã§ã™ã€‚</p>

            <div class="key-point">
                <h4>ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æœ€å°åŒ–åŸç†</h4>
                <p>ä¸€å®šæ¸©åº¦ $T$ã€ä¸€å®šåœ§åŠ› $P$ ã®ä¸‹ã§ã€ç³»ã¯ä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™çŠ¶æ…‹ã§å¹³è¡¡ã«é”ã™ã‚‹ï¼š</p>
                <p style="text-align: center; font-size: 1.2rem; margin: 1rem 0;">
                    $$ G = \text{minimum} $$
                </p>
                <p>è¨€ã„æ›ãˆã‚‹ã¨ã€ä»»æ„ã®å¾®å°å¤‰åŒ– $\delta G$ ã«å¯¾ã—ã¦ï¼š</p>
                <p style="text-align: center;">
                    $$ \delta G = 0 \quad \text{ï¼ˆå¹³è¡¡æ¡ä»¶ï¼‰} $$
                </p>
            </div>

            <p>ã“ã®åŸç†ã‹ã‚‰ã€å¤šãã®å®Ÿç”¨çš„ãªçµè«–ãŒå°ã‹ã‚Œã¾ã™ï¼š</p>
            <ul>
                <li><strong>ç›¸å¹³è¡¡</strong>: è¤‡æ•°ã®ç›¸ãŒå…±å­˜ã™ã‚‹æ¡ä»¶</li>
                <li><strong>åŒ–å­¦åå¿œå¹³è¡¡</strong>: åå¿œç‰©ã¨ç”Ÿæˆç‰©ã®å­˜åœ¨æ¯”</li>
                <li><strong>æº¶è§£åº¦</strong>: æº¶è³ªãŒæº¶åª’ã«ã©ã‚Œã ã‘æº¶ã‘ã‚‹ã‹</li>
                <li><strong>ç›¸å¤‰æ…‹æ¸©åº¦</strong>: ã‚ã‚‹ç›¸ã‹ã‚‰åˆ¥ã®ç›¸ã¸å¤‰åŒ–ã™ã‚‹æ¸©åº¦</li>
            </ul>

            <h3>1.2 ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æœ€å°åŒ–ã®ãƒ•ãƒ­ãƒ¼å›³</h3>
            <p>å¹³è¡¡çŠ¶æ…‹ã‚’è¦‹ã¤ã‘ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã¯ã€ä»¥ä¸‹ã®ãƒ•ãƒ­ãƒ¼ã§è¡¨ã•ã‚Œã¾ã™ï¼š</p>

            <div class="mermaid">
flowchart TD
    A[åˆæœŸçŠ¶æ…‹: ä»»æ„ã®çµ„æˆãƒ»ç›¸çŠ¶æ…‹] --> B[ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ G ã‚’è¨ˆç®—]
    B --> C{ã™ã¹ã¦ã®å¯èƒ½ãª<br/>çŠ¶æ…‹ã‚’æ¯”è¼ƒ}
    C --> D[å˜ç›¸çŠ¶æ…‹]
    C --> E[äºŒç›¸çŠ¶æ…‹]
    C --> F[å¤šç›¸çŠ¶æ…‹]
    D --> G[G_single ã‚’è¨ˆç®—]
    E --> H[G_two-phase ã‚’è¨ˆç®—<br/>å…±é€šæ¥ç·šæ³•ã‚’ä½¿ç”¨]
    F --> I[G_multi-phase ã‚’è¨ˆç®—]
    G --> J{æœ€å° G ã‚’æŒã¤ã®ã¯?}
    H --> J
    I --> J
    J --> K[å¹³è¡¡çŠ¶æ…‹ã‚’æ±ºå®š]
    K --> L[ç›¸ã®ç¨®é¡ã¨çµ„æˆã‚’å‡ºåŠ›]

    style A fill:#fce7f3
    style K fill:#d1fae5
    style L fill:#dbeafe
            </div>

            <p>ã“ã®ãƒ•ãƒ­ãƒ¼ã¯ã€CALPHADã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ï¼ˆThermo-Calcã€FactSageç­‰ï¼‰ã®å‹•ä½œåŸç†ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚</p>
        </section>

        <section>
            <h2>2. åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«</h2>

            <h3>2.1 åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®å®šç¾©</h3>
            <p>åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ï¼ˆchemical potentialï¼‰$\mu_i$ ã¯ã€<strong>æˆåˆ† $i$ ã‚’1ãƒ¢ãƒ«è¿½åŠ ã—ãŸã¨ãã®ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®å¤‰åŒ–</strong>ã¨ã—ã¦å®šç¾©ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€Œæˆåˆ† $i$ ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼çš„ãªä¾¡å€¤ã€ã‚’è¡¨ã™é‡ã§ã™ã€‚</p>

            <div class="key-point">
                <h4>åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®å®šç¾©</h4>
                <p>æˆåˆ† $i$ ã®åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ« $\mu_i$ ã¯ã€ä¸€å®šæ¸©åº¦ãƒ»åœ§åŠ›ãƒ»ä»–æˆåˆ†ã®ãƒ¢ãƒ«æ•°ã®ä¸‹ã§ï¼š</p>
                <p style="text-align: center; font-size: 1.1rem; margin: 1rem 0;">
                    $$ \mu_i = \left( \frac{\partial G}{\partial n_i} \right)_{T, P, n_{j \neq i}} $$
                </p>
                <p>ã“ã“ã§ã€$n_i$ ã¯æˆåˆ† $i$ ã®ãƒ¢ãƒ«æ•°ã€$G$ ã¯ç³»å…¨ä½“ã®ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã§ã™ã€‚</p>
            </div>

            <p>åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã¯ã€<strong>éƒ¨åˆ†ãƒ¢ãƒ«ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼ˆpartial molar Gibbs energyï¼‰</strong>ã¨ã‚‚å‘¼ã°ã‚Œã¾ã™ã€‚</p>

            <h3>2.2 åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®ç‰©ç†çš„æ„å‘³</h3>
            <p>åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªç‰©ç†çš„æ„å‘³ã‚’æŒã¡ã¾ã™ï¼š</p>

            <div class="example-box">
                <h4>æ°´ã®æµã‚Œã¨ã®é¡æ¨</h4>
                <p>æ°´ã¯é«˜ã„å ´æ‰€ã‹ã‚‰ä½ã„å ´æ‰€ã¸æµã‚Œã¾ã™ã€‚ã“ã‚Œã‚’åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã§ç†è§£ã™ã‚‹ã¨ï¼š</p>
                <ul>
                    <li><strong>æ°´ã®ä½ç½®ã‚¨ãƒãƒ«ã‚®ãƒ¼</strong> â†” <strong>åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ« $\mu$</strong></li>
                    <li><strong>æ°´ã®æµã‚Œ</strong> â†” <strong>æˆåˆ†ã®ç§»å‹•ãƒ»æ‹¡æ•£</strong></li>
                    <li><strong>å¹³è¡¡ï¼ˆæ°´ãŒæ­¢ã¾ã‚‹ï¼‰</strong> â†” <strong>$\mu$ ãŒç­‰ã—ããªã‚‹</strong></li>
                </ul>
                <p>ã¤ã¾ã‚Šã€<strong>åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ãŒé«˜ã„é ˜åŸŸã‹ã‚‰ä½ã„é ˜åŸŸã¸ã€æˆåˆ†ãŒç§»å‹•ã™ã‚‹</strong>ã®ãŒè‡ªç„¶ãªæµã‚Œã§ã™ã€‚å¹³è¡¡ã§ã¯ã€ã™ã¹ã¦ã®ç›¸ã§å„æˆåˆ†ã®åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ãŒç­‰ã—ããªã‚Šã¾ã™ï¼š</p>
                <p style="text-align: center;">
                    $$ \mu_i^{\alpha} = \mu_i^{\beta} = \mu_i^{\gamma} = \cdots $$
                </p>
                <p>ï¼ˆ$\alpha$, $\beta$, $\gamma$ ã¯ç•°ãªã‚‹ç›¸ã‚’è¡¨ã™ï¼‰</p>
            </div>

            <h3>2.3 ç†æƒ³æº¶ä½“ã«ãŠã‘ã‚‹åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«</h3>
            <p>ç†æƒ³æº¶ä½“ï¼ˆideal solutionï¼‰ã§ã¯ã€æˆåˆ†é–“ã®ç›¸äº’ä½œç”¨ãŒãªãã€æ··åˆã¯ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼åŠ¹æœã®ã¿ã«ã‚ˆã£ã¦èµ·ã“ã‚Šã¾ã™ã€‚ã“ã®å ´åˆã€åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã¯å˜ç´”ãªå½¢ã§è¡¨ã•ã‚Œã¾ã™ï¼š</p>

            <div class="info-box">
                <h4>ç†æƒ³æº¶ä½“ã®åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«</h4>
                <p>æˆåˆ† $i$ ã®åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã¯ï¼š</p>
                <p style="text-align: center;">
                    $$ \mu_i = \mu_i^0 + RT \ln x_i $$
                </p>
                <ul>
                    <li>$\mu_i^0$: ç´”ç²‹æˆåˆ† $i$ ã®æ¨™æº–åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ï¼ˆå‚ç…§çŠ¶æ…‹ï¼‰</li>
                    <li>$R = 8.314$ J/(molÂ·K): æ°—ä½“å®šæ•°</li>
                    <li>$T$: çµ¶å¯¾æ¸©åº¦ [K]</li>
                    <li>$x_i$: æˆåˆ† $i$ ã®ãƒ¢ãƒ«åˆ†ç‡ï¼ˆ$0 \leq x_i \leq 1$ï¼‰</li>
                </ul>
                <p>ç¬¬2é … $RT \ln x_i$ ã¯ã€æ··åˆã«ã‚ˆã‚‹ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼å¢—å¤§ã®å¯„ä¸ã§ã™ã€‚$x_i < 1$ ãªã®ã§ã€$\ln x_i < 0$ ã¨ãªã‚Šã€æ··åˆã«ã‚ˆã‚ŠåŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã¯ä¸‹ãŒã‚Šã¾ã™ã€‚</p>
            </div>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-title">ğŸ“ ã‚³ãƒ¼ãƒ‰ä¾‹1: ç†æƒ³æº¶ä½“ã®åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«</span>
                    <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                </div>
                <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

# å®šæ•°
R = 8.314  # J/(molÂ·K)
T = 1000   # K

# çµ„æˆç¯„å›²
x = np.linspace(0.001, 0.999, 200)  # 0ã¨1ã‚’é¿ã‘ã‚‹ï¼ˆå¯¾æ•°ç™ºæ•£ï¼‰

# åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ï¼ˆÎ¼_A^0 = 0 ã‚’å‚ç…§çŠ¶æ…‹ã¨ã™ã‚‹ï¼‰
mu_relative = R * T * np.log(x)  # J/mol

# å¯è¦–åŒ–
plt.figure(figsize=(10, 6))
plt.plot(x, mu_relative / 1000, linewidth=2.5, color='#f093fb')
plt.xlabel('ãƒ¢ãƒ«åˆ†ç‡ $x_A$', fontsize=13)
plt.ylabel('åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ« $\\mu_A - \\mu_A^0$ (kJ/mol)', fontsize=13)
plt.title('ç†æƒ³æº¶ä½“ã«ãŠã‘ã‚‹åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ« (T = 1000 K)', fontsize=14, fontweight='bold')
plt.grid(True, alpha=0.3)
plt.axhline(0, color='black', linewidth=0.8, linestyle='--', alpha=0.5)

# é‡è¦ç‚¹ã‚’å¼·èª¿
x_points = [0.1, 0.5, 0.9]
for xp in x_points:
    mu_p = R * T * np.log(xp) / 1000
    plt.plot(xp, mu_p, 'o', markersize=8, color='#f5576c')
    plt.text(xp + 0.05, mu_p, f'$x={xp}$\n$\\mu={mu_p:.1f}$ kJ/mol',
             fontsize=10, verticalalignment='center')

plt.tight_layout()
plt.savefig('chemical_potential_ideal.png', dpi=150, bbox_inches='tight')
plt.show()

print("åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®ç‰¹æ€§ï¼š")
print("- x â†’ 0 ã§ Î¼ â†’ -âˆ (å¸Œè–„æº¶æ¶²ã§æ··åˆãŒéå¸¸ã«æœ‰åˆ©)")
print("- x = 1 ã§ Î¼ = Î¼^0 (ç´”ç²‹æˆåˆ†)")
print("- x < 1 ã§å¸¸ã« Î¼ < Î¼^0 (æ··åˆã«ã‚ˆã‚Šå®‰å®šåŒ–)")
</code></pre>
            </div>

            <p>ã“ã®ã‚°ãƒ©ãƒ•ã‹ã‚‰ã€<strong>å¸Œè–„æº¶æ¶²ï¼ˆ$x$ ãŒå°ã•ã„ï¼‰ã§ã¯ã€æ··åˆã«ã‚ˆã‚ŠåŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ãŒå¤§ããä¸‹ãŒã‚‹</strong>ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã“ã‚ŒãŒæº¶è§£ç¾è±¡ã®ç†±åŠ›å­¦çš„é§†å‹•åŠ›ã§ã™ã€‚</p>
        </section>

        <section>
            <h2>3. æ´»é‡ã¨æ´»é‡ä¿‚æ•°</h2>

            <h3>3.1 å®Ÿåœ¨æº¶ä½“ã¨æ´»é‡ã®å°å…¥</h3>
            <p>å®Ÿéš›ã®ææ–™ã§ã¯ã€æˆåˆ†é–“ã«ç›¸äº’ä½œç”¨ï¼ˆå¼•åŠ›ãƒ»åç™ºåŠ›ï¼‰ãŒã‚ã‚Šã€ç†æƒ³æº¶ä½“ã‹ã‚‰ã®ãšã‚ŒãŒç”Ÿã˜ã¾ã™ã€‚ã“ã®ãšã‚Œã‚’å®šé‡çš„ã«æ‰±ã†ãŸã‚ã«ã€<strong>æ´»é‡ï¼ˆactivityï¼‰</strong> $a_i$ ã‚’å°å…¥ã—ã¾ã™ã€‚</p>

            <div class="key-point">
                <h4>æ´»é‡ã‚’ç”¨ã„ãŸåŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«</h4>
                <p>å®Ÿåœ¨æº¶ä½“ã§ã¯ã€ãƒ¢ãƒ«åˆ†ç‡ $x_i$ ã®ä»£ã‚ã‚Šã«æ´»é‡ $a_i$ ã‚’ç”¨ã„ã¦ï¼š</p>
                <p style="text-align: center; font-size: 1.1rem; margin: 1rem 0;">
                    $$ \mu_i = \mu_i^0 + RT \ln a_i $$
                </p>
                <p>æ´»é‡ã¯ã€ã€Œç†±åŠ›å­¦çš„ã«æœ‰åŠ¹ãªæ¿ƒåº¦ã€ã¨è§£é‡ˆã§ãã¾ã™ã€‚</p>
            </div>

            <h3>3.2 æ´»é‡ä¿‚æ•°</h3>
            <p>æ´»é‡ã¨ãƒ¢ãƒ«åˆ†ç‡ã®é–¢ä¿‚ã¯ã€<strong>æ´»é‡ä¿‚æ•°ï¼ˆactivity coefficientï¼‰</strong> $\gamma_i$ ã‚’ç”¨ã„ã¦è¡¨ã•ã‚Œã¾ã™ï¼š</p>

            <p style="text-align: center; font-size: 1.1rem; background-color: var(--color-bg-alt); padding: 1rem; border-radius: var(--border-radius);">
                $$ a_i = \gamma_i x_i $$
            </p>

            <ul>
                <li>$\gamma_i = 1$: ç†æƒ³æº¶ä½“ï¼ˆæˆåˆ†é–“ã®ç›¸äº’ä½œç”¨ãªã—ï¼‰</li>
                <li>$\gamma_i > 1$: æ­£ã®åå€šï¼ˆæˆåˆ†é–“ã«åç™ºåŠ›ã€æ··åˆã—ã«ãã„ï¼‰</li>
                <li>$\gamma_i < 1$: è² ã®åå€šï¼ˆæˆåˆ†é–“ã«å¼•åŠ›ã€æ··åˆã—ã‚„ã™ã„ï¼‰</li>
            </ul>

            <div class="example-box">
                <h4>å…·ä½“ä¾‹: Cu-Niåˆé‡‘</h4>
                <p>éŠ…ï¼ˆCuï¼‰ã¨ãƒ‹ãƒƒã‚±ãƒ«ï¼ˆNiï¼‰ã¯å…¨ç‡å›ºæº¶ã™ã‚‹åˆé‡‘ç³»ã§ã™ãŒã€å®Œå…¨ãªç†æƒ³æº¶ä½“ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚1300 Kã§ã®æ´»é‡ä¿‚æ•°ã¯ï¼š</p>
                <ul>
                    <li>$\gamma_{\text{Cu}} \approx 0.95$ ï¼ˆ$x_{\text{Cu}} = 0.5$ ä»˜è¿‘ï¼‰</li>
                    <li>$\gamma_{\text{Ni}} \approx 0.95$</li>
                </ul>
                <p>$\gamma < 1$ ãªã®ã§ã€Cu-Nié–“ã«ã¯ã‚ãšã‹ã«å¼•åŠ›çš„ç›¸äº’ä½œç”¨ãŒã‚ã‚Šã€ç†æƒ³æº¶ä½“ã‚ˆã‚Šã‚‚æ··åˆãŒæœ‰åˆ©ã§ã™ã€‚</p>
            </div>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-title">ğŸ“ ã‚³ãƒ¼ãƒ‰ä¾‹2: æ´»é‡ã¨æ´»é‡ä¿‚æ•°ã®è¨ˆç®—</span>
                    <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                </div>
                <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

# çµ„æˆç¯„å›²
x = np.linspace(0.001, 0.999, 200)

# æ´»é‡ä¿‚æ•°ã®ãƒ¢ãƒ‡ãƒ«ï¼ˆæ­£å‰‡æº¶ä½“ãƒ¢ãƒ‡ãƒ«ã€å¾Œè¿°ï¼‰
# Î©: ç›¸äº’ä½œç”¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ [J/mol]
R = 8.314
T = 1300  # K

def activity_coefficient(x, omega, T):
    """æ­£å‰‡æº¶ä½“ãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚‹æ´»é‡ä¿‚æ•°"""
    return np.exp(omega * (1 - x)**2 / (R * T))

# ç•°ãªã‚‹ç›¸äº’ä½œç”¨ã®å ´åˆ
omega_values = [0, 10000, -10000]  # J/mol
labels = ['ç†æƒ³æº¶ä½“ (Î©=0)', 'åç™ºçš„ (Î©=10 kJ/mol)', 'å¼•åŠ›çš„ (Î©=-10 kJ/mol)']
colors = ['black', '#f5576c', '#10b981']

fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 5))

# å·¦å›³: æ´»é‡ä¿‚æ•°
for omega, label, color in zip(omega_values, labels, colors):
    gamma = activity_coefficient(x, omega, T)
    ax1.plot(x, gamma, linewidth=2.5, label=label, color=color)

ax1.axhline(1, color='gray', linewidth=0.8, linestyle='--', alpha=0.5)
ax1.set_xlabel('ãƒ¢ãƒ«åˆ†ç‡ $x_A$', fontsize=13)
ax1.set_ylabel('æ´»é‡ä¿‚æ•° $\\gamma_A$', fontsize=13)
ax1.set_title('æ´»é‡ä¿‚æ•°ã®çµ„æˆä¾å­˜æ€§', fontsize=14, fontweight='bold')
ax1.legend(fontsize=11)
ax1.grid(True, alpha=0.3)
ax1.set_ylim([0, 2])

# å³å›³: æ´»é‡
for omega, label, color in zip(omega_values, labels, colors):
    gamma = activity_coefficient(x, omega, T)
    activity = gamma * x
    ax2.plot(x, activity, linewidth=2.5, label=label, color=color)

# ç†æƒ³ç·šï¼ˆa = xï¼‰ã‚’ç ´ç·šã§è¡¨ç¤º
ax2.plot(x, x, 'k--', linewidth=1.5, alpha=0.5, label='ç†æƒ³ç·š ($a=x$)')

ax2.set_xlabel('ãƒ¢ãƒ«åˆ†ç‡ $x_A$', fontsize=13)
ax2.set_ylabel('æ´»é‡ $a_A$', fontsize=13)
ax2.set_title('æ´»é‡ã®çµ„æˆä¾å­˜æ€§', fontsize=14, fontweight='bold')
ax2.legend(fontsize=11)
ax2.grid(True, alpha=0.3)
ax2.set_ylim([0, 1])

plt.tight_layout()
plt.savefig('activity_coefficient.png', dpi=150, bbox_inches='tight')
plt.show()

print("æ´»é‡ä¿‚æ•°ã®è§£é‡ˆï¼š")
print("- Î³ > 1: æ´»é‡ãŒç†æƒ³å€¤ã‚ˆã‚Šå¤§ãã„ â†’ æˆåˆ†ãŒã€Œé€ƒã’ãŸãŒã‚‹ã€ï¼ˆåç™ºï¼‰")
print("- Î³ < 1: æ´»é‡ãŒç†æƒ³å€¤ã‚ˆã‚Šå°ã•ã„ â†’ æˆåˆ†ãŒã€Œã¨ã©ã¾ã‚ŠãŸãŒã‚‹ã€ï¼ˆå¼•åŠ›ï¼‰")
print("- Î³ = 1: ç†æƒ³æº¶ä½“ï¼ˆRaoultå‰‡ã«å¾“ã†ï¼‰")
</code></pre>
            </div>
        </section>

        <section>
            <h2>4. ç†æƒ³æº¶ä½“ã¨æ­£å‰‡æº¶ä½“ãƒ¢ãƒ‡ãƒ«</h2>

            <h3>4.1 ç†æƒ³æº¶ä½“ã®æ··åˆã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼</h3>
            <p>ç†æƒ³æº¶ä½“ã§ã¯ã€æ··åˆã«ã‚ˆã‚‹ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼å¤‰åŒ–ã¯ã€ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é …ã®ã¿ã§æ±ºã¾ã‚Šã¾ã™ï¼š</p>

            <div class="info-box">
                <h4>ç†æƒ³æº¶ä½“ã®æ··åˆã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼</h4>
                <p>äºŒå…ƒç³»ï¼ˆA-Bï¼‰ã®ç†æƒ³æº¶ä½“ã«ãŠã‘ã‚‹æ··åˆã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼š</p>
                <p style="text-align: center;">
                    $$ \Delta G_{\text{mix}}^{\text{ideal}} = RT (x_A \ln x_A + x_B \ln x_B) $$
                </p>
                <p>ã“ã“ã§ã€$x_A + x_B = 1$ ã§ã™ã€‚ã“ã®å¼ã¯å¸¸ã«è² ï¼ˆ$\Delta G_{\text{mix}} < 0$ï¼‰ãªã®ã§ã€ç†æƒ³æº¶ä½“ã¯å¸¸ã«æ··åˆãŒæœ‰åˆ©ã§ã™ã€‚</p>
            </div>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-title">ğŸ“ ã‚³ãƒ¼ãƒ‰ä¾‹3: ç†æƒ³æº¶ä½“ã®ã‚®ãƒ–ã‚¹æ··åˆã‚¨ãƒãƒ«ã‚®ãƒ¼æ›²ç·š</span>
                    <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                </div>
                <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

# å®šæ•°
R = 8.314  # J/(molÂ·K)

# çµ„æˆç¯„å›²
x_A = np.linspace(0.001, 0.999, 300)
x_B = 1 - x_A

# æ¸©åº¦ä¾å­˜æ€§ã‚’ç¤ºã™
temperatures = [500, 1000, 1500]  # K
colors = ['#3b82f6', '#f093fb', '#f5576c']

plt.figure(figsize=(10, 6))

for T, color in zip(temperatures, colors):
    # ç†æƒ³æº¶ä½“ã®æ··åˆã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼
    dG_mix = R * T * (x_A * np.log(x_A) + x_B * np.log(x_B))  # J/mol
    plt.plot(x_A, dG_mix / 1000, linewidth=2.5, label=f'T = {T} K', color=color)

plt.axhline(0, color='black', linewidth=0.8, linestyle='--', alpha=0.5)
plt.xlabel('ãƒ¢ãƒ«åˆ†ç‡ $x_A$', fontsize=13)
plt.ylabel('æ··åˆã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ $\\Delta G_{mix}$ (kJ/mol)', fontsize=13)
plt.title('ç†æƒ³æº¶ä½“ã«ãŠã‘ã‚‹æ··åˆã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼', fontsize=14, fontweight='bold')
plt.legend(fontsize=12)
plt.grid(True, alpha=0.3)

# æœ€å°å€¤ã®ä½ç½®ã‚’ç¤ºã™
plt.axvline(0.5, color='gray', linewidth=0.8, linestyle=':', alpha=0.5)
plt.text(0.5, -2, '$x_A = 0.5$\n(æœ€å¤§æ··åˆ)', ha='center', fontsize=10,
         bbox=dict(boxstyle='round', facecolor='white', alpha=0.8))

plt.tight_layout()
plt.savefig('ideal_solution_gibbs.png', dpi=150, bbox_inches='tight')
plt.show()

print("ç†æƒ³æº¶ä½“ã®ç‰¹å¾´ï¼š")
print("- æ›²ç·šã¯å¸¸ã«ä¸‹ã«å‡¸ï¼ˆäºŒéšå¾®åˆ†ãŒæ­£ï¼‰")
print("- x_A = 0.5 ã§æœ€å°å€¤ï¼ˆæœ€å¤§æ··åˆã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ï¼‰")
print("- æ¸©åº¦ãŒé«˜ã„ã»ã©ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼åŠ¹æœãŒå¤§ãããªã‚Šã€æ›²ç·šãŒæ·±ããªã‚‹")
print("- ã™ã¹ã¦ã®çµ„æˆã§ Î”G_mix < 0 ãªã®ã§ã€ç›¸åˆ†é›¢ã¯èµ·ã“ã‚‰ãªã„")
</code></pre>
            </div>

            <h3>4.2 æ­£å‰‡æº¶ä½“ãƒ¢ãƒ‡ãƒ«</h3>
            <p>æ­£å‰‡æº¶ä½“ï¼ˆregular solutionï¼‰ãƒ¢ãƒ‡ãƒ«ã¯ã€ç†æƒ³æº¶ä½“ã«<strong>ã‚¨ãƒ³ã‚¿ãƒ«ãƒ”ãƒ¼é …</strong>ã‚’è¿½åŠ ã—ãŸãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚æˆåˆ†é–“ã®ç›¸äº’ä½œç”¨ã‚’è€ƒæ…®ã§ãã¾ã™ã€‚</p>

            <div class="key-point">
                <h4>æ­£å‰‡æº¶ä½“ã®æ··åˆã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼</h4>
                <p>äºŒå…ƒç³»ï¼ˆA-Bï¼‰ã®æ­£å‰‡æº¶ä½“ã«ãŠã‘ã‚‹æ··åˆã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼š</p>
                <p style="text-align: center; font-size: 1.1rem; margin: 1rem 0;">
                    $$ \Delta G_{\text{mix}}^{\text{regular}} = \Omega x_A x_B + RT (x_A \ln x_A + x_B \ln x_B) $$
                </p>
                <ul>
                    <li><strong>ç¬¬1é …</strong> $\Omega x_A x_B$: ã‚¨ãƒ³ã‚¿ãƒ«ãƒ”ãƒ¼é …ï¼ˆç›¸äº’ä½œç”¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ $\Omega$ï¼‰</li>
                    <li><strong>ç¬¬2é …</strong>: ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é …ï¼ˆç†æƒ³æº¶ä½“ã¨åŒã˜ï¼‰</li>
                </ul>
                <p>$\Omega$ ã®ç¬¦å·ã«ã‚ˆã‚Šã€æº¶ä½“ã®æŒ™å‹•ãŒå¤‰ã‚ã‚Šã¾ã™ï¼š</p>
                <ul>
                    <li>$\Omega > 0$: åç™ºçš„ç›¸äº’ä½œç”¨ï¼ˆç›¸åˆ†é›¢ã—ã‚„ã™ã„ï¼‰</li>
                    <li>$\Omega < 0$: å¼•åŠ›çš„ç›¸äº’ä½œç”¨ï¼ˆåŒ–åˆç‰©å½¢æˆã—ã‚„ã™ã„ï¼‰</li>
                    <li>$\Omega = 0$: ç†æƒ³æº¶ä½“</li>
                </ul>
            </div>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-title">ğŸ“ ã‚³ãƒ¼ãƒ‰ä¾‹4: æ­£å‰‡æº¶ä½“ãƒ¢ãƒ‡ãƒ«ï¼ˆç›¸äº’ä½œç”¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿Î©ï¼‰</span>
                    <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                </div>
                <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

# å®šæ•°
R = 8.314  # J/(molÂ·K)
T = 1000   # K

# çµ„æˆç¯„å›²
x_A = np.linspace(0.001, 0.999, 300)
x_B = 1 - x_A

# ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é …
entropy_term = R * T * (x_A * np.log(x_A) + x_B * np.log(x_B))

# ç•°ãªã‚‹ç›¸äº’ä½œç”¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
omega_values = [0, 10000, 20000, 30000]  # J/mol
colors = ['black', '#10b981', '#f093fb', '#f5576c']
labels = ['Î© = 0 (ç†æƒ³)', 'Î© = 10 kJ/mol', 'Î© = 20 kJ/mol', 'Î© = 30 kJ/mol']

plt.figure(figsize=(12, 7))

for omega, color, label in zip(omega_values, colors, labels):
    # æ­£å‰‡æº¶ä½“ã®æ··åˆã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼
    enthalpy_term = omega * x_A * x_B
    dG_mix = enthalpy_term + entropy_term
    plt.plot(x_A, dG_mix / 1000, linewidth=2.5, label=label, color=color)

plt.axhline(0, color='gray', linewidth=0.8, linestyle='--', alpha=0.5)
plt.xlabel('ãƒ¢ãƒ«åˆ†ç‡ $x_A$', fontsize=13)
plt.ylabel('æ··åˆã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ $\\Delta G_{mix}$ (kJ/mol)', fontsize=13)
plt.title('æ­£å‰‡æº¶ä½“ãƒ¢ãƒ‡ãƒ«: ç›¸äº’ä½œç”¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®åŠ¹æœ (T = 1000 K)', fontsize=14, fontweight='bold')
plt.legend(fontsize=12, loc='best')
plt.grid(True, alpha=0.3)

# é‡è¦ãªå¤‰åŒ–ç‚¹ã‚’å¼·èª¿
plt.text(0.5, 5, 'â†‘ Î© ãŒå¤§ãã„ã¨ä¸­é–“çµ„æˆã§\n  Î”G ãŒä¸Šæ˜‡ï¼ˆç›¸åˆ†é›¢å‚¾å‘ï¼‰',
         ha='center', fontsize=11,
         bbox=dict(boxstyle='round', facecolor='#fff3cd', alpha=0.9))

plt.ylim([-12, 10])
plt.tight_layout()
plt.savefig('regular_solution_omega.png', dpi=150, bbox_inches='tight')
plt.show()

print("æ­£å‰‡æº¶ä½“ãƒ¢ãƒ‡ãƒ«ã®ç‰¹å¾´ï¼š")
print("- Î© > 0 ãŒå¤§ãã„ã»ã©ã€ä¸­é–“çµ„æˆã§ã® Î”G ãŒä¸Šæ˜‡")
print("- Î© ãŒååˆ†å¤§ãã„ã¨ã€Î”G > 0 ã¨ãªã‚‹çµ„æˆç¯„å›²ãŒç¾ã‚Œã€ç›¸åˆ†é›¢ãŒèµ·ã“ã‚‹")
print("- è‡¨ç•Œæ¸©åº¦ T_c ä»¥ä¸‹ã§ç›¸åˆ†é›¢ã€ä»¥ä¸Šã§å®Œå…¨å›ºæº¶")
</code></pre>
            </div>

            <h3>4.3 ã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«åˆ†è§£ã¨ç›¸åˆ†é›¢</h3>
            <p>æ­£å‰‡æº¶ä½“ã§ $\Omega > 0$ ãŒååˆ†å¤§ãã„ã¨ã€ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ›²ç·šãŒ<strong>ä¸Šã«å‡¸</strong>ã®é ˜åŸŸï¼ˆ$\frac{\partial^2 G}{\partial x^2} < 0$ï¼‰ã‚’æŒã¤ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã“ã®é ˜åŸŸã‚’<strong>ã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«é ˜åŸŸï¼ˆspinodal regionï¼‰</strong>ã¨å‘¼ã³ã€ã“ã“ã§ã¯è‡ªç™ºçš„ãªç›¸åˆ†é›¢ï¼ˆã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«åˆ†è§£ï¼‰ãŒèµ·ã“ã‚Šã¾ã™ã€‚</p>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-title">ğŸ“ ã‚³ãƒ¼ãƒ‰ä¾‹5: ã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«åˆ†è§£é ˜åŸŸã®å¯è¦–åŒ–</span>
                    <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                </div>
                <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from scipy.optimize import fsolve

# å®šæ•°
R = 8.314  # J/(molÂ·K)
Omega = 25000  # J/mol (åç™ºçš„ç›¸äº’ä½œç”¨)
T = 1000  # K

# çµ„æˆç¯„å›²
x_A = np.linspace(0.001, 0.999, 500)
x_B = 1 - x_A

# ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼
entropy_term = R * T * (x_A * np.log(x_A) + x_B * np.log(x_B))
enthalpy_term = Omega * x_A * x_B
G = enthalpy_term + entropy_term

# äºŒéšå¾®åˆ†ã‚’è¨ˆç®—ï¼ˆã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«ç‚¹ã®åˆ¤å®šï¼‰
def second_derivative(x):
    """ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®äºŒéšå¾®åˆ†"""
    return 2 * Omega + R * T * (1/x + 1/(1-x))

d2G_dx2 = second_derivative(x_A)

# ã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«ç‚¹ï¼ˆäºŒéšå¾®åˆ† = 0ï¼‰
spinodal_unstable = x_A[d2G_dx2 < 0]

# å¯è¦–åŒ–
fig, (ax1, ax2) = plt.subplots(2, 1, figsize=(11, 10))

# ä¸Šå›³: ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ›²ç·š
ax1.plot(x_A, G / 1000, linewidth=3, color='#f093fb', label='$\\Delta G_{mix}$')
ax1.axhline(0, color='gray', linewidth=0.8, linestyle='--', alpha=0.5)

# ã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«é ˜åŸŸã‚’å¡—ã‚Šã¤ã¶ã—
if len(spinodal_unstable) > 0:
    x_spin_min = spinodal_unstable[0]
    x_spin_max = spinodal_unstable[-1]
    ax1.axvspan(x_spin_min, x_spin_max, alpha=0.2, color='red',
                label=f'ã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«é ˜åŸŸ\n({x_spin_min:.3f} < $x_A$ < {x_spin_max:.3f})')
    ax1.axvline(x_spin_min, color='red', linewidth=1.5, linestyle='--', alpha=0.7)
    ax1.axvline(x_spin_max, color='red', linewidth=1.5, linestyle='--', alpha=0.7)

ax1.set_xlabel('ãƒ¢ãƒ«åˆ†ç‡ $x_A$', fontsize=13)
ax1.set_ylabel('$\\Delta G_{mix}$ (kJ/mol)', fontsize=13)
ax1.set_title(f'æ­£å‰‡æº¶ä½“ã®ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ (Î© = {Omega/1000:.0f} kJ/mol, T = {T} K)',
              fontsize=14, fontweight='bold')
ax1.legend(fontsize=11, loc='upper right')
ax1.grid(True, alpha=0.3)

# ä¸‹å›³: äºŒéšå¾®åˆ†ï¼ˆå®‰å®šæ€§åˆ¤å®šï¼‰
ax2.plot(x_A, d2G_dx2 / 1000, linewidth=2.5, color='#3b82f6')
ax2.axhline(0, color='red', linewidth=2, linestyle='-', alpha=0.7, label='å®‰å®š/ä¸å®‰å®šå¢ƒç•Œ')
ax2.fill_between(x_A, 0, d2G_dx2 / 1000, where=(d2G_dx2 < 0),
                  alpha=0.3, color='red', label='ä¸å®‰å®šé ˜åŸŸ ($\\partial^2 G / \\partial x^2 < 0$)')
ax2.fill_between(x_A, 0, d2G_dx2 / 1000, where=(d2G_dx2 >= 0),
                  alpha=0.3, color='green', label='å®‰å®šé ˜åŸŸ ($\\partial^2 G / \\partial x^2 > 0$)')

ax2.set_xlabel('ãƒ¢ãƒ«åˆ†ç‡ $x_A$', fontsize=13)
ax2.set_ylabel('$\\partial^2 G / \\partial x^2$ (kJ/mol)', fontsize=13)
ax2.set_title('ç†±åŠ›å­¦çš„å®‰å®šæ€§ã®åˆ¤å®š', fontsize=14, fontweight='bold')
ax2.legend(fontsize=11, loc='upper left')
ax2.grid(True, alpha=0.3)
ax2.set_ylim([-50, 100])

plt.tight_layout()
plt.savefig('spinodal_decomposition.png', dpi=150, bbox_inches='tight')
plt.show()

print(f"ã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«ç‚¹: x_A = {x_spin_min:.3f} ã¨ {x_spin_max:.3f}")
print("ã“ã®é ˜åŸŸã§ã¯è‡ªç™ºçš„ã«ç›¸åˆ†é›¢ãŒèµ·ã“ã‚Šã¾ã™ï¼ˆã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«åˆ†è§£ï¼‰ã€‚")
print("\nç›¸åˆ†é›¢ã®ç¨®é¡ï¼š")
print("- ã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«åˆ†è§£: çµ„æˆã®ã‚†ã‚‰ããŒæˆé•·ï¼ˆæ ¸ç”Ÿæˆä¸è¦ï¼‰")
print("- æ ¸ç”Ÿæˆãƒ»æˆé•·: æ–°ç›¸ã®æ ¸ãŒå½¢æˆã•ã‚Œæˆé•·ï¼ˆã‚¨ãƒãƒ«ã‚®ãƒ¼éšœå£ã‚ã‚Šï¼‰")
</code></pre>
            </div>

            <div class="warning-box">
                <h4>æ³¨æ„: ã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«åˆ†è§£ã¨æ ¸ç”Ÿæˆãƒ»æˆé•·ã®é•ã„</h4>
                <p>ç›¸åˆ†é›¢ã«ã¯2ã¤ã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãŒã‚ã‚Šã¾ã™ï¼š</p>
                <ul>
                    <li><strong>ã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«åˆ†è§£</strong>: $\frac{\partial^2 G}{\partial x^2} < 0$ ã®é ˜åŸŸã§ã€çµ„æˆã®ã‚ãšã‹ãªã‚†ã‚‰ããŒè‡ªç™ºçš„ã«æˆé•·ã€‚æ ¸ç”Ÿæˆã®ã‚¨ãƒãƒ«ã‚®ãƒ¼éšœå£ãŒãªã„ã€‚</li>
                    <li><strong>æ ¸ç”Ÿæˆãƒ»æˆé•·</strong>: $\frac{\partial^2 G}{\partial x^2} > 0$ ã ãŒã€å…±é€šæ¥ç·šæ³•ã§äºŒç›¸ã®æ–¹ãŒå®‰å®šãªé ˜åŸŸã€‚æ–°ç›¸ã®æ ¸ã‚’å½¢æˆã™ã‚‹ã‚¨ãƒãƒ«ã‚®ãƒ¼éšœå£ãŒã‚ã‚Šã€éé£½å’ŒçŠ¶æ…‹ãŒå¿…è¦ã€‚</li>
                </ul>
            </div>
        </section>

        <section>
            <h2>5. å…±é€šæ¥ç·šæ³•ï¼ˆCommon Tangent Constructionï¼‰</h2>

            <h3>5.1 å…±é€šæ¥ç·šæ³•ã®åŸç†</h3>
            <p>è¤‡æ•°ã®ç›¸ãŒå…±å­˜ã™ã‚‹å ´åˆã€ç³»å…¨ä½“ã®ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’æœ€å°åŒ–ã™ã‚‹çµ„æˆã‚’è¦‹ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®å•é¡Œã‚’å¹¾ä½•å­¦çš„ã«è§£ãã®ãŒ<strong>å…±é€šæ¥ç·šæ³•</strong>ã§ã™ã€‚</p>

            <div class="key-point">
                <h4>å…±é€šæ¥ç·šæ³•ã®åŸç†</h4>
                <p>äºŒç›¸ï¼ˆ$\alpha$ ç›¸ã¨ $\beta$ ç›¸ï¼‰ãŒå¹³è¡¡å…±å­˜ã™ã‚‹çµ„æˆã¯ã€ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ›²ç·š $G(x)$ ã«å¯¾ã™ã‚‹<strong>å…±é€šæ¥ç·š</strong>ã®æ¥ç‚¹ã¨ã—ã¦æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚</p>
                <p><strong>å¹¾ä½•å­¦çš„æ¡ä»¶</strong>:</p>
                <ul>
                    <li>æ¥ç·šã®å‚¾ããŒä¸¡æ–¹ã®æ¥ç‚¹ã§ç­‰ã—ã„ï¼ˆåŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®å¹³è¡¡æ¡ä»¶ï¼‰</li>
                    <li>æ¥ç·šãŒ $G(x)$ æ›²ç·šã®ã™ã¹ã¦ã®ç‚¹ã®ä¸‹å´ã«ã‚ã‚‹ï¼ˆæœ€å°ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ¡ä»¶ï¼‰</li>
                </ul>
                <p><strong>æ•°å­¦çš„æ¡ä»¶</strong>: çµ„æˆ $x_\alpha$ ã¨ $x_\beta$ ã§ï¼š</p>
                <p style="text-align: center;">
                    $$ \mu_A^\alpha = \mu_A^\beta, \quad \mu_B^\alpha = \mu_B^\beta $$
                </p>
                <p>ã¾ãŸã¯ã€å‚¾ãã®ç­‰å¼ï¼š</p>
                <p style="text-align: center;">
                    $$ \frac{dG}{dx}\bigg|_{x_\alpha} = \frac{dG}{dx}\bigg|_{x_\beta} = \frac{G(x_\beta) - G(x_\alpha)}{x_\beta - x_\alpha} $$
                </p>
            </div>

            <div class="example-box">
                <h4>å…±é€šæ¥ç·šæ³•ã®æ‰‹é †</h4>
                <ol>
                    <li>ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ›²ç·š $G(x)$ ã‚’æã</li>
                    <li>æ›²ç·šä¸Šã®2ç‚¹ã‚’çµã¶ç›´ç·šï¼ˆæ¥ç·šå€™è£œï¼‰ã‚’è€ƒãˆã‚‹</li>
                    <li>ãã®ç›´ç·šãŒä¸¡æ–¹ã®ç‚¹ã§ $G(x)$ ã«æ¥ã—ã¦ã„ã‚‹ã‹ç¢ºèªï¼ˆå¾®åˆ†ãŒç­‰ã—ã„ï¼‰</li>
                    <li>ãã®ç›´ç·šãŒ $G(x)$ ã®ã™ã¹ã¦ã®ç‚¹ã‚ˆã‚Šä¸‹ã«ã‚ã‚‹ã‹ç¢ºèª</li>
                    <li>æ¡ä»¶ã‚’æº€ãŸã™2ç‚¹ãŒã€äºŒç›¸å¹³è¡¡ã®çµ„æˆ $x_\alpha$ ã¨ $x_\beta$</li>
                </ol>
            </div>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-title">ğŸ“ ã‚³ãƒ¼ãƒ‰ä¾‹6: å…±é€šæ¥ç·šæ³•ã«ã‚ˆã‚‹äºŒç›¸å¹³è¡¡çµ„æˆã®æ±ºå®š</span>
                    <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                </div>
                <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from scipy.optimize import minimize

# å®šæ•°
R = 8.314  # J/(molÂ·K)
Omega = 25000  # J/mol
T = 1000  # K

def gibbs_energy(x):
    """æ­£å‰‡æº¶ä½“ã®ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼"""
    if x <= 0 or x >= 1:
        return np.inf
    return Omega * x * (1 - x) + R * T * (x * np.log(x) + (1 - x) * np.log(1 - x))

def gibbs_derivative(x):
    """ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®ä¸€éšå¾®åˆ†ï¼ˆåŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«å·®ï¼‰"""
    if x <= 0 or x >= 1:
        return 0
    return Omega * (1 - 2*x) + R * T * (np.log(x) - np.log(1 - x))

# å…±é€šæ¥ç·šæ³•ï¼šäºŒç›¸å¹³è¡¡çµ„æˆã‚’æ±‚ã‚ã‚‹
def common_tangent_condition(params):
    """å…±é€šæ¥ç·šæ¡ä»¶ï¼ˆæœ€å°åŒ–ã™ã‚‹ç›®çš„é–¢æ•°ï¼‰"""
    x_alpha, x_beta = params
    if x_alpha <= 0 or x_alpha >= 1 or x_beta <= 0 or x_beta >= 1 or x_alpha >= x_beta:
        return 1e10

    # æ¡ä»¶1: ä¸¡ç‚¹ã§ã®æ¥ç·šã®å‚¾ããŒç­‰ã—ã„
    slope_alpha = gibbs_derivative(x_alpha)
    slope_beta = gibbs_derivative(x_beta)

    # æ¡ä»¶2: æ¥ç·šã®å‚¾ããŒ2ç‚¹ã‚’çµã¶ç›´ç·šã®å‚¾ãã¨ç­‰ã—ã„
    tangent_slope = (gibbs_energy(x_beta) - gibbs_energy(x_alpha)) / (x_beta - x_alpha)

    # èª¤å·®ã®äºŒä¹—å’Œ
    error = (slope_alpha - tangent_slope)**2 + (slope_beta - tangent_slope)**2
    return error

# åˆæœŸå€¤ã‹ã‚‰æœ€é©åŒ–
initial_guess = [0.2, 0.8]
result = minimize(common_tangent_condition, initial_guess, method='Nelder-Mead',
                  bounds=[(0.01, 0.49), (0.51, 0.99)])

x_alpha, x_beta = result.x
G_alpha = gibbs_energy(x_alpha)
G_beta = gibbs_energy(x_beta)

print(f"äºŒç›¸å¹³è¡¡çµ„æˆ:")
print(f"  Î±ç›¸: x_A = {x_alpha:.4f}, G = {G_alpha/1000:.2f} kJ/mol")
print(f"  Î²ç›¸: x_A = {x_beta:.4f}, G = {G_beta/1000:.2f} kJ/mol")

# å¯è¦–åŒ–
x = np.linspace(0.001, 0.999, 500)
G = np.array([gibbs_energy(xi) for xi in x])

plt.figure(figsize=(12, 7))
plt.plot(x, G / 1000, linewidth=3, color='#f093fb', label='$G(x)$ å˜ç›¸')

# å…±é€šæ¥ç·šã‚’æç”»
tangent_x = np.array([x_alpha, x_beta])
tangent_G = np.array([G_alpha, G_beta])
plt.plot(tangent_x, tangent_G / 1000, 'o-', markersize=10, linewidth=2.5,
         color='#f5576c', label='å…±é€šæ¥ç·šï¼ˆäºŒç›¸å¹³è¡¡ï¼‰')

# å…±é€šæ¥ç·šã‚’å»¶é•·
slope = (G_beta - G_alpha) / (x_beta - x_alpha)
x_extended = np.linspace(0, 1, 100)
G_extended = G_alpha + slope * (x_extended - x_alpha)
plt.plot(x_extended, G_extended / 1000, '--', linewidth=1.5, color='#f5576c', alpha=0.5)

# å¹³è¡¡çµ„æˆã‚’å¼·èª¿
plt.axvline(x_alpha, color='gray', linewidth=1, linestyle=':', alpha=0.5)
plt.axvline(x_beta, color='gray', linewidth=1, linestyle=':', alpha=0.5)
plt.text(x_alpha, -2, f'$x_\\alpha={x_alpha:.3f}$', ha='center', fontsize=11,
         bbox=dict(boxstyle='round', facecolor='white', alpha=0.9))
plt.text(x_beta, -2, f'$x_\\beta={x_beta:.3f}$', ha='center', fontsize=11,
         bbox=dict(boxstyle='round', facecolor='white', alpha=0.9))

# äºŒç›¸é ˜åŸŸã‚’å¡—ã‚Šã¤ã¶ã—
plt.axvspan(x_alpha, x_beta, alpha=0.15, color='orange',
            label=f'äºŒç›¸é ˜åŸŸ (Î± + Î²)')

plt.axhline(0, color='gray', linewidth=0.8, linestyle='--', alpha=0.5)
plt.xlabel('ãƒ¢ãƒ«åˆ†ç‡ $x_A$', fontsize=13)
plt.ylabel('ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ $G$ (kJ/mol)', fontsize=13)
plt.title(f'å…±é€šæ¥ç·šæ³•ã«ã‚ˆã‚‹äºŒç›¸å¹³è¡¡ã®æ±ºå®š (T = {T} K)', fontsize=14, fontweight='bold')
plt.legend(fontsize=12, loc='upper right')
plt.grid(True, alpha=0.3)
plt.ylim([-4, 3])

plt.tight_layout()
plt.savefig('common_tangent_method.png', dpi=150, bbox_inches='tight')
plt.show()

print("\nå…±é€šæ¥ç·šæ³•ã®æ„å‘³ï¼š")
print("- å…±é€šæ¥ç·šã‚ˆã‚Šä¸Šã®å˜ç›¸çŠ¶æ…‹ã¯ä¸å®‰å®šï¼ˆäºŒç›¸ã«åˆ†é›¢ã—ãŸæ–¹ãŒ G ãŒä½ã„ï¼‰")
print("- ç³»ã®å¹³å‡çµ„æˆãŒ x_alpha < x_avg < x_beta ãªã‚‰ã€Î±ç›¸ã¨ Î²ç›¸ãŒå…±å­˜")
print("- ãƒ¬ãƒãƒ¼ãƒ«ãƒ¼ãƒ«ï¼šå„ç›¸ã®é‡æ¯”ã¯ã€å¹³å‡çµ„æˆã‹ã‚‰åå¯¾å´ã®ç«¯ã¾ã§ã®è·é›¢ã®æ¯”")
</code></pre>
            </div>

            <h3>5.2 ãƒ¬ãƒãƒ¼ãƒ«ãƒ¼ãƒ«ï¼ˆLever Ruleï¼‰</h3>
            <p>ç³»ã®å¹³å‡çµ„æˆãŒ $x_{\text{avg}}$ ã§ã€$x_\alpha < x_{\text{avg}} < x_\beta$ ã®äºŒç›¸é ˜åŸŸã«ã‚ã‚‹å ´åˆã€å„ç›¸ã®é‡æ¯”ã¯<strong>ãƒ¬ãƒãƒ¼ãƒ«ãƒ¼ãƒ«ï¼ˆlever ruleï¼‰</strong>ã§æ±ºã¾ã‚Šã¾ã™ï¼š</p>

            <p style="text-align: center; font-size: 1.1rem; background-color: var(--color-bg-alt); padding: 1rem; border-radius: var(--border-radius);">
                $$ \frac{n_\beta}{n_\alpha} = \frac{x_{\text{avg}} - x_\alpha}{x_\beta - x_{\text{avg}}} $$
            </p>

            <p>ã“ã“ã§ã€$n_\alpha$ ã¨ $n_\beta$ ã¯å„ç›¸ã®ãƒ¢ãƒ«æ•°ã§ã™ã€‚ã“ã‚Œã¯ã€ã¦ã“ã®åŸç†ã¨åŒã˜é–¢ä¿‚ã§ã™ã€‚</p>
        </section>

        <section>
            <h2>6. åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®çµ„æˆä¾å­˜æ€§</h2>

            <h3>6.1 åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã¨ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®é–¢ä¿‚</h3>
            <p>åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã¯ã€ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ›²ç·šã®<strong>å‚¾ãï¼ˆä¸€éšå¾®åˆ†ï¼‰</strong>ã¨å¯†æ¥ã«é–¢ä¿‚ã—ã¦ã„ã¾ã™ã€‚äºŒå…ƒç³»ï¼ˆA-Bï¼‰ã§ã¯ï¼š</p>

            <p style="text-align: center; font-size: 1.05rem;">
                $$ \mu_A - \mu_B = \frac{\partial G}{\partial x_A} $$
            </p>

            <p>ã“ã‚Œã¯ã€ã€ŒåŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®å·®ã€ãŒã€Œã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ›²ç·šã®å‚¾ãã€ã‚’è¡¨ã™ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚å…±é€šæ¥ç·šæ³•ã§æ±‚ã‚ãŸå¹³è¡¡çµ„æˆã§ã¯ã€ä¸¡ç›¸ã§ã“ã®å‚¾ããŒç­‰ã—ããªã‚Šã¾ã™ã€‚</p>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-title">ğŸ“ ã‚³ãƒ¼ãƒ‰ä¾‹7: åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®çµ„æˆä¾å­˜æ€§</span>
                    <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                </div>
                <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

# å®šæ•°
R = 8.314
T = 1000
Omega = 20000  # J/mol

# çµ„æˆç¯„å›²
x_A = np.linspace(0.01, 0.99, 200)

def chemical_potential_A(x, T, Omega):
    """æˆåˆ†Aã®åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ï¼ˆÎ¼_A^0 = 0 ã‚’åŸºæº–ï¼‰"""
    return Omega * (1 - x)**2 + R * T * np.log(x)

def chemical_potential_B(x, T, Omega):
    """æˆåˆ†Bã®åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ï¼ˆÎ¼_B^0 = 0 ã‚’åŸºæº–ï¼‰"""
    return Omega * x**2 + R * T * np.log(1 - x)

mu_A = chemical_potential_A(x_A, T, Omega)
mu_B = chemical_potential_B(x_A, T, Omega)

# å¯è¦–åŒ–
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))

# å·¦å›³: åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«
ax1.plot(x_A, mu_A / 1000, linewidth=2.5, color='#f093fb', label='$\\mu_A$')
ax1.plot(x_A, mu_B / 1000, linewidth=2.5, color='#3b82f6', label='$\\mu_B$')
ax1.axhline(0, color='gray', linewidth=0.8, linestyle='--', alpha=0.5)
ax1.set_xlabel('ãƒ¢ãƒ«åˆ†ç‡ $x_A$', fontsize=13)
ax1.set_ylabel('åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ« (kJ/mol)', fontsize=13)
ax1.set_title('åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®çµ„æˆä¾å­˜æ€§', fontsize=14, fontweight='bold')
ax1.legend(fontsize=12)
ax1.grid(True, alpha=0.3)
ax1.set_ylim([-40, 20])

# äº¤ç‚¹ã‚’å¼·èª¿ï¼ˆç†æƒ³æº¶ä½“ã§ã¯ x = 0.5ï¼‰
x_cross = 0.5
mu_cross = chemical_potential_A(x_cross, T, Omega)
ax1.plot(x_cross, mu_cross / 1000, 'o', markersize=10, color='#10b981')
ax1.text(x_cross + 0.1, mu_cross / 1000, f'$x_A={x_cross}$\n$\\mu_A=\\mu_B$',
         fontsize=10, verticalalignment='center')

# å³å›³: åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«å·®ï¼ˆé§†å‹•åŠ›ï¼‰
mu_diff = mu_A - mu_B
ax2.plot(x_A, mu_diff / 1000, linewidth=2.5, color='#f5576c')
ax2.axhline(0, color='gray', linewidth=0.8, linestyle='--', alpha=0.5)
ax2.axvline(x_cross, color='gray', linewidth=0.8, linestyle=':', alpha=0.5)
ax2.fill_between(x_A, 0, mu_diff / 1000, where=(mu_diff > 0),
                  alpha=0.2, color='red', label='A â†’ B ã¸ã®é§†å‹•åŠ›')
ax2.fill_between(x_A, 0, mu_diff / 1000, where=(mu_diff < 0),
                  alpha=0.2, color='blue', label='B â†’ A ã¸ã®é§†å‹•åŠ›')
ax2.set_xlabel('ãƒ¢ãƒ«åˆ†ç‡ $x_A$', fontsize=13)
ax2.set_ylabel('$\\mu_A - \\mu_B$ (kJ/mol)', fontsize=13)
ax2.set_title('åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«å·®ï¼ˆæ‹¡æ•£é§†å‹•åŠ›ï¼‰', fontsize=14, fontweight='bold')
ax2.legend(fontsize=11)
ax2.grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig('chemical_potential_composition.png', dpi=150, bbox_inches='tight')
plt.show()

print("åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®ç‰©ç†çš„æ„å‘³ï¼š")
print("- Î¼_A > Î¼_B: æˆåˆ†AãŒã€Œé«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ã€çŠ¶æ…‹ â†’ AåŸå­ãŒæ¸›ã‚‹æ–¹å‘ã¸å¤‰åŒ–")
print("- Î¼_A < Î¼_B: æˆåˆ†BãŒã€Œé«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ã€çŠ¶æ…‹ â†’ BåŸå­ãŒæ¸›ã‚‹æ–¹å‘ã¸å¤‰åŒ–")
print("- Î¼_A = Î¼_B: åŒ–å­¦å¹³è¡¡ï¼ˆæ‹¡æ•£ãªã—ï¼‰")
print("\næ‹¡æ•£ç¾è±¡ã¸ã®å¿œç”¨ï¼š")
print("- Fickå‰‡ã®é§†å‹•åŠ›ã¯æ¿ƒåº¦å‹¾é…ã§ã¯ãªãã€åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«å‹¾é… âˆ‡Î¼")
print("- ä¸Šã‚Šæ‹¡æ•£ï¼ˆuphill diffusionï¼‰ã‚‚Î¼å‹¾é…ã§èª¬æ˜å¯èƒ½")
</code></pre>
            </div>
        </section>

        <section>
            <h2>7. å®Ÿææ–™ç³»ã§ã®å¿œç”¨</h2>

            <h3>7.1 Cu-Niåˆé‡‘ç³»</h3>
            <p>éŠ…ï¼ˆCuï¼‰ã¨ãƒ‹ãƒƒã‚±ãƒ«ï¼ˆNiï¼‰ã¯ã€å…¨ç‡å›ºæº¶ã™ã‚‹ä»£è¡¨çš„ãªåˆé‡‘ç³»ã§ã™ã€‚ã‚„ã‚„å¼•åŠ›çš„ãªç›¸äº’ä½œç”¨ï¼ˆ$\Omega < 0$ï¼‰ã‚’æŒã¡ã€ç†æƒ³æº¶ä½“ã«è¿‘ã„æŒ™å‹•ã‚’ç¤ºã—ã¾ã™ã€‚</p>

            <h3>7.2 Fe-Cråˆé‡‘ç³»</h3>
            <p>é‰„ï¼ˆFeï¼‰ã¨ã‚¯ãƒ­ãƒ ï¼ˆCrï¼‰ã¯ã€ã‚¹ãƒ†ãƒ³ãƒ¬ã‚¹é‹¼ã®ä¸»è¦æˆåˆ†ã§ã™ãŒã€ä½æ¸©ã§åç™ºçš„ç›¸äº’ä½œç”¨ï¼ˆ$\Omega > 0$ï¼‰ã«ã‚ˆã‚Šç›¸åˆ†é›¢ï¼ˆ$\alpha$ + $\alpha'$ äºŒç›¸åˆ†é›¢ï¼‰ã‚’èµ·ã“ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€Œ475Â°Cè„†åŒ–ã€ã¨ã—ã¦çŸ¥ã‚‰ã‚Œã‚‹ç¾è±¡ã®åŸå› ã§ã™ã€‚</p>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-title">ğŸ“ ã‚³ãƒ¼ãƒ‰ä¾‹8: å®Ÿææ–™ç³»ï¼ˆCu-Ni, Fe-Crï¼‰ã§ã®ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼è¨ˆç®—</span>
                    <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                </div>
                <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

# å®šæ•°
R = 8.314  # J/(molÂ·K)

# ææ–™ç³»ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆæ–‡çŒ®å€¤ã«åŸºã¥ãç°¡ç•¥ãƒ¢ãƒ‡ãƒ«ï¼‰
materials = {
    'Cu-Ni': {
        'Omega': -5000,  # J/mol (å¼•åŠ›çš„)
        'T': 1300,       # K
        'color': '#10b981',
        'title': 'Cu-Niåˆé‡‘ (å…¨ç‡å›ºæº¶)'
    },
    'Fe-Cr': {
        'Omega': 22000,  # J/mol (åç™ºçš„)
        'T': 750,        # K (475Â°C â‰ˆ 748 K)
        'color': '#f5576c',
        'title': 'Fe-Cråˆé‡‘ (ç›¸åˆ†é›¢å‚¾å‘)'
    }
}

x = np.linspace(0.001, 0.999, 400)

fig, axes = plt.subplots(1, 2, figsize=(14, 6))

for ax, (name, params) in zip(axes, materials.items()):
    Omega = params['Omega']
    T = params['T']
    color = params['color']
    title = params['title']

    # ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼
    entropy = R * T * (x * np.log(x) + (1 - x) * np.log(1 - x))
    enthalpy = Omega * x * (1 - x)
    G_mix = enthalpy + entropy

    # æç”»
    ax.plot(x, G_mix / 1000, linewidth=3, color=color, label='$\\Delta G_{mix}$')
    ax.axhline(0, color='gray', linewidth=0.8, linestyle='--', alpha=0.5)

    # ã‚¨ãƒ³ã‚¿ãƒ«ãƒ”ãƒ¼é …ã¨ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é …ã‚’åˆ¥ã€…ã«è¡¨ç¤º
    ax.plot(x, enthalpy / 1000, '--', linewidth=1.5, color='red', alpha=0.5, label='ã‚¨ãƒ³ã‚¿ãƒ«ãƒ”ãƒ¼é …')
    ax.plot(x, entropy / 1000, '--', linewidth=1.5, color='blue', alpha=0.5, label='ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é …')

    ax.set_xlabel(f'ãƒ¢ãƒ«åˆ†ç‡ $x_{name.split("-")[0]}$', fontsize=12)
    ax.set_ylabel('$\\Delta G_{mix}$ (kJ/mol)', fontsize=12)
    ax.set_title(f'{title}\n(T = {T} K, Î© = {Omega/1000:.0f} kJ/mol)',
                 fontsize=13, fontweight='bold')
    ax.legend(fontsize=10, loc='best')
    ax.grid(True, alpha=0.3)

    # Cu-Niã®å ´åˆã€å…¨ä½“ãŒè² ã§å®‰å®š
    if Omega < 0:
        ax.text(0.5, G_mix[len(G_mix)//2] / 1000 - 1.5,
                'å…¨çµ„æˆã§ Î”G < 0\nâ†’ å®Œå…¨å›ºæº¶',
                ha='center', fontsize=10,
                bbox=dict(boxstyle='round', facecolor='#d1fae5', alpha=0.9))
    else:
        # Fe-Crã®å ´åˆã€ç›¸åˆ†é›¢é ˜åŸŸã‚’ç¤ºå”†
        if np.any(G_mix > 0):
            ax.text(0.5, 1,
                    'ä¸­é–“çµ„æˆã§ Î”G > 0\nâ†’ ç›¸åˆ†é›¢å‚¾å‘',
                    ha='center', fontsize=10,
                    bbox=dict(boxstyle='round', facecolor='#fee2e2', alpha=0.9))

plt.tight_layout()
plt.savefig('real_materials_gibbs.png', dpi=150, bbox_inches='tight')
plt.show()

print("å®Ÿææ–™ç³»ã®ç†±åŠ›å­¦çš„æŒ™å‹•ï¼š")
print("\nã€Cu-Niåˆé‡‘ã€‘")
print("- Î© < 0: ã‚ãšã‹ã«å¼•åŠ›çš„")
print("- å…¨æ¸©åº¦ãƒ»å…¨çµ„æˆã§å®Œå…¨å›ºæº¶ï¼ˆå˜ä¸€FCCç›¸ï¼‰")
print("- é€£ç¶šå›ºæº¶ä½“åˆé‡‘ã®ä»£è¡¨ä¾‹")
print("\nã€Fe-Cråˆé‡‘ã€‘")
print("- Î© > 0: åç™ºçš„ï¼ˆç‰¹ã«ä½æ¸©ã§é¡•è‘—ï¼‰")
print("- 475Â°Cä»˜è¿‘ã§ Î± â†’ Î± + Î±' ç›¸åˆ†é›¢ï¼ˆã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«åˆ†è§£ï¼‰")
print("- Cræ¿ƒåº¦ç´„15-70%ã§è„†åŒ–ï¼ˆã‚¹ãƒ†ãƒ³ãƒ¬ã‚¹é‹¼ã®èª²é¡Œï¼‰")
print("\nå¿œç”¨ï¼š")
print("- CALPHADãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ãˆã°ã€å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãé«˜ç²¾åº¦è¨ˆç®—ãŒå¯èƒ½")
print("- å¤šå…ƒç³»ï¼ˆ3æˆåˆ†ä»¥ä¸Šï¼‰ã‚„è¤‡é›‘ãªç›¸å›³ã‚‚è¨ˆç®—å¯èƒ½")
</code></pre>
            </div>

            <div class="warning-box">
                <h4>æ³¨æ„: å®Ÿç”¨ææ–™ã®è¤‡é›‘æ€§</h4>
                <p>ã“ã“ã§ç¤ºã—ãŸæ­£å‰‡æº¶ä½“ãƒ¢ãƒ‡ãƒ«ã¯ã€æ•™è‚²ç›®çš„ã®ç°¡ç•¥åŒ–ã§ã™ã€‚å®Ÿéš›ã®ææ–™ã§ã¯ï¼š</p>
                <ul>
                    <li><strong>æ¸©åº¦ä¾å­˜æ€§</strong>: $\Omega$ ã¯æ¸©åº¦ã«ä¾å­˜ï¼ˆ$\Omega = \Omega_0 + \Omega_1 T$ ãªã©ï¼‰</li>
                    <li><strong>é«˜æ¬¡é …</strong>: $\Omega x(1-x)$ ã ã‘ã§ãªãã€$x^3$, $x^4$ ãªã©ã®é …ãŒå¿…è¦</li>
                    <li><strong>çµæ™¶æ§‹é€ ã®é•ã„</strong>: FCCã€BCCã€HCPãªã©ã€ç›¸ã”ã¨ã«ç•°ãªã‚‹ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼</li>
                    <li><strong>ç£æ°—åŠ¹æœ</strong>: Feã€Niãªã©ã¯ç£æ°—å¯„ä¸ãŒå¤§ãã„</li>
                </ul>
                <p>ç²¾å¯†ãªè¨ˆç®—ã«ã¯ã€CALPHADæ³•ï¼ˆThermo-Calcã€FactSageã€PANDATç­‰ï¼‰ã‚’ä½¿ã„ã¾ã™ã€‚</p>
            </div>
        </section>

        <section>
            <h2>8. æ¸©åº¦å¤‰åŒ–ã«ã‚ˆã‚‹ã‚®ãƒ–ã‚¹æ›²ç·šã®å¤‰åŒ–</h2>

            <p>æ¸©åº¦ãŒå¤‰ã‚ã‚‹ã¨ã€ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ›²ç·šã®å½¢çŠ¶ãŒå¤‰åŒ–ã—ã€ç›¸å¹³è¡¡ã‚‚å¤‰ã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’å¯è¦–åŒ–ã™ã‚‹ã“ã¨ã§ã€ç›¸å›³ï¼ˆphase diagramï¼‰ã®èµ·æºã‚’ç†è§£ã§ãã¾ã™ã€‚</p>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-title">ğŸ“ ã‚³ãƒ¼ãƒ‰ä¾‹ï¼ˆè¿½åŠ ï¼‰: æ¸©åº¦å¤‰åŒ–ã«ã‚ˆã‚‹ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ›²ç·šã®å¤‰åŒ–</span>
                    <button class="copy-button" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>
                </div>
                <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

# å®šæ•°
R = 8.314
Omega = 25000  # J/mol (ä¸€å®š)

# çµ„æˆç¯„å›²
x = np.linspace(0.001, 0.999, 300)

# æ¸©åº¦ç¯„å›²
temperatures = [600, 800, 1000, 1200, 1400]  # K
colors = ['#dc2626', '#f97316', '#f093fb', '#3b82f6', '#10b981']

plt.figure(figsize=(12, 7))

for T, color in zip(temperatures, colors):
    entropy = R * T * (x * np.log(x) + (1 - x) * np.log(1 - x))
    enthalpy = Omega * x * (1 - x)
    G_mix = enthalpy + entropy

    plt.plot(x, G_mix / 1000, linewidth=2.5, label=f'T = {T} K', color=color)

plt.axhline(0, color='gray', linewidth=0.8, linestyle='--', alpha=0.5)
plt.xlabel('ãƒ¢ãƒ«åˆ†ç‡ $x_A$', fontsize=13)
plt.ylabel('æ··åˆã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ $\\Delta G_{mix}$ (kJ/mol)', fontsize=13)
plt.title('æ¸©åº¦å¤‰åŒ–ã«ã‚ˆã‚‹ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ›²ç·šã®å¤‰åŒ–', fontsize=14, fontweight='bold')
plt.legend(fontsize=11, loc='upper right')
plt.grid(True, alpha=0.3)

# è‡¨ç•Œæ¸©åº¦ã®èª¬æ˜
T_critical = Omega / (2 * R)  # æ­£å‰‡æº¶ä½“ã®è‡¨ç•Œæ¸©åº¦è¿‘ä¼¼
plt.text(0.5, -8, f'è‡¨ç•Œæ¸©åº¦ $T_c \\approx {T_critical:.0f}$ K\n'
                  f'$T > T_c$: å®Œå…¨å›ºæº¶\n$T < T_c$: ç›¸åˆ†é›¢',
         ha='center', fontsize=11,
         bbox=dict(boxstyle='round', facecolor='#fef3c7', alpha=0.9))

plt.ylim([-12, 8])
plt.tight_layout()
plt.savefig('temperature_effect_gibbs.png', dpi=150, bbox_inches='tight')
plt.show()

print(f"è‡¨ç•Œæ¸©åº¦ï¼ˆè¿‘ä¼¼ï¼‰: T_c â‰ˆ Î©/(2R) = {T_critical:.0f} K")
print("\næ¸©åº¦åŠ¹æœï¼š")
print("- é«˜æ¸©: ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼é …ï¼ˆ-TÎ”Sï¼‰ãŒæ”¯é…çš„ â†’ æ··åˆãŒæœ‰åˆ©")
print("- ä½æ¸©: ã‚¨ãƒ³ã‚¿ãƒ«ãƒ”ãƒ¼é …ï¼ˆÎ© x(1-x)ï¼‰ãŒæ”¯é…çš„ â†’ ç›¸åˆ†é›¢å‚¾å‘")
print("- T > T_c: å…¨çµ„æˆã§ Î”G < 0 â†’ å˜ç›¸")
print("- T < T_c: ä¸­é–“çµ„æˆã§äºŒç›¸åˆ†é›¢")
print("\nã“ã‚ŒãŒç›¸å›³ã®æ¸©åº¦-çµ„æˆå¹³é¢ã§ã®ç›¸å¢ƒç•Œç·šã‚’æ±ºå®šã—ã¾ã™ã€‚")
</code></pre>
            </div>
        </section>

        <section>
            <h2>ã¾ã¨ã‚</h2>

            <div class="key-point">
                <h4>æœ¬ç« ã§å­¦ã‚“ã é‡è¦äº‹é …</h4>
                <ul>
                    <li><strong>ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æœ€å°åŒ–åŸç†</strong>: ä¸€å®šæ¸©åº¦ãƒ»åœ§åŠ›ä¸‹ã§ã€ç³»ã¯ $G$ ãŒæœ€å°ã®çŠ¶æ…‹ã§å¹³è¡¡</li>
                    <li><strong>åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ï¼ˆ$\mu_i$ï¼‰</strong>: æˆåˆ† $i$ ã‚’è¿½åŠ ã—ãŸã¨ãã® $G$ ã®å¤‰åŒ–ç‡ã€ã€Œæˆåˆ†ã®ç†±åŠ›å­¦çš„ä¾¡å€¤ã€</li>
                    <li><strong>æ´»é‡ï¼ˆ$a_i$ï¼‰ã¨æ´»é‡ä¿‚æ•°ï¼ˆ$\gamma_i$ï¼‰</strong>: å®Ÿåœ¨æº¶ä½“ã§ã®ã€Œæœ‰åŠ¹æ¿ƒåº¦ã€ã€ç†æƒ³æº¶ä½“ã‹ã‚‰ã®ãšã‚Œã‚’è¡¨ã™</li>
                    <li><strong>ç†æƒ³æº¶ä½“</strong>: $\Delta G_{\text{mix}} = RT(x_A \ln x_A + x_B \ln x_B)$ã€å¸¸ã«æ··åˆãŒæœ‰åˆ©</li>
                    <li><strong>æ­£å‰‡æº¶ä½“ãƒ¢ãƒ‡ãƒ«</strong>: $\Delta G_{\text{mix}} = \Omega x_A x_B + RT(x_A \ln x_A + x_B \ln x_B)$ã€ç›¸äº’ä½œç”¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ $\Omega$ ã§ç›¸åˆ†é›¢ã‚’äºˆæ¸¬</li>
                    <li><strong>å…±é€šæ¥ç·šæ³•</strong>: ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼æ›²ç·šã¸ã®å…±é€šæ¥ç·šã§ã€äºŒç›¸å¹³è¡¡çµ„æˆã‚’æ±ºå®šã™ã‚‹å¹¾ä½•å­¦çš„æ–¹æ³•</li>
                    <li><strong>ã‚¹ãƒ”ãƒãƒ¼ãƒ€ãƒ«åˆ†è§£</strong>: $\frac{\partial^2 G}{\partial x^2} < 0$ ã®é ˜åŸŸã§èµ·ã“ã‚‹è‡ªç™ºçš„ç›¸åˆ†é›¢</li>
                    <li><strong>å®Ÿææ–™ç³»ã¸ã®å¿œç”¨</strong>: Cu-Niï¼ˆå…¨ç‡å›ºæº¶ï¼‰ã€Fe-Crï¼ˆä½æ¸©ç›¸åˆ†é›¢ï¼‰ãªã©ã®ç†±åŠ›å­¦è¨ˆç®—</li>
                </ul>
            </div>

            <p>æ¬¡ç« ã§ã¯ã€ã“ã‚Œã‚‰ã®æ¦‚å¿µã‚’ä¸‰å…ƒç³»ä»¥ä¸Šã®å¤šæˆåˆ†ç³»ã«æ‹¡å¼µã—ã€<strong>ç›¸å›³ï¼ˆphase diagramï¼‰</strong>ã®èª­ã¿æ–¹ã¨è¨ˆç®—æ³•ã‚’å­¦ã³ã¾ã™ã€‚ã¾ãŸã€å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã¨CALPHADãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’çµ„ã¿åˆã‚ã›ãŸå®Ÿç”¨çš„ãªç†±åŠ›å­¦è¨ˆç®—æ‰‹æ³•ã‚‚ç´¹ä»‹ã—ã¾ã™ã€‚</p>
        </section>

        <section class="exercise-section">
            <h3>ğŸ“ æ¼”ç¿’å•é¡Œ</h3>

            <div class="exercise">
                <h4>æ¼”ç¿’1: åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®è¨ˆç®—</h4>
                <p><strong>å•é¡Œ</strong>: ç†æƒ³æº¶ä½“ã«ãŠã„ã¦ã€æˆåˆ†Aã®ãƒ¢ãƒ«åˆ†ç‡ãŒ $x_A = 0.3$ ã®ã¨ãã®åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ« $\mu_A$ ã‚’è¨ˆç®—ã—ã¦ãã ã•ã„ã€‚æ¡ä»¶ï¼š$T = 1200$ Kã€$\mu_A^0 = 0$ J/molï¼ˆå‚ç…§çŠ¶æ…‹ï¼‰ã€‚</p>
                <p><strong>ãƒ’ãƒ³ãƒˆ</strong>: $\mu_A = \mu_A^0 + RT \ln x_A$ ã‚’ä½¿ã„ã¾ã™ã€‚</p>
            </div>

            <div class="exercise">
                <h4>æ¼”ç¿’2: æ´»é‡ã®è¨ˆç®—</h4>
                <p><strong>å•é¡Œ</strong>: ã‚ã‚‹åˆé‡‘ç³»ã§ã€æˆåˆ†Aã®æ´»é‡ä¿‚æ•°ãŒ $\gamma_A = 1.2$ã€ãƒ¢ãƒ«åˆ†ç‡ãŒ $x_A = 0.5$ ã§ã™ã€‚æ´»é‡ $a_A$ ã‚’è¨ˆç®—ã—ã¦ãã ã•ã„ã€‚ã¾ãŸã€ã“ã®ç³»ã¯ç†æƒ³æº¶ä½“ã¨æ¯”ã¹ã¦æ··åˆã—ã‚„ã™ã„ã‹ã€ã—ã«ãã„ã‹ã‚’åˆ¤å®šã—ã¦ãã ã•ã„ã€‚</p>
            </div>

            <div class="exercise">
                <h4>æ¼”ç¿’3: ç›¸åˆ†é›¢ã®åˆ¤å®š</h4>
                <p><strong>å•é¡Œ</strong>: æ­£å‰‡æº¶ä½“ãƒ¢ãƒ‡ãƒ«ã§ã€$\Omega = 18000$ J/molã€$T = 900$ K ã®ã¨ãã€$x_A = 0.5$ ã§ã®æ··åˆã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ $\Delta G_{\text{mix}}$ ã‚’è¨ˆç®—ã—ã¦ãã ã•ã„ã€‚ã“ã®çµ„æˆã§å˜ç›¸ã¯å®‰å®šã§ã™ã‹ï¼Ÿ</p>
                <p><strong>ãƒ’ãƒ³ãƒˆ</strong>: ã‚³ãƒ¼ãƒ‰ä¾‹4ã‚’å‚è€ƒã«ã€$\Delta G_{\text{mix}}$ ã®ç¬¦å·ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            </div>

            <div class="exercise">
                <h4>æ¼”ç¿’4: å…±é€šæ¥ç·šæ³•ã®å¿œç”¨ï¼ˆç™ºå±•ï¼‰</h4>
                <p><strong>å•é¡Œ</strong>: ã‚³ãƒ¼ãƒ‰ä¾‹6ã‚’æ”¹å¤‰ã—ã¦ã€$\Omega = 30000$ J/molã€$T = 800$ K ã®æ¡ä»¶ã§äºŒç›¸å¹³è¡¡çµ„æˆ $x_\alpha$ ã¨ $x_\beta$ ã‚’æ±‚ã‚ã¦ãã ã•ã„ã€‚ã•ã‚‰ã«ã€ç³»ã®å¹³å‡çµ„æˆãŒ $x_{\text{avg}} = 0.5$ ã®ã¨ãã€ãƒ¬ãƒãƒ¼ãƒ«ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦å„ç›¸ã®ãƒ¢ãƒ«åˆ†ç‡ã‚’è¨ˆç®—ã—ã¦ãã ã•ã„ã€‚</p>
                <p><strong>ãƒ¬ãƒãƒ¼ãƒ«ãƒ¼ãƒ«</strong>: $f_\beta = \frac{x_{\text{avg}} - x_\alpha}{x_\beta - x_\alpha}$ ï¼ˆ$f_\beta$ ã¯ Î²ç›¸ã®ãƒ¢ãƒ«åˆ†ç‡ï¼‰</p>
            </div>
        </section>

        <section>
            <h2>å‚è€ƒæ–‡çŒ®</h2>
            <ol>
                <li>D.R. Gaskell, D.E. Laughlin, "Introduction to the Thermodynamics of Materials", 6th Edition, CRC Press, 2017</li>
                <li>D.A. Porter, K.E. Easterling, M.Y. Sherif, "Phase Transformations in Metals and Alloys", 3rd Edition, CRC Press, 2009</li>
                <li>H. Lukas, S.G. Fries, B. Sundman, "Computational Thermodynamics: The CALPHAD Method", Cambridge University Press, 2007</li>
                <li>J.W. Cahn, J.E. Hilliard, "Free Energy of a Nonuniform System. I. Interfacial Free Energy", Journal of Chemical Physics, 28(2), 258-267, 1958</li>
                <li>R.A. Swalin, "Thermodynamics of Solids", 2nd Edition, Wiley, 1972</li>
                <li>çŸ¢å³¶æ‚¦æ¬¡éƒ, ã€Œææ–™ã®ç‰©ç†åŒ–å­¦ã€, å†…ç”°è€é¶´åœƒ, 2010</li>
                <li>è¥¿æ¾¤æ³°äºŒ, ã€Œææ–™çµ„ç¹”å­¦ã€, æœå€‰æ›¸åº—, 2005</li>
            </ol>
        </section>

        <nav class="navigation" aria-label="ç« ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
            <a href="chapter-1.html" class="nav-button">â† å‰ã®ç« ï¼šç†±åŠ›å­¦ã®åŸºç¤ã¨ææ–™ã¸ã®å¿œç”¨</a>
            <a href="chapter-3.html" class="nav-button">æ¬¡ã®ç« ã¸ï¼šç›¸å›³ã¨ç›¸å¹³è¡¡ â†’</a>
        </nav>
    </main>

    <section class="disclaimer">
        <h3>å…è²¬äº‹é …</h3>
        <ul>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯æ•™è‚²ãƒ»ç ”ç©¶ãƒ»æƒ…å ±æä¾›ã®ã¿ã‚’ç›®çš„ã¨ã—ã¦ãŠã‚Šã€å°‚é–€çš„ãªåŠ©è¨€ï¼ˆæ³•å¾‹ãƒ»ä¼šè¨ˆãƒ»æŠ€è¡“çš„ä¿è¨¼ãªã©ï¼‰ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŠã‚ˆã³ä»˜éšã™ã‚‹ã‚³ãƒ¼ãƒ‰ä¾‹ã¯ã€Œç¾çŠ¶æœ‰å§¿ï¼ˆAS ISï¼‰ã€ã§æä¾›ã•ã‚Œã€æ˜ç¤ºã¾ãŸã¯é»™ç¤ºã‚’å•ã‚ãšã€å•†å“æ€§ã€ç‰¹å®šç›®çš„é©åˆæ€§ã€æ¨©åˆ©éä¾µå®³ã€æ­£ç¢ºæ€§ãƒ»å®Œå…¨æ€§ã€å‹•ä½œãƒ»å®‰å…¨æ€§ç­‰ã„ã‹ãªã‚‹ä¿è¨¼ã‚‚ã—ã¾ã›ã‚“ã€‚</li>
            <li>å¤–éƒ¨ãƒªãƒ³ã‚¯ã€ç¬¬ä¸‰è€…ãŒæä¾›ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ„ãƒ¼ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç­‰ã®å†…å®¹ãƒ»å¯ç”¨æ€§ãƒ»å®‰å…¨æ€§ã«ã¤ã„ã¦ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ©ç”¨ãƒ»å®Ÿè¡Œãƒ»è§£é‡ˆã«ã‚ˆã‚Šç›´æ¥çš„ãƒ»é–“æ¥çš„ãƒ»ä»˜éšçš„ãƒ»ç‰¹åˆ¥ãƒ»çµæœçš„ãƒ»æ‡²ç½°çš„æå®³ãŒç”Ÿã˜ãŸå ´åˆã§ã‚‚ã€é©ç”¨æ³•ã§è¨±å®¹ã•ã‚Œã‚‹æœ€å¤§é™ã®ç¯„å›²ã§ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å†…å®¹ã¯ã€äºˆå‘Šãªãå¤‰æ›´ãƒ»æ›´æ–°ãƒ»æä¾›åœæ­¢ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‘—ä½œæ¨©ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯æ˜è¨˜ã•ã‚ŒãŸæ¡ä»¶ï¼ˆä¾‹: CC BY 4.0ï¼‰ã«å¾“ã„ã¾ã™ã€‚å½“è©²ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯é€šå¸¸ã€ç„¡ä¿è¨¼æ¡é …ã‚’å«ã¿ã¾ã™ã€‚</li>
        </ul>
    </section>

    <footer>
        <p><strong>ã‚·ãƒªãƒ¼ã‚º</strong>: ææ–™ç†±åŠ›å­¦å…¥é–€ï¼ˆMaterials Thermodynamics Introductionï¼‰</p>
        <p><strong>ç¬¬2ç« </strong>: ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã¨åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«</p>
        <p><strong>ä½œæˆè€…</strong>: MS Knowledge Hub Content Team</p>
        <p><strong>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</strong>: 1.0 | <strong>ä½œæˆæ—¥</strong>: 2025-10-27</p>
        <p><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong>: Creative Commons BY 4.0</p>
        <p>&copy; 2025 MS Terakoya. All rights reserved.</p>
    </footer>

    <script>
        // ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
        function copyCode(button) {
            const codeBlock = button.parentElement.nextElementSibling.querySelector('code');
            const textArea = document.createElement('textarea');
            textArea.value = codeBlock.textContent;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            button.textContent = 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼';
            button.style.backgroundColor = '#10b981';
            setTimeout(() => {
                button.textContent = 'ã‚³ãƒ”ãƒ¼';
                button.style.backgroundColor = '';
            }, 2000);
        }

        // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ç¬¬2ç« : ã‚®ãƒ–ã‚¹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã¨åŒ–å­¦ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ« - èª­ã¿è¾¼ã¿å®Œäº†');
        });
    </script>
</body>
</html>
