<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬1ç« ï¼šã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã®åŸºç¤ - AI Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #7b2cbf;
            --color-accent-light: #9d4edd;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #3182ce;
            --color-link-hover: #2c5aa0;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .mermaid {
            text-align: center;
            margin: var(--spacing-lg) 0;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        details {
            background-color: var(--color-bg-alt);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            color: var(--color-primary);
            user-select: none;
            padding: var(--spacing-xs);
            margin: calc(-1 * var(--spacing-md));
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        summary:hover {
            background-color: rgba(123, 44, 191, 0.1);
        }

        details[open] summary {
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-border);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }
        .disclaimer {
            max-width: 900px;
            margin: 2rem auto;
            padding: 1.5rem;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 4px;
        }

        .disclaimer h3 {
            color: #495057;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .disclaimer ul {
            list-style: none;
            padding-left: 0;
        }

        .disclaimer li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
            font-size: 0.9rem;
            color: #6c757d;
            line-height: 1.6;
        }

        .disclaimer li::before {
            content: "âš ï¸";
            position: absolute;
            left: 0;
        }


        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }
    
        
    
        /* Breadcrumb styles */
        .breadcrumb {
            background: #f7fafc;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.9rem;
        }

        .breadcrumb-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumb a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .breadcrumb-separator {
            color: #a0aec0;
            margin: 0 0.25rem;
        }

        .breadcrumb-current {
            color: #4a5568;
            font-weight: 500;
        }
    </style>

    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>

    <style>
        /* Locale Switcher Styles */
        .locale-switcher {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 6px;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .current-locale {
            font-weight: 600;
            color: #7b2cbf;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .locale-separator {
            color: #adb5bd;
            font-weight: 300;
        }

        .locale-link {
            color: #f093fb;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }

        .locale-link:hover {
            background: rgba(240, 147, 251, 0.1);
            color: #d07be8;
            transform: translateY(-1px);
        }

        .locale-meta {
            color: #868e96;
            font-size: 0.85rem;
            font-style: italic;
            margin-left: auto;
        }

        @media (max-width: 768px) {
            .locale-switcher {
                font-size: 0.85rem;
                padding: 0.4rem 0.8rem;
            }
            .locale-meta {
                display: none;
            }
        }
    </style>
</head>
<body>
            <div class="locale-switcher">
<span class="current-locale">ğŸŒ JP</span>
<span class="locale-separator">|</span>
<a href="../../../en/ML/unsupervised-learning-introduction/chapter1-clustering.html" class="locale-link">ğŸ‡¬ğŸ‡§ EN</a>
<span class="locale-separator">|</span>
<span class="locale-meta">Last sync: 2025-11-16</span>
</div>
<nav class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="../../index.html">AIå¯ºå­å±‹ãƒˆãƒƒãƒ—</a><span class="breadcrumb-separator">â€º</span><a href="../../ML/index.html">æ©Ÿæ¢°å­¦ç¿’</a><span class="breadcrumb-separator">â€º</span><a href="../../ML/unsupervised-learning-introduction/index.html">Unsupervised Learning</a><span class="breadcrumb-separator">â€º</span><span class="breadcrumb-current">Chapter 1</span>
        </div>
    </nav>

        <header>
        <div class="header-content">
            <h1>ç¬¬1ç« ï¼šã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã®åŸºç¤</h1>
            <p class="subtitle">æ•™å¸«ãªã—å­¦ç¿’ã®åŸºæœ¬ - ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç™ºè¦‹ã™ã‚‹</p>
            <div class="meta">
                <span class="meta-item">ğŸ“– èª­äº†æ™‚é–“: 20-25åˆ†</span>
                <span class="meta-item">ğŸ“Š é›£æ˜“åº¦: åˆç´š</span>
                <span class="meta-item">ğŸ’» ã‚³ãƒ¼ãƒ‰ä¾‹: 12å€‹</span>
                <span class="meta-item">ğŸ“ æ¼”ç¿’å•é¡Œ: 5å•</span>
            </div>
        </div>
    </header>

    <main class="container">

<h2>å­¦ç¿’ç›®æ¨™</h2>
<p>ã“ã®ç« ã‚’èª­ã‚€ã“ã¨ã§ã€ä»¥ä¸‹ã‚’ç¿’å¾—ã§ãã¾ã™ï¼š</p>
<ul>
<li>âœ… æ•™å¸«ãªã—å­¦ç¿’ã¨ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã®æ¦‚å¿µã‚’ç†è§£ã™ã‚‹</li>
<li>âœ… K-meansã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å®Ÿè£…ã§ãã‚‹</li>
<li>âœ… éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã¨ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½¿ãˆã‚‹</li>
<li>âœ… DBSCANã§å¯†åº¦ãƒ™ãƒ¼ã‚¹ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ãŒã§ãã‚‹</li>
<li>âœ… ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°ãªã©ã®è©•ä¾¡æŒ‡æ¨™ã‚’é©ç”¨ã§ãã‚‹</li>
<li>âœ… å®Ÿãƒ‡ãƒ¼ã‚¿ã§ã‚¯ãƒ©ã‚¹ã‚¿åˆ†æã‚’å®Ÿè¡Œã§ãã‚‹</li>
</ul>

<hr>

<h2>1.1 æ•™å¸«ãªã—å­¦ç¿’ã¨ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°</h2>

<h3>æ•™å¸«ãªã—å­¦ç¿’ã¨ã¯</h3>
<p><strong>æ•™å¸«ãªã—å­¦ç¿’ï¼ˆUnsupervised Learningï¼‰</strong>ã¯ã€ãƒ©ãƒ™ãƒ«ã®ãªã„ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æ§‹é€ ã‚„ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç™ºè¦‹ã™ã‚‹æ©Ÿæ¢°å­¦ç¿’ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã™ã€‚</p>

<blockquote>
<p>ã€Œæ­£è§£ãƒ©ãƒ™ãƒ« $y$ ãŒãªã„ãƒ‡ãƒ¼ã‚¿ $X$ ã‹ã‚‰ã€éš ã‚ŒãŸæ§‹é€ ã‚„é–¢ä¿‚æ€§ã‚’è¦‹ã¤ã‘å‡ºã™ã€</p>
</blockquote>

<h3>æ•™å¸«ã‚ã‚Šå­¦ç¿’ vs æ•™å¸«ãªã—å­¦ç¿’</h3>

<table>
<thead>
<tr>
<th>ç‰¹å¾´</th>
<th>æ•™å¸«ã‚ã‚Šå­¦ç¿’</th>
<th>æ•™å¸«ãªã—å­¦ç¿’</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ãƒ‡ãƒ¼ã‚¿</strong></td>
<td>ãƒ©ãƒ™ãƒ«ä»˜ã $(X, y)$</td>
<td>ãƒ©ãƒ™ãƒ«ãªã— $(X)$</td>
</tr>
<tr>
<td><strong>ç›®çš„</strong></td>
<td>äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã®æ§‹ç¯‰</td>
<td>ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ»æ§‹é€ ã®ç™ºè¦‹</td>
</tr>
<tr>
<td><strong>ã‚¿ã‚¹ã‚¯ä¾‹</strong></td>
<td>åˆ†é¡ã€å›å¸°</td>
<td>ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã€æ¬¡å…ƒå‰Šæ¸›</td>
</tr>
<tr>
<td><strong>è©•ä¾¡</strong></td>
<td>ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§è©•ä¾¡</td>
<td>å†…çš„æŒ‡æ¨™ã‚„å¯è¦–åŒ–</td>
</tr>
</tbody>
</table>

<h3>ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã®å®šç¾©</h3>

<p><strong>ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ï¼ˆClusteringï¼‰</strong>ã¯ã€é¡ä¼¼ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆã‚¯ãƒ©ã‚¹ã‚¿ï¼‰ã«ã¾ã¨ã‚ã‚‹æ‰‹æ³•ã§ã™ã€‚</p>

<p>$$
C = \{C_1, C_2, \ldots, C_k\}
$$</p>

<ul>
<li>å„ã‚¯ãƒ©ã‚¹ã‚¿ $C_i$ ã¯é¡ä¼¼åº¦ãŒé«˜ã„ãƒ‡ãƒ¼ã‚¿ã®é›†åˆ</li>
<li>ç•°ãªã‚‹ã‚¯ãƒ©ã‚¹ã‚¿é–“ã¯é¡ä¼¼åº¦ãŒä½ã„</li>
</ul>

<h3>å®Ÿä¸–ç•Œã®å¿œç”¨ä¾‹</h3>

<div class="mermaid">
graph LR
    A[ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã®å¿œç”¨] --> B[ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°: é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³]
    A --> C[ç”Ÿç‰©å­¦: éºä¼å­ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°]
    A --> D[ç”»åƒå‡¦ç†: ç”»åƒã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³]
    A --> E[æ–‡æ›¸åˆ†æ: ãƒˆãƒ”ãƒƒã‚¯æŠ½å‡º]
    A --> F[ç•°å¸¸æ¤œçŸ¥: æ­£å¸¸ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç‰¹å®š]

    style A fill:#e3f2fd
    style B fill:#fff3e0
    style C fill:#fff3e0
    style D fill:#fff3e0
    style E fill:#fff3e0
    style F fill:#fff3e0
</div>

<hr>

<h2>1.2 K-meansã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°</h2>

<h3>ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ¦‚è¦</h3>

<p><strong>K-means</strong>ã¯æœ€ã‚‚åºƒãä½¿ã‚ã‚Œã‚‹ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°æ‰‹æ³•ã§ã€ãƒ‡ãƒ¼ã‚¿ã‚’ $k$ å€‹ã®ã‚¯ãƒ©ã‚¹ã‚¿ã«åˆ†å‰²ã—ã¾ã™ã€‚</p>

<div class="mermaid">
graph TD
    A[1. kå€‹ã®ä¸­å¿ƒç‚¹ã‚’ãƒ©ãƒ³ãƒ€ãƒ åˆæœŸåŒ–] --> B[2. å„ç‚¹ã‚’æœ€è¿‘æ¥ã®ä¸­å¿ƒã«å‰²ã‚Šå½“ã¦]
    B --> C[3. å„ã‚¯ãƒ©ã‚¹ã‚¿ã®ä¸­å¿ƒã‚’å†è¨ˆç®—]
    C --> D{åæŸ?}
    D -->|No| B
    D -->|Yes| E[ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°å®Œäº†]

    style A fill:#e3f2fd
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#ffe0b2
    style E fill:#e8f5e9
</div>

<h3>æ•°å­¦çš„å®šç¾©</h3>

<p><strong>ç›®çš„é–¢æ•°</strong>ï¼ˆã‚¯ãƒ©ã‚¹ã‚¿å†…äºŒä¹—å’Œï¼‰ï¼š</p>

<p>$$
J = \sum_{i=1}^{k} \sum_{\mathbf{x} \in C_i} ||\mathbf{x} - \boldsymbol{\mu}_i||^2
$$</p>

<ul>
<li>$C_i$: ã‚¯ãƒ©ã‚¹ã‚¿ $i$</li>
<li>$\boldsymbol{\mu}_i$: ã‚¯ãƒ©ã‚¹ã‚¿ $i$ ã®ä¸­å¿ƒï¼ˆcentroidï¼‰</li>
<li>$||\mathbf{x} - \boldsymbol{\mu}_i||$: ãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰è·é›¢</li>
</ul>

<p><strong>ä¸­å¿ƒã®æ›´æ–°å¼</strong>ï¼š</p>

<p>$$
\boldsymbol{\mu}_i = \frac{1}{|C_i|} \sum_{\mathbf{x} \in C_i} \mathbf{x}
$$</p>

<h3>å®Ÿè£…ä¾‹ï¼šã‚¹ã‚¯ãƒ©ãƒƒãƒå®Ÿè£…</h3>

<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from sklearn.datasets import make_blobs

class KMeans:
    """K-meansã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã®ã‚¹ã‚¯ãƒ©ãƒƒãƒå®Ÿè£…"""

    def __init__(self, k=3, max_iters=100, random_state=42):
        self.k = k
        self.max_iters = max_iters
        self.random_state = random_state
        self.centroids = None
        self.labels = None

    def fit(self, X):
        """K-meansã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å®Ÿè¡Œ"""
        np.random.seed(self.random_state)
        n_samples, n_features = X.shape

        # 1. ä¸­å¿ƒç‚¹ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«åˆæœŸåŒ–
        random_indices = np.random.choice(n_samples, self.k, replace=False)
        self.centroids = X[random_indices]

        for iteration in range(self.max_iters):
            # 2. å„ç‚¹ã‚’æœ€è¿‘æ¥ã®ä¸­å¿ƒã«å‰²ã‚Šå½“ã¦
            distances = self._compute_distances(X)
            new_labels = np.argmin(distances, axis=1)

            # 3. ä¸­å¿ƒã‚’å†è¨ˆç®—
            new_centroids = np.array([
                X[new_labels == i].mean(axis=0)
                for i in range(self.k)
            ])

            # åæŸåˆ¤å®š
            if np.allclose(self.centroids, new_centroids):
                print(f"åæŸã—ã¾ã—ãŸ (iteration {iteration})")
                break

            self.centroids = new_centroids
            self.labels = new_labels

        return self

    def _compute_distances(self, X):
        """å„ç‚¹ã¨å„ä¸­å¿ƒã¨ã®è·é›¢ã‚’è¨ˆç®—"""
        distances = np.zeros((X.shape[0], self.k))
        for i, centroid in enumerate(self.centroids):
            distances[:, i] = np.linalg.norm(X - centroid, axis=1)
        return distances

    def predict(self, X):
        """æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã®ã‚¯ãƒ©ã‚¹ã‚¿ã‚’äºˆæ¸¬"""
        distances = self._compute_distances(X)
        return np.argmin(distances, axis=1)

    def inertia(self, X):
        """ã‚¯ãƒ©ã‚¹ã‚¿å†…äºŒä¹—å’Œã‚’è¨ˆç®—"""
        distances = self._compute_distances(X)
        min_distances = np.min(distances, axis=1)
        return np.sum(min_distances ** 2)

# ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
X, y_true = make_blobs(n_samples=300, centers=4,
                       cluster_std=0.6, random_state=42)

# K-meansã®å®Ÿè¡Œ
kmeans = KMeans(k=4)
kmeans.fit(X)

print(f"æœ€çµ‚çš„ãªã‚¯ãƒ©ã‚¹ã‚¿å†…äºŒä¹—å’Œ: {kmeans.inertia(X):.2f}")

# å¯è¦–åŒ–
plt.figure(figsize=(12, 5))

plt.subplot(1, 2, 1)
plt.scatter(X[:, 0], X[:, 1], c=y_true, cmap='viridis', alpha=0.6)
plt.title('å…ƒã®ãƒ‡ãƒ¼ã‚¿ï¼ˆçœŸã®ãƒ©ãƒ™ãƒ«ï¼‰', fontsize=14)
plt.xlabel('ç‰¹å¾´é‡ 1')
plt.ylabel('ç‰¹å¾´é‡ 2')

plt.subplot(1, 2, 2)
plt.scatter(X[:, 0], X[:, 1], c=kmeans.labels, cmap='viridis', alpha=0.6)
plt.scatter(kmeans.centroids[:, 0], kmeans.centroids[:, 1],
            c='red', marker='X', s=200, edgecolors='black', linewidths=2,
            label='ä¸­å¿ƒç‚¹')
plt.title('K-meansã®çµæœ', fontsize=14)
plt.xlabel('ç‰¹å¾´é‡ 1')
plt.ylabel('ç‰¹å¾´é‡ 2')
plt.legend()

plt.tight_layout()
plt.show()
</code></pre>

<p><strong>å‡ºåŠ›</strong>ï¼š</p>
<pre><code>åæŸã—ã¾ã—ãŸ (iteration 6)
æœ€çµ‚çš„ãªã‚¯ãƒ©ã‚¹ã‚¿å†…äºŒä¹—å’Œ: 108.45
</code></pre>

<h3>scikit-learnã«ã‚ˆã‚‹å®Ÿè£…</h3>

<pre><code class="language-python">from sklearn.cluster import KMeans

# K-meansãƒ¢ãƒ‡ãƒ«
kmeans_sklearn = KMeans(n_clusters=4, random_state=42, n_init=10)
kmeans_sklearn.fit(X)

print("scikit-learn K-means:")
print(f"ã‚¯ãƒ©ã‚¹ã‚¿å†…äºŒä¹—å’Œ (inertia): {kmeans_sklearn.inertia_:.2f}")
print(f"åå¾©å›æ•°: {kmeans_sklearn.n_iter_}")
print(f"\nä¸­å¿ƒç‚¹ã®åº§æ¨™:")
print(kmeans_sklearn.cluster_centers_)
</code></pre>

<p><strong>å‡ºåŠ›</strong>ï¼š</p>
<pre><code>scikit-learn K-means:
ã‚¯ãƒ©ã‚¹ã‚¿å†…äºŒä¹—å’Œ (inertia): 108.45
åå¾©å›æ•°: 7

ä¸­å¿ƒç‚¹ã®åº§æ¨™:
[[ 1.83  -8.88]
 [ 2.81   2.85]
 [-9.49   7.27]
 [-3.51  -7.92]]
</code></pre>

<h3>ã‚¨ãƒ«ãƒœãƒ¼æ³•ã«ã‚ˆã‚‹æœ€é©ãªKå€¤ã®é¸æŠ</h3>

<p><strong>ã‚¨ãƒ«ãƒœãƒ¼æ³•ï¼ˆElbow Methodï¼‰</strong>ã¯ã€ç•°ãªã‚‹ $k$ å€¤ã§ã®ã‚¯ãƒ©ã‚¹ã‚¿å†…äºŒä¹—å’Œã‚’ãƒ—ãƒ­ãƒƒãƒˆã—ã€ã€Œè‚˜ã€ã®ä½ç½®ã‚’è¦‹ã¤ã‘ã‚‹æ‰‹æ³•ã§ã™ã€‚</p>

<pre><code class="language-python">inertias = []
K_range = range(1, 11)

for k in K_range:
    kmeans = KMeans(n_clusters=k, random_state=42, n_init=10)
    kmeans.fit(X)
    inertias.append(kmeans.inertia_)

# å¯è¦–åŒ–
plt.figure(figsize=(10, 6))
plt.plot(K_range, inertias, 'bo-', linewidth=2, markersize=8)
plt.xlabel('ã‚¯ãƒ©ã‚¹ã‚¿æ•° (k)', fontsize=12)
plt.ylabel('ã‚¯ãƒ©ã‚¹ã‚¿å†…äºŒä¹—å’Œ (Inertia)', fontsize=12)
plt.title('ã‚¨ãƒ«ãƒœãƒ¼æ³• - æœ€é©ãªkå€¤ã®é¸æŠ', fontsize=14)
plt.grid(True, alpha=0.3)
plt.axvline(x=4, color='r', linestyle='--', alpha=0.7, label='æ¨å¥¨k=4')
plt.legend()
plt.show()
</code></pre>

<blockquote>
<p><strong>ãƒ’ãƒ³ãƒˆ</strong>: æ›²ç·šãŒã€Œè‚˜ã€ã®ã‚ˆã†ã«æ›²ãŒã‚‹ç‚¹ãŒæœ€é©ãª $k$ å€¤ã§ã™ã€‚ã“ã®ä¾‹ã§ã¯ $k=4$ ãŒé©åˆ‡ã§ã™ã€‚</p>
</blockquote>

<h3>K-meansã®é•·æ‰€ã¨çŸ­æ‰€</h3>

<table>
<thead>
<tr>
<th>é•·æ‰€</th>
<th>çŸ­æ‰€</th>
</tr>
</thead>
<tbody>
<tr>
<td>ã‚·ãƒ³ãƒ—ãƒ«ã§é«˜é€Ÿ</td>
<td>$k$ ã‚’äº‹å‰ã«æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹</td>
</tr>
<tr>
<td>å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã«é©ç”¨å¯èƒ½</td>
<td>åˆæœŸå€¤ã«ä¾å­˜ã™ã‚‹ï¼ˆå±€æ‰€æœ€é©è§£ï¼‰</td>
</tr>
<tr>
<td>å®Ÿè£…ãŒå®¹æ˜“</td>
<td>çƒçŠ¶ã‚¯ãƒ©ã‚¹ã‚¿ã—ã‹è¦‹ã¤ã‘ã‚‰ã‚Œãªã„</td>
</tr>
<tr>
<td>è§£é‡ˆã—ã‚„ã™ã„</td>
<td>å¤–ã‚Œå€¤ã«æ•æ„Ÿ</td>
</tr>
</tbody>
</table>

<hr>

<h2>1.3 éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°</h2>

<h3>æ¦‚è¦</h3>

<p><strong>éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ï¼ˆHierarchical Clusteringï¼‰</strong>ã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚’éšå±¤æ§‹é€ ï¼ˆæ¨¹å½¢å›³ï¼‰ã¨ã—ã¦è¡¨ç¾ã—ã¾ã™ã€‚</p>

<p>2ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼š</p>
<ul>
<li><strong>å‡é›†å‹ï¼ˆAgglomerativeï¼‰</strong>: ãƒœãƒˆãƒ ã‚¢ãƒƒãƒ— - å„ç‚¹ã‚’å€‹åˆ¥ã‚¯ãƒ©ã‚¹ã‚¿ã¨ã—ã¦é–‹å§‹ã—ã€çµ±åˆ</li>
<li><strong>åˆ†å‰²å‹ï¼ˆDivisiveï¼‰</strong>: ãƒˆãƒƒãƒ—ãƒ€ã‚¦ãƒ³ - å…¨ãƒ‡ãƒ¼ã‚¿ã‚’1ã¤ã®ã‚¯ãƒ©ã‚¹ã‚¿ã¨ã—ã¦é–‹å§‹ã—ã€åˆ†å‰²</li>
</ul>

<h3>å‡é›†å‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </h3>

<div class="mermaid">
graph TD
    A[å„ãƒ‡ãƒ¼ã‚¿ç‚¹ã‚’å€‹åˆ¥ã‚¯ãƒ©ã‚¹ã‚¿ã«] --> B[æœ€ã‚‚è¿‘ã„ã‚¯ãƒ©ã‚¹ã‚¿å¯¾ã‚’è¦‹ã¤ã‘ã‚‹]
    B --> C[2ã¤ã®ã‚¯ãƒ©ã‚¹ã‚¿ã‚’çµ±åˆ]
    C --> D{1ã¤ã®ã‚¯ãƒ©ã‚¹ã‚¿?}
    D -->|No| B
    D -->|Yes| E[ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ å®Œæˆ]

    style A fill:#e3f2fd
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#ffe0b2
    style E fill:#e8f5e9
</div>

<h3>é€£çµæ³•ï¼ˆLinkage Methodsï¼‰</h3>

<p>ã‚¯ãƒ©ã‚¹ã‚¿é–“ã®è·é›¢ã‚’è¨ˆç®—ã™ã‚‹æ–¹æ³•ï¼š</p>

<table>
<thead>
<tr>
<th>é€£çµæ³•</th>
<th>è·é›¢ã®å®šç¾©</th>
<th>ç‰¹å¾´</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>å˜é€£çµ</strong><br>(Single)</td>
<td>$\min(\text{dist}(a, b))$</td>
<td>æœ€ã‚‚è¿‘ã„ç‚¹åŒå£«ã®è·é›¢ã€‚é•·ã„é–çŠ¶ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä½œã‚‹</td>
</tr>
<tr>
<td><strong>å®Œå…¨é€£çµ</strong><br>(Complete)</td>
<td>$\max(\text{dist}(a, b))$</td>
<td>æœ€ã‚‚é ã„ç‚¹åŒå£«ã®è·é›¢ã€‚ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãªã‚¯ãƒ©ã‚¹ã‚¿</td>
</tr>
<tr>
<td><strong>å¹³å‡é€£çµ</strong><br>(Average)</td>
<td>$\text{mean}(\text{dist}(a, b))$</td>
<td>å…¨ç‚¹å¯¾ã®å¹³å‡è·é›¢ã€‚ãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ã„</td>
</tr>
<tr>
<td><strong>Wardæ³•</strong><br>(Ward)</td>
<td>ã‚¯ãƒ©ã‚¹ã‚¿å†…åˆ†æ•£ã®å¢—åŠ é‡</td>
<td>åˆ†æ•£ã‚’æœ€å°åŒ–ã€‚æœ€ã‚‚ã‚ˆãä½¿ã‚ã‚Œã‚‹</td>
</tr>
</tbody>
</table>

<h3>å®Ÿè£…ä¾‹</h3>

<pre><code class="language-python">from scipy.cluster.hierarchy import dendrogram, linkage
from sklearn.cluster import AgglomerativeClustering

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
np.random.seed(42)
X_small = np.random.randn(20, 2)
X_small[:10] += [3, 3]  # 1ã¤ç›®ã®ã‚¯ãƒ©ã‚¹ã‚¿
X_small[10:] += [-3, -3]  # 2ã¤ç›®ã®ã‚¯ãƒ©ã‚¹ã‚¿

# éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ï¼ˆWardæ³•ï¼‰
linkage_matrix = linkage(X_small, method='ward')

# ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ ã®æç”»
plt.figure(figsize=(14, 6))

plt.subplot(1, 2, 1)
dendrogram(linkage_matrix)
plt.xlabel('ã‚µãƒ³ãƒ—ãƒ«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹', fontsize=12)
plt.ylabel('è·é›¢', fontsize=12)
plt.title('ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ ï¼ˆWardæ³•ï¼‰', fontsize=14)
plt.grid(True, alpha=0.3, axis='y')

# ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°çµæœã®å¯è¦–åŒ–
agg_clustering = AgglomerativeClustering(n_clusters=2, linkage='ward')
labels = agg_clustering.fit_predict(X_small)

plt.subplot(1, 2, 2)
plt.scatter(X_small[:, 0], X_small[:, 1], c=labels, cmap='viridis',
            s=100, alpha=0.6, edgecolors='black')
plt.xlabel('ç‰¹å¾´é‡ 1', fontsize=12)
plt.ylabel('ç‰¹å¾´é‡ 2', fontsize=12)
plt.title('éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°çµæœ', fontsize=14)
plt.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()
</code></pre>

<h3>ç•°ãªã‚‹é€£çµæ³•ã®æ¯”è¼ƒ</h3>

<pre><code class="language-python"># è¤‡é›‘ãªå½¢çŠ¶ã®ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
from sklearn.datasets import make_moons
X_moons, _ = make_moons(n_samples=200, noise=0.05, random_state=42)

linkage_methods = ['single', 'complete', 'average', 'ward']

plt.figure(figsize=(14, 10))

for i, method in enumerate(linkage_methods):
    agg = AgglomerativeClustering(n_clusters=2, linkage=method)
    labels = agg.fit_predict(X_moons)

    plt.subplot(2, 2, i+1)
    plt.scatter(X_moons[:, 0], X_moons[:, 1], c=labels, cmap='viridis',
                alpha=0.6, edgecolors='black')
    plt.title(f'{method.capitalize()}é€£çµæ³•', fontsize=12)
    plt.xlabel('ç‰¹å¾´é‡ 1')
    plt.ylabel('ç‰¹å¾´é‡ 2')
    plt.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()
</code></pre>

<blockquote>
<p><strong>æ³¨æ„</strong>: Wardæ³•ã¯çƒçŠ¶ã‚¯ãƒ©ã‚¹ã‚¿ã«é©ã—ã¦ã„ã¾ã™ãŒã€å˜é€£çµæ³•ã¯è¤‡é›‘ãªå½¢çŠ¶ã®ã‚¯ãƒ©ã‚¹ã‚¿ã‚‚æ¤œå‡ºã§ãã¾ã™ã€‚</p>
</blockquote>

<hr>

<h2>1.4 DBSCANï¼ˆå¯†åº¦ãƒ™ãƒ¼ã‚¹ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ï¼‰</h2>

<h3>ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ¦‚è¦</h3>

<p><strong>DBSCANï¼ˆDensity-Based Spatial Clustering of Applications with Noiseï¼‰</strong>ã¯ã€å¯†åº¦ãŒé«˜ã„é ˜åŸŸã‚’ã‚¯ãƒ©ã‚¹ã‚¿ã¨ã—ã¦è­˜åˆ¥ã—ã¾ã™ã€‚</p>

<p><strong>ä¸»è¦ãªæ¦‚å¿µ</strong>ï¼š</p>
<ul>
<li><strong>ã‚³ã‚¢ç‚¹ï¼ˆCore Pointï¼‰</strong>: åŠå¾„ $\varepsilon$ å†…ã« $\text{minPts}$ å€‹ä»¥ä¸Šã®ç‚¹ãŒã‚ã‚‹</li>
<li><strong>å¢ƒç•Œç‚¹ï¼ˆBorder Pointï¼‰</strong>: ã‚³ã‚¢ç‚¹ã®è¿‘å‚ã«ã‚ã‚‹ãŒã€ã‚³ã‚¢ç‚¹ã§ã¯ãªã„</li>
<li><strong>ãƒã‚¤ã‚ºç‚¹ï¼ˆNoise Pointï¼‰</strong>: ã©ã®ã‚¯ãƒ©ã‚¹ã‚¿ã«ã‚‚å±ã•ãªã„</li>
</ul>

<h3>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</h3>

<table>
<thead>
<tr>
<th>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</th>
<th>èª¬æ˜</th>
<th>é¸æŠæ–¹æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td>$\varepsilon$ (eps)</td>
<td>è¿‘å‚ã®åŠå¾„</td>
<td>kè·é›¢ã‚°ãƒ©ãƒ•ã§æ±ºå®š</td>
</tr>
<tr>
<td>minPts</td>
<td>ã‚³ã‚¢ç‚¹ã¨ãªã‚‹æœ€å°ç‚¹æ•°</td>
<td>é€šå¸¸ã€æ¬¡å…ƒæ•°Ã—2 ã¾ãŸã¯ 4ä»¥ä¸Š</td>
</tr>
</tbody>
</table>

<h3>ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æµã‚Œ</h3>

<div class="mermaid">
graph TD
    A[æœªè¨ªå•ç‚¹ã‚’é¸æŠ] --> B{ã‚³ã‚¢ç‚¹?}
    B -->|Yes| C[æ–°ã—ã„ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä½œæˆ]
    C --> D[è¿‘å‚ã®å…¨ç‚¹ã‚’æ¢ç´¢]
    D --> E[ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ‹¡å¼µ]
    E --> A
    B -->|No| F{å¢ƒç•Œç‚¹?}
    F -->|Yes| G[æ—¢å­˜ã‚¯ãƒ©ã‚¹ã‚¿ã«è¿½åŠ ]
    F -->|No| H[ãƒã‚¤ã‚ºã¨ã—ã¦ãƒãƒ¼ã‚¯]
    G --> A
    H --> A
    A --> I{å…¨ç‚¹è¨ªå•?}
    I -->|No| A
    I -->|Yes| J[å®Œäº†]

    style A fill:#e3f2fd
    style C fill:#e8f5e9
    style H fill:#ffebee
    style J fill:#f3e5f5
</div>

<h3>å®Ÿè£…ä¾‹</h3>

<pre><code class="language-python">from sklearn.cluster import DBSCAN
from sklearn.datasets import make_moons

# è¤‡é›‘ãªå½¢çŠ¶ã®ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
X_moons, _ = make_moons(n_samples=300, noise=0.05, random_state=42)

# DBSCANã®é©ç”¨
dbscan = DBSCAN(eps=0.3, min_samples=5)
labels = dbscan.fit_predict(X_moons)

# ãƒã‚¤ã‚ºç‚¹ã®æ•°
n_noise = list(labels).count(-1)
n_clusters = len(set(labels)) - (1 if -1 in labels else 0)

print(f"ã‚¯ãƒ©ã‚¹ã‚¿æ•°: {n_clusters}")
print(f"ãƒã‚¤ã‚ºç‚¹æ•°: {n_noise}")

# å¯è¦–åŒ–
plt.figure(figsize=(12, 5))

plt.subplot(1, 2, 1)
plt.scatter(X_moons[:, 0], X_moons[:, 1], alpha=0.6)
plt.title('å…ƒã®ãƒ‡ãƒ¼ã‚¿', fontsize=14)
plt.xlabel('ç‰¹å¾´é‡ 1')
plt.ylabel('ç‰¹å¾´é‡ 2')
plt.grid(True, alpha=0.3)

plt.subplot(1, 2, 2)
plt.scatter(X_moons[:, 0], X_moons[:, 1], c=labels, cmap='viridis',
            alpha=0.6, edgecolors='black')
plt.title(f'DBSCANçµæœ ({n_clusters}ã‚¯ãƒ©ã‚¹ã‚¿, {n_noise}ãƒã‚¤ã‚ºç‚¹)', fontsize=14)
plt.xlabel('ç‰¹å¾´é‡ 1')
plt.ylabel('ç‰¹å¾´é‡ 2')
plt.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()
</code></pre>

<p><strong>å‡ºåŠ›</strong>ï¼š</p>
<pre><code>ã‚¯ãƒ©ã‚¹ã‚¿æ•°: 2
ãƒã‚¤ã‚ºç‚¹æ•°: 4
</code></pre>

<h3>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å½±éŸ¿</h3>

<pre><code class="language-python"># ç•°ãªã‚‹epsã§ã®æ¯”è¼ƒ
eps_values = [0.15, 0.2, 0.3, 0.5]

plt.figure(figsize=(14, 10))

for i, eps in enumerate(eps_values):
    dbscan = DBSCAN(eps=eps, min_samples=5)
    labels = dbscan.fit_predict(X_moons)

    n_clusters = len(set(labels)) - (1 if -1 in labels else 0)
    n_noise = list(labels).count(-1)

    plt.subplot(2, 2, i+1)
    plt.scatter(X_moons[:, 0], X_moons[:, 1], c=labels, cmap='viridis',
                alpha=0.6, edgecolors='black')
    plt.title(f'eps={eps} ({n_clusters}ã‚¯ãƒ©ã‚¹ã‚¿, {n_noise}ãƒã‚¤ã‚º)', fontsize=12)
    plt.xlabel('ç‰¹å¾´é‡ 1')
    plt.ylabel('ç‰¹å¾´é‡ 2')
    plt.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()
</code></pre>

<h3>K-means vs DBSCAN</h3>

<pre><code class="language-python"># K-meansã¨DBSCANã®æ¯”è¼ƒ
kmeans_moons = KMeans(n_clusters=2, random_state=42)
kmeans_labels = kmeans_moons.fit_predict(X_moons)

dbscan_moons = DBSCAN(eps=0.3, min_samples=5)
dbscan_labels = dbscan_moons.fit_predict(X_moons)

plt.figure(figsize=(14, 6))

plt.subplot(1, 2, 1)
plt.scatter(X_moons[:, 0], X_moons[:, 1], c=kmeans_labels,
            cmap='viridis', alpha=0.6, edgecolors='black')
plt.scatter(kmeans_moons.cluster_centers_[:, 0],
            kmeans_moons.cluster_centers_[:, 1],
            c='red', marker='X', s=200, edgecolors='black', linewidths=2)
plt.title('K-meansï¼ˆçƒçŠ¶ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä»®å®šï¼‰', fontsize=14)
plt.xlabel('ç‰¹å¾´é‡ 1')
plt.ylabel('ç‰¹å¾´é‡ 2')
plt.grid(True, alpha=0.3)

plt.subplot(1, 2, 2)
plt.scatter(X_moons[:, 0], X_moons[:, 1], c=dbscan_labels,
            cmap='viridis', alpha=0.6, edgecolors='black')
plt.title('DBSCANï¼ˆä»»æ„å½¢çŠ¶ã‚’æ¤œå‡ºï¼‰', fontsize=14)
plt.xlabel('ç‰¹å¾´é‡ 1')
plt.ylabel('ç‰¹å¾´é‡ 2')
plt.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()
</code></pre>

<blockquote>
<p><strong>é‡è¦</strong>: DBSCANã¯è¤‡é›‘ãªå½¢çŠ¶ã®ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ¤œå‡ºã§ãã€ãƒã‚¤ã‚ºã‚‚æ‰±ãˆã¾ã™ã€‚K-meansã¯çƒçŠ¶ã‚¯ãƒ©ã‚¹ã‚¿ã—ã‹è¦‹ã¤ã‘ã‚‰ã‚Œã¾ã›ã‚“ã€‚</p>
</blockquote>

<hr>

<h2>1.5 ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã®è©•ä¾¡æŒ‡æ¨™</h2>

<h3>è©•ä¾¡ã®é›£ã—ã•</h3>

<p>æ•™å¸«ãªã—å­¦ç¿’ã§ã¯ã€Œæ­£è§£ã€ãŒãªã„ãŸã‚ã€è©•ä¾¡ãŒå›°é›£ã§ã™ã€‚</p>

<ul>
<li><strong>å†…çš„è©•ä¾¡</strong>: ã‚¯ãƒ©ã‚¹ã‚¿ã®å“è³ªã‚’å†…éƒ¨ãƒ‡ãƒ¼ã‚¿ã§è©•ä¾¡</li>
<li><strong>å¤–çš„è©•ä¾¡</strong>: çœŸã®ãƒ©ãƒ™ãƒ«ãŒã‚ã‚‹å ´åˆã®æ¯”è¼ƒ</li>
</ul>

<h3>ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°ï¼ˆSilhouette Scoreï¼‰</h3>

<p>å„ãƒ‡ãƒ¼ã‚¿ç‚¹ã®ã‚¯ãƒ©ã‚¹ã‚¿é©åˆåº¦ã‚’æ¸¬å®šï¼š</p>

<p>$$
s(i) = \frac{b(i) - a(i)}{\max(a(i), b(i))}
$$</p>

<ul>
<li>$a(i)$: ç‚¹ $i$ ã¨åŒã˜ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ä»–ã®ç‚¹ã¨ã®å¹³å‡è·é›¢</li>
<li>$b(i)$: ç‚¹ $i$ ã¨æœ€ã‚‚è¿‘ã„åˆ¥ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ç‚¹ã¨ã®å¹³å‡è·é›¢</li>
<li>ç¯„å›²: $[-1, 1]$ ï¼ˆ1ã«è¿‘ã„ã»ã©è‰¯ã„ï¼‰</li>
</ul>

<pre><code class="language-python">from sklearn.metrics import silhouette_score, silhouette_samples

# ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
X, y_true = make_blobs(n_samples=300, centers=4,
                       cluster_std=0.6, random_state=42)

# ç•°ãªã‚‹kå€¤ã§ã®ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°
silhouette_scores = []
K_range = range(2, 11)

for k in K_range:
    kmeans = KMeans(n_clusters=k, random_state=42, n_init=10)
    labels = kmeans.fit_predict(X)
    score = silhouette_score(X, labels)
    silhouette_scores.append(score)
    print(f"k={k}: ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•° = {score:.3f}")

# å¯è¦–åŒ–
plt.figure(figsize=(10, 6))
plt.plot(K_range, silhouette_scores, 'bo-', linewidth=2, markersize=8)
plt.xlabel('ã‚¯ãƒ©ã‚¹ã‚¿æ•° (k)', fontsize=12)
plt.ylabel('ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°', fontsize=12)
plt.title('ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°ã«ã‚ˆã‚‹ã‚¯ãƒ©ã‚¹ã‚¿æ•°ã®è©•ä¾¡', fontsize=14)
plt.grid(True, alpha=0.3)
plt.axvline(x=4, color='r', linestyle='--', alpha=0.7, label='æœ€é©k=4')
plt.legend()
plt.show()
</code></pre>

<p><strong>å‡ºåŠ›</strong>ï¼š</p>
<pre><code>k=2: ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•° = 0.617
k=3: ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•° = 0.588
k=4: ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•° = 0.651
k=5: ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•° = 0.563
k=6: ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•° = 0.542
k=7: ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•° = 0.528
k=8: ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•° = 0.515
k=9: ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•° = 0.503
k=10: ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•° = 0.491
</code></pre>

<h3>ã‚·ãƒ«ã‚¨ãƒƒãƒˆãƒ—ãƒ­ãƒƒãƒˆ</h3>

<pre><code class="language-python">from sklearn.metrics import silhouette_samples
import matplotlib.cm as cm

# k=4ã§ã®ã‚·ãƒ«ã‚¨ãƒƒãƒˆãƒ—ãƒ­ãƒƒãƒˆ
kmeans = KMeans(n_clusters=4, random_state=42, n_init=10)
labels = kmeans.fit_predict(X)
silhouette_vals = silhouette_samples(X, labels)

plt.figure(figsize=(10, 6))
y_lower = 10

for i in range(4):
    cluster_silhouette_vals = silhouette_vals[labels == i]
    cluster_silhouette_vals.sort()

    size_cluster_i = cluster_silhouette_vals.shape[0]
    y_upper = y_lower + size_cluster_i

    color = cm.viridis(float(i) / 4)
    plt.fill_betweenx(np.arange(y_lower, y_upper),
                      0, cluster_silhouette_vals,
                      facecolor=color, edgecolor=color, alpha=0.7)

    plt.text(-0.05, y_lower + 0.5 * size_cluster_i, str(i))
    y_lower = y_upper + 10

plt.axvline(x=silhouette_score(X, labels), color='red', linestyle='--',
            label=f'å¹³å‡: {silhouette_score(X, labels):.3f}')
plt.xlabel('ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°', fontsize=12)
plt.ylabel('ã‚¯ãƒ©ã‚¹ã‚¿', fontsize=12)
plt.title('ã‚·ãƒ«ã‚¨ãƒƒãƒˆãƒ—ãƒ­ãƒƒãƒˆ (k=4)', fontsize=14)
plt.legend()
plt.grid(True, alpha=0.3)
plt.show()
</code></pre>

<h3>Davies-BouldinæŒ‡æ•°</h3>

<p>ã‚¯ãƒ©ã‚¹ã‚¿ã®åˆ†é›¢åº¦ã‚’æ¸¬å®šï¼ˆä½ã„ã»ã©è‰¯ã„ï¼‰ï¼š</p>

<p>$$
DB = \frac{1}{k} \sum_{i=1}^{k} \max_{i \neq j} \left( \frac{\sigma_i + \sigma_j}{d(c_i, c_j)} \right)
$$</p>

<ul>
<li>$\sigma_i$: ã‚¯ãƒ©ã‚¹ã‚¿ $i$ ã®å†…éƒ¨è·é›¢</li>
<li>$d(c_i, c_j)$: ã‚¯ãƒ©ã‚¹ã‚¿ä¸­å¿ƒé–“ã®è·é›¢</li>
</ul>

<pre><code class="language-python">from sklearn.metrics import davies_bouldin_score

db_scores = []

for k in K_range:
    kmeans = KMeans(n_clusters=k, random_state=42, n_init=10)
    labels = kmeans.fit_predict(X)
    score = davies_bouldin_score(X, labels)
    db_scores.append(score)
    print(f"k={k}: Davies-BouldinæŒ‡æ•° = {score:.3f}")

plt.figure(figsize=(10, 6))
plt.plot(K_range, db_scores, 'bo-', linewidth=2, markersize=8)
plt.xlabel('ã‚¯ãƒ©ã‚¹ã‚¿æ•° (k)', fontsize=12)
plt.ylabel('Davies-BouldinæŒ‡æ•°', fontsize=12)
plt.title('Davies-BouldinæŒ‡æ•°ï¼ˆä½ã„ã»ã©è‰¯ã„ï¼‰', fontsize=14)
plt.grid(True, alpha=0.3)
plt.axvline(x=4, color='r', linestyle='--', alpha=0.7, label='æœ€é©k=4')
plt.legend()
plt.show()
</code></pre>

<h3>Calinski-HarabaszæŒ‡æ•°</h3>

<p>ã‚¯ãƒ©ã‚¹ã‚¿é–“åˆ†æ•£ã¨ã‚¯ãƒ©ã‚¹ã‚¿å†…åˆ†æ•£ã®æ¯”ï¼ˆé«˜ã„ã»ã©è‰¯ã„ï¼‰ï¼š</p>

<p>$$
CH = \frac{\text{tr}(B_k)}{\text{tr}(W_k)} \times \frac{n - k}{k - 1}
$$</p>

<ul>
<li>$B_k$: ã‚¯ãƒ©ã‚¹ã‚¿é–“åˆ†æ•£è¡Œåˆ—</li>
<li>$W_k$: ã‚¯ãƒ©ã‚¹ã‚¿å†…åˆ†æ•£è¡Œåˆ—</li>
</ul>

<pre><code class="language-python">from sklearn.metrics import calinski_harabasz_score

ch_scores = []

for k in K_range:
    kmeans = KMeans(n_clusters=k, random_state=42, n_init=10)
    labels = kmeans.fit_predict(X)
    score = calinski_harabasz_score(X, labels)
    ch_scores.append(score)
    print(f"k={k}: Calinski-HarabaszæŒ‡æ•° = {score:.2f}")

plt.figure(figsize=(10, 6))
plt.plot(K_range, ch_scores, 'bo-', linewidth=2, markersize=8)
plt.xlabel('ã‚¯ãƒ©ã‚¹ã‚¿æ•° (k)', fontsize=12)
plt.ylabel('Calinski-HarabaszæŒ‡æ•°', fontsize=12)
plt.title('Calinski-HarabaszæŒ‡æ•°ï¼ˆé«˜ã„ã»ã©è‰¯ã„ï¼‰', fontsize=14)
plt.grid(True, alpha=0.3)
plt.axvline(x=4, color='r', linestyle='--', alpha=0.7, label='æœ€é©k=4')
plt.legend()
plt.show()
</code></pre>

<h3>è©•ä¾¡æŒ‡æ¨™ã®ã¾ã¨ã‚</h3>

<table>
<thead>
<tr>
<th>æŒ‡æ¨™</th>
<th>ç¯„å›²</th>
<th>æœ€é©å€¤</th>
<th>ç‰¹å¾´</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°</strong></td>
<td>[-1, 1]</td>
<td>é«˜ã„ã»ã©è‰¯ã„</td>
<td>å„ç‚¹ã®é©åˆåº¦ã‚’æ¸¬å®š</td>
</tr>
<tr>
<td><strong>Davies-Bouldin</strong></td>
<td>[0, âˆ)</td>
<td>ä½ã„ã»ã©è‰¯ã„</td>
<td>ã‚¯ãƒ©ã‚¹ã‚¿ã®åˆ†é›¢åº¦</td>
</tr>
<tr>
<td><strong>Calinski-Harabasz</strong></td>
<td>[0, âˆ)</td>
<td>é«˜ã„ã»ã©è‰¯ã„</td>
<td>åˆ†æ•£æ¯”ã«åŸºã¥ã</td>
</tr>
</tbody>
</table>

<hr>

<h2>1.6 å®Ÿè·µä¾‹ï¼šé¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³</h2>

<h3>ãƒ‡ãƒ¼ã‚¿æº–å‚™</h3>

<pre><code class="language-python"># é¡§å®¢ãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆï¼ˆè³¼å…¥é‡‘é¡ã¨é »åº¦ï¼‰
np.random.seed(42)

# 3ã¤ã®é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ
segment1 = np.random.randn(100, 2) * [10, 2] + [30, 5]   # é«˜ä¾¡æ ¼ãƒ»ä½é »åº¦
segment2 = np.random.randn(100, 2) * [5, 5] + [50, 20]   # ä¸­ä¾¡æ ¼ãƒ»é«˜é »åº¦
segment3 = np.random.randn(100, 2) * [8, 3] + [80, 10]   # é«˜ä¾¡æ ¼ãƒ»ä¸­é »åº¦

X_customers = np.vstack([segment1, segment2, segment3])

# ã‚«ãƒ©ãƒ å
feature_names = ['å¹³å‡è³¼å…¥é‡‘é¡ï¼ˆåƒå††ï¼‰', 'æœˆé–“è³¼å…¥å›æ•°']
</code></pre>

<h3>ãƒ‡ãƒ¼ã‚¿ã®æ¨™æº–åŒ–</h3>

<pre><code class="language-python">from sklearn.preprocessing import StandardScaler

# æ¨™æº–åŒ–ï¼ˆç•°ãªã‚‹ã‚¹ã‚±ãƒ¼ãƒ«ã®ç‰¹å¾´é‡ã‚’æ‰±ã†éš›ã«é‡è¦ï¼‰
scaler = StandardScaler()
X_scaled = scaler.fit_transform(X_customers)

print("å…ƒã®ãƒ‡ãƒ¼ã‚¿ã®çµ±è¨ˆ:")
print(f"å¹³å‡è³¼å…¥é‡‘é¡: å¹³å‡={X_customers[:, 0].mean():.1f}, æ¨™æº–åå·®={X_customers[:, 0].std():.1f}")
print(f"æœˆé–“è³¼å…¥å›æ•°: å¹³å‡={X_customers[:, 1].mean():.1f}, æ¨™æº–åå·®={X_customers[:, 1].std():.1f}")

print("\næ¨™æº–åŒ–å¾Œã®ãƒ‡ãƒ¼ã‚¿ã®çµ±è¨ˆ:")
print(f"å¹³å‡è³¼å…¥é‡‘é¡: å¹³å‡={X_scaled[:, 0].mean():.3f}, æ¨™æº–åå·®={X_scaled[:, 0].std():.3f}")
print(f"æœˆé–“è³¼å…¥å›æ•°: å¹³å‡={X_scaled[:, 1].mean():.3f}, æ¨™æº–åå·®={X_scaled[:, 1].std():.3f}")
</code></pre>

<h3>æœ€é©ãªã‚¯ãƒ©ã‚¹ã‚¿æ•°ã®æ±ºå®š</h3>

<pre><code class="language-python"># ã‚¨ãƒ«ãƒœãƒ¼æ³•ã¨ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°ã®ä¸¡æ–¹ã‚’è©•ä¾¡
inertias = []
silhouettes = []
K_range = range(2, 9)

for k in K_range:
    kmeans = KMeans(n_clusters=k, random_state=42, n_init=10)
    kmeans.fit(X_scaled)
    inertias.append(kmeans.inertia_)
    silhouettes.append(silhouette_score(X_scaled, kmeans.labels_))

# å¯è¦–åŒ–
fig, axes = plt.subplots(1, 2, figsize=(14, 5))

axes[0].plot(K_range, inertias, 'bo-', linewidth=2, markersize=8)
axes[0].set_xlabel('ã‚¯ãƒ©ã‚¹ã‚¿æ•° (k)', fontsize=12)
axes[0].set_ylabel('Inertia', fontsize=12)
axes[0].set_title('ã‚¨ãƒ«ãƒœãƒ¼æ³•', fontsize=14)
axes[0].grid(True, alpha=0.3)
axes[0].axvline(x=3, color='r', linestyle='--', alpha=0.7)

axes[1].plot(K_range, silhouettes, 'go-', linewidth=2, markersize=8)
axes[1].set_xlabel('ã‚¯ãƒ©ã‚¹ã‚¿æ•° (k)', fontsize=12)
axes[1].set_ylabel('ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°', fontsize=12)
axes[1].set_title('ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°', fontsize=14)
axes[1].grid(True, alpha=0.3)
axes[1].axvline(x=3, color='r', linestyle='--', alpha=0.7)

plt.tight_layout()
plt.show()
</code></pre>

<h3>æœ€çµ‚çš„ãªã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã¨è§£é‡ˆ</h3>

<pre><code class="language-python"># k=3ã§ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
kmeans_final = KMeans(n_clusters=3, random_state=42, n_init=10)
labels = kmeans_final.fit_predict(X_scaled)

# å…ƒã®ã‚¹ã‚±ãƒ¼ãƒ«ã§ä¸­å¿ƒç‚¹ã‚’è¨ˆç®—
centers_original = scaler.inverse_transform(kmeans_final.cluster_centers_)

# å„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®ç‰¹å¾´ã‚’åˆ†æ
print("=== é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†æ ===\n")
for i in range(3):
    cluster_data = X_customers[labels == i]
    print(f"ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ {i+1} (n={len(cluster_data)}äºº):")
    print(f"  å¹³å‡è³¼å…¥é‡‘é¡: {cluster_data[:, 0].mean():.1f}åƒå††")
    print(f"  æœˆé–“è³¼å…¥å›æ•°: {cluster_data[:, 1].mean():.1f}å›")
    print()

# å¯è¦–åŒ–
plt.figure(figsize=(12, 5))

plt.subplot(1, 2, 1)
plt.scatter(X_customers[:, 0], X_customers[:, 1], c=labels,
            cmap='viridis', alpha=0.6, edgecolors='black', s=50)
plt.scatter(centers_original[:, 0], centers_original[:, 1],
            c='red', marker='X', s=300, edgecolors='black', linewidths=2,
            label='ã‚»ã‚°ãƒ¡ãƒ³ãƒˆä¸­å¿ƒ')
plt.xlabel('å¹³å‡è³¼å…¥é‡‘é¡ï¼ˆåƒå††ï¼‰', fontsize=12)
plt.ylabel('æœˆé–“è³¼å…¥å›æ•°', fontsize=12)
plt.title('é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³çµæœ', fontsize=14)
plt.legend()
plt.grid(True, alpha=0.3)

# ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚µã‚¤ã‚ºã®å¯è¦–åŒ–
plt.subplot(1, 2, 2)
segment_sizes = [np.sum(labels == i) for i in range(3)]
segment_names = [f'ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ {i+1}' for i in range(3)]
colors = plt.cm.viridis(np.linspace(0, 1, 3))
plt.pie(segment_sizes, labels=segment_names, autopct='%1.1f%%',
        colors=colors, startangle=90)
plt.title('ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†å¸ƒ', fontsize=14)

plt.tight_layout()
plt.show()
</code></pre>

<p><strong>å‡ºåŠ›</strong>ï¼š</p>
<pre><code>=== é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†æ ===

ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ 1 (n=100äºº):
  å¹³å‡è³¼å…¥é‡‘é¡: 29.8åƒå††
  æœˆé–“è³¼å…¥å›æ•°: 5.0å›

ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ 2 (n=100äºº):
  å¹³å‡è³¼å…¥é‡‘é¡: 50.2åƒå††
  æœˆé–“è³¼å…¥å›æ•°: 20.1å›

ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ 3 (n=100äºº):
  å¹³å‡è³¼å…¥é‡‘é¡: 79.7åƒå††
  æœˆé–“è³¼å…¥å›æ•°: 10.2å›
</code></pre>

<blockquote>
<p><strong>ãƒ“ã‚¸ãƒã‚¹ã¸ã®ç¤ºå”†</strong>:</p>
<ul>
<li><strong>ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ1</strong>: ä½ä¾¡æ ¼ãƒ»ä½é »åº¦ â†’ æ–°è¦é¡§å®¢ã¾ãŸã¯æ©Ÿä¼šçš„è³¼å…¥è€…</li>
<li><strong>ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ2</strong>: ä¸­ä¾¡æ ¼ãƒ»é«˜é »åº¦ â†’ ãƒ­ã‚¤ãƒ¤ãƒ«é¡§å®¢ï¼ˆæœ€é‡è¦ï¼‰</li>
<li><strong>ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ3</strong>: é«˜ä¾¡æ ¼ãƒ»ä¸­é »åº¦ â†’ ãƒ—ãƒ¬ãƒŸã‚¢ãƒ é¡§å®¢</li>
</ul>
</blockquote>

<hr>

<h2>1.7 æœ¬ç« ã®ã¾ã¨ã‚</h2>

<h3>å­¦ã‚“ã ã“ã¨</h3>

<ol>
<li><p><strong>æ•™å¸«ãªã—å­¦ç¿’ã®æ¦‚å¿µ</strong></p>
<ul>
<li>ãƒ©ãƒ™ãƒ«ãªã—ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç™ºè¦‹</li>
<li>ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã€æ¬¡å…ƒå‰Šæ¸›ã€ç•°å¸¸æ¤œçŸ¥</li>
</ul></li>
<li><p><strong>K-meansã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°</strong></p>
<ul>
<li>ä¸­å¿ƒç‚¹ãƒ™ãƒ¼ã‚¹ã®åˆ†å‰²æ‰‹æ³•</li>
<li>ã‚¨ãƒ«ãƒœãƒ¼æ³•ã§æœ€é©ãª $k$ ã‚’é¸æŠ</li>
<li>é«˜é€Ÿã ãŒçƒçŠ¶ã‚¯ãƒ©ã‚¹ã‚¿ãŒå‰æ</li>
</ul></li>
<li><p><strong>éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°</strong></p>
<ul>
<li>ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ ã§éšå±¤æ§‹é€ ã‚’å¯è¦–åŒ–</li>
<li>é€£çµæ³•ï¼ˆå˜é€£çµã€å®Œå…¨é€£çµã€Wardæ³•ãªã©ï¼‰</li>
<li>ã‚¯ãƒ©ã‚¹ã‚¿æ•°ã‚’äº‹å¾Œçš„ã«æ±ºå®šå¯èƒ½</li>
</ul></li>
<li><p><strong>DBSCAN</strong></p>
<ul>
<li>å¯†åº¦ãƒ™ãƒ¼ã‚¹ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°</li>
<li>ä»»æ„å½¢çŠ¶ã®ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ¤œå‡º</li>
<li>ãƒã‚¤ã‚ºã‚’è‡ªå‹•çš„ã«è­˜åˆ¥</li>
</ul></li>
<li><p><strong>è©•ä¾¡æŒ‡æ¨™</strong></p>
<ul>
<li>ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°: ã‚¯ãƒ©ã‚¹ã‚¿é©åˆåº¦</li>
<li>Davies-BouldinæŒ‡æ•°: åˆ†é›¢åº¦</li>
<li>Calinski-HarabaszæŒ‡æ•°: åˆ†æ•£æ¯”</li>
</ul></li>
</ol>

<h3>ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®é¸æŠæŒ‡é‡</h3>

<table>
<thead>
<tr>
<th>çŠ¶æ³</th>
<th>æ¨å¥¨æ‰‹æ³•</th>
<th>ç†ç”±</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿</td>
<td>K-means</td>
<td>é«˜é€Ÿã§åŠ¹ç‡çš„</td>
</tr>
<tr>
<td>çƒçŠ¶ã‚¯ãƒ©ã‚¹ã‚¿</td>
<td>K-means</td>
<td>æœ€é©ãªæ€§èƒ½</td>
</tr>
<tr>
<td>ä»»æ„å½¢çŠ¶</td>
<td>DBSCAN, å˜é€£çµæ³•</td>
<td>è¤‡é›‘ãªå½¢çŠ¶ã«å¯¾å¿œ</td>
</tr>
<tr>
<td>ãƒã‚¤ã‚ºã‚ã‚Š</td>
<td>DBSCAN</td>
<td>ãƒã‚¤ã‚ºã‚’è‡ªå‹•è­˜åˆ¥</td>
</tr>
<tr>
<td>éšå±¤æ§‹é€ </td>
<td>éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°</td>
<td>ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ åˆ†æ</td>
</tr>
<tr>
<td>ã‚¯ãƒ©ã‚¹ã‚¿æ•°ä¸æ˜</td>
<td>DBSCAN, éšå±¤çš„</td>
<td>è‡ªå‹•çš„ã«æ±ºå®š</td>
</tr>
</tbody>
</table>

<h3>æ¬¡ã®ç« ã¸</h3>

<p>ç¬¬2ç« ã§ã¯ã€<strong>æ¬¡å…ƒå‰Šæ¸›æ‰‹æ³•</strong>ã‚’å­¦ã³ã¾ã™ï¼š</p>
<ul>
<li>ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰</li>
<li>t-SNE</li>
<li>UMAP</li>
<li>ã‚ªãƒ¼ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ€</li>
</ul>

<hr>

<h2>æ¼”ç¿’å•é¡Œ</h2>

<h3>å•é¡Œ1ï¼ˆé›£æ˜“åº¦ï¼šeasyï¼‰</h3>
<p>æ•™å¸«ã‚ã‚Šå­¦ç¿’ã¨æ•™å¸«ãªã—å­¦ç¿’ã®é•ã„ã‚’3ã¤æŒ™ã’ã¦ãã ã•ã„ã€‚</p>

<details>
<summary>è§£ç­”ä¾‹</summary>

<p><strong>è§£ç­”</strong>ï¼š</p>
<ol>
<li><strong>ãƒ‡ãƒ¼ã‚¿</strong>: æ•™å¸«ã‚ã‚Šå­¦ç¿’ã¯ãƒ©ãƒ™ãƒ«ä»˜ããƒ‡ãƒ¼ã‚¿ã€æ•™å¸«ãªã—å­¦ç¿’ã¯ãƒ©ãƒ™ãƒ«ãªã—ãƒ‡ãƒ¼ã‚¿</li>
<li><strong>ç›®çš„</strong>: æ•™å¸«ã‚ã‚Šå­¦ç¿’ã¯äºˆæ¸¬ã€æ•™å¸«ãªã—å­¦ç¿’ã¯ãƒ‘ã‚¿ãƒ¼ãƒ³ç™ºè¦‹</li>
<li><strong>è©•ä¾¡</strong>: æ•™å¸«ã‚ã‚Šå­¦ç¿’ã¯ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§è©•ä¾¡ã€æ•™å¸«ãªã—å­¦ç¿’ã¯å†…çš„æŒ‡æ¨™ã‚„å¯è¦–åŒ–</li>
</ol>

</details>

<h3>å•é¡Œ2ï¼ˆé›£æ˜“åº¦ï¼šmediumï¼‰</h3>
<p>ä»¥ä¸‹ã®ãƒ‡ãƒ¼ã‚¿ã§K-meansã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ï¼ˆk=2ï¼‰ã‚’å®Ÿè£…ã—ã€å„ã‚¯ãƒ©ã‚¹ã‚¿ã®ä¸­å¿ƒã‚’æ±‚ã‚ã¦ãã ã•ã„ã€‚</p>

<pre><code class="language-python">X = np.array([[1, 2], [1.5, 1.8], [5, 8], [8, 8], [1, 0.6], [9, 11]])
</code></pre>

<details>
<summary>è§£ç­”ä¾‹</summary>

<pre><code class="language-python">import numpy as np
from sklearn.cluster import KMeans
import matplotlib.pyplot as plt

X = np.array([[1, 2], [1.5, 1.8], [5, 8], [8, 8], [1, 0.6], [9, 11]])

# K-meansã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
kmeans = KMeans(n_clusters=2, random_state=42, n_init=10)
labels = kmeans.fit_predict(X)

print("ã‚¯ãƒ©ã‚¹ã‚¿ãƒ©ãƒ™ãƒ«:", labels)
print("\nã‚¯ãƒ©ã‚¹ã‚¿ä¸­å¿ƒ:")
print(kmeans.cluster_centers_)

# å¯è¦–åŒ–
plt.figure(figsize=(8, 6))
plt.scatter(X[:, 0], X[:, 1], c=labels, cmap='viridis',
            s=100, edgecolors='black')
plt.scatter(kmeans.cluster_centers_[:, 0],
            kmeans.cluster_centers_[:, 1],
            c='red', marker='X', s=300, edgecolors='black', linewidths=2)
plt.xlabel('ç‰¹å¾´é‡ 1')
plt.ylabel('ç‰¹å¾´é‡ 2')
plt.title('K-meansã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°çµæœ')
plt.grid(True, alpha=0.3)
plt.show()
</code></pre>

<p><strong>å‡ºåŠ›</strong>ï¼š</p>
<pre><code>ã‚¯ãƒ©ã‚¹ã‚¿ãƒ©ãƒ™ãƒ«: [0 0 1 1 0 1]

ã‚¯ãƒ©ã‚¹ã‚¿ä¸­å¿ƒ:
[[1.17 1.47]
 [7.33 9.  ]]
</code></pre>

</details>

<h3>å•é¡Œ3ï¼ˆé›£æ˜“åº¦ï¼šmediumï¼‰</h3>
<p>ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°ãŒ -0.5 ã®å ´åˆã€ãã®ãƒ‡ãƒ¼ã‚¿ç‚¹ã«ã¤ã„ã¦ã©ã®ã‚ˆã†ãªã“ã¨ãŒè¨€ãˆã¾ã™ã‹ï¼Ÿ</p>

<details>
<summary>è§£ç­”ä¾‹</summary>

<p><strong>è§£ç­”</strong>ï¼š</p>
<p>ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°ãŒè² ã®å€¤ï¼ˆ-0.5ï¼‰ã¨ã„ã†ã“ã¨ã¯ï¼š</p>
<ul>
<li><strong>é–“é•ã£ãŸã‚¯ãƒ©ã‚¹ã‚¿ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒé«˜ã„</strong></li>
<li>$a(i) > b(i)$ ã§ã‚ã‚Šã€åŒã˜ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ç‚¹ã¨ã®è·é›¢ãŒã€åˆ¥ã®ã‚¯ãƒ©ã‚¹ã‚¿ã¨ã®è·é›¢ã‚ˆã‚Šã‚‚å¤§ãã„</li>
<li>ãã®ãƒ‡ãƒ¼ã‚¿ç‚¹ã¯åˆ¥ã®ã‚¯ãƒ©ã‚¹ã‚¿ã«å±ã™ã¹ã</li>
</ul>

<p><strong>ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¿‚æ•°ã®è§£é‡ˆ</strong>ï¼š</p>
<ul>
<li>$s(i) \approx 1$: é©åˆ‡ã«åˆ†é¡ã•ã‚Œã¦ã„ã‚‹</li>
<li>$s(i) \approx 0$: ã‚¯ãƒ©ã‚¹ã‚¿å¢ƒç•Œä¸Šã«ã‚ã‚‹</li>
<li>$s(i) < 0$: é–“é•ã£ãŸã‚¯ãƒ©ã‚¹ã‚¿ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹</li>
</ul>

</details>

<h3>å•é¡Œ4ï¼ˆé›£æ˜“åº¦ï¼šhardï¼‰</h3>
<p>K-meansã¨DBSCANã®é•·æ‰€ã¨çŸ­æ‰€ã‚’æ¯”è¼ƒã—ã€ã©ã®ã‚ˆã†ãªå ´åˆã«ãã‚Œãã‚Œã‚’ä½¿ã†ã¹ãã‹èª¬æ˜ã—ã¦ãã ã•ã„ã€‚</p>

<details>
<summary>è§£ç­”ä¾‹</summary>

<p><strong>K-means</strong>ï¼š</p>

<p>é•·æ‰€ï¼š</p>
<ul>
<li>é«˜é€Ÿã§å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã«é©ç”¨å¯èƒ½</li>
<li>å®Ÿè£…ãŒã‚·ãƒ³ãƒ—ãƒ«</li>
<li>çµæœãŒè§£é‡ˆã—ã‚„ã™ã„</li>
</ul>

<p>çŸ­æ‰€ï¼š</p>
<ul>
<li>ã‚¯ãƒ©ã‚¹ã‚¿æ•° $k$ ã‚’äº‹å‰ã«æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹</li>
<li>çƒçŠ¶ã‚¯ãƒ©ã‚¹ã‚¿ã—ã‹æ¤œå‡ºã§ããªã„</li>
<li>å¤–ã‚Œå€¤ã«æ•æ„Ÿ</li>
<li>åˆæœŸå€¤ã«ä¾å­˜ã™ã‚‹</li>
</ul>

<p><strong>DBSCAN</strong>ï¼š</p>

<p>é•·æ‰€ï¼š</p>
<ul>
<li>ä»»æ„å½¢çŠ¶ã®ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ¤œå‡ºå¯èƒ½</li>
<li>ãƒã‚¤ã‚ºã‚’è‡ªå‹•çš„ã«è­˜åˆ¥</li>
<li>ã‚¯ãƒ©ã‚¹ã‚¿æ•°ã‚’è‡ªå‹•æ±ºå®š</li>
<li>å¤–ã‚Œå€¤ã«é ‘å¥</li>
</ul>

<p>çŸ­æ‰€ï¼š</p>
<ul>
<li>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆeps, min_samplesï¼‰ã®èª¿æ•´ãŒé›£ã—ã„</li>
<li>å¯†åº¦ãŒç•°ãªã‚‹ã‚¯ãƒ©ã‚¹ã‚¿ã®æ¤œå‡ºãŒå›°é›£</li>
<li>é«˜æ¬¡å…ƒãƒ‡ãƒ¼ã‚¿ã§æ€§èƒ½ãŒä½ä¸‹</li>
</ul>

<p><strong>ä½¿ã„åˆ†ã‘</strong>ï¼š</p>

<table>
<thead>
<tr>
<th>çŠ¶æ³</th>
<th>æ¨å¥¨æ‰‹æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td>çƒçŠ¶ã‚¯ãƒ©ã‚¹ã‚¿ã€ã‚¯ãƒ©ã‚¹ã‚¿æ•°ãŒæ—¢çŸ¥</td>
<td>K-means</td>
</tr>
<tr>
<td>è¤‡é›‘ãªå½¢çŠ¶ã€ãƒã‚¤ã‚ºã‚ã‚Š</td>
<td>DBSCAN</td>
</tr>
<tr>
<td>å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã€é€Ÿåº¦é‡è¦–</td>
<td>K-means</td>
</tr>
<tr>
<td>ã‚¯ãƒ©ã‚¹ã‚¿æ•°ãŒä¸æ˜</td>
<td>DBSCAN</td>
</tr>
<tr>
<td>å¯†åº¦ãƒ™ãƒ¼ã‚¹ã®å®šç¾©ãŒè‡ªç„¶</td>
<td>DBSCAN</td>
</tr>
</tbody>
</table>

</details>

<h3>å•é¡Œ5ï¼ˆé›£æ˜“åº¦ï¼šhardï¼‰</h3>
<p>ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Œæˆã•ã›ã€éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã§ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ ã‚’æç”»ã—ã¦ãã ã•ã„ã€‚</p>

<pre><code class="language-python">from scipy.cluster.hierarchy import dendrogram, linkage
import numpy as np
import matplotlib.pyplot as plt

# ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
np.random.seed(42)
X = np.random.randn(15, 2)

# ã“ã“ã«å®Ÿè£…
</code></pre>

<details>
<summary>è§£ç­”ä¾‹</summary>

<pre><code class="language-python">from scipy.cluster.hierarchy import dendrogram, linkage
from sklearn.cluster import AgglomerativeClustering
import numpy as np
import matplotlib.pyplot as plt

# ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
np.random.seed(42)
X = np.random.randn(15, 2)

# éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ï¼ˆWardæ³•ï¼‰
linkage_matrix = linkage(X, method='ward')

# ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ ã®æç”»
plt.figure(figsize=(12, 5))

plt.subplot(1, 2, 1)
dendrogram(linkage_matrix)
plt.xlabel('ã‚µãƒ³ãƒ—ãƒ«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹', fontsize=12)
plt.ylabel('è·é›¢', fontsize=12)
plt.title('ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ ï¼ˆWardæ³•ï¼‰', fontsize=14)
plt.grid(True, alpha=0.3, axis='y')

# k=3ã§ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
agg = AgglomerativeClustering(n_clusters=3, linkage='ward')
labels = agg.fit_predict(X)

plt.subplot(1, 2, 2)
plt.scatter(X[:, 0], X[:, 1], c=labels, cmap='viridis',
            s=100, edgecolors='black', alpha=0.7)
for i, (x, y) in enumerate(X):
    plt.annotate(str(i), (x, y), fontsize=9, alpha=0.7)
plt.xlabel('ç‰¹å¾´é‡ 1', fontsize=12)
plt.ylabel('ç‰¹å¾´é‡ 2', fontsize=12)
plt.title('éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°çµæœ (k=3)', fontsize=14)
plt.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print("ã‚¯ãƒ©ã‚¹ã‚¿ãƒ©ãƒ™ãƒ«:", labels)
print("\nå„ã‚¯ãƒ©ã‚¹ã‚¿ã®ã‚µã‚¤ã‚º:")
for i in range(3):
    print(f"ã‚¯ãƒ©ã‚¹ã‚¿ {i}: {np.sum(labels == i)}å€‹")
</code></pre>

<p><strong>å‡ºåŠ›</strong>ï¼š</p>
<pre><code>ã‚¯ãƒ©ã‚¹ã‚¿ãƒ©ãƒ™ãƒ«: [2 0 1 2 0 1 0 2 1 0 2 1 0 1 2]

å„ã‚¯ãƒ©ã‚¹ã‚¿ã®ã‚µã‚¤ã‚º:
ã‚¯ãƒ©ã‚¹ã‚¿ 0: 6å€‹
ã‚¯ãƒ©ã‚¹ã‚¿ 1: 5å€‹
ã‚¯ãƒ©ã‚¹ã‚¿ 2: 4å€‹
</code></pre>

</details>

<hr>

<h2>å‚è€ƒæ–‡çŒ®</h2>

<ol>
<li>MacQueen, J. (1967). "Some methods for classification and analysis of multivariate observations". <em>Proceedings of the Fifth Berkeley Symposium on Mathematical Statistics and Probability</em>.</li>
<li>Ester, M., Kriegel, H. P., Sander, J., & Xu, X. (1996). "A density-based algorithm for discovering clusters in large spatial databases with noise". <em>KDD</em>.</li>
<li>Kaufman, L., & Rousseeuw, P. J. (1990). <em>Finding Groups in Data: An Introduction to Cluster Analysis</em>. Wiley.</li>
<li>Hastie, T., Tibshirani, R., & Friedman, J. (2009). <em>The Elements of Statistical Learning</em>. Springer.</li>
</ol>

<div class="navigation">
    <a href="index.html" class="nav-button">â† ã‚·ãƒªãƒ¼ã‚ºç›®æ¬¡</a>
    <a href="chapter2-dimensionality-reduction.html" class="nav-button">æ¬¡ã®ç« : æ¬¡å…ƒå‰Šæ¸› â†’</a>
</div>

    </main>

    
    <section class="disclaimer">
        <h3>å…è²¬äº‹é …</h3>
        <ul>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯æ•™è‚²ãƒ»ç ”ç©¶ãƒ»æƒ…å ±æä¾›ã®ã¿ã‚’ç›®çš„ã¨ã—ã¦ãŠã‚Šã€å°‚é–€çš„ãªåŠ©è¨€(æ³•å¾‹ãƒ»ä¼šè¨ˆãƒ»æŠ€è¡“çš„ä¿è¨¼ãªã©)ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŠã‚ˆã³ä»˜éšã™ã‚‹ã‚³ãƒ¼ãƒ‰ä¾‹ã¯ã€Œç¾çŠ¶æœ‰å§¿(AS IS)ã€ã§æä¾›ã•ã‚Œã€æ˜ç¤ºã¾ãŸã¯é»™ç¤ºã‚’å•ã‚ãšã€å•†å“æ€§ã€ç‰¹å®šç›®çš„é©åˆæ€§ã€æ¨©åˆ©éä¾µå®³ã€æ­£ç¢ºæ€§ãƒ»å®Œå…¨æ€§ã€å‹•ä½œãƒ»å®‰å…¨æ€§ç­‰ã„ã‹ãªã‚‹ä¿è¨¼ã‚‚ã—ã¾ã›ã‚“ã€‚</li>
            <li>å¤–éƒ¨ãƒªãƒ³ã‚¯ã€ç¬¬ä¸‰è€…ãŒæä¾›ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ„ãƒ¼ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç­‰ã®å†…å®¹ãƒ»å¯ç”¨æ€§ãƒ»å®‰å…¨æ€§ã«ã¤ã„ã¦ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ©ç”¨ãƒ»å®Ÿè¡Œãƒ»è§£é‡ˆã«ã‚ˆã‚Šç›´æ¥çš„ãƒ»é–“æ¥çš„ãƒ»ä»˜éšçš„ãƒ»ç‰¹åˆ¥ãƒ»çµæœçš„ãƒ»æ‡²ç½°çš„æå®³ãŒç”Ÿã˜ãŸå ´åˆã§ã‚‚ã€é©ç”¨æ³•ã§è¨±å®¹ã•ã‚Œã‚‹æœ€å¤§é™ã®ç¯„å›²ã§ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å†…å®¹ã¯ã€äºˆå‘Šãªãå¤‰æ›´ãƒ»æ›´æ–°ãƒ»æä¾›åœæ­¢ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‘—ä½œæ¨©ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯æ˜è¨˜ã•ã‚ŒãŸæ¡ä»¶(ä¾‹: CC BY 4.0)ã«å¾“ã„ã¾ã™ã€‚å½“è©²ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯é€šå¸¸ã€ç„¡ä¿è¨¼æ¡é …ã‚’å«ã¿ã¾ã™ã€‚</li>
        </ul>
    </section>

<footer>
        <p><strong>ä½œæˆè€…</strong>: AI Terakoya Content Team</p>
        <p><strong>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</strong>: 1.0 | <strong>ä½œæˆæ—¥</strong>: 2025-10-20</p>
        <p><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong>: Creative Commons BY 4.0</p>
        <p>Â© 2025 AI Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>
