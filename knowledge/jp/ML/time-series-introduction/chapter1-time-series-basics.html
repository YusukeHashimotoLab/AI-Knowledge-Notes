<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬1ç« ï¼šæ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿åŸºç¤ - AI Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #7b2cbf;
            --color-accent-light: #9d4edd;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #3182ce;
            --color-link-hover: #2c5aa0;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .mermaid {
            text-align: center;
            margin: var(--spacing-lg) 0;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        details {
            background-color: var(--color-bg-alt);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            color: var(--color-primary);
            user-select: none;
            padding: var(--spacing-xs);
            margin: calc(-1 * var(--spacing-md));
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        summary:hover {
            background-color: rgba(123, 44, 191, 0.1);
        }

        details[open] summary {
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-border);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }
        .disclaimer {
            max-width: 900px;
            margin: 2rem auto;
            padding: 1.5rem;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 4px;
        }

        .disclaimer h3 {
            color: #495057;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .disclaimer ul {
            list-style: none;
            padding-left: 0;
        }

        .disclaimer li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
            font-size: 0.9rem;
            color: #6c757d;
            line-height: 1.6;
        }

        .disclaimer li::before {
            content: "âš ï¸";
            position: absolute;
            left: 0;
        }


        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }
    
        
    
        /* Breadcrumb styles */
        .breadcrumb {
            background: #f7fafc;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.9rem;
        }

        .breadcrumb-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumb a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .breadcrumb-separator {
            color: #a0aec0;
            margin: 0 0.25rem;
        }

        .breadcrumb-current {
            color: #4a5568;
            font-weight: 500;
        }
    </style>

    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>

    <style>
        /* Locale Switcher Styles */
        .locale-switcher {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 6px;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .current-locale {
            font-weight: 600;
            color: #7b2cbf;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .locale-separator {
            color: #adb5bd;
            font-weight: 300;
        }

        .locale-link {
            color: #f093fb;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }

        .locale-link:hover {
            background: rgba(240, 147, 251, 0.1);
            color: #d07be8;
            transform: translateY(-1px);
        }

        .locale-meta {
            color: #868e96;
            font-size: 0.85rem;
            font-style: italic;
            margin-left: auto;
        }

        @media (max-width: 768px) {
            .locale-switcher {
                font-size: 0.85rem;
                padding: 0.4rem 0.8rem;
            }
            .locale-meta {
                display: none;
            }
        }
    </style>
</head>
<body>
            <div class="locale-switcher">
<span class="current-locale">ğŸŒ JP</span>
<span class="locale-separator">|</span>
<a href="../../../en/ML/time-series-introduction/chapter1-time-series-basics.html" class="locale-link">ğŸ‡¬ğŸ‡§ EN</a>
<span class="locale-separator">|</span>
<span class="locale-meta">Last sync: 2025-11-16</span>
</div>
<nav class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="../../index.html">AIå¯ºå­å±‹ãƒˆãƒƒãƒ—</a><span class="breadcrumb-separator">â€º</span><a href="../../ML/index.html">æ©Ÿæ¢°å­¦ç¿’</a><span class="breadcrumb-separator">â€º</span><a href="../../ML/time-series-introduction/index.html">Time Series</a><span class="breadcrumb-separator">â€º</span><span class="breadcrumb-current">Chapter 1</span>
        </div>
    </nav>

        <header>
        <div class="header-content">
            <h1>ç¬¬1ç« ï¼šæ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿åŸºç¤</h1>
            <p class="subtitle">æ™‚ç³»åˆ—åˆ†æã®åŸºç›¤ - ãƒ‡ãƒ¼ã‚¿ã®ç†è§£ã¨å‰å‡¦ç†</p>
            <div class="meta">
                <span class="meta-item">ğŸ“– èª­äº†æ™‚é–“: 25-30åˆ†</span>
                <span class="meta-item">ğŸ“Š é›£æ˜“åº¦: åˆç´š</span>
                <span class="meta-item">ğŸ’» ã‚³ãƒ¼ãƒ‰ä¾‹: 10å€‹</span>
                <span class="meta-item">ğŸ“ æ¼”ç¿’å•é¡Œ: 5å•</span>
            </div>
        </div>
    </header>

    <main class="container">

<h2>å­¦ç¿’ç›®æ¨™</h2>
<p>ã“ã®ç« ã‚’èª­ã‚€ã“ã¨ã§ã€ä»¥ä¸‹ã‚’ç¿’å¾—ã§ãã¾ã™ï¼š</p>
<ul>
<li>âœ… æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®å®šç¾©ã¨ç‰¹å¾´ã‚’ç†è§£ã™ã‚‹</li>
<li>âœ… pandasã§æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ãˆã‚‹</li>
<li>âœ… æ™‚ç³»åˆ—ã®å¯è¦–åŒ–ã¨æ¢ç´¢çš„åˆ†æãŒã§ãã‚‹</li>
<li>âœ… å®šå¸¸æ€§ã®æ¦‚å¿µã¨æ¤œå®šæ–¹æ³•ã‚’ç†è§£ã™ã‚‹</li>
<li>âœ… è‡ªå·±ç›¸é–¢ã¨åè‡ªå·±ç›¸é–¢ã‚’è§£é‡ˆã§ãã‚‹</li>
<li>âœ… æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®å‰å‡¦ç†ã‚’å®Ÿè¡Œã§ãã‚‹</li>
</ul>

<hr>

<h2>1.1 æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã¨ã¯</h2>

<h3>æ™‚ç³»åˆ—ã®å®šç¾©ã¨ç‰¹å¾´</h3>
<p><strong>æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ï¼ˆTime Series Dataï¼‰</strong>ã¯ã€æ™‚é–“é †ã«è¨˜éŒ²ã•ã‚ŒãŸè¦³æ¸¬å€¤ã®é›†ã¾ã‚Šã§ã™ã€‚</p>

<blockquote>
<p>æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®é‡è¦ãªç‰¹å¾´ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆé–“ã«<strong>æ™‚é–“çš„ãªä¾å­˜é–¢ä¿‚</strong>ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã§ã™ã€‚</p>
</blockquote>

<h3>æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®ç‰¹æ€§</h3>

<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>èª¬æ˜</th>
<th>ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>æ™‚é–“çš„é †åº</strong></td>
<td>ãƒ‡ãƒ¼ã‚¿ã®é †åºãŒé‡è¦</td>
<td>éå»ã®æ ªä¾¡ãŒæœªæ¥ã«å½±éŸ¿</td>
</tr>
<tr>
<td><strong>è‡ªå·±ç›¸é–¢</strong></td>
<td>éå»ã®å€¤ã¨ç¾åœ¨ã®å€¤ãŒç›¸é–¢</td>
<td>æ°—æ¸©ã®é€£ç¶šæ€§</td>
</tr>
<tr>
<td><strong>ãƒˆãƒ¬ãƒ³ãƒ‰</strong></td>
<td>é•·æœŸçš„ãªä¸Šæ˜‡ãƒ»ä¸‹é™å‚¾å‘</td>
<td>å£²ä¸Šã®æˆé•·</td>
</tr>
<tr>
<td><strong>å­£ç¯€æ€§</strong></td>
<td>å‘¨æœŸçš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³</td>
<td>å¤ã®é›»åŠ›æ¶ˆè²»å¢—åŠ </td>
</tr>
<tr>
<td><strong>éå®šå¸¸æ€§</strong></td>
<td>çµ±è¨ˆçš„æ€§è³ªãŒæ™‚é–“ã§å¤‰åŒ–</td>
<td>æ ªä¾¡ã®ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£å¤‰å‹•</td>
</tr>
</tbody>
</table>

<h3>æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®ç¨®é¡</h3>

<table>
<thead>
<tr>
<th>åˆ†é¡</th>
<th>èª¬æ˜</th>
<th>ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ç­‰é–“éš”</strong></td>
<td>ä¸€å®šã®é–“éš”ã§è¦³æ¸¬</td>
<td>æ—¥æ¬¡æ ªä¾¡ã€æ™‚é–“ã”ã¨ã®æ°—æ¸©</td>
</tr>
<tr>
<td><strong>ä¸ç­‰é–“éš”</strong></td>
<td>ä¸è¦å‰‡ãªé–“éš”ã§è¦³æ¸¬</td>
<td>ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ã€å–å¼•ãƒ‡ãƒ¼ã‚¿</td>
</tr>
<tr>
<td><strong>å˜å¤‰é‡</strong></td>
<td>1ã¤ã®å¤‰æ•°ã‚’è¦³æ¸¬</td>
<td>æ°—æ¸©ã®ã¿</td>
</tr>
<tr>
<td><strong>å¤šå¤‰é‡</strong></td>
<td>è¤‡æ•°ã®å¤‰æ•°ã‚’åŒæ™‚è¦³æ¸¬</td>
<td>æ°—æ¸©ã€æ¹¿åº¦ã€æ°—åœ§</td>
</tr>
</tbody>
</table>

<h3>ãƒ“ã‚¸ãƒã‚¹ã«ãŠã‘ã‚‹æ™‚ç³»åˆ—åˆ†æ</h3>

<ul>
<li><strong>éœ€è¦äºˆæ¸¬</strong>: å£²ä¸Šã€åœ¨åº«ã€ç‰©æµã®æœ€é©åŒ–</li>
<li><strong>é‡‘èåˆ†æ</strong>: æ ªä¾¡äºˆæ¸¬ã€ãƒªã‚¹ã‚¯ç®¡ç†</li>
<li><strong>ç•°å¸¸æ¤œçŸ¥</strong>: ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ã€ä¸æ­£æ¤œçŸ¥</li>
<li><strong>ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿</strong>: IoTã€è£½é€ æ¥­ã®å“è³ªç®¡ç†</li>
<li><strong>çµŒæ¸ˆåˆ†æ</strong>: GDPã€å¤±æ¥­ç‡ã€ã‚¤ãƒ³ãƒ•ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</li>
</ul>

<h3>pandasã§ã®æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿åŸºç¤</h3>

<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# æ—¥ä»˜ç¯„å›²ã®ç”Ÿæˆ
dates = pd.date_range(start='2023-01-01', end='2023-12-31', freq='D')

# æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ
np.random.seed(42)
ts_data = pd.DataFrame({
    'date': dates,
    'sales': np.random.randint(100, 500, len(dates)) + np.arange(len(dates)) * 0.5,
    'temperature': 15 + 10 * np.sin(2 * np.pi * np.arange(len(dates)) / 365) + np.random.randn(len(dates)) * 2
})

# dateã‚«ãƒ©ãƒ ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«è¨­å®š
ts_data.set_index('date', inplace=True)

print("=== æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®æ¦‚è¦ ===")
print(ts_data.head(10))
print(f"\nãƒ‡ãƒ¼ã‚¿å‹:\n{ts_data.dtypes}")
print(f"\nã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å‹: {type(ts_data.index)}")
print(f"\nåŸºæœ¬çµ±è¨ˆ:\n{ts_data.describe()}")

# å¯è¦–åŒ–
fig, axes = plt.subplots(2, 1, figsize=(12, 8))

axes[0].plot(ts_data.index, ts_data['sales'], color='blue', alpha=0.7)
axes[0].set_xlabel('æ—¥ä»˜')
axes[0].set_ylabel('å£²ä¸Š')
axes[0].set_title('æ—¥æ¬¡å£²ä¸Šæ¨ç§»', fontsize=14)
axes[0].grid(True, alpha=0.3)

axes[1].plot(ts_data.index, ts_data['temperature'], color='red', alpha=0.7)
axes[1].set_xlabel('æ—¥ä»˜')
axes[1].set_ylabel('æ°—æ¸© (Â°C)')
axes[1].set_title('æ—¥æ¬¡æ°—æ¸©æ¨ç§»', fontsize=14)
axes[1].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()
</code></pre>

<h3>datetimeã®ä¾¿åˆ©ãªæ“ä½œ</h3>

<pre><code class="language-python"># æ—¥ä»˜ã®ãƒ‘ãƒ¼ã‚¹
date_str = '2023-01-15'
parsed_date = pd.to_datetime(date_str)
print(f"ãƒ‘ãƒ¼ã‚¹ã•ã‚ŒãŸæ—¥ä»˜: {parsed_date}")
print(f"å‹: {type(parsed_date)}")

# æ—¥ä»˜ç¯„å›²ã®ä½œæˆ
# æ—¥æ¬¡
daily = pd.date_range('2023-01-01', '2023-01-10', freq='D')
print(f"\næ—¥æ¬¡: {daily[:5]}")

# é€±æ¬¡ï¼ˆæ—¥æ›œæ—¥å§‹ã¾ã‚Šï¼‰
weekly = pd.date_range('2023-01-01', periods=10, freq='W')
print(f"é€±æ¬¡: {weekly[:3]}")

# æœˆæ¬¡ï¼ˆæœˆæœ«ï¼‰
monthly = pd.date_range('2023-01-01', periods=12, freq='M')
print(f"æœˆæ¬¡: {monthly[:3]}")

# æ™‚é–“å˜ä½
hourly = pd.date_range('2023-01-01', periods=24, freq='H')
print(f"æ™‚é–“: {hourly[:3]}")

# æ—¥ä»˜è¦ç´ ã®æŠ½å‡º
ts_data['year'] = ts_data.index.year
ts_data['month'] = ts_data.index.month
ts_data['day'] = ts_data.index.day
ts_data['dayofweek'] = ts_data.index.dayofweek  # æœˆæ›œ=0
ts_data['quarter'] = ts_data.index.quarter

print("\n=== æ—¥ä»˜è¦ç´ ã®æŠ½å‡º ===")
print(ts_data.head())

# ã‚¹ãƒ©ã‚¤ã‚·ãƒ³ã‚°
print("\n=== æ™‚ç³»åˆ—ã‚¹ãƒ©ã‚¤ã‚·ãƒ³ã‚° ===")
print(f"2023å¹´1æœˆã®ãƒ‡ãƒ¼ã‚¿:\n{ts_data['2023-01'].head()}")
print(f"\n1æœˆ1æ—¥ã‹ã‚‰1æœˆ7æ—¥:\n{ts_data['2023-01-01':'2023-01-07']}")
</code></pre>

<hr>

<h2>1.2 æ™‚ç³»åˆ—ã®å¯è¦–åŒ–ã¨æ¢ç´¢</h2>

<h3>æ™‚ç³»åˆ—ãƒ—ãƒ­ãƒƒãƒˆ</h3>

<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# ã‚ˆã‚Šè¤‡é›‘ãªæ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆ
np.random.seed(42)
dates = pd.date_range('2020-01-01', '2023-12-31', freq='D')

# ãƒˆãƒ¬ãƒ³ãƒ‰ + å­£ç¯€æ€§ + ãƒã‚¤ã‚º
trend = np.arange(len(dates)) * 0.5
seasonality = 100 * np.sin(2 * np.pi * np.arange(len(dates)) / 365)
noise = np.random.randn(len(dates)) * 20

sales = 1000 + trend + seasonality + noise

ts = pd.Series(sales, index=dates, name='sales')

# åŸºæœ¬çš„ãªå¯è¦–åŒ–
fig, axes = plt.subplots(3, 1, figsize=(14, 10))

# å…¨æœŸé–“
axes[0].plot(ts.index, ts.values, color='steelblue', linewidth=1)
axes[0].set_ylabel('å£²ä¸Š')
axes[0].set_title('æ™‚ç³»åˆ—ãƒ—ãƒ­ãƒƒãƒˆ - å…¨æœŸé–“', fontsize=14)
axes[0].grid(True, alpha=0.3)

# 2023å¹´ã®ã¿
ts_2023 = ts['2023']
axes[1].plot(ts_2023.index, ts_2023.values, color='coral', linewidth=1.5)
axes[1].set_ylabel('å£²ä¸Š')
axes[1].set_title('æ™‚ç³»åˆ—ãƒ—ãƒ­ãƒƒãƒˆ - 2023å¹´', fontsize=14)
axes[1].grid(True, alpha=0.3)

# 2023å¹´1-3æœˆã®ã¿
ts_q1 = ts['2023-01':'2023-03']
axes[2].plot(ts_q1.index, ts_q1.values, color='green', linewidth=2, marker='o', markersize=3)
axes[2].set_xlabel('æ—¥ä»˜')
axes[2].set_ylabel('å£²ä¸Š')
axes[2].set_title('æ™‚ç³»åˆ—ãƒ—ãƒ­ãƒƒãƒˆ - 2023å¹´Q1', fontsize=14)
axes[2].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print("=== åŸºæœ¬çµ±è¨ˆ ===")
print(ts.describe())
</code></pre>

<h3>ç§»å‹•å¹³å‡ï¼ˆRolling Statisticsï¼‰</h3>

<pre><code class="language-python"># ç§»å‹•å¹³å‡ã¨ç§»å‹•æ¨™æº–åå·®
rolling_mean_7 = ts.rolling(window=7).mean()
rolling_mean_30 = ts.rolling(window=30).mean()
rolling_std_30 = ts.rolling(window=30).std()

fig, axes = plt.subplots(2, 1, figsize=(14, 10))

# ç§»å‹•å¹³å‡
axes[0].plot(ts.index, ts.values, label='å…ƒãƒ‡ãƒ¼ã‚¿', alpha=0.5, linewidth=0.8)
axes[0].plot(rolling_mean_7.index, rolling_mean_7.values,
             label='7æ—¥ç§»å‹•å¹³å‡', color='orange', linewidth=2)
axes[0].plot(rolling_mean_30.index, rolling_mean_30.values,
             label='30æ—¥ç§»å‹•å¹³å‡', color='red', linewidth=2)
axes[0].set_ylabel('å£²ä¸Š')
axes[0].set_title('ç§»å‹•å¹³å‡', fontsize=14)
axes[0].legend()
axes[0].grid(True, alpha=0.3)

# ç§»å‹•æ¨™æº–åå·®
axes[1].plot(rolling_std_30.index, rolling_std_30.values,
             color='purple', linewidth=2)
axes[1].set_xlabel('æ—¥ä»˜')
axes[1].set_ylabel('æ¨™æº–åå·®')
axes[1].set_title('30æ—¥ç§»å‹•æ¨™æº–åå·®ï¼ˆãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼‰', fontsize=14)
axes[1].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print("=== ç§»å‹•çµ±è¨ˆé‡ ===")
print(f"7æ—¥ç§»å‹•å¹³å‡ï¼ˆæœ€æ–°5ä»¶ï¼‰:\n{rolling_mean_7.tail()}")
print(f"\n30æ—¥ç§»å‹•æ¨™æº–åå·®ï¼ˆæœ€æ–°5ä»¶ï¼‰:\n{rolling_std_30.tail()}")
</code></pre>

<h3>æ™‚ç³»åˆ—åˆ†è§£ï¼ˆDecompositionï¼‰</h3>

<p>æ™‚ç³»åˆ—ã¯ä»¥ä¸‹ã®æˆåˆ†ã«åˆ†è§£ã§ãã¾ã™ï¼š</p>

<ul>
<li><strong>ãƒˆãƒ¬ãƒ³ãƒ‰ï¼ˆTrendï¼‰</strong>: é•·æœŸçš„ãªå‚¾å‘</li>
<li><strong>å­£ç¯€æ€§ï¼ˆSeasonalityï¼‰</strong>: å‘¨æœŸçš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³</li>
<li><strong>æ®‹å·®ï¼ˆResidualï¼‰</strong>: ãƒ©ãƒ³ãƒ€ãƒ ãªãƒã‚¤ã‚º</li>
</ul>

<p>åˆ†è§£ãƒ¢ãƒ‡ãƒ«ï¼š</p>
<ul>
<li><strong>åŠ æ³•ãƒ¢ãƒ‡ãƒ«</strong>: $y_t = T_t + S_t + R_t$</li>
<li><strong>ä¹—æ³•ãƒ¢ãƒ‡ãƒ«</strong>: $y_t = T_t \times S_t \times R_t$</li>
</ul>

<pre><code class="language-python">from statsmodels.tsa.seasonal import seasonal_decompose

# å­£ç¯€æ€§åˆ†è§£ï¼ˆåŠ æ³•ãƒ¢ãƒ‡ãƒ«ï¼‰
decomposition = seasonal_decompose(ts, model='additive', period=365)

# åˆ†è§£çµæœã®å–å¾—
trend = decomposition.trend
seasonal = decomposition.seasonal
residual = decomposition.resid

# å¯è¦–åŒ–
fig, axes = plt.subplots(4, 1, figsize=(14, 12))

# å…ƒãƒ‡ãƒ¼ã‚¿
axes[0].plot(ts.index, ts.values, color='blue', linewidth=1)
axes[0].set_ylabel('å£²ä¸Š')
axes[0].set_title('å…ƒã®æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿', fontsize=14)
axes[0].grid(True, alpha=0.3)

# ãƒˆãƒ¬ãƒ³ãƒ‰
axes[1].plot(trend.index, trend.values, color='red', linewidth=2)
axes[1].set_ylabel('ãƒˆãƒ¬ãƒ³ãƒ‰')
axes[1].set_title('ãƒˆãƒ¬ãƒ³ãƒ‰æˆåˆ†', fontsize=14)
axes[1].grid(True, alpha=0.3)

# å­£ç¯€æ€§
axes[2].plot(seasonal.index, seasonal.values, color='green', linewidth=1)
axes[2].set_ylabel('å­£ç¯€æ€§')
axes[2].set_title('å­£ç¯€æ€§æˆåˆ†', fontsize=14)
axes[2].grid(True, alpha=0.3)

# æ®‹å·®
axes[3].plot(residual.index, residual.values, color='purple', linewidth=1, alpha=0.7)
axes[3].axhline(y=0, color='black', linestyle='--', linewidth=1)
axes[3].set_xlabel('æ—¥ä»˜')
axes[3].set_ylabel('æ®‹å·®')
axes[3].set_title('æ®‹å·®æˆåˆ†', fontsize=14)
axes[3].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print("=== åˆ†è§£çµ±è¨ˆ ===")
print(f"ãƒˆãƒ¬ãƒ³ãƒ‰:\n{trend.describe()}")
print(f"\nå­£ç¯€æ€§:\n{seasonal.describe()}")
print(f"\næ®‹å·®:\n{residual.describe()}")
</code></pre>

<hr>

<h2>1.3 å®šå¸¸æ€§</h2>

<h3>å®šå¸¸æ€§ã®å®šç¾©</h3>

<p><strong>å®šå¸¸æ€§ï¼ˆStationarityï¼‰</strong>ã¯ã€æ™‚ç³»åˆ—ã®çµ±è¨ˆçš„æ€§è³ªãŒæ™‚é–“ã«ã‚ˆã£ã¦å¤‰åŒ–ã—ãªã„ã“ã¨ã‚’æŒ‡ã—ã¾ã™ã€‚</p>

<h3>å¼±å®šå¸¸æ€§ï¼ˆWeak Stationarityï¼‰</h3>

<p>ä»¥ä¸‹ã®3ã¤ã®æ¡ä»¶ã‚’æº€ãŸã™ï¼š</p>

<ol>
<li><strong>ä¸€å®šã®å¹³å‡</strong>: $E[y_t] = \mu$ ï¼ˆã™ã¹ã¦ã® $t$ ã§ä¸€å®šï¼‰</li>
<li><strong>ä¸€å®šã®åˆ†æ•£</strong>: $\text{Var}[y_t] = \sigma^2$ ï¼ˆã™ã¹ã¦ã® $t$ ã§ä¸€å®šï¼‰</li>
<li><strong>è‡ªå·±å…±åˆ†æ•£ãŒæ™‚ç‚¹ã®ã¿ã«ä¾å­˜</strong>: $\text{Cov}(y_t, y_{t-k})$ ã¯ $k$ ã®ã¿ã«ä¾å­˜</li>
</ol>

<h3>å¼·å®šå¸¸æ€§ï¼ˆStrict Stationarityï¼‰</h3>

<p>ä»»æ„ã®æ™‚ç‚¹ã®é›†åˆ $\{t_1, t_2, \ldots, t_n\}$ ã¨ä»»æ„ã®ãƒ©ã‚° $k$ ã«ã¤ã„ã¦ã€</p>

$$
F(y_{t_1}, y_{t_2}, \ldots, y_{t_n}) = F(y_{t_1+k}, y_{t_2+k}, \ldots, y_{t_n+k})
$$

<p>å®Ÿå‹™ã§ã¯å¼±å®šå¸¸æ€§ã‚’ã€Œå®šå¸¸æ€§ã€ã¨ã—ã¦æ‰±ã„ã¾ã™ã€‚</p>

<h3>å®šå¸¸æ€§ã®é‡è¦æ€§</h3>

<ul>
<li>å¤šãã®æ™‚ç³»åˆ—ãƒ¢ãƒ‡ãƒ«ï¼ˆARIMAç­‰ï¼‰ã¯å®šå¸¸æ€§ã‚’å‰æã¨ã™ã‚‹</li>
<li>éå®šå¸¸ãƒ‡ãƒ¼ã‚¿ã¯äºˆæ¸¬ãŒä¸å®‰å®šã«ãªã‚‹</li>
<li>å®šå¸¸åŒ–ã«ã‚ˆã‚Šäºˆæ¸¬ç²¾åº¦ãŒå‘ä¸Šã™ã‚‹</li>
</ul>

<h3>ADFæ¤œå®šï¼ˆAugmented Dickey-Fuller Testï¼‰</h3>

<p><strong>å¸°ç„¡ä»®èª¬</strong>: æ™‚ç³»åˆ—ã¯éå®šå¸¸ï¼ˆå˜ä½æ ¹ã‚’æŒã¤ï¼‰</p>
<p><strong>å¯¾ç«‹ä»®èª¬</strong>: æ™‚ç³»åˆ—ã¯å®šå¸¸</p>

<pre><code class="language-python">from statsmodels.tsa.stattools import adfuller
import pandas as pd
import numpy as np

# éå®šå¸¸ãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆï¼ˆãƒ©ãƒ³ãƒ€ãƒ ã‚¦ã‚©ãƒ¼ã‚¯ï¼‰
np.random.seed(42)
random_walk = np.cumsum(np.random.randn(1000))

# å®šå¸¸ãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆï¼ˆãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚ºï¼‰
white_noise = np.random.randn(1000)

def adf_test(series, name):
    """ADFæ¤œå®šã®å®Ÿè¡Œã¨çµæœè¡¨ç¤º"""
    result = adfuller(series, autolag='AIC')

    print(f"\n=== {name} ã®ADFæ¤œå®š ===")
    print(f"ADFçµ±è¨ˆé‡: {result[0]:.4f}")
    print(f"på€¤: {result[1]:.4f}")
    print(f"ãƒ©ã‚°æ•°: {result[2]}")
    print(f"è¦³æ¸¬æ•°: {result[3]}")
    print(f"è‡¨ç•Œå€¤:")
    for key, value in result[4].items():
        print(f"  {key}: {value:.4f}")

    if result[1] < 0.05:
        print("çµè«–: å®šå¸¸ï¼ˆp < 0.05ï¼‰")
    else:
        print("çµè«–: éå®šå¸¸ï¼ˆp >= 0.05ï¼‰")

    return result

# æ¤œå®šå®Ÿè¡Œ
adf_random_walk = adf_test(random_walk, "ãƒ©ãƒ³ãƒ€ãƒ ã‚¦ã‚©ãƒ¼ã‚¯ï¼ˆéå®šå¸¸ï¼‰")
adf_white_noise = adf_test(white_noise, "ãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚ºï¼ˆå®šå¸¸ï¼‰")
adf_sales = adf_test(ts.values, "å£²ä¸Šãƒ‡ãƒ¼ã‚¿")

# å¯è¦–åŒ–
fig, axes = plt.subplots(3, 1, figsize=(14, 10))

axes[0].plot(random_walk, color='red', linewidth=1)
axes[0].set_ylabel('å€¤')
axes[0].set_title(f'ãƒ©ãƒ³ãƒ€ãƒ ã‚¦ã‚©ãƒ¼ã‚¯ï¼ˆéå®šå¸¸ï¼‰ - ADF på€¤: {adf_random_walk[1]:.4f}',
                  fontsize=14)
axes[0].grid(True, alpha=0.3)

axes[1].plot(white_noise, color='green', linewidth=1)
axes[1].set_ylabel('å€¤')
axes[1].set_title(f'ãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚ºï¼ˆå®šå¸¸ï¼‰ - ADF på€¤: {adf_white_noise[1]:.4f}',
                  fontsize=14)
axes[1].grid(True, alpha=0.3)

axes[2].plot(ts.values, color='blue', linewidth=1)
axes[2].set_xlabel('æ™‚ç‚¹')
axes[2].set_ylabel('å£²ä¸Š')
axes[2].set_title(f'å£²ä¸Šãƒ‡ãƒ¼ã‚¿ - ADF på€¤: {adf_sales[1]:.4f}', fontsize=14)
axes[2].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()
</code></pre>

<h3>KPSSæ¤œå®šï¼ˆKwiatkowski-Phillips-Schmidt-Shin Testï¼‰</h3>

<p><strong>å¸°ç„¡ä»®èª¬</strong>: æ™‚ç³»åˆ—ã¯å®šå¸¸</p>
<p><strong>å¯¾ç«‹ä»®èª¬</strong>: æ™‚ç³»åˆ—ã¯éå®šå¸¸</p>

<blockquote>
<p><strong>æ³¨æ„</strong>: KPSSã¯ADFã¨å¸°ç„¡ä»®èª¬ãŒé€†ã§ã™ã€‚ä¸¡æ–¹ã®æ¤œå®šã‚’ä½µç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šç¢ºå®Ÿãªåˆ¤æ–­ãŒã§ãã¾ã™ã€‚</p>
</blockquote>

<pre><code class="language-python">from statsmodels.tsa.stattools import kpss

def kpss_test(series, name):
    """KPSSæ¤œå®šã®å®Ÿè¡Œã¨çµæœè¡¨ç¤º"""
    result = kpss(series, regression='c', nlags='auto')

    print(f"\n=== {name} ã®KPSSæ¤œå®š ===")
    print(f"KPSSçµ±è¨ˆé‡: {result[0]:.4f}")
    print(f"på€¤: {result[1]:.4f}")
    print(f"ãƒ©ã‚°æ•°: {result[2]}")
    print(f"è‡¨ç•Œå€¤:")
    for key, value in result[3].items():
        print(f"  {key}: {value:.4f}")

    if result[1] < 0.05:
        print("çµè«–: éå®šå¸¸ï¼ˆp < 0.05ï¼‰")
    else:
        print("çµè«–: å®šå¸¸ï¼ˆp >= 0.05ï¼‰")

    return result

# æ¤œå®šå®Ÿè¡Œ
kpss_random_walk = kpss_test(random_walk, "ãƒ©ãƒ³ãƒ€ãƒ ã‚¦ã‚©ãƒ¼ã‚¯ï¼ˆéå®šå¸¸ï¼‰")
kpss_white_noise = kpss_test(white_noise, "ãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚ºï¼ˆå®šå¸¸ï¼‰")

# æ¤œå®šçµæœã®çµ±åˆåˆ¤æ–­
print("\n=== çµ±åˆåˆ¤æ–­ï¼ˆADF & KPSSï¼‰===")
results = [
    ("ãƒ©ãƒ³ãƒ€ãƒ ã‚¦ã‚©ãƒ¼ã‚¯", adf_random_walk[1], kpss_random_walk[1]),
    ("ãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚º", adf_white_noise[1], kpss_white_noise[1])
]

for name, adf_p, kpss_p in results:
    print(f"\n{name}:")
    print(f"  ADF på€¤: {adf_p:.4f} ({'å®šå¸¸' if adf_p < 0.05 else 'éå®šå¸¸'})")
    print(f"  KPSS på€¤: {kpss_p:.4f} ({'éå®šå¸¸' if kpss_p < 0.05 else 'å®šå¸¸'})")

    if adf_p < 0.05 and kpss_p >= 0.05:
        print("  â†’ çµè«–: å®šå¸¸")
    elif adf_p >= 0.05 and kpss_p < 0.05:
        print("  â†’ çµè«–: éå®šå¸¸")
    else:
        print("  â†’ çµè«–: åˆ¤å®šãŒä¸ä¸€è‡´ï¼ˆè¦è¿½åŠ åˆ†æï¼‰")
</code></pre>

<hr>

<h2>1.4 è‡ªå·±ç›¸é–¢ã¨åè‡ªå·±ç›¸é–¢</h2>

<h3>ACFï¼ˆAutocorrelation Functionï¼‰</h3>

<p><strong>è‡ªå·±ç›¸é–¢</strong>ã¯ã€æ™‚ç³»åˆ—ã¨ãã®ãƒ©ã‚°ç‰ˆã¨ã®ç›¸é–¢ä¿‚æ•°ã§ã™ã€‚</p>

$$
\text{ACF}(k) = \frac{\text{Cov}(y_t, y_{t-k})}{\text{Var}(y_t)}
$$

<ul>
<li>$k$: ãƒ©ã‚°ï¼ˆæ™‚é–“å·®ï¼‰</li>
<li>å€¤ã®ç¯„å›²: $[-1, 1]$</li>
</ul>

<h3>PACFï¼ˆPartial Autocorrelation Functionï¼‰</h3>

<p><strong>åè‡ªå·±ç›¸é–¢</strong>ã¯ã€ä¸­é–“ã®ãƒ©ã‚°ã®å½±éŸ¿ã‚’é™¤ã„ãŸç›¸é–¢ã§ã™ã€‚</p>

<ul>
<li>$\text{PACF}(k)$: ãƒ©ã‚° $k$ ã®ç›´æ¥çš„ãªç›¸é–¢</li>
<li>ä¸­é–“ãƒ©ã‚° $1, 2, \ldots, k-1$ ã®å½±éŸ¿ã‚’é™¤å»</li>
</ul>

<h3>ACFã¨PACFã®ãƒ—ãƒ­ãƒƒãƒˆ</h3>

<pre><code class="language-python">from statsmodels.graphics.tsaplots import plot_acf, plot_pacf
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd

# ç•°ãªã‚‹ç¨®é¡ã®æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ
np.random.seed(42)
n = 500

# 1. AR(1)ãƒ—ãƒ­ã‚»ã‚¹: y_t = 0.7 * y_{t-1} + Îµ_t
ar1 = [0]
for _ in range(n):
    ar1.append(0.7 * ar1[-1] + np.random.randn())
ar1 = np.array(ar1[1:])

# 2. MA(1)ãƒ—ãƒ­ã‚»ã‚¹: y_t = Îµ_t + 0.7 * Îµ_{t-1}
ma1 = []
epsilon = np.random.randn(n + 1)
for i in range(n):
    ma1.append(epsilon[i] + 0.7 * epsilon[i-1])
ma1 = np.array(ma1)

# 3. ãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚º
white_noise = np.random.randn(n)

# ACF/PACFãƒ—ãƒ­ãƒƒãƒˆ
fig, axes = plt.subplots(3, 3, figsize=(15, 12))

series_list = [
    (ar1, 'AR(1)ãƒ—ãƒ­ã‚»ã‚¹'),
    (ma1, 'MA(1)ãƒ—ãƒ­ã‚»ã‚¹'),
    (white_noise, 'ãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚º')
]

for i, (series, name) in enumerate(series_list):
    # æ™‚ç³»åˆ—ãƒ—ãƒ­ãƒƒãƒˆ
    axes[i, 0].plot(series, linewidth=1)
    axes[i, 0].set_title(name, fontsize=12)
    axes[i, 0].set_ylabel('å€¤')
    axes[i, 0].grid(True, alpha=0.3)

    # ACF
    plot_acf(series, lags=40, ax=axes[i, 1], alpha=0.05)
    axes[i, 1].set_title(f'{name} - ACF', fontsize=12)
    axes[i, 1].grid(True, alpha=0.3)

    # PACF
    plot_pacf(series, lags=40, ax=axes[i, 2], alpha=0.05)
    axes[i, 2].set_title(f'{name} - PACF', fontsize=12)
    axes[i, 2].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print("=== ACF/PACFãƒ‘ã‚¿ãƒ¼ãƒ³ã®è§£é‡ˆ ===")
print("\nAR(1)ãƒ—ãƒ­ã‚»ã‚¹:")
print("  - ACF: æŒ‡æ•°çš„ã«æ¸›è¡°")
print("  - PACF: ãƒ©ã‚°1ã§ã‚«ãƒƒãƒˆã‚ªãƒ•ï¼ˆãã®å¾Œã‚¼ãƒ­ï¼‰")

print("\nMA(1)ãƒ—ãƒ­ã‚»ã‚¹:")
print("  - ACF: ãƒ©ã‚°1ã§ã‚«ãƒƒãƒˆã‚ªãƒ•ï¼ˆãã®å¾Œã‚¼ãƒ­ï¼‰")
print("  - PACF: æŒ‡æ•°çš„ã«æ¸›è¡°")

print("\nãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚º:")
print("  - ACF: ã™ã¹ã¦ã®ãƒ©ã‚°ã§ã‚¼ãƒ­ä»˜è¿‘")
print("  - PACF: ã™ã¹ã¦ã®ãƒ©ã‚°ã§ã‚¼ãƒ­ä»˜è¿‘")
</code></pre>

<h3>Correlogramï¼ˆã‚³ãƒ¬ãƒ­ã‚°ãƒ©ãƒ ï¼‰</h3>

<p>å®Ÿãƒ‡ãƒ¼ã‚¿ã§ã®ACF/PACFåˆ†æï¼š</p>

<pre><code class="language-python"># å£²ä¸Šãƒ‡ãƒ¼ã‚¿ã®ACF/PACF
fig, axes = plt.subplots(3, 1, figsize=(14, 10))

# æ™‚ç³»åˆ—ãƒ—ãƒ­ãƒƒãƒˆ
axes[0].plot(ts.index, ts.values, linewidth=1)
axes[0].set_ylabel('å£²ä¸Š')
axes[0].set_title('å£²ä¸Šãƒ‡ãƒ¼ã‚¿', fontsize=14)
axes[0].grid(True, alpha=0.3)

# ACF
plot_acf(ts.values, lags=100, ax=axes[1], alpha=0.05)
axes[1].set_title('ACFï¼ˆè‡ªå·±ç›¸é–¢ï¼‰', fontsize=14)
axes[1].set_xlabel('ãƒ©ã‚°')
axes[1].grid(True, alpha=0.3)

# PACF
plot_pacf(ts.values, lags=100, ax=axes[2], alpha=0.05)
axes[2].set_title('PACFï¼ˆåè‡ªå·±ç›¸é–¢ï¼‰', fontsize=14)
axes[2].set_xlabel('ãƒ©ã‚°')
axes[2].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print("=== ãƒ©ã‚°é¸æŠã®æŒ‡é‡ ===")
print("ACF/PACFã‹ã‚‰ä»¥ä¸‹ã‚’åˆ¤æ–­:")
print("  - æœ‰æ„ãªãƒ©ã‚°ã®æ•° â†’ ãƒ¢ãƒ‡ãƒ«æ¬¡æ•°ã®æ±ºå®š")
print("  - å­£ç¯€æ€§ãƒ‘ã‚¿ãƒ¼ãƒ³ â†’ å­£ç¯€ãƒ©ã‚°ã®ç‰¹å®š")
print("  - æ¸›è¡°ãƒ‘ã‚¿ãƒ¼ãƒ³ â†’ ARã‹MAã‹ã®åˆ¤æ–­")
</code></pre>

<h3>ãƒ¢ãƒ‡ãƒ«ç‰¹å®šã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³</h3>

<table>
<thead>
<tr>
<th>ãƒ¢ãƒ‡ãƒ«</th>
<th>ACF</th>
<th>PACF</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>AR(p)</strong></td>
<td>æŒ‡æ•°çš„æ¸›è¡°ã¾ãŸã¯æ¸›è¡°æŒ¯å‹•</td>
<td>ãƒ©ã‚° $p$ ã§ã‚«ãƒƒãƒˆã‚ªãƒ•</td>
</tr>
<tr>
<td><strong>MA(q)</strong></td>
<td>ãƒ©ã‚° $q$ ã§ã‚«ãƒƒãƒˆã‚ªãƒ•</td>
<td>æŒ‡æ•°çš„æ¸›è¡°ã¾ãŸã¯æ¸›è¡°æŒ¯å‹•</td>
</tr>
<tr>
<td><strong>ARMA(p,q)</strong></td>
<td>ãƒ©ã‚° $q$ ä»¥é™æ¸›è¡°</td>
<td>ãƒ©ã‚° $p$ ä»¥é™æ¸›è¡°</td>
</tr>
<tr>
<td><strong>ãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚º</strong></td>
<td>ã™ã¹ã¦ã®ãƒ©ã‚°ã§éæœ‰æ„</td>
<td>ã™ã¹ã¦ã®ãƒ©ã‚°ã§éæœ‰æ„</td>
</tr>
</tbody>
</table>

<hr>

<h2>1.5 ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†</h2>

<h3>æ¬ æå€¤ã®å‡¦ç†</h3>

<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# æ¬ æå€¤ã‚’å«ã‚€æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿
np.random.seed(42)
dates = pd.date_range('2023-01-01', periods=365, freq='D')
values = 100 + np.cumsum(np.random.randn(365))

ts_missing = pd.Series(values, index=dates)

# ãƒ©ãƒ³ãƒ€ãƒ ã«æ¬ æå€¤ã‚’ä½œæˆ
missing_indices = np.random.choice(365, size=30, replace=False)
ts_missing.iloc[missing_indices] = np.nan

print("=== æ¬ æå€¤ã®çŠ¶æ³ ===")
print(f"æ¬ ææ•°: {ts_missing.isnull().sum()}")
print(f"æ¬ æç‡: {ts_missing.isnull().sum() / len(ts_missing) * 100:.2f}%")

# æ¬ æå€¤å‡¦ç†ã®æ–¹æ³•

# 1. å‰æ–¹è£œå®Œï¼ˆForward Fillï¼‰
ts_ffill = ts_missing.fillna(method='ffill')

# 2. å¾Œæ–¹è£œå®Œï¼ˆBackward Fillï¼‰
ts_bfill = ts_missing.fillna(method='bfill')

# 3. ç·šå½¢è£œé–“
ts_interpolate = ts_missing.interpolate(method='linear')

# 4. ã‚¹ãƒ—ãƒ©ã‚¤ãƒ³è£œé–“
ts_spline = ts_missing.interpolate(method='spline', order=2)

# å¯è¦–åŒ–
fig, axes = plt.subplots(3, 2, figsize=(15, 12))

methods = [
    (ts_missing, 'å…ƒãƒ‡ãƒ¼ã‚¿ï¼ˆæ¬ æã‚ã‚Šï¼‰'),
    (ts_ffill, 'å‰æ–¹è£œå®Œ'),
    (ts_bfill, 'å¾Œæ–¹è£œå®Œ'),
    (ts_interpolate, 'ç·šå½¢è£œé–“'),
    (ts_spline, 'ã‚¹ãƒ—ãƒ©ã‚¤ãƒ³è£œé–“'),
    (ts_missing.dropna(), 'æ¬ æå‰Šé™¤')
]

for ax, (data, title) in zip(axes.flat, methods):
    ax.plot(data.index, data.values, linewidth=1.5, marker='o' if title == 'å…ƒãƒ‡ãƒ¼ã‚¿ï¼ˆæ¬ æã‚ã‚Šï¼‰' else '', markersize=2)
    ax.set_ylabel('å€¤')
    ax.set_title(title, fontsize=12)
    ax.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print("\n=== å„è£œå®Œæ–¹æ³•ã®çµ±è¨ˆ ===")
print(f"å‰æ–¹è£œå®Œ: å¹³å‡={ts_ffill.mean():.2f}, æ¨™æº–åå·®={ts_ffill.std():.2f}")
print(f"å¾Œæ–¹è£œå®Œ: å¹³å‡={ts_bfill.mean():.2f}, æ¨™æº–åå·®={ts_bfill.std():.2f}")
print(f"ç·šå½¢è£œé–“: å¹³å‡={ts_interpolate.mean():.2f}, æ¨™æº–åå·®={ts_interpolate.std():.2f}")
print(f"ã‚¹ãƒ—ãƒ©ã‚¤ãƒ³: å¹³å‡={ts_spline.mean():.2f}, æ¨™æº–åå·®={ts_spline.std():.2f}")
</code></pre>

<h3>å·®åˆ†ï¼ˆDifferencingï¼‰</h3>

<p><strong>å·®åˆ†å¤‰æ›</strong>ã¯ã€éå®šå¸¸æ™‚ç³»åˆ—ã‚’å®šå¸¸åŒ–ã™ã‚‹åŸºæœ¬æ‰‹æ³•ã§ã™ã€‚</p>

<ul>
<li><strong>1æ¬¡å·®åˆ†</strong>: $\Delta y_t = y_t - y_{t-1}$ï¼ˆãƒˆãƒ¬ãƒ³ãƒ‰é™¤å»ï¼‰</li>
<li><strong>å­£ç¯€å·®åˆ†</strong>: $\Delta_s y_t = y_t - y_{t-s}$ï¼ˆå­£ç¯€æ€§é™¤å»ï¼‰</li>
</ul>

<pre><code class="language-python">from statsmodels.tsa.stattools import adfuller

# éå®šå¸¸ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒˆãƒ¬ãƒ³ãƒ‰ä»˜ãï¼‰
trend_data = ts.copy()

# 1æ¬¡å·®åˆ†
diff_1 = trend_data.diff().dropna()

# 2æ¬¡å·®åˆ†
diff_2 = trend_data.diff().diff().dropna()

# å­£ç¯€å·®åˆ†ï¼ˆ7æ—¥å‘¨æœŸï¼‰
diff_seasonal = trend_data.diff(7).dropna()

# ADFæ¤œå®šã§å®šå¸¸æ€§ç¢ºèª
def quick_adf(data, name):
    result = adfuller(data, autolag='AIC')
    print(f"{name}: ADFçµ±è¨ˆé‡={result[0]:.4f}, på€¤={result[1]:.4f} â†’ {'å®šå¸¸' if result[1] < 0.05 else 'éå®šå¸¸'}")

print("=== å·®åˆ†å¤‰æ›ã«ã‚ˆã‚‹å®šå¸¸åŒ– ===")
quick_adf(trend_data.values, "å…ƒãƒ‡ãƒ¼ã‚¿")
quick_adf(diff_1.values, "1æ¬¡å·®åˆ†")
quick_adf(diff_2.values, "2æ¬¡å·®åˆ†")
quick_adf(diff_seasonal.values, "å­£ç¯€å·®åˆ†(7)")

# å¯è¦–åŒ–
fig, axes = plt.subplots(4, 1, figsize=(14, 12))

axes[0].plot(trend_data.index, trend_data.values, linewidth=1)
axes[0].set_ylabel('å€¤')
axes[0].set_title('å…ƒãƒ‡ãƒ¼ã‚¿ï¼ˆéå®šå¸¸ï¼‰', fontsize=14)
axes[0].grid(True, alpha=0.3)

axes[1].plot(diff_1.index, diff_1.values, linewidth=1, color='orange')
axes[1].axhline(y=0, color='red', linestyle='--', linewidth=1)
axes[1].set_ylabel('å·®åˆ†å€¤')
axes[1].set_title('1æ¬¡å·®åˆ†', fontsize=14)
axes[1].grid(True, alpha=0.3)

axes[2].plot(diff_2.index, diff_2.values, linewidth=1, color='green')
axes[2].axhline(y=0, color='red', linestyle='--', linewidth=1)
axes[2].set_ylabel('å·®åˆ†å€¤')
axes[2].set_title('2æ¬¡å·®åˆ†', fontsize=14)
axes[2].grid(True, alpha=0.3)

axes[3].plot(diff_seasonal.index, diff_seasonal.values, linewidth=1, color='purple')
axes[3].axhline(y=0, color='red', linestyle='--', linewidth=1)
axes[3].set_xlabel('æ—¥ä»˜')
axes[3].set_ylabel('å·®åˆ†å€¤')
axes[3].set_title('å­£ç¯€å·®åˆ†ï¼ˆ7æ—¥ï¼‰', fontsize=14)
axes[3].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()
</code></pre>

<h3>å¯¾æ•°å¤‰æ›</h3>

<p><strong>å¯¾æ•°å¤‰æ›</strong>ã¯ã€åˆ†æ•£ã‚’å®‰å®šåŒ–ã—ã€ä¹—æ³•çš„ãªå­£ç¯€æ€§ã‚’åŠ æ³•çš„ã«å¤‰æ›ã—ã¾ã™ã€‚</p>

<pre><code class="language-python"># ä¹—æ³•çš„ãªå­£ç¯€æ€§ã‚’æŒã¤ãƒ‡ãƒ¼ã‚¿
np.random.seed(42)
dates = pd.date_range('2020-01-01', periods=1000, freq='D')
multiplicative = 100 * (1 + 0.001 * np.arange(1000)) * (1 + 0.3 * np.sin(2 * np.pi * np.arange(1000) / 365)) * (1 + 0.1 * np.random.randn(1000))
ts_mult = pd.Series(multiplicative, index=dates)

# å¯¾æ•°å¤‰æ›
ts_log = np.log(ts_mult)

# å¯è¦–åŒ–
fig, axes = plt.subplots(2, 2, figsize=(15, 10))

# å…ƒãƒ‡ãƒ¼ã‚¿
axes[0, 0].plot(ts_mult.index, ts_mult.values, linewidth=1)
axes[0, 0].set_ylabel('å€¤')
axes[0, 0].set_title('å…ƒãƒ‡ãƒ¼ã‚¿ï¼ˆä¹—æ³•çš„å­£ç¯€æ€§ï¼‰', fontsize=14)
axes[0, 0].grid(True, alpha=0.3)

# å¯¾æ•°å¤‰æ›å¾Œ
axes[0, 1].plot(ts_log.index, ts_log.values, linewidth=1, color='orange')
axes[0, 1].set_ylabel('log(å€¤)')
axes[0, 1].set_title('å¯¾æ•°å¤‰æ›å¾Œï¼ˆåŠ æ³•çš„å­£ç¯€æ€§ï¼‰', fontsize=14)
axes[0, 1].grid(True, alpha=0.3)

# å…ƒãƒ‡ãƒ¼ã‚¿ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ 
axes[1, 0].hist(ts_mult.values, bins=50, edgecolor='black', alpha=0.7)
axes[1, 0].set_xlabel('å€¤')
axes[1, 0].set_ylabel('é »åº¦')
axes[1, 0].set_title('å…ƒãƒ‡ãƒ¼ã‚¿ã®åˆ†å¸ƒ', fontsize=14)
axes[1, 0].grid(True, alpha=0.3)

# å¯¾æ•°å¤‰æ›å¾Œã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ 
axes[1, 1].hist(ts_log.values, bins=50, edgecolor='black', alpha=0.7, color='orange')
axes[1, 1].set_xlabel('log(å€¤)')
axes[1, 1].set_ylabel('é »åº¦')
axes[1, 1].set_title('å¯¾æ•°å¤‰æ›å¾Œã®åˆ†å¸ƒï¼ˆã‚ˆã‚Šæ­£è¦åˆ†å¸ƒã«è¿‘ã„ï¼‰', fontsize=14)
axes[1, 1].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print("=== å¯¾æ•°å¤‰æ›ã®åŠ¹æœ ===")
print(f"å…ƒãƒ‡ãƒ¼ã‚¿: å¹³å‡={ts_mult.mean():.2f}, æ¨™æº–åå·®={ts_mult.std():.2f}, æ­ªåº¦={ts_mult.skew():.2f}")
print(f"å¯¾æ•°å¤‰æ›: å¹³å‡={ts_log.mean():.2f}, æ¨™æº–åå·®={ts_log.std():.2f}, æ­ªåº¦={ts_log.skew():.2f}")
</code></pre>

<h3>æ™‚ç³»åˆ—ã®è¨“ç·´ãƒ»ãƒ†ã‚¹ãƒˆåˆ†å‰²</h3>

<blockquote>
<p><strong>é‡è¦</strong>: æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã§ã¯ã€è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã‚ˆã‚Šæœªæ¥ã®æœŸé–“ã‚’ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ä½¿ã„ã¾ã™ã€‚ãƒ©ãƒ³ãƒ€ãƒ åˆ†å‰²ã¯æ™‚é–“çš„ä¾å­˜æ€§ã‚’ç ´å£Šã™ã‚‹ãŸã‚ä½¿ç”¨ã—ã¾ã›ã‚“ã€‚</p>
</blockquote>

<pre><code class="language-python"># æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®åˆ†å‰²
train_size = int(len(ts) * 0.8)

train = ts[:train_size]
test = ts[train_size:]

print("=== è¨“ç·´ãƒ»ãƒ†ã‚¹ãƒˆåˆ†å‰² ===")
print(f"å…¨ãƒ‡ãƒ¼ã‚¿: {len(ts)}ä»¶")
print(f"è¨“ç·´ãƒ‡ãƒ¼ã‚¿: {len(train)}ä»¶ ({train.index[0]} ï½ {train.index[-1]})")
print(f"ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿: {len(test)}ä»¶ ({test.index[0]} ï½ {test.index[-1]})")

# å¯è¦–åŒ–
plt.figure(figsize=(14, 6))
plt.plot(train.index, train.values, label='è¨“ç·´ãƒ‡ãƒ¼ã‚¿', linewidth=1.5, color='blue')
plt.plot(test.index, test.values, label='ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿', linewidth=1.5, color='red')
plt.axvline(x=train.index[-1], color='green', linestyle='--', linewidth=2, label='åˆ†å‰²ç‚¹')
plt.xlabel('æ—¥ä»˜')
plt.ylabel('å£²ä¸Š')
plt.title('æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®è¨“ç·´ãƒ»ãƒ†ã‚¹ãƒˆåˆ†å‰²', fontsize=14)
plt.legend()
plt.grid(True, alpha=0.3)
plt.tight_layout()
plt.show()

# æ™‚ç³»åˆ—äº¤å·®æ¤œè¨¼ï¼ˆTime Series Cross-Validationï¼‰
from sklearn.model_selection import TimeSeriesSplit

tscv = TimeSeriesSplit(n_splits=5)

print("\n=== æ™‚ç³»åˆ—äº¤å·®æ¤œè¨¼ã®åˆ†å‰² ===")
for i, (train_idx, test_idx) in enumerate(tscv.split(ts.values)):
    print(f"\nFold {i+1}:")
    print(f"  è¨“ç·´: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ {train_idx[0]} ï½ {train_idx[-1]} ({len(train_idx)}ä»¶)")
    print(f"  ãƒ†ã‚¹ãƒˆ: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ {test_idx[0]} ï½ {test_idx[-1]} ({len(test_idx)}ä»¶)")

# å¯è¦–åŒ–
fig, axes = plt.subplots(5, 1, figsize=(14, 12))

for i, (train_idx, test_idx) in enumerate(tscv.split(ts.values)):
    axes[i].plot(ts.index[train_idx], ts.values[train_idx], color='blue', linewidth=1, label='è¨“ç·´')
    axes[i].plot(ts.index[test_idx], ts.values[test_idx], color='red', linewidth=1, label='ãƒ†ã‚¹ãƒˆ')
    axes[i].set_ylabel('å£²ä¸Š')
    axes[i].set_title(f'Fold {i+1}', fontsize=12)
    axes[i].legend(loc='upper left')
    axes[i].grid(True, alpha=0.3)

axes[-1].set_xlabel('æ—¥ä»˜')
plt.tight_layout()
plt.show()
</code></pre>

<hr>

<h2>1.6 æœ¬ç« ã®ã¾ã¨ã‚</h2>

<h3>å­¦ã‚“ã ã“ã¨</h3>

<ol>
<li><p><strong>æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®åŸºç¤</strong></p>
<ul>
<li>æ™‚é–“çš„ä¾å­˜æ€§ãŒå­˜åœ¨ã™ã‚‹</li>
<li>ãƒˆãƒ¬ãƒ³ãƒ‰ã€å­£ç¯€æ€§ã€æ®‹å·®ã®æˆåˆ†</li>
<li>pandasã§ã®æ—¥ä»˜æ“ä½œ</li>
</ul></li>

<li><p><strong>å¯è¦–åŒ–ã¨æ¢ç´¢</strong></p>
<ul>
<li>æ™‚ç³»åˆ—ãƒ—ãƒ­ãƒƒãƒˆã«ã‚ˆã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³æŠŠæ¡</li>
<li>ç§»å‹•çµ±è¨ˆé‡ã§ãƒˆãƒ¬ãƒ³ãƒ‰ç†è§£</li>
<li>åˆ†è§£ã«ã‚ˆã‚Šæˆåˆ†ã‚’åˆ†é›¢</li>
</ul></li>

<li><p><strong>å®šå¸¸æ€§</strong></p>
<ul>
<li>å¼±å®šå¸¸æ€§ã®3æ¡ä»¶</li>
<li>ADFæ¤œå®šã¨KPSSæ¤œå®š</li>
<li>å®šå¸¸åŒ–ã®é‡è¦æ€§</li>
</ul></li>

<li><p><strong>è‡ªå·±ç›¸é–¢</strong></p>
<ul>
<li>ACF: å…¨ãƒ©ã‚°ã¨ã®ç›¸é–¢</li>
<li>PACF: ç›´æ¥çš„ãªç›¸é–¢</li>
<li>ãƒ¢ãƒ‡ãƒ«ç‰¹å®šã¸ã®æ´»ç”¨</li>
</ul></li>

<li><p><strong>å‰å‡¦ç†</strong></p>
<ul>
<li>æ¬ æå€¤ã®è£œå®Œæ–¹æ³•</li>
<li>å·®åˆ†ã«ã‚ˆã‚‹å®šå¸¸åŒ–</li>
<li>å¯¾æ•°å¤‰æ›ã«ã‚ˆã‚‹åˆ†æ•£å®‰å®šåŒ–</li>
<li>é©åˆ‡ãªè¨“ç·´ãƒ»ãƒ†ã‚¹ãƒˆåˆ†å‰²</li>
</ul></li>
</ol>

<h3>æ™‚ç³»åˆ—åˆ†æã®åŸºæœ¬ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</h3>

<div class="mermaid">
graph TD
    A[ç”Ÿãƒ‡ãƒ¼ã‚¿] --> B[æ¢ç´¢çš„åˆ†æ]
    B --> C[å¯è¦–åŒ–ãƒ»çµ±è¨ˆé‡ç¢ºèª]
    C --> D[å®šå¸¸æ€§æ¤œå®š]
    D --> E{å®šå¸¸?}
    E -->|No| F[å·®åˆ†ãƒ»å¤‰æ›]
    F --> D
    E -->|Yes| G[ACF/PACFåˆ†æ]
    G --> H[ãƒ¢ãƒ‡ãƒ«é¸æŠ]
    H --> I[äºˆæ¸¬ãƒ»è©•ä¾¡]

    style A fill:#ffebee
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#e3f2fd
    style E fill:#fff9c4
    style F fill:#ffccbc
    style G fill:#e8f5e9
    style H fill:#fce4ec
    style I fill:#c8e6c9
</div>

<h3>æ¬¡ã®ç« ã¸</h3>

<p>ç¬¬2ç« ã§ã¯ã€<strong>ARIMAãƒ¢ãƒ‡ãƒ«</strong>ã‚’å­¦ã³ã¾ã™ï¼š</p>
<ul>
<li>ARï¼ˆè‡ªå·±å›å¸°ï¼‰ãƒ¢ãƒ‡ãƒ«</li>
<li>MAï¼ˆç§»å‹•å¹³å‡ï¼‰ãƒ¢ãƒ‡ãƒ«</li>
<li>ARIMAï¼ˆè‡ªå·±å›å¸°å’Œåˆ†ç§»å‹•å¹³å‡ï¼‰ãƒ¢ãƒ‡ãƒ«</li>
<li>å­£ç¯€æ€§ARIMAãƒ¢ãƒ‡ãƒ«ï¼ˆSARIMAï¼‰</li>
<li>ãƒ¢ãƒ‡ãƒ«é¸æŠã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¨å®š</li>
</ul>

<hr>

<h2>æ¼”ç¿’å•é¡Œ</h2>

<h3>å•é¡Œ1ï¼ˆé›£æ˜“åº¦ï¼šeasyï¼‰</h3>
<p>å®šå¸¸æ™‚ç³»åˆ—ã¨éå®šå¸¸æ™‚ç³»åˆ—ã®é•ã„ã‚’èª¬æ˜ã—ã€ãªãœå®šå¸¸æ€§ãŒé‡è¦ãªã®ã‹è¿°ã¹ã¦ãã ã•ã„ã€‚</p>

<details>
<summary>è§£ç­”ä¾‹</summary>

<p><strong>è§£ç­”</strong>ï¼š</p>

<p><strong>å®šå¸¸æ™‚ç³»åˆ—</strong>ï¼š</p>
<ul>
<li>å¹³å‡ãŒä¸€å®š</li>
<li>åˆ†æ•£ãŒä¸€å®š</li>
<li>è‡ªå·±å…±åˆ†æ•£ãŒæ™‚ç‚¹å·®ã®ã¿ã«ä¾å­˜</li>
<li>ä¾‹: ãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚ºã€AR(1)ï¼ˆ|Ï†| < 1ï¼‰</li>
</ul>

<p><strong>éå®šå¸¸æ™‚ç³»åˆ—</strong>ï¼š</p>
<ul>
<li>å¹³å‡ã‚„åˆ†æ•£ãŒæ™‚é–“ã¨ã¨ã‚‚ã«å¤‰åŒ–</li>
<li>ãƒˆãƒ¬ãƒ³ãƒ‰ã‚„å­£ç¯€æ€§ã‚’å«ã‚€</li>
<li>ä¾‹: ãƒ©ãƒ³ãƒ€ãƒ ã‚¦ã‚©ãƒ¼ã‚¯ã€æˆé•·ã™ã‚‹å£²ä¸Šãƒ‡ãƒ¼ã‚¿</li>
</ul>

<p><strong>å®šå¸¸æ€§ãŒé‡è¦ãªç†ç”±</strong>ï¼š</p>
<ol>
<li><strong>äºˆæ¸¬ã®å®‰å®šæ€§</strong>: çµ±è¨ˆçš„æ€§è³ªãŒä¸€å®šãªã®ã§ã€æœªæ¥ã®äºˆæ¸¬ãŒä¿¡é ¼ã§ãã‚‹</li>
<li><strong>ãƒ¢ãƒ‡ãƒ«é©ç”¨</strong>: å¤šãã®æ™‚ç³»åˆ—ãƒ¢ãƒ‡ãƒ«ï¼ˆARIMAç­‰ï¼‰ã¯å®šå¸¸æ€§ã‚’å‰æã¨ã™ã‚‹</li>
<li><strong>çµ±è¨ˆçš„æ¨è«–</strong>: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¨å®šã‚„ä»®èª¬æ¤œå®šãŒå¯èƒ½ã«ãªã‚‹</li>
<li><strong>ä¸€èˆ¬åŒ–å¯èƒ½æ€§</strong>: éå»ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒæœªæ¥ã«ã‚‚é©ç”¨ã§ãã‚‹</li>
</ol>

</details>

<h3>å•é¡Œ2ï¼ˆé›£æ˜“åº¦ï¼šmediumï¼‰</h3>
<p>ä»¥ä¸‹ã®ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦ADFæ¤œå®šã‚’å®Ÿè¡Œã—ã€å®šå¸¸æ€§ã‚’åˆ¤æ–­ã—ã¦ãã ã•ã„ã€‚</p>

<pre><code class="language-python">import numpy as np
np.random.seed(123)
data = np.cumsum(np.random.randn(200)) + 10
</code></pre>

<details>
<summary>è§£ç­”ä¾‹</summary>

<pre><code class="language-python">from statsmodels.tsa.stattools import adfuller
import numpy as np
import matplotlib.pyplot as plt

np.random.seed(123)
data = np.cumsum(np.random.randn(200)) + 10

# ADFæ¤œå®š
result = adfuller(data, autolag='AIC')

print("=== ADFæ¤œå®šçµæœ ===")
print(f"ADFçµ±è¨ˆé‡: {result[0]:.4f}")
print(f"på€¤: {result[1]:.4f}")
print(f"ä½¿ç”¨ãƒ©ã‚°æ•°: {result[2]}")
print(f"è¦³æ¸¬æ•°: {result[3]}")
print(f"\nè‡¨ç•Œå€¤:")
for key, value in result[4].items():
    print(f"  {key}: {value:.4f}")

print(f"\nåˆ¤å®š:")
if result[1] < 0.05:
    print("  â†’ å®šå¸¸ï¼ˆp < 0.05, å¸°ç„¡ä»®èª¬ã‚’æ£„å´ï¼‰")
else:
    print("  â†’ éå®šå¸¸ï¼ˆp >= 0.05, å¸°ç„¡ä»®èª¬ã‚’æ£„å´ã§ããªã„ï¼‰")
    print("  â†’ ãƒ‡ãƒ¼ã‚¿ã¯ãƒ©ãƒ³ãƒ€ãƒ ã‚¦ã‚©ãƒ¼ã‚¯ï¼ˆç´¯ç©å’Œï¼‰ãªã®ã§éå®šå¸¸ãŒå¦¥å½“")

# å¯è¦–åŒ–
plt.figure(figsize=(12, 5))
plt.plot(data, linewidth=1.5)
plt.axhline(y=data.mean(), color='red', linestyle='--', label=f'å¹³å‡: {data.mean():.2f}')
plt.xlabel('æ™‚ç‚¹')
plt.ylabel('å€¤')
plt.title(f'æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ©ãƒ³ãƒ€ãƒ ã‚¦ã‚©ãƒ¼ã‚¯ï¼‰ - ADF på€¤: {result[1]:.4f}', fontsize=14)
plt.legend()
plt.grid(True, alpha=0.3)
plt.show()

# 1æ¬¡å·®åˆ†ã§å®šå¸¸åŒ–
diff_data = np.diff(data)
result_diff = adfuller(diff_data, autolag='AIC')

print(f"\n=== 1æ¬¡å·®åˆ†å¾Œã®ADFæ¤œå®š ===")
print(f"ADFçµ±è¨ˆé‡: {result_diff[0]:.4f}")
print(f"på€¤: {result_diff[1]:.4f}")
print(f"åˆ¤å®š: {'å®šå¸¸' if result_diff[1] < 0.05 else 'éå®šå¸¸'}")
</code></pre>

<p><strong>æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›</strong>ï¼š</p>
<pre><code>=== ADFæ¤œå®šçµæœ ===
ADFçµ±è¨ˆé‡: -1.2345
på€¤: 0.6543
â†’ éå®šå¸¸ï¼ˆp >= 0.05ï¼‰

=== 1æ¬¡å·®åˆ†å¾Œã®ADFæ¤œå®š ===
på€¤: 0.0001
åˆ¤å®š: å®šå¸¸
</code></pre>

</details>

<h3>å•é¡Œ3ï¼ˆé›£æ˜“åº¦ï¼šmediumï¼‰</h3>
<p>ACFã¨PACFã®é•ã„ã‚’èª¬æ˜ã—ã€AR(2)ãƒ—ãƒ­ã‚»ã‚¹ã¨MA(2)ãƒ—ãƒ­ã‚»ã‚¹ã®ACF/PACFãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¿°ã¹ã¦ãã ã•ã„ã€‚</p>

<details>
<summary>è§£ç­”ä¾‹</summary>

<p><strong>è§£ç­”</strong>ï¼š</p>

<p><strong>ACFã¨PACFã®é•ã„</strong>ï¼š</p>

<ul>
<li><strong>ACFï¼ˆè‡ªå·±ç›¸é–¢é–¢æ•°ï¼‰</strong>:
<ul>
<li>æ™‚ç³»åˆ—ã¨ãã®ãƒ©ã‚°ç‰ˆã¨ã®ç›¸é–¢</li>
<li>ã™ã¹ã¦ã®ä¸­é–“ãƒ©ã‚°ã®å½±éŸ¿ã‚’å«ã‚€</li>
<li>$\text{Corr}(y_t, y_{t-k})$</li>
</ul>
</li>

<li><strong>PACFï¼ˆåè‡ªå·±ç›¸é–¢é–¢æ•°ï¼‰</strong>:
<ul>
<li>ä¸­é–“ãƒ©ã‚°ã®å½±éŸ¿ã‚’é™¤ã„ãŸç›¸é–¢</li>
<li>ãƒ©ã‚° $k$ ã®ç›´æ¥çš„ãªå½±éŸ¿ã®ã¿</li>
<li>$\text{Corr}(y_t, y_{t-k} \mid y_{t-1}, \ldots, y_{t-k+1})$</li>
</ul>
</li>
</ul>

<p><strong>ãƒ‘ã‚¿ãƒ¼ãƒ³</strong>ï¼š</p>

<table>
<thead>
<tr>
<th>ãƒ¢ãƒ‡ãƒ«</th>
<th>ACF</th>
<th>PACF</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>AR(2)</strong></td>
<td>æŒ‡æ•°çš„æ¸›è¡°ã¾ãŸã¯æ¸›è¡°æŒ¯å‹•ï¼ˆç„¡é™ã«ç¶šãï¼‰</td>
<td>ãƒ©ã‚°2ã§ã‚«ãƒƒãƒˆã‚ªãƒ•ï¼ˆãã®å¾Œã‚¼ãƒ­ï¼‰</td>
</tr>
<tr>
<td><strong>MA(2)</strong></td>
<td>ãƒ©ã‚°2ã§ã‚«ãƒƒãƒˆã‚ªãƒ•ï¼ˆãã®å¾Œã‚¼ãƒ­ï¼‰</td>
<td>æŒ‡æ•°çš„æ¸›è¡°ã¾ãŸã¯æ¸›è¡°æŒ¯å‹•ï¼ˆç„¡é™ã«ç¶šãï¼‰</td>
</tr>
</tbody>
</table>

<p><strong>AR(2)ã®ä¾‹</strong>: $y_t = 0.5y_{t-1} + 0.3y_{t-2} + \epsilon_t$</p>
<ul>
<li>ACF: å¾ã€…ã«æ¸›è¡°ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³</li>
<li>PACF: ãƒ©ã‚°1ã¨ãƒ©ã‚°2ã§æœ‰æ„ã€ãƒ©ã‚°3ä»¥é™ã¯ã‚¼ãƒ­</li>
</ul>

<p><strong>MA(2)ã®ä¾‹</strong>: $y_t = \epsilon_t + 0.5\epsilon_{t-1} + 0.3\epsilon_{t-2}$</p>
<ul>
<li>ACF: ãƒ©ã‚°1ã¨ãƒ©ã‚°2ã§æœ‰æ„ã€ãƒ©ã‚°3ä»¥é™ã¯ã‚¼ãƒ­</li>
<li>PACF: å¾ã€…ã«æ¸›è¡°ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³</li>
</ul>

</details>

<h3>å•é¡Œ4ï¼ˆé›£æ˜“åº¦ï¼šhardï¼‰</h3>
<p>ä»¥ä¸‹ã®æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦ã€é©åˆ‡ãªå‰å‡¦ç†ï¼ˆæ¬ æå€¤å‡¦ç†ã€å®šå¸¸åŒ–ï¼‰ã‚’è¡Œã„ã€å‡¦ç†å‰å¾Œã§ADFæ¤œå®šã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚</p>

<pre><code class="language-python">import pandas as pd
import numpy as np

np.random.seed(42)
dates = pd.date_range('2023-01-01', periods=365, freq='D')
trend = np.arange(365) * 0.5
seasonal = 50 * np.sin(2 * np.pi * np.arange(365) / 365)
noise = np.random.randn(365) * 10
data = 100 + trend + seasonal + noise

ts = pd.Series(data, index=dates)

# æ¬ æå€¤ã‚’è¿½åŠ 
ts.iloc[50:60] = np.nan
ts.iloc[200:205] = np.nan
</code></pre>

<details>
<summary>è§£ç­”ä¾‹</summary>

<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from statsmodels.tsa.stattools import adfuller

np.random.seed(42)
dates = pd.date_range('2023-01-01', periods=365, freq='D')
trend = np.arange(365) * 0.5
seasonal = 50 * np.sin(2 * np.pi * np.arange(365) / 365)
noise = np.random.randn(365) * 10
data = 100 + trend + seasonal + noise

ts = pd.Series(data, index=dates)
ts.iloc[50:60] = np.nan
ts.iloc[200:205] = np.nan

print("=== å‰å‡¦ç†ã‚¹ãƒ†ãƒƒãƒ— ===\n")

# ã‚¹ãƒ†ãƒƒãƒ—1: æ¬ æå€¤ã®ç¢ºèª
print(f"1. æ¬ æå€¤ã®ç¢ºèª")
print(f"   æ¬ ææ•°: {ts.isnull().sum()} ({ts.isnull().sum() / len(ts) * 100:.2f}%)")

# ã‚¹ãƒ†ãƒƒãƒ—2: æ¬ æå€¤ã®è£œå®Œï¼ˆç·šå½¢è£œé–“ï¼‰
ts_filled = ts.interpolate(method='linear')
print(f"\n2. æ¬ æå€¤ã®è£œå®Œï¼ˆç·šå½¢è£œé–“ï¼‰")
print(f"   è£œå®Œå¾Œã®æ¬ ææ•°: {ts_filled.isnull().sum()}")

# ã‚¹ãƒ†ãƒƒãƒ—3: å®šå¸¸æ€§æ¤œå®šï¼ˆå…ƒãƒ‡ãƒ¼ã‚¿ï¼‰
result_original = adfuller(ts_filled.values, autolag='AIC')
print(f"\n3. å…ƒãƒ‡ãƒ¼ã‚¿ã®ADFæ¤œå®š")
print(f"   ADFçµ±è¨ˆé‡: {result_original[0]:.4f}")
print(f"   på€¤: {result_original[1]:.4f}")
print(f"   åˆ¤å®š: {'å®šå¸¸' if result_original[1] < 0.05 else 'éå®šå¸¸'}")

# ã‚¹ãƒ†ãƒƒãƒ—4: 1æ¬¡å·®åˆ†ã«ã‚ˆã‚‹å®šå¸¸åŒ–
ts_diff = ts_filled.diff().dropna()
result_diff = adfuller(ts_diff.values, autolag='AIC')
print(f"\n4. 1æ¬¡å·®åˆ†å¾Œã®ADFæ¤œå®š")
print(f"   ADFçµ±è¨ˆé‡: {result_diff[0]:.4f}")
print(f"   på€¤: {result_diff[1]:.4f}")
print(f"   åˆ¤å®š: {'å®šå¸¸' if result_diff[1] < 0.05 else 'éå®šå¸¸'}")

# å¯è¦–åŒ–
fig, axes = plt.subplots(4, 1, figsize=(14, 12))

# å…ƒãƒ‡ãƒ¼ã‚¿ï¼ˆæ¬ æã‚ã‚Šï¼‰
axes[0].plot(ts.index, ts.values, linewidth=1, marker='o', markersize=2)
axes[0].set_ylabel('å€¤')
axes[0].set_title(f'å…ƒãƒ‡ãƒ¼ã‚¿ï¼ˆæ¬ æã‚ã‚Šï¼‰ - æ¬ ææ•°: {ts.isnull().sum()}', fontsize=14)
axes[0].grid(True, alpha=0.3)

# æ¬ æå€¤è£œå®Œå¾Œ
axes[1].plot(ts_filled.index, ts_filled.values, linewidth=1, color='orange')
axes[1].set_ylabel('å€¤')
axes[1].set_title('ç·šå½¢è£œé–“å¾Œ', fontsize=14)
axes[1].grid(True, alpha=0.3)

# 1æ¬¡å·®åˆ†
axes[2].plot(ts_diff.index, ts_diff.values, linewidth=1, color='green')
axes[2].axhline(y=0, color='red', linestyle='--', linewidth=1)
axes[2].set_ylabel('å·®åˆ†å€¤')
axes[2].set_title(f'1æ¬¡å·®åˆ†ï¼ˆå®šå¸¸åŒ–ï¼‰ - ADF på€¤: {result_diff[1]:.4f}', fontsize=14)
axes[2].grid(True, alpha=0.3)

# ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ æ¯”è¼ƒ
axes[3].hist(ts_filled.values, bins=30, alpha=0.5, label='å…ƒãƒ‡ãƒ¼ã‚¿', edgecolor='black')
axes[3].hist(ts_diff.values, bins=30, alpha=0.5, label='1æ¬¡å·®åˆ†', edgecolor='black')
axes[3].set_xlabel('å€¤')
axes[3].set_ylabel('é »åº¦')
axes[3].set_title('åˆ†å¸ƒã®æ¯”è¼ƒ', fontsize=14)
axes[3].legend()
axes[3].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print("\n=== å‰å‡¦ç†å®Œäº† ===")
print("âœ“ æ¬ æå€¤è£œå®Œå®Œäº†")
print("âœ“ å®šå¸¸åŒ–å®Œäº†ï¼ˆ1æ¬¡å·®åˆ†ï¼‰")
print(f"âœ“ å‡¦ç†å¾Œã®ãƒ‡ãƒ¼ã‚¿æ•°: {len(ts_diff)}")
</code></pre>

</details>

<h3>å•é¡Œ5ï¼ˆé›£æ˜“åº¦ï¼šhardï¼‰</h3>
<p>æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®è¨“ç·´ãƒ»ãƒ†ã‚¹ãƒˆåˆ†å‰²ã«ãŠã„ã¦ã€é€šå¸¸ã®æ©Ÿæ¢°å­¦ç¿’ã®ã‚ˆã†ã«ãƒ©ãƒ³ãƒ€ãƒ åˆ†å‰²ã‚’ä½¿ã£ã¦ã¯ã„ã‘ãªã„ç†ç”±ã‚’èª¬æ˜ã—ã¦ãã ã•ã„ã€‚ã¾ãŸã€é©åˆ‡ãªåˆ†å‰²æ–¹æ³•ã‚’ç¤ºã—ã¦ãã ã•ã„ã€‚</p>

<details>
<summary>è§£ç­”ä¾‹</summary>

<p><strong>è§£ç­”</strong>ï¼š</p>

<p><strong>ãƒ©ãƒ³ãƒ€ãƒ åˆ†å‰²ã‚’ä½¿ã£ã¦ã¯ã„ã‘ãªã„ç†ç”±</strong>ï¼š</p>

<ol>
<li><p><strong>æ™‚é–“çš„ä¾å­˜æ€§ã®ç ´å£Š</strong></p>
<ul>
<li>æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã¯æ™‚é–“é †åºãŒé‡è¦</li>
<li>ãƒ©ãƒ³ãƒ€ãƒ åˆ†å‰²ã™ã‚‹ã¨éå»ã¨æœªæ¥ãŒæ··åœ¨</li>
<li>è‡ªå·±ç›¸é–¢æ§‹é€ ãŒç ´å£Šã•ã‚Œã‚‹</li>
</ul></li>

<li><p><strong>ãƒ‡ãƒ¼ã‚¿ãƒªãƒ¼ã‚¯</strong></p>
<ul>
<li>æœªæ¥ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¨“ç·´ã«ä½¿ã†ã“ã¨ã«ãªã‚‹</li>
<li>ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®æƒ…å ±ãŒè¨“ç·´ã«æ¼ã‚Œã‚‹</li>
<li>æ€§èƒ½ãŒéå¤§è©•ä¾¡ã•ã‚Œã‚‹</li>
</ul></li>

<li><p><strong>ç¾å®Ÿã¨ä¹–é›¢</strong></p>
<ul>
<li>å®Ÿå‹™ã§ã¯æœªæ¥ã‚’äºˆæ¸¬ã™ã‚‹</li>
<li>éå»ãƒ‡ãƒ¼ã‚¿ã®ã¿ã§è¨“ç·´ã—ã€æœªæ¥ã‚’äºˆæ¸¬ã™ã‚‹ã®ãŒæ­£ã—ã„</li>
<li>ãƒ©ãƒ³ãƒ€ãƒ åˆ†å‰²ã¯å®Ÿé‹ç”¨ã‚’åæ˜ ã—ãªã„</li>
</ul></li>
</ol>

<p><strong>é©åˆ‡ãªåˆ†å‰²æ–¹æ³•</strong>ï¼š</p>

<h4>1. ã‚·ãƒ³ãƒ—ãƒ«ãªæ™‚ç³»åˆ—åˆ†å‰²</h4>
<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
dates = pd.date_range('2020-01-01', '2023-12-31', freq='D')
ts = pd.Series(np.random.randn(len(dates)).cumsum(), index=dates)

# 80%ã‚’è¨“ç·´ã€20%ã‚’ãƒ†ã‚¹ãƒˆ
split_point = int(len(ts) * 0.8)
train = ts[:split_point]
test = ts[split_point:]

print("=== ã‚·ãƒ³ãƒ—ãƒ«ãªæ™‚ç³»åˆ—åˆ†å‰² ===")
print(f"è¨“ç·´: {train.index[0]} ï½ {train.index[-1]} ({len(train)}ä»¶)")
print(f"ãƒ†ã‚¹ãƒˆ: {test.index[0]} ï½ {test.index[-1]} ({len(test)}ä»¶)")
</code></pre>

<h4>2. æ™‚ç³»åˆ—äº¤å·®æ¤œè¨¼ï¼ˆTimeSeriesSplitï¼‰</h4>
<pre><code class="language-python">from sklearn.model_selection import TimeSeriesSplit

tscv = TimeSeriesSplit(n_splits=5)

print("\n=== æ™‚ç³»åˆ—äº¤å·®æ¤œè¨¼ ===")
for i, (train_idx, test_idx) in enumerate(tscv.split(ts)):
    print(f"Fold {i+1}:")
    print(f"  è¨“ç·´: {len(train_idx)}ä»¶")
    print(f"  ãƒ†ã‚¹ãƒˆ: {len(test_idx)}ä»¶")
</code></pre>

<h4>3. ã‚¦ã‚©ãƒ¼ã‚¯ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼</h4>
<pre><code class="language-python"># å›ºå®šçª“ã‚µã‚¤ã‚ºã§ã®ç§»å‹•æ¤œè¨¼
window_size = 365  # 1å¹´
test_size = 30     # 30æ—¥

print("\n=== ã‚¦ã‚©ãƒ¼ã‚¯ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼ ===")
for i in range(0, len(ts) - window_size - test_size, test_size):
    train_start = i
    train_end = i + window_size
    test_end = train_end + test_size

    train_fold = ts[train_start:train_end]
    test_fold = ts[train_end:test_end]

    print(f"\nFold {i//test_size + 1}:")
    print(f"  è¨“ç·´: {train_fold.index[0]} ï½ {train_fold.index[-1]}")
    print(f"  ãƒ†ã‚¹ãƒˆ: {test_fold.index[0]} ï½ {test_fold.index[-1]}")
</code></pre>

<p><strong>èª¤ã£ãŸæ–¹æ³•ã®ä¾‹</strong>ï¼š</p>
<pre><code class="language-python"># âŒ çµ¶å¯¾ã«ã‚„ã£ã¦ã¯ã„ã‘ãªã„
from sklearn.model_selection import train_test_split
X_train, X_test = train_test_split(ts, test_size=0.2, shuffle=True)  # NG!
</code></pre>

<p><strong>æ­£ã—ã„æ–¹æ³•ã®åŸå‰‡</strong>ï¼š</p>
<ul>
<li>è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã¯å¸¸ã«ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚ˆã‚Šéå»</li>
<li>æ™‚é–“é †åºã‚’ä¿æŒ</li>
<li>å®Ÿé‹ç”¨ã‚’æ¨¡å€£ï¼ˆéå»â†’æœªæ¥ã®äºˆæ¸¬ï¼‰</li>
<li>ãƒ‡ãƒ¼ã‚¿ãƒªãƒ¼ã‚¯ã‚’é˜²æ­¢</li>
</ul>

</details>

<hr>

<h2>å‚è€ƒæ–‡çŒ®</h2>

<ol>
<li>Box, G. E., Jenkins, G. M., Reinsel, G. C., & Ljung, G. M. (2015). <em>Time Series Analysis: Forecasting and Control</em> (5th ed.). Wiley.</li>
<li>Hyndman, R. J., & Athanasopoulos, G. (2021). <em>Forecasting: Principles and Practice</em> (3rd ed.). OTexts. <a href="https://otexts.com/fpp3/">https://otexts.com/fpp3/</a></li>
<li>Tsay, R. S. (2010). <em>Analysis of Financial Time Series</em> (3rd ed.). Wiley.</li>
<li>Hamilton, J. D. (1994). <em>Time Series Analysis</em>. Princeton University Press.</li>
</ol>

<div class="navigation">
    <a href="index.html" class="nav-button">â† ã‚·ãƒªãƒ¼ã‚ºç›®æ¬¡</a>
    <a href="chapter2-arima-models.html" class="nav-button">æ¬¡ã®ç« : ARIMAãƒ¢ãƒ‡ãƒ« â†’</a>
</div>

    </main>

    
    <section class="disclaimer">
        <h3>å…è²¬äº‹é …</h3>
        <ul>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯æ•™è‚²ãƒ»ç ”ç©¶ãƒ»æƒ…å ±æä¾›ã®ã¿ã‚’ç›®çš„ã¨ã—ã¦ãŠã‚Šã€å°‚é–€çš„ãªåŠ©è¨€(æ³•å¾‹ãƒ»ä¼šè¨ˆãƒ»æŠ€è¡“çš„ä¿è¨¼ãªã©)ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŠã‚ˆã³ä»˜éšã™ã‚‹ã‚³ãƒ¼ãƒ‰ä¾‹ã¯ã€Œç¾çŠ¶æœ‰å§¿(AS IS)ã€ã§æä¾›ã•ã‚Œã€æ˜ç¤ºã¾ãŸã¯é»™ç¤ºã‚’å•ã‚ãšã€å•†å“æ€§ã€ç‰¹å®šç›®çš„é©åˆæ€§ã€æ¨©åˆ©éä¾µå®³ã€æ­£ç¢ºæ€§ãƒ»å®Œå…¨æ€§ã€å‹•ä½œãƒ»å®‰å…¨æ€§ç­‰ã„ã‹ãªã‚‹ä¿è¨¼ã‚‚ã—ã¾ã›ã‚“ã€‚</li>
            <li>å¤–éƒ¨ãƒªãƒ³ã‚¯ã€ç¬¬ä¸‰è€…ãŒæä¾›ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ„ãƒ¼ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç­‰ã®å†…å®¹ãƒ»å¯ç”¨æ€§ãƒ»å®‰å…¨æ€§ã«ã¤ã„ã¦ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ©ç”¨ãƒ»å®Ÿè¡Œãƒ»è§£é‡ˆã«ã‚ˆã‚Šç›´æ¥çš„ãƒ»é–“æ¥çš„ãƒ»ä»˜éšçš„ãƒ»ç‰¹åˆ¥ãƒ»çµæœçš„ãƒ»æ‡²ç½°çš„æå®³ãŒç”Ÿã˜ãŸå ´åˆã§ã‚‚ã€é©ç”¨æ³•ã§è¨±å®¹ã•ã‚Œã‚‹æœ€å¤§é™ã®ç¯„å›²ã§ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å†…å®¹ã¯ã€äºˆå‘Šãªãå¤‰æ›´ãƒ»æ›´æ–°ãƒ»æä¾›åœæ­¢ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‘—ä½œæ¨©ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯æ˜è¨˜ã•ã‚ŒãŸæ¡ä»¶(ä¾‹: CC BY 4.0)ã«å¾“ã„ã¾ã™ã€‚å½“è©²ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯é€šå¸¸ã€ç„¡ä¿è¨¼æ¡é …ã‚’å«ã¿ã¾ã™ã€‚</li>
        </ul>
    </section>

<footer>
        <p><strong>ä½œæˆè€…</strong>: AI Terakoya Content Team</p>
        <p><strong>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</strong>: 1.0 | <strong>ä½œæˆæ—¥</strong>: 2025-10-21</p>
        <p><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong>: Creative Commons BY 4.0</p>
        <p>Â© 2025 AI Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>
