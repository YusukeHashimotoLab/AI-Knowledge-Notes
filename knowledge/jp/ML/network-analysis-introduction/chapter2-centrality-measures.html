<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
<meta content="ç¬¬2ç« ï¼šä¸­å¿ƒæ€§æŒ‡æ¨™ - AI Terakoya" name="description"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬2ç« ï¼šä¸­å¿ƒæ€§æŒ‡æ¨™ - AI Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #7b2cbf;
            --color-accent-light: #9d4edd;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #3182ce;
            --color-link-hover: #2c5aa0;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .mermaid {
            text-align: center;
            margin: var(--spacing-lg) 0;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        details {
            background-color: var(--color-bg-alt);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            color: var(--color-primary);
            user-select: none;
            padding: var(--spacing-xs);
            margin: calc(-1 * var(--spacing-md));
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        summary:hover {
            background-color: rgba(123, 44, 191, 0.1);
        }

        details[open] summary {
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-border);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }
        .disclaimer {
            max-width: 900px;
            margin: 2rem auto;
            padding: 1.5rem;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 4px;
        }

        .disclaimer h3 {
            color: #495057;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .disclaimer ul {
            list-style: none;
            padding-left: 0;
        }

        .disclaimer li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
            font-size: 0.9rem;
            color: #6c757d;
            line-height: 1.6;
        }

        .disclaimer li::before {
            content: "âš ï¸";
            position: absolute;
            left: 0;
        }


        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }
    
        
    
        /* Breadcrumb styles */
        .breadcrumb {
            background: #f7fafc;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.9rem;
        }

        .breadcrumb-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumb a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .breadcrumb-separator {
            color: #a0aec0;
            margin: 0 0.25rem;
        }

        .breadcrumb-current {
            color: #4a5568;
            font-weight: 500;
        }
    </style>

    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>

    <style>
        /* Locale Switcher Styles */
        .locale-switcher {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 6px;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .current-locale {
            font-weight: 600;
            color: #7b2cbf;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .locale-separator {
            color: #adb5bd;
            font-weight: 300;
        }

        .locale-link {
            color: #f093fb;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }

        .locale-link:hover {
            background: rgba(240, 147, 251, 0.1);
            color: #d07be8;
            transform: translateY(-1px);
        }

        .locale-meta {
            color: #868e96;
            font-size: 0.85rem;
            font-style: italic;
            margin-left: auto;
        }

        @media (max-width: 768px) {
            .locale-switcher {
                font-size: 0.85rem;
                padding: 0.4rem 0.8rem;
            }
            .locale-meta {
                display: none;
            }
        }
    </style>
</head>
<body>
            <div class="locale-switcher">
<span class="current-locale">ğŸŒ JP</span>
<span class="locale-separator">|</span>
<a href="../../../en/ML/network-analysis-introduction/chapter2-centrality-measures.html" class="locale-link">ğŸ‡¬ğŸ‡§ EN</a>
<span class="locale-separator">|</span>
<span class="locale-meta">Last sync: 2025-11-16</span>
</div>
<nav class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="../../index.html">AIå¯ºå­å±‹ãƒˆãƒƒãƒ—</a><span class="breadcrumb-separator">â€º</span><a href="../../ML/index.html">æ©Ÿæ¢°å­¦ç¿’</a><span class="breadcrumb-separator">â€º</span><a href="../../ML/network-analysis-introduction/index.html">Network Analysis</a><span class="breadcrumb-separator">â€º</span><span class="breadcrumb-current">Chapter 2</span>
        </div>
    </nav>

        <header>
        <div class="header-content">
            <h1>ç¬¬2ç« ï¼šä¸­å¿ƒæ€§æŒ‡æ¨™</h1>
            <p class="subtitle">ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®é‡è¦ãƒãƒ¼ãƒ‰ã‚’ç‰¹å®šã™ã‚‹ - å½±éŸ¿åŠ›ã®å®šé‡åŒ–</p>
            <div class="meta">
                <span class="meta-item">ğŸ“– èª­äº†æ™‚é–“: 25-30åˆ†</span>
                <span class="meta-item">ğŸ“Š é›£æ˜“åº¦: ä¸­ç´š</span>
                <span class="meta-item">ğŸ’» ã‚³ãƒ¼ãƒ‰ä¾‹: 8å€‹</span>
                <span class="meta-item">ğŸ“ æ¼”ç¿’å•é¡Œ: 5å•</span>
            </div>
        </div>
    </header>

    <main class="container">

<h2>å­¦ç¿’ç›®æ¨™</h2>
<p>ã“ã®ç« ã‚’èª­ã‚€ã“ã¨ã§ã€ä»¥ä¸‹ã‚’ç¿’å¾—ã§ãã¾ã™ï¼š</p>
<ul>
<li>âœ… ä¸­å¿ƒæ€§ã®æ¦‚å¿µã¨é‡è¦æ€§ã‚’ç†è§£ã™ã‚‹</li>
<li>âœ… æ¬¡æ•°ä¸­å¿ƒæ€§ãƒ»è¿‘æ¥ä¸­å¿ƒæ€§ã®è¨ˆç®—ã¨è§£é‡ˆãŒã§ãã‚‹</li>
<li>âœ… åª’ä»‹ä¸­å¿ƒæ€§ã§ãƒœãƒˆãƒ«ãƒãƒƒã‚¯æ¤œå‡ºãŒã§ãã‚‹</li>
<li>âœ… å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§ã¨PageRankã‚’ä½¿ã„åˆ†ã‘ã‚‰ã‚Œã‚‹</li>
<li>âœ… å®Ÿãƒ‡ãƒ¼ã‚¿ã§å½±éŸ¿åŠ›åˆ†æã‚’å®Ÿè¡Œã§ãã‚‹</li>
<li>âœ… NetworkXã§è¤‡æ•°ã®ä¸­å¿ƒæ€§æŒ‡æ¨™ã‚’æ¯”è¼ƒã§ãã‚‹</li>
</ul>

<hr>

<h2>2.1 ä¸­å¿ƒæ€§ã®æ¦‚å¿µ</h2>

<h3>ä¸­å¿ƒæ€§ã¨ã¯ä½•ã‹</h3>
<p><strong>ä¸­å¿ƒæ€§ï¼ˆCentralityï¼‰</strong>ã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã®ãƒãƒ¼ãƒ‰ã®ã€Œé‡è¦æ€§ã€ã‚’å®šé‡åŒ–ã™ã‚‹æŒ‡æ¨™ã§ã™ã€‚</p>

<blockquote>
<p>ã€Œã©ã®ãƒãƒ¼ãƒ‰ãŒãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã§æœ€ã‚‚å½±éŸ¿åŠ›ã‚’æŒã¤ã‹ï¼Ÿã€ã‚’æ•°å€¤ã§ç­”ãˆã‚‹æŒ‡æ¨™ç¾¤</p>
</blockquote>

<h3>ä¸­å¿ƒæ€§ãŒé‡è¦ãªç†ç”±</h3>

<table>
<thead>
<tr>
<th>å¿œç”¨åˆ†é‡</th>
<th>ç”¨é€”</th>
<th>ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯</strong></td>
<td>ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ç‰¹å®š</td>
<td>Twitterã®å½±éŸ¿åŠ›ãƒ©ãƒ³ã‚­ãƒ³ã‚°</td>
</tr>
<tr>
<td><strong>äº¤é€šç¶²</strong></td>
<td>é‡è¦ãƒãƒ–æ¤œå‡º</td>
<td>ç©ºæ¸¯ãƒ»é§…ã®å„ªå…ˆåº¦æ±ºå®š</td>
</tr>
<tr>
<td><strong>ã‚¿ãƒ³ãƒ‘ã‚¯è³ªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯</strong></td>
<td>é‡è¦éºä¼å­ç™ºè¦‹</td>
<td>å‰µè–¬ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¸å®š</td>
</tr>
<tr>
<td><strong>Webãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯</strong></td>
<td>æ¤œç´¢ãƒ©ãƒ³ã‚­ãƒ³ã‚°</td>
<td>Google PageRank</td>
</tr>
<tr>
<td><strong>ã‚¤ãƒ³ãƒ•ãƒ©</strong></td>
<td>è„†å¼±æ€§åˆ†æ</td>
<td>é›»åŠ›ç¶²ã®é‡è¦ãƒãƒ¼ãƒ‰</td>
</tr>
</tbody>
</table>

<h3>ä¸­å¿ƒæ€§æŒ‡æ¨™ã®ä½¿ã„åˆ†ã‘</h3>

<div class="mermaid">
graph TD
    A[ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æã®ç›®çš„] --> B{ä½•ã‚’é‡è¦ã¨ã™ã‚‹ã‹ï¼Ÿ}
    B -->|ç›´æ¥çš„ãªç¹‹ãŒã‚Šæ•°| C[æ¬¡æ•°ä¸­å¿ƒæ€§]
    B -->|å…¨ä½“ã¸ã®åˆ°é”å®¹æ˜“æ€§| D[è¿‘æ¥ä¸­å¿ƒæ€§]
    B -->|æƒ…å ±ã®ä»²ä»‹å½¹| E[åª’ä»‹ä¸­å¿ƒæ€§]
    B -->|é‡è¦ãƒãƒ¼ãƒ‰ã¨ã®ç¹‹ãŒã‚Š| F[å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§]
    B -->|ãƒ©ãƒ³ãƒ€ãƒ ã‚¦ã‚©ãƒ¼ã‚¯ã®åˆ°é”ç¢ºç‡| G[PageRank]

    style A fill:#ffebee
    style B fill:#fff3e0
    style C fill:#e3f2fd
    style D fill:#e8f5e9
    style E fill:#f3e5f5
    style F fill:#fce4ec
    style G fill:#c8e6c9
</div>

<h3>å„æŒ‡æ¨™ã®è¨ˆç®—é‡æ¯”è¼ƒ</h3>

<table>
<thead>
<tr>
<th>ä¸­å¿ƒæ€§æŒ‡æ¨™</th>
<th>è¨ˆç®—é‡</th>
<th>å¤§è¦æ¨¡ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯</th>
<th>æœ‰å‘ã‚°ãƒ©ãƒ•å¯¾å¿œ</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>æ¬¡æ•°ä¸­å¿ƒæ€§</strong></td>
<td>O(V + E)</td>
<td>â­â­â­</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>è¿‘æ¥ä¸­å¿ƒæ€§</strong></td>
<td>O(V Ã— E)</td>
<td>â­â­</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>åª’ä»‹ä¸­å¿ƒæ€§</strong></td>
<td>O(V Ã— E)</td>
<td>â­</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§</strong></td>
<td>O(VÂ²) åå¾©æ³•</td>
<td>â­â­</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>PageRank</strong></td>
<td>O(V + E) åå¾©æ³•</td>
<td>â­â­â­</td>
<td>âœ…</td>
</tr>
</tbody>
</table>

<p>V: ãƒãƒ¼ãƒ‰æ•°ã€E: ã‚¨ãƒƒã‚¸æ•°</p>

<hr>

<h2>2.2 æ¬¡æ•°ä¸­å¿ƒæ€§ã¨è¿‘æ¥ä¸­å¿ƒæ€§</h2>

<h3>æ¬¡æ•°ä¸­å¿ƒæ€§ï¼ˆDegree Centralityï¼‰</h3>

<p><strong>æ¬¡æ•°ä¸­å¿ƒæ€§</strong>ã¯ã€ãƒãƒ¼ãƒ‰ãŒæŒã¤ã‚¨ãƒƒã‚¸ã®æ•°ã§é‡è¦åº¦ã‚’æ¸¬å®šã—ã¾ã™ã€‚</p>

<p><strong>ç„¡å‘ã‚°ãƒ©ãƒ•ã®å ´åˆï¼š</strong></p>

<p>$$
C_D(v) = \frac{\deg(v)}{n - 1}
$$</p>

<ul>
<li>$\deg(v)$: ãƒãƒ¼ãƒ‰ $v$ ã®æ¬¡æ•°ï¼ˆæ¥ç¶šæ•°ï¼‰</li>
<li>$n$: ãƒãƒ¼ãƒ‰ç·æ•°</li>
</ul>

<p><strong>æœ‰å‘ã‚°ãƒ©ãƒ•ã®å ´åˆï¼š</strong></p>

<ul>
<li><strong>å…¥æ¬¡æ•°ä¸­å¿ƒæ€§ï¼ˆIn-degreeï¼‰</strong>: å—ã‘å–ã‚‹ã‚¨ãƒƒã‚¸æ•°ï¼ˆäººæ°—åº¦ï¼‰</li>
<li><strong>å‡ºæ¬¡æ•°ä¸­å¿ƒæ€§ï¼ˆOut-degreeï¼‰</strong>: ç™ºã™ã‚‹ã‚¨ãƒƒã‚¸æ•°ï¼ˆç¤¾äº¤æ€§ï¼‰</li>
</ul>

<h4>å®Ÿè£…ä¾‹ï¼šæ¬¡æ•°ä¸­å¿ƒæ€§ã®è¨ˆç®—</h4>

<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt
import numpy as np

# ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ã‚µãƒ³ãƒ—ãƒ«ä½œæˆ
G = nx.karate_club_graph()

# æ¬¡æ•°ä¸­å¿ƒæ€§ã®è¨ˆç®—
degree_centrality = nx.degree_centrality(G)

# ä¸Šä½5ãƒãƒ¼ãƒ‰ã‚’å–å¾—
top5_nodes = sorted(degree_centrality.items(), key=lambda x: x[1], reverse=True)[:5]

print("=== æ¬¡æ•°ä¸­å¿ƒæ€§ï¼ˆDegree Centralityï¼‰===")
print("\nä¸Šä½5ãƒãƒ¼ãƒ‰:")
for node, centrality in top5_nodes:
    print(f"  ãƒãƒ¼ãƒ‰ {node}: {centrality:.4f} (æ¥ç¶šæ•°: {G.degree(node)})")

# å¯è¦–åŒ–
fig, axes = plt.subplots(1, 2, figsize=(16, 7))

# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å›³ï¼ˆæ¬¡æ•°ä¸­å¿ƒæ€§ã§ãƒãƒ¼ãƒ‰ã‚µã‚¤ã‚ºèª¿æ•´ï¼‰
pos = nx.spring_layout(G, seed=42)
node_sizes = [v * 3000 for v in degree_centrality.values()]
node_colors = [degree_centrality[node] for node in G.nodes()]

nx.draw_networkx_nodes(G, pos, node_size=node_sizes,
                       node_color=node_colors, cmap='viridis',
                       alpha=0.8, ax=axes[0])
nx.draw_networkx_edges(G, pos, alpha=0.2, ax=axes[0])
nx.draw_networkx_labels(G, pos, font_size=8, ax=axes[0])
axes[0].set_title('æ¬¡æ•°ä¸­å¿ƒæ€§ã®å¯è¦–åŒ–\nï¼ˆãƒãƒ¼ãƒ‰ã‚µã‚¤ã‚º = ä¸­å¿ƒæ€§ï¼‰', fontsize=14)
axes[0].axis('off')

# ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ 
values = list(degree_centrality.values())
axes[1].hist(values, bins=15, alpha=0.7, edgecolor='black', color='skyblue')
axes[1].set_xlabel('æ¬¡æ•°ä¸­å¿ƒæ€§')
axes[1].set_ylabel('ãƒãƒ¼ãƒ‰æ•°')
axes[1].set_title('æ¬¡æ•°ä¸­å¿ƒæ€§ã®åˆ†å¸ƒ', fontsize=14)
axes[1].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

print(f"\nå¹³å‡æ¬¡æ•°ä¸­å¿ƒæ€§: {np.mean(values):.4f}")
print(f"æ¨™æº–åå·®: {np.std(values):.4f}")
</code></pre>

<blockquote>
<p><strong>è§£é‡ˆ</strong>: æ¬¡æ•°ä¸­å¿ƒæ€§ãŒé«˜ã„ãƒãƒ¼ãƒ‰ã¯ã€å¤šãã®ç›´æ¥çš„ãªç¹‹ãŒã‚Šã‚’æŒã¤ã€Œãƒãƒ–ã€ã§ã™ã€‚</p>
</blockquote>

<h3>è¿‘æ¥ä¸­å¿ƒæ€§ï¼ˆCloseness Centralityï¼‰</h3>

<p><strong>è¿‘æ¥ä¸­å¿ƒæ€§</strong>ã¯ã€ä»–ã®å…¨ãƒãƒ¼ãƒ‰ã¸ã®æœ€çŸ­è·é›¢ã®é€†æ•°ã§é‡è¦åº¦ã‚’æ¸¬å®šã—ã¾ã™ã€‚</p>

<p>$$
C_C(v) = \frac{n - 1}{\sum_{u \neq v} d(v, u)}
$$</p>

<ul>
<li>$d(v, u)$: ãƒãƒ¼ãƒ‰ $v$ ã‹ã‚‰ $u$ ã¸ã®æœ€çŸ­è·é›¢</li>
<li>$n$: ãƒãƒ¼ãƒ‰ç·æ•°</li>
</ul>

<blockquote>
<p><strong>æ„å‘³</strong>: å…¨ãƒãƒ¼ãƒ‰ã¸ã®å¹³å‡è·é›¢ãŒçŸ­ã„ = æƒ…å ±ãŒé€Ÿãæ‹¡æ•£ã§ãã‚‹</p>
</blockquote>

<h4>å®Ÿè£…ä¾‹ï¼šè¿‘æ¥ä¸­å¿ƒæ€§ã®è¨ˆç®—ã¨æ¯”è¼ƒ</h4>

<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt
import pandas as pd

# è¿‘æ¥ä¸­å¿ƒæ€§ã®è¨ˆç®—
closeness_centrality = nx.closeness_centrality(G)

# æ¬¡æ•°ä¸­å¿ƒæ€§ã¨è¿‘æ¥ä¸­å¿ƒæ€§ã®æ¯”è¼ƒ
comparison_df = pd.DataFrame({
    'Degree': degree_centrality,
    'Closeness': closeness_centrality
}).sort_values('Closeness', ascending=False)

print("\n=== è¿‘æ¥ä¸­å¿ƒæ€§ï¼ˆCloseness Centralityï¼‰===")
print("\næ¬¡æ•°ä¸­å¿ƒæ€§ vs è¿‘æ¥ä¸­å¿ƒæ€§ï¼ˆä¸Šä½10ãƒãƒ¼ãƒ‰ï¼‰:")
print(comparison_df.head(10).to_string())

# ç›¸é–¢åˆ†æ
correlation = comparison_df['Degree'].corr(comparison_df['Closeness'])
print(f"\næ¬¡æ•°ä¸­å¿ƒæ€§ã¨è¿‘æ¥ä¸­å¿ƒæ€§ã®ç›¸é–¢: {correlation:.4f}")

# å¯è¦–åŒ–ï¼šæ•£å¸ƒå›³
fig, axes = plt.subplots(1, 2, figsize=(16, 7))

# æ•£å¸ƒå›³
axes[0].scatter(comparison_df['Degree'], comparison_df['Closeness'],
               alpha=0.6, s=100, edgecolors='black')
axes[0].set_xlabel('æ¬¡æ•°ä¸­å¿ƒæ€§', fontsize=12)
axes[0].set_ylabel('è¿‘æ¥ä¸­å¿ƒæ€§', fontsize=12)
axes[0].set_title(f'æ¬¡æ•°ä¸­å¿ƒæ€§ vs è¿‘æ¥ä¸­å¿ƒæ€§\nç›¸é–¢ä¿‚æ•°: {correlation:.3f}', fontsize=14)
axes[0].grid(True, alpha=0.3)

# ä¸¡ä¸­å¿ƒæ€§ã§ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ¯”è¼ƒ
top10_degree = comparison_df.nlargest(10, 'Degree').index
top10_closeness = comparison_df.nlargest(10, 'Closeness').index

# ãƒ™ãƒ³å›³çš„ãªåˆ†æ
both = set(top10_degree) & set(top10_closeness)
only_degree = set(top10_degree) - set(top10_closeness)
only_closeness = set(top10_closeness) - set(top10_degree)

print(f"\n=== Top 10 ãƒãƒ¼ãƒ‰æ¯”è¼ƒ ===")
print(f"ä¸¡æ–¹ã§Top 10: {len(both)}ãƒãƒ¼ãƒ‰ - {both}")
print(f"æ¬¡æ•°ã®ã¿Top 10: {len(only_degree)}ãƒãƒ¼ãƒ‰ - {only_degree}")
print(f"è¿‘æ¥ã®ã¿Top 10: {len(only_closeness)}ãƒãƒ¼ãƒ‰ - {only_closeness}")

# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å›³ï¼ˆè¿‘æ¥ä¸­å¿ƒæ€§ï¼‰
pos = nx.spring_layout(G, seed=42)
node_sizes = [v * 3000 for v in closeness_centrality.values()]
node_colors = [closeness_centrality[node] for node in G.nodes()]

nx.draw_networkx_nodes(G, pos, node_size=node_sizes,
                       node_color=node_colors, cmap='plasma',
                       alpha=0.8, ax=axes[1])
nx.draw_networkx_edges(G, pos, alpha=0.2, ax=axes[1])
nx.draw_networkx_labels(G, pos, font_size=8, ax=axes[1])
axes[1].set_title('è¿‘æ¥ä¸­å¿ƒæ€§ã®å¯è¦–åŒ–', fontsize=14)
axes[1].axis('off')

plt.tight_layout()
plt.show()
</code></pre>

<blockquote>
<p><strong>é‡è¦</strong>: æ¬¡æ•°ä¸­å¿ƒæ€§ã¨è¿‘æ¥ä¸­å¿ƒæ€§ã¯å¿…ãšã—ã‚‚ä¸€è‡´ã—ã¾ã›ã‚“ã€‚æ¬¡æ•°ã¯ä½ãã¦ã‚‚ã€å…¨ä½“ã¸ã®åˆ°é”ãŒé€Ÿã„ãƒãƒ¼ãƒ‰ã‚‚ã‚ã‚Šã¾ã™ã€‚</p>
</blockquote>

<hr>

<h2>2.3 åª’ä»‹ä¸­å¿ƒæ€§</h2>

<h3>åª’ä»‹ä¸­å¿ƒæ€§ï¼ˆBetweenness Centralityï¼‰</h3>

<p><strong>åª’ä»‹ä¸­å¿ƒæ€§</strong>ã¯ã€ãƒãƒ¼ãƒ‰ãŒæœ€çŸ­çµŒè·¯ä¸Šã«ç¾ã‚Œã‚‹é »åº¦ã§é‡è¦åº¦ã‚’æ¸¬å®šã—ã¾ã™ã€‚</p>

<p>$$
C_B(v) = \sum_{s \neq v \neq t} \frac{\sigma_{st}(v)}{\sigma_{st}}
$$</p>

<ul>
<li>$\sigma_{st}$: ãƒãƒ¼ãƒ‰ $s$ ã‹ã‚‰ $t$ ã¸ã®æœ€çŸ­çµŒè·¯ã®ç·æ•°</li>
<li>$\sigma_{st}(v)$: ãã®ã†ã¡ã€ãƒãƒ¼ãƒ‰ $v$ ã‚’é€šã‚‹çµŒè·¯ã®æ•°</li>
</ul>

<blockquote>
<p><strong>æ„å‘³</strong>: æƒ…å ±ã‚„ãƒªã‚½ãƒ¼ã‚¹ã®æµã‚Œã‚’åˆ¶å¾¡ã§ãã‚‹ã€Œä»²ä»‹è€…ã€ã®é‡è¦åº¦</p>
</blockquote>

<h3>æƒ…å ±ãƒ•ãƒ­ãƒ¼ã¨ãƒœãƒˆãƒ«ãƒãƒƒã‚¯æ¤œå‡º</h3>

<p>åª’ä»‹ä¸­å¿ƒæ€§ãŒé«˜ã„ãƒãƒ¼ãƒ‰ã®ç‰¹å¾´ï¼š</p>

<ul>
<li><strong>ãƒ–ãƒªãƒƒã‚¸ï¼ˆæ©‹æ¸¡ã—ï¼‰</strong>: ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£é–“ã‚’ç¹‹ããƒãƒ¼ãƒ‰</li>
<li><strong>ãƒœãƒˆãƒ«ãƒãƒƒã‚¯</strong>: å‰Šé™¤ã™ã‚‹ã¨æƒ…å ±æµãŒåˆ†æ–­ã•ã‚Œã‚‹</li>
<li><strong>ã‚²ãƒ¼ãƒˆã‚­ãƒ¼ãƒ‘ãƒ¼</strong>: æƒ…å ±ã®æµã‚Œã‚’åˆ¶å¾¡ã§ãã‚‹ä½ç½®</li>
</ul>

<h4>å®Ÿè£…ä¾‹ï¼šåª’ä»‹ä¸­å¿ƒæ€§ã¨ãƒœãƒˆãƒ«ãƒãƒƒã‚¯æ¤œå‡º</h4>

<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt
import numpy as np

# åª’ä»‹ä¸­å¿ƒæ€§ã®è¨ˆç®—
betweenness_centrality = nx.betweenness_centrality(G, normalized=True)

# 3ã¤ã®ä¸­å¿ƒæ€§ã‚’æ¯”è¼ƒ
centrality_comparison = pd.DataFrame({
    'Degree': degree_centrality,
    'Closeness': closeness_centrality,
    'Betweenness': betweenness_centrality
}).sort_values('Betweenness', ascending=False)

print("=== åª’ä»‹ä¸­å¿ƒæ€§ï¼ˆBetweenness Centralityï¼‰===")
print("\nå…¨ä¸­å¿ƒæ€§æŒ‡æ¨™ã®æ¯”è¼ƒï¼ˆä¸Šä½10ãƒãƒ¼ãƒ‰ï¼‰:")
print(centrality_comparison.head(10).to_string())

# ä¸Šä½ãƒãƒ¼ãƒ‰
top_betweenness = centrality_comparison.nlargest(5, 'Betweenness')
print(f"\nåª’ä»‹ä¸­å¿ƒæ€§ Top 5:")
for node, row in top_betweenness.iterrows():
    print(f"  ãƒãƒ¼ãƒ‰ {node}: Betweenness={row['Betweenness']:.4f}, "
          f"Degree={row['Degree']:.4f}, Closeness={row['Closeness']:.4f}")

# å¯è¦–åŒ–
fig, axes = plt.subplots(2, 2, figsize=(16, 14))

# 1. åª’ä»‹ä¸­å¿ƒæ€§ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å›³
pos = nx.spring_layout(G, seed=42)
node_sizes = [v * 3000 for v in betweenness_centrality.values()]
node_colors = [betweenness_centrality[node] for node in G.nodes()]

nx.draw_networkx_nodes(G, pos, node_size=node_sizes,
                       node_color=node_colors, cmap='Reds',
                       alpha=0.8, ax=axes[0, 0])
nx.draw_networkx_edges(G, pos, alpha=0.2, ax=axes[0, 0])
nx.draw_networkx_labels(G, pos, font_size=8, ax=axes[0, 0])
axes[0, 0].set_title('åª’ä»‹ä¸­å¿ƒæ€§ã®å¯è¦–åŒ–\nï¼ˆãƒãƒ¼ãƒ‰ã‚µã‚¤ã‚ºãƒ»è‰² = åª’ä»‹ä¸­å¿ƒæ€§ï¼‰', fontsize=14)
axes[0, 0].axis('off')

# 2. 3ã¤ã®ä¸­å¿ƒæ€§ã®ç›¸é–¢
metrics = ['Degree', 'Closeness', 'Betweenness']
correlation_matrix = centrality_comparison[metrics].corr()

im = axes[0, 1].imshow(correlation_matrix, cmap='coolwarm', vmin=-1, vmax=1)
axes[0, 1].set_xticks(range(len(metrics)))
axes[0, 1].set_yticks(range(len(metrics)))
axes[0, 1].set_xticklabels(metrics, rotation=45)
axes[0, 1].set_yticklabels(metrics)
axes[0, 1].set_title('ä¸­å¿ƒæ€§æŒ‡æ¨™ã®ç›¸é–¢è¡Œåˆ—', fontsize=14)

for i in range(len(metrics)):
    for j in range(len(metrics)):
        text = axes[0, 1].text(j, i, f'{correlation_matrix.iloc[i, j]:.2f}',
                              ha="center", va="center", color="black", fontsize=12)

plt.colorbar(im, ax=axes[0, 1])

# 3. åª’ä»‹ä¸­å¿ƒæ€§ã®åˆ†å¸ƒ
axes[1, 0].hist(list(betweenness_centrality.values()), bins=20,
               alpha=0.7, edgecolor='black', color='salmon')
axes[1, 0].set_xlabel('åª’ä»‹ä¸­å¿ƒæ€§')
axes[1, 0].set_ylabel('ãƒãƒ¼ãƒ‰æ•°')
axes[1, 0].set_title('åª’ä»‹ä¸­å¿ƒæ€§ã®åˆ†å¸ƒ', fontsize=14)
axes[1, 0].grid(True, alpha=0.3)

# 4. ãƒœãƒˆãƒ«ãƒãƒƒã‚¯åˆ†æï¼šä¸Šä½ãƒãƒ¼ãƒ‰å‰Šé™¤ã®å½±éŸ¿
top_betweenness_nodes = list(centrality_comparison.nlargest(3, 'Betweenness').index)
G_copy = G.copy()

# å…ƒã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®é€£çµæ€§
original_components = nx.number_connected_components(G)
original_avg_path = nx.average_shortest_path_length(G)

print(f"\n=== ãƒœãƒˆãƒ«ãƒãƒƒã‚¯åˆ†æ ===")
print(f"å…ƒã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯:")
print(f"  é€£çµæˆåˆ†æ•°: {original_components}")
print(f"  å¹³å‡æœ€çŸ­çµŒè·¯é•·: {original_avg_path:.4f}")

# ä¸Šä½ãƒãƒ¼ãƒ‰ã‚’å‰Šé™¤ã—ã¦å½±éŸ¿ã‚’ç¢ºèª
impact_data = []
for node in top_betweenness_nodes:
    G_copy.remove_node(node)
    components = nx.number_connected_components(G_copy)
    if components == 1:
        avg_path = nx.average_shortest_path_length(G_copy)
    else:
        # æœ€å¤§é€£çµæˆåˆ†ã®ã¿ã§è¨ˆç®—
        largest_cc = max(nx.connected_components(G_copy), key=len)
        avg_path = nx.average_shortest_path_length(G_copy.subgraph(largest_cc))

    impact_data.append({
        'removed': node,
        'components': components,
        'avg_path': avg_path,
        'path_increase': avg_path - original_avg_path
    })

    print(f"\nãƒãƒ¼ãƒ‰ {node} å‰Šé™¤å¾Œ:")
    print(f"  é€£çµæˆåˆ†æ•°: {components}")
    print(f"  å¹³å‡æœ€çŸ­çµŒè·¯é•·: {avg_path:.4f} (+{avg_path - original_avg_path:.4f})")

    G_copy = G.copy()  # ãƒªã‚»ãƒƒãƒˆ

# ãƒœãƒˆãƒ«ãƒãƒƒã‚¯å½±éŸ¿ã®å¯è¦–åŒ–
nodes_removed = [d['removed'] for d in impact_data]
path_increases = [d['path_increase'] for d in impact_data]

axes[1, 1].bar(range(len(nodes_removed)), path_increases,
              alpha=0.7, edgecolor='black', color='coral')
axes[1, 1].set_xticks(range(len(nodes_removed)))
axes[1, 1].set_xticklabels(nodes_removed)
axes[1, 1].set_xlabel('å‰Šé™¤ã•ã‚ŒãŸãƒãƒ¼ãƒ‰')
axes[1, 1].set_ylabel('å¹³å‡çµŒè·¯é•·ã®å¢—åŠ ')
axes[1, 1].set_title('ãƒœãƒˆãƒ«ãƒãƒƒã‚¯å½±éŸ¿åˆ†æ\nï¼ˆãƒãƒ¼ãƒ‰å‰Šé™¤æ™‚ã®çµŒè·¯é•·å¢—åŠ ï¼‰', fontsize=14)
axes[1, 1].grid(True, alpha=0.3, axis='y')

plt.tight_layout()
plt.show()
</code></pre>

<h3>é«˜é€Ÿè¿‘ä¼¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </h3>

<p>å¤§è¦æ¨¡ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§ã¯ã€å®Œå…¨ãªåª’ä»‹ä¸­å¿ƒæ€§ã®è¨ˆç®—ã¯è¨ˆç®—é‡ãŒå¤§ãã„ãŸã‚ã€è¿‘ä¼¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import networkx as nx
import time

# å¤§è¦æ¨¡ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ç”Ÿæˆ
G_large = nx.barabasi_albert_graph(n=1000, m=3, seed=42)

print("=== åª’ä»‹ä¸­å¿ƒæ€§è¨ˆç®—ã®é€Ÿåº¦æ¯”è¼ƒ ===")
print(f"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚µã‚¤ã‚º: {G_large.number_of_nodes()}ãƒãƒ¼ãƒ‰, "
      f"{G_large.number_of_edges()}ã‚¨ãƒƒã‚¸")

# å®Œå…¨è¨ˆç®—
start = time.time()
betweenness_full = nx.betweenness_centrality(G_large)
time_full = time.time() - start

# è¿‘ä¼¼è¨ˆç®—ï¼ˆã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼‰
start = time.time()
betweenness_approx = nx.betweenness_centrality(G_large, k=100)  # 100ãƒãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°
time_approx = time.time() - start

print(f"\nå®Œå…¨è¨ˆç®—: {time_full:.4f}ç§’")
print(f"è¿‘ä¼¼è¨ˆç®—ï¼ˆk=100ï¼‰: {time_approx:.4f}ç§’")
print(f"é€Ÿåº¦å‘ä¸Š: {time_full/time_approx:.2f}å€")

# ç²¾åº¦æ¯”è¼ƒï¼ˆä¸Šä½10ãƒãƒ¼ãƒ‰ï¼‰
top10_full = sorted(betweenness_full.items(), key=lambda x: x[1], reverse=True)[:10]
top10_approx = sorted(betweenness_approx.items(), key=lambda x: x[1], reverse=True)[:10]

top10_full_nodes = set([n for n, _ in top10_full])
top10_approx_nodes = set([n for n, _ in top10_approx])
overlap = len(top10_full_nodes & top10_approx_nodes)

print(f"\nTop 10ãƒãƒ¼ãƒ‰ã®ä¸€è‡´ç‡: {overlap/10*100:.1f}%")
</code></pre>

<blockquote>
<p><strong>æ¨å¥¨</strong>: ãƒãƒ¼ãƒ‰æ•°ãŒ1000ä»¥ä¸Šã®å ´åˆã€<code>k</code>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§è¿‘ä¼¼è¨ˆç®—ã‚’ä½¿ç”¨ã—ã¾ã—ã‚‡ã†ã€‚</p>
</blockquote>

<hr>

<h2>2.4 å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§ã¨PageRank</h2>

<h3>å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§ï¼ˆEigenvector Centralityï¼‰</h3>

<p><strong>å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§</strong>ã¯ã€ã€Œé‡è¦ãªãƒãƒ¼ãƒ‰ã«ç¹‹ãŒã£ã¦ã„ã‚‹ãƒãƒ¼ãƒ‰ã¯é‡è¦ã€ã¨ã„ã†å†å¸°çš„ãªå®šç¾©ã«åŸºã¥ãã¾ã™ã€‚</p>

<p>$$
x_v = \frac{1}{\lambda} \sum_{u \in N(v)} x_u
$$</p>

<ul>
<li>$x_v$: ãƒãƒ¼ãƒ‰ $v$ ã®ä¸­å¿ƒæ€§ã‚¹ã‚³ã‚¢</li>
<li>$N(v)$: ãƒãƒ¼ãƒ‰ $v$ ã®éš£æ¥ãƒãƒ¼ãƒ‰é›†åˆ</li>
<li>$\lambda$: éš£æ¥è¡Œåˆ—ã®æœ€å¤§å›ºæœ‰å€¤</li>
</ul>

<blockquote>
<p><strong>æ„å‘³</strong>: å½±éŸ¿åŠ›ã®ã‚ã‚‹ãƒãƒ¼ãƒ‰ã¨ç¹‹ãŒã‚‹ã“ã¨ã§ã€è‡ªèº«ã‚‚å½±éŸ¿åŠ›ã‚’æŒã¤</p>
</blockquote>

<h3>PageRankã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </h3>

<p><strong>PageRank</strong>ã¯ã€Googleã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§ä½¿ã‚ã‚Œã‚‹ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã™ã€‚</p>

<p>$$
PR(v) = \frac{1-d}{N} + d \sum_{u \in B_v} \frac{PR(u)}{L(u)}
$$</p>

<ul>
<li>$PR(v)$: ãƒãƒ¼ãƒ‰ $v$ ã®PageRankã‚¹ã‚³ã‚¢</li>
<li>$B_v$: ãƒãƒ¼ãƒ‰ $v$ ã¸ãƒªãƒ³ã‚¯ã™ã‚‹ãƒãƒ¼ãƒ‰é›†åˆ</li>
<li>$L(u)$: ãƒãƒ¼ãƒ‰ $u$ ã‹ã‚‰ã®å‡ºãƒªãƒ³ã‚¯æ•°</li>
<li>$d$: ãƒ€ãƒ³ãƒ”ãƒ³ã‚°ä¿‚æ•°ï¼ˆé€šå¸¸0.85ï¼‰</li>
<li>$N$: ç·ãƒãƒ¼ãƒ‰æ•°</li>
</ul>

<blockquote>
<p><strong>å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§ã¨ã®é•ã„</strong>: PageRankã¯ãƒ©ãƒ³ãƒ€ãƒ ã‚¸ãƒ£ãƒ³ãƒ—ã‚’è€ƒæ…®ã—ã€æœ‰å‘ã‚°ãƒ©ãƒ•ã§ã‚ˆã‚Šå®‰å®š</p>
</blockquote>

<h3>å®Ÿè£…ã¨æ¯”è¼ƒ</h3>

<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt
import pandas as pd
import numpy as np

# Karate Clubãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼ˆç„¡å‘ï¼‰
G_undirected = nx.karate_club_graph()

# æœ‰å‘ã‚°ãƒ©ãƒ•ã«å¤‰æ›ï¼ˆåŒæ–¹å‘ã‚¨ãƒƒã‚¸ï¼‰
G_directed = G_undirected.to_directed()

print("=== å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§ vs PageRank ===")

# å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§ï¼ˆç„¡å‘ã‚°ãƒ©ãƒ•ï¼‰
eigenvector_centrality = nx.eigenvector_centrality(G_undirected, max_iter=1000)

# PageRankï¼ˆæœ‰å‘ã‚°ãƒ©ãƒ•ï¼‰
pagerank = nx.pagerank(G_directed, alpha=0.85)

# æ¯”è¼ƒãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ 
comparison = pd.DataFrame({
    'Degree': nx.degree_centrality(G_undirected),
    'Eigenvector': eigenvector_centrality,
    'PageRank': pagerank
}).sort_values('PageRank', ascending=False)

print("\nä¸Šä½10ãƒãƒ¼ãƒ‰ï¼ˆPageRanké †ï¼‰:")
print(comparison.head(10).to_string())

# ç›¸é–¢åˆ†æ
print(f"\n=== ç›¸é–¢åˆ†æ ===")
print(f"æ¬¡æ•° vs å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«: {comparison['Degree'].corr(comparison['Eigenvector']):.4f}")
print(f"æ¬¡æ•° vs PageRank: {comparison['Degree'].corr(comparison['PageRank']):.4f}")
print(f"å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ« vs PageRank: {comparison['Eigenvector'].corr(comparison['PageRank']):.4f}")

# å¯è¦–åŒ–
fig, axes = plt.subplots(2, 2, figsize=(16, 14))

# 1. å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å›³
pos = nx.spring_layout(G_undirected, seed=42)
node_sizes = [v * 3000 for v in eigenvector_centrality.values()]
node_colors = [eigenvector_centrality[node] for node in G_undirected.nodes()]

nx.draw_networkx_nodes(G_undirected, pos, node_size=node_sizes,
                       node_color=node_colors, cmap='YlOrRd',
                       alpha=0.8, ax=axes[0, 0])
nx.draw_networkx_edges(G_undirected, pos, alpha=0.2, ax=axes[0, 0])
nx.draw_networkx_labels(G_undirected, pos, font_size=8, ax=axes[0, 0])
axes[0, 0].set_title('å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§ã®å¯è¦–åŒ–', fontsize=14)
axes[0, 0].axis('off')

# 2. PageRankã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å›³
node_sizes_pr = [v * 3000 for v in pagerank.values()]
node_colors_pr = [pagerank[node] for node in G_directed.nodes()]

nx.draw_networkx_nodes(G_directed, pos, node_size=node_sizes_pr,
                       node_color=node_colors_pr, cmap='GnBu',
                       alpha=0.8, ax=axes[0, 1])
nx.draw_networkx_edges(G_directed, pos, alpha=0.2, ax=axes[0, 1])
nx.draw_networkx_labels(G_directed, pos, font_size=8, ax=axes[0, 1])
axes[0, 1].set_title('PageRankã®å¯è¦–åŒ–', fontsize=14)
axes[0, 1].axis('off')

# 3. æ•£å¸ƒå›³ï¼šå›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ« vs PageRank
axes[1, 0].scatter(comparison['Eigenvector'], comparison['PageRank'],
                  alpha=0.6, s=100, edgecolors='black')
axes[1, 0].set_xlabel('å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§', fontsize=12)
axes[1, 0].set_ylabel('PageRank', fontsize=12)
axes[1, 0].set_title(f'å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§ vs PageRank\n'
                     f'ç›¸é–¢: {comparison["Eigenvector"].corr(comparison["PageRank"]):.3f}',
                     fontsize=14)
axes[1, 0].grid(True, alpha=0.3)

# 4. ä¸Šä½10ãƒãƒ¼ãƒ‰ã®æ¯”è¼ƒ
top10_eigen = comparison.nlargest(10, 'Eigenvector').index
top10_pr = comparison.nlargest(10, 'PageRank').index

indices = range(10)
eigen_values = [comparison.loc[node, 'Eigenvector'] for node in top10_pr]
pr_values = [comparison.loc[node, 'PageRank'] for node in top10_pr]

x = np.arange(len(indices))
width = 0.35

axes[1, 1].bar(x - width/2, eigen_values, width, label='å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«',
              alpha=0.7, edgecolor='black')
axes[1, 1].bar(x + width/2, pr_values, width, label='PageRank',
              alpha=0.7, edgecolor='black')
axes[1, 1].set_xlabel('ãƒãƒ¼ãƒ‰ï¼ˆPageRank Top 10é †ï¼‰')
axes[1, 1].set_ylabel('ä¸­å¿ƒæ€§ã‚¹ã‚³ã‚¢')
axes[1, 1].set_title('å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§ vs PageRankï¼ˆTop 10ï¼‰', fontsize=14)
axes[1, 1].set_xticks(x)
axes[1, 1].set_xticklabels([str(n) for n in top10_pr], rotation=45)
axes[1, 1].legend()
axes[1, 1].grid(True, alpha=0.3, axis='y')

plt.tight_layout()
plt.show()
</code></pre>

<h3>å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§ã¨PageRankã®ä½¿ã„åˆ†ã‘</h3>

<table>
<thead>
<tr>
<th>æŒ‡æ¨™</th>
<th>é©ç”¨å ´é¢</th>
<th>é•·æ‰€</th>
<th>çŸ­æ‰€</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§</strong></td>
<td>ç„¡å‘ã‚°ãƒ©ãƒ•ã€å‹äººé–¢ä¿‚</td>
<td>ç†è«–çš„ã«ã‚·ãƒ³ãƒ—ãƒ«</td>
<td>æœ‰å‘ã‚°ãƒ©ãƒ•ã§åæŸå›°é›£</td>
</tr>
<tr>
<td><strong>PageRank</strong></td>
<td>æœ‰å‘ã‚°ãƒ©ãƒ•ã€Webã€å¼•ç”¨</td>
<td>åæŸå®‰å®šã€å¤§è¦æ¨¡å¯¾å¿œ</td>
<td>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´å¿…è¦</td>
</tr>
</tbody>
</table>

<hr>

<h2>2.5 å®Ÿè·µï¼šã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å½±éŸ¿åŠ›åˆ†æ</h2>

<h3>Twitterãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æä¾‹</h3>

<p>å®Ÿéš›ã®ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’æ¨¡ã—ãŸãƒ‡ãƒ¼ã‚¿ã§ã€è¤‡æ•°ã®ä¸­å¿ƒæ€§æŒ‡æ¨™ã‚’æ¯”è¼ƒã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt
import pandas as pd
import numpy as np

# ã‚ˆã‚Šç¾å®Ÿçš„ãªã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ç”Ÿæˆ
# ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ç‰¹æ€§ã‚’æŒã¤Barabasi-Albertãƒ¢ãƒ‡ãƒ«
np.random.seed(42)
n_users = 100
G_social = nx.barabasi_albert_graph(n=n_users, m=3, seed=42)

# æœ‰å‘ã‚°ãƒ©ãƒ•ã«å¤‰æ›ï¼ˆãƒ•ã‚©ãƒ­ãƒ¼é–¢ä¿‚ï¼‰
G_social_directed = G_social.to_directed()

# ãƒªãƒ„ã‚¤ãƒ¼ãƒˆé–¢ä¿‚ï¼ˆä¸€éƒ¨ã‚¨ãƒƒã‚¸ã®ã¿ï¼‰ã‚’è¿½åŠ 
for edge in list(G_social_directed.edges())[:30]:
    if np.random.random() > 0.5:
        G_social_directed[edge[0]][edge[1]]['weight'] = np.random.randint(1, 10)

print("=== Twitterãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æ ===")
print(f"ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°: {G_social_directed.number_of_nodes()}")
print(f"ãƒ•ã‚©ãƒ­ãƒ¼é–¢ä¿‚æ•°: {G_social_directed.number_of_edges()}")
print(f"å¹³å‡æ¬¡æ•°: {sum(dict(G_social_directed.degree()).values()) / n_users:.2f}")

# å…¨ä¸­å¿ƒæ€§æŒ‡æ¨™ã®è¨ˆç®—
centralities = {
    'Degree': nx.degree_centrality(G_social_directed),
    'In-Degree': nx.in_degree_centrality(G_social_directed),
    'Out-Degree': nx.out_degree_centrality(G_social_directed),
    'Closeness': nx.closeness_centrality(G_social_directed),
    'Betweenness': nx.betweenness_centrality(G_social_directed),
    'Eigenvector': nx.eigenvector_centrality(G_social_directed, max_iter=1000),
    'PageRank': nx.pagerank(G_social_directed, alpha=0.85)
}

# ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã«å¤‰æ›
df_centralities = pd.DataFrame(centralities)

print("\n=== å…¨ä¸­å¿ƒæ€§æŒ‡æ¨™ã®çµ±è¨ˆ ===")
print(df_centralities.describe())

# å„æŒ‡æ¨™ã®Top 5ãƒ¦ãƒ¼ã‚¶ãƒ¼
print("\n=== å„æŒ‡æ¨™ã®Top 5 ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ ===")
for metric in centralities.keys():
    top5 = df_centralities.nlargest(5, metric)
    print(f"\n{metric}:")
    for idx, row in top5.iterrows():
        print(f"  ãƒ¦ãƒ¼ã‚¶ãƒ¼ {idx}: {row[metric]:.4f}")
</code></pre>

<h3>è¤‡æ•°ã®ä¸­å¿ƒæ€§æŒ‡æ¨™ã®æ¯”è¼ƒ</h3>

<pre><code class="language-python">import seaborn as sns

# ç›¸é–¢è¡Œåˆ—ã®è¨ˆç®—
correlation_matrix = df_centralities.corr()

print("\n=== ä¸­å¿ƒæ€§æŒ‡æ¨™ã®ç›¸é–¢è¡Œåˆ— ===")
print(correlation_matrix.round(3))

# å¯è¦–åŒ–
fig, axes = plt.subplots(2, 2, figsize=(16, 14))

# 1. ç›¸é–¢è¡Œåˆ—ã®ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—
sns.heatmap(correlation_matrix, annot=True, fmt='.2f', cmap='coolwarm',
            center=0, square=True, ax=axes[0, 0], cbar_kws={'shrink': 0.8})
axes[0, 0].set_title('ä¸­å¿ƒæ€§æŒ‡æ¨™ã®ç›¸é–¢è¡Œåˆ—', fontsize=14)

# 2. PageRank vs ãã®ä»–æŒ‡æ¨™ã®æ•£å¸ƒå›³
metrics_to_compare = ['Degree', 'Betweenness', 'Eigenvector']
colors = ['blue', 'red', 'green']

for metric, color in zip(metrics_to_compare, colors):
    axes[0, 1].scatter(df_centralities['PageRank'], df_centralities[metric],
                      alpha=0.5, s=50, label=metric, color=color)

axes[0, 1].set_xlabel('PageRank', fontsize=12)
axes[0, 1].set_ylabel('ä¸­å¿ƒæ€§ã‚¹ã‚³ã‚¢', fontsize=12)
axes[0, 1].set_title('PageRank vs ãã®ä»–æŒ‡æ¨™', fontsize=14)
axes[0, 1].legend()
axes[0, 1].grid(True, alpha=0.3)

# 3. å„æŒ‡æ¨™ã®åˆ†å¸ƒï¼ˆãƒã‚¤ã‚ªãƒªãƒ³ãƒ—ãƒ­ãƒƒãƒˆï¼‰
df_normalized = (df_centralities - df_centralities.min()) / (df_centralities.max() - df_centralities.min())
df_melted = df_normalized.melt(var_name='Metric', value_name='Normalized Score')

sns.violinplot(data=df_melted, x='Metric', y='Normalized Score', ax=axes[1, 0])
axes[1, 0].set_xticklabels(axes[1, 0].get_xticklabels(), rotation=45, ha='right')
axes[1, 0].set_title('ä¸­å¿ƒæ€§æŒ‡æ¨™ã®åˆ†å¸ƒï¼ˆæ­£è¦åŒ–æ¸ˆã¿ï¼‰', fontsize=14)
axes[1, 0].grid(True, alpha=0.3, axis='y')

# 4. ç·åˆã‚¹ã‚³ã‚¢ã®è¨ˆç®—ã¨å¯è¦–åŒ–
# å„æŒ‡æ¨™ã‚’æ­£è¦åŒ–ã—ã¦å¹³å‡
df_centralities['Composite_Score'] = df_normalized.mean(axis=1)
top_influencers = df_centralities.nlargest(15, 'Composite_Score')

axes[1, 1].barh(range(len(top_influencers)), top_influencers['Composite_Score'],
               alpha=0.7, edgecolor='black', color='purple')
axes[1, 1].set_yticks(range(len(top_influencers)))
axes[1, 1].set_yticklabels([f'User {idx}' for idx in top_influencers.index])
axes[1, 1].set_xlabel('ç·åˆå½±éŸ¿åŠ›ã‚¹ã‚³ã‚¢')
axes[1, 1].set_title('ç·åˆå½±éŸ¿åŠ›Top 15ãƒ¦ãƒ¼ã‚¶ãƒ¼\nï¼ˆå…¨æŒ‡æ¨™ã®æ­£è¦åŒ–å¹³å‡ï¼‰', fontsize=14)
axes[1, 1].grid(True, alpha=0.3, axis='x')

plt.tight_layout()
plt.show()

print("\n=== ç·åˆå½±éŸ¿åŠ›Top 10 ===")
print(top_influencers.head(10)[['Composite_Score', 'PageRank', 'Betweenness', 'Degree']])
</code></pre>

<h3>å½±éŸ¿åŠ›ãƒãƒ¼ãƒ‰ã®ç‰¹å®šã¨å¯è¦–åŒ–</h3>

<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt
from matplotlib.patches import Rectangle

# å½±éŸ¿åŠ›ã®ã‚«ãƒ†ã‚´ãƒªåˆ†é¡
def classify_influence(row):
    """ä¸­å¿ƒæ€§ã‚¹ã‚³ã‚¢ã«åŸºã¥ã„ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’åˆ†é¡"""
    score = row['Composite_Score']
    pagerank = row['PageRank']
    betweenness = row['Betweenness']

    if score > 0.5:
        return 'Mega Influencer'
    elif pagerank > df_centralities['PageRank'].quantile(0.9):
        return 'Hub'
    elif betweenness > df_centralities['Betweenness'].quantile(0.9):
        return 'Bridge'
    elif score > 0.3:
        return 'Micro Influencer'
    else:
        return 'Regular User'

df_centralities['Category'] = df_centralities.apply(classify_influence, axis=1)

print("\n=== ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ãƒ†ã‚´ãƒªåˆ†å¸ƒ ===")
category_counts = df_centralities['Category'].value_counts()
print(category_counts)

# ã‚«ãƒ†ã‚´ãƒªã”ã¨ã®è‰²åˆ†ã‘
category_colors = {
    'Mega Influencer': '#FF1744',
    'Hub': '#FF9100',
    'Bridge': '#00E676',
    'Micro Influencer': '#2979FF',
    'Regular User': '#BDBDBD'
}

# å¯è¦–åŒ–
fig, axes = plt.subplots(1, 2, figsize=(18, 8))

# 1. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å›³ï¼ˆã‚«ãƒ†ã‚´ãƒªåˆ¥è‰²åˆ†ã‘ï¼‰
pos = nx.spring_layout(G_social_directed, k=0.5, iterations=50, seed=42)

for category, color in category_colors.items():
    nodes = df_centralities[df_centralities['Category'] == category].index
    node_sizes = [df_centralities.loc[n, 'Composite_Score'] * 1000 for n in nodes]

    nx.draw_networkx_nodes(G_social_directed, pos, nodelist=nodes,
                          node_size=node_sizes, node_color=color,
                          alpha=0.8, label=category, ax=axes[0])

nx.draw_networkx_edges(G_social_directed, pos, alpha=0.1,
                       arrows=True, arrowsize=5, ax=axes[0])

# Top 5ã«ãƒ©ãƒ™ãƒ«è¡¨ç¤º
top5_nodes = df_centralities.nlargest(5, 'Composite_Score').index
labels = {node: str(node) for node in top5_nodes}
nx.draw_networkx_labels(G_social_directed, pos, labels, font_size=10,
                       font_weight='bold', ax=axes[0])

axes[0].set_title('Twitterãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å½±éŸ¿åŠ›åˆ†æ\n'
                 'ï¼ˆãƒãƒ¼ãƒ‰ã‚µã‚¤ã‚º = ç·åˆã‚¹ã‚³ã‚¢ã€è‰² = ã‚«ãƒ†ã‚´ãƒªï¼‰', fontsize=14)
axes[0].legend(loc='upper left', fontsize=10)
axes[0].axis('off')

# 2. ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ä¸­å¿ƒæ€§æŒ‡æ¨™æ¯”è¼ƒ
categories = list(category_colors.keys())
metrics = ['PageRank', 'Betweenness', 'Degree']

category_stats = df_centralities.groupby('Category')[metrics].mean()
category_stats = category_stats.reindex(categories)  # é †åºã‚’å›ºå®š

x = np.arange(len(categories))
width = 0.25

for i, metric in enumerate(metrics):
    offset = width * (i - 1)
    axes[1].bar(x + offset, category_stats[metric], width,
               label=metric, alpha=0.7, edgecolor='black')

axes[1].set_xlabel('ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ãƒ†ã‚´ãƒª', fontsize=12)
axes[1].set_ylabel('å¹³å‡ä¸­å¿ƒæ€§ã‚¹ã‚³ã‚¢', fontsize=12)
axes[1].set_title('ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ä¸­å¿ƒæ€§æŒ‡æ¨™æ¯”è¼ƒ', fontsize=14)
axes[1].set_xticks(x)
axes[1].set_xticklabels(categories, rotation=45, ha='right')
axes[1].legend()
axes[1].grid(True, alpha=0.3, axis='y')

plt.tight_layout()
plt.show()

# è©³ç´°åˆ†æãƒ¬ãƒãƒ¼ãƒˆ
print("\n=== ã‚«ãƒ†ã‚´ãƒªåˆ¥è©³ç´°çµ±è¨ˆ ===")
for category in categories:
    users = df_centralities[df_centralities['Category'] == category]
    if len(users) > 0:
        print(f"\n{category} ({len(users)}äºº):")
        print(f"  å¹³å‡PageRank: {users['PageRank'].mean():.4f}")
        print(f"  å¹³å‡åª’ä»‹ä¸­å¿ƒæ€§: {users['Betweenness'].mean():.4f}")
        print(f"  å¹³å‡æ¬¡æ•°ä¸­å¿ƒæ€§: {users['Degree'].mean():.4f}")
        print(f"  å¹³å‡ç·åˆã‚¹ã‚³ã‚¢: {users['Composite_Score'].mean():.4f}")

# å½±éŸ¿åŠ›ãƒãƒ¼ãƒ‰æ¨è–¦
print("\n=== ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ¨è–¦ ===")
print("\nMega Influencersï¼ˆå¤§è¦æ¨¡ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ï¼‰:")
mega = df_centralities[df_centralities['Category'] == 'Mega Influencer']
if len(mega) > 0:
    print(mega.nlargest(3, 'Composite_Score')[['PageRank', 'Betweenness', 'Composite_Score']])

print("\nBridgesï¼ˆã‚¯ãƒ­ã‚¹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ‹¡æ•£ï¼‰:")
bridges = df_centralities[df_centralities['Category'] == 'Bridge']
if len(bridges) > 0:
    print(bridges.nlargest(3, 'Betweenness')[['PageRank', 'Betweenness', 'Composite_Score']])

print("\nHubsï¼ˆã‚¿ãƒ¼ã‚²ãƒƒãƒˆåºƒå‘Šï¼‰:")
hubs = df_centralities[df_centralities['Category'] == 'Hub']
if len(hubs) > 0:
    print(hubs.nlargest(3, 'PageRank')[['PageRank', 'Betweenness', 'Composite_Score']])
</code></pre>

<blockquote>
<p><strong>å®Ÿè·µçš„çŸ¥è¦‹</strong>: å˜ä¸€ã®ä¸­å¿ƒæ€§æŒ‡æ¨™ã ã‘ã§ãªãã€è¤‡æ•°æŒ‡æ¨™ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ã‚ˆã‚ŠåŒ…æ‹¬çš„ãªå½±éŸ¿åŠ›åˆ†æãŒå¯èƒ½ã§ã™ã€‚</p>
</blockquote>

<hr>

<h2>2.6 æœ¬ç« ã®ã¾ã¨ã‚</h2>

<h3>å­¦ã‚“ã ã“ã¨</h3>

<ol>
<li><p><strong>ä¸­å¿ƒæ€§ã®æ¦‚å¿µ</strong></p>
<ul>
<li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã®ãƒãƒ¼ãƒ‰ã®é‡è¦åº¦ã‚’å®šé‡åŒ–</li>
<li>ç›®çš„ã«å¿œã˜ãŸæŒ‡æ¨™ã®é¸æŠãŒé‡è¦</li>
<li>è¨ˆç®—é‡ã‚’è€ƒæ…®ã—ãŸå®Ÿè£…</li>
</ul></li>

<li><p><strong>æ¬¡æ•°ä¸­å¿ƒæ€§ã¨è¿‘æ¥ä¸­å¿ƒæ€§</strong></p>
<ul>
<li>æ¬¡æ•°ä¸­å¿ƒæ€§: ç›´æ¥çš„ãªç¹‹ãŒã‚Šã®æ•°</li>
<li>è¿‘æ¥ä¸­å¿ƒæ€§: å…¨ä½“ã¸ã®åˆ°é”å®¹æ˜“æ€§</li>
<li>ç›¸é–¢ã¯ã‚ã‚‹ãŒå¿…ãšã—ã‚‚ä¸€è‡´ã—ãªã„</li>
</ul></li>

<li><p><strong>åª’ä»‹ä¸­å¿ƒæ€§</strong></p>
<ul>
<li>æƒ…å ±ãƒ•ãƒ­ãƒ¼ã®ä»²ä»‹è€…ã‚’ç‰¹å®š</li>
<li>ãƒœãƒˆãƒ«ãƒãƒƒã‚¯æ¤œå‡ºã«æœ‰åŠ¹</li>
<li>å¤§è¦æ¨¡ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§ã¯è¿‘ä¼¼è¨ˆç®—ã‚’åˆ©ç”¨</li>
</ul></li>

<li><p><strong>å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«ä¸­å¿ƒæ€§ã¨PageRank</strong></p>
<ul>
<li>é‡è¦ãªãƒãƒ¼ãƒ‰ã¨ã®ç¹‹ãŒã‚Šã‚’é‡è¦–</li>
<li>PageRankã¯æœ‰å‘ã‚°ãƒ©ãƒ•ã§å®‰å®š</li>
<li>Webã€å¼•ç”¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§æœ‰åŠ¹</li>
</ul></li>

<li><p><strong>å®Ÿè·µçš„å½±éŸ¿åŠ›åˆ†æ</strong></p>
<ul>
<li>è¤‡æ•°æŒ‡æ¨™ã®çµ„ã¿åˆã‚ã›ãŒåŠ¹æœçš„</li>
<li>ç·åˆã‚¹ã‚³ã‚¢ã§ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ç‰¹å®š</li>
<li>ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ã§æˆ¦ç•¥çš„æ´»ç”¨</li>
</ul></li>
</ol>

<h3>ä¸­å¿ƒæ€§æŒ‡æ¨™é¸æŠã‚¬ã‚¤ãƒ‰</h3>

<table>
<thead>
<tr>
<th>ç›®çš„</th>
<th>æ¨å¥¨æŒ‡æ¨™</th>
<th>ç†ç”±</th>
</tr>
</thead>
<tbody>
<tr>
<td>ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢ã®ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼</td>
<td>PageRankã€å›ºæœ‰ãƒ™ã‚¯ãƒˆãƒ«</td>
<td>è³ªã®é«˜ã„ç¹‹ãŒã‚Šã‚’é‡è¦–</td>
</tr>
<tr>
<td>æƒ…å ±æ‹¡æ•£ã®èµ·ç‚¹</td>
<td>æ¬¡æ•°ä¸­å¿ƒæ€§ã€è¿‘æ¥ä¸­å¿ƒæ€§</td>
<td>å¤šãã®ãƒãƒ¼ãƒ‰ã¸é€Ÿãåˆ°é”</td>
</tr>
<tr>
<td>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯</td>
<td>åª’ä»‹ä¸­å¿ƒæ€§</td>
<td>æƒ…å ±ãƒ•ãƒ­ãƒ¼ã®åˆ¶å¾¡ç‚¹</td>
</tr>
<tr>
<td>ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£é–“ã®æ©‹æ¸¡ã—</td>
<td>åª’ä»‹ä¸­å¿ƒæ€§</td>
<td>ç•°ãªã‚‹é›†å›£ã‚’ç¹‹ããƒãƒ¼ãƒ‰</td>
</tr>
<tr>
<td>Webãƒšãƒ¼ã‚¸ãƒ©ãƒ³ã‚­ãƒ³ã‚°</td>
<td>PageRank</td>
<td>ãƒªãƒ³ã‚¯æ§‹é€ ã®è©•ä¾¡</td>
</tr>
</tbody>
</table>

<h3>æ¬¡ã®ç« ã¸</h3>

<p>ç¬¬3ç« ã§ã¯ã€<strong>ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ¤œå‡º</strong>ã‚’å­¦ã³ã¾ã™ï¼š</p>
<ul>
<li>Louvainæ³•</li>
<li>Label Propagation</li>
<li>Girvan-Newmanæ³•</li>
<li>ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒªãƒ†ã‚£æœ€é©åŒ–</li>
<li>éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°</li>
</ul>

<hr>

<h2>æ¼”ç¿’å•é¡Œ</h2>

<h3>å•é¡Œ1ï¼ˆé›£æ˜“åº¦ï¼šeasyï¼‰</h3>
<p>æ¬¡æ•°ä¸­å¿ƒæ€§ã¨è¿‘æ¥ä¸­å¿ƒæ€§ã®é•ã„ã‚’èª¬æ˜ã—ã€ãã‚Œãã‚ŒãŒã©ã®ã‚ˆã†ãªçŠ¶æ³ã§é«˜ã„å€¤ã‚’ç¤ºã™ã‹è¿°ã¹ã¦ãã ã•ã„ã€‚</p>

<details>
<summary>è§£ç­”ä¾‹</summary>

<p><strong>è§£ç­”</strong>ï¼š</p>

<p><strong>æ¬¡æ•°ä¸­å¿ƒæ€§ï¼ˆDegree Centralityï¼‰</strong>ï¼š</p>
<ul>
<li>å®šç¾©: ãƒãƒ¼ãƒ‰ãŒæŒã¤ç›´æ¥çš„ãªç¹‹ãŒã‚Šï¼ˆã‚¨ãƒƒã‚¸ï¼‰ã®æ•°</li>
<li>é«˜ã„å€¤ã‚’ç¤ºã™çŠ¶æ³: å¤šãã®ãƒãƒ¼ãƒ‰ã¨ç›´æ¥ç¹‹ãŒã£ã¦ã„ã‚‹ã€Œãƒãƒ–ã€ãƒãƒ¼ãƒ‰</li>
<li>ä¾‹: SNSã§ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°ãŒå¤šã„ãƒ¦ãƒ¼ã‚¶ãƒ¼</li>
</ul>

<p><strong>è¿‘æ¥ä¸­å¿ƒæ€§ï¼ˆCloseness Centralityï¼‰</strong>ï¼š</p>
<ul>
<li>å®šç¾©: ä»–ã®å…¨ãƒãƒ¼ãƒ‰ã¸ã®æœ€çŸ­è·é›¢ã®é€†æ•°</li>
<li>é«˜ã„å€¤ã‚’ç¤ºã™çŠ¶æ³: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ä¸­å¿ƒã«ä½ç½®ã—ã€å…¨ãƒãƒ¼ãƒ‰ã¸ã®å¹³å‡è·é›¢ãŒçŸ­ã„ãƒãƒ¼ãƒ‰</li>
<li>ä¾‹: äº¤é€šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ä¸­ç¶™ãƒãƒ–ï¼ˆä¹—ã‚Šæ›ãˆãŒä¾¿åˆ©ãªé§…ï¼‰</li>
</ul>

<p><strong>é‡è¦ãªé•ã„</strong>ï¼š</p>
<ul>
<li>æ¬¡æ•°ä¸­å¿ƒæ€§ã¯ã€Œå±€æ‰€çš„ã€ãªç¹‹ãŒã‚Šã®é‡ã‚’æ¸¬å®š</li>
<li>è¿‘æ¥ä¸­å¿ƒæ€§ã¯ã€Œã‚°ãƒ­ãƒ¼ãƒãƒ«ã€ãªåˆ°é”å®¹æ˜“æ€§ã‚’æ¸¬å®š</li>
<li>æ¬¡æ•°ã¯ä½ãã¦ã‚‚ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸­å¿ƒã«ä½ç½®ã™ã‚Œã°è¿‘æ¥ä¸­å¿ƒæ€§ã¯é«˜ããªã‚‹</li>
</ul>

</details>

<h3>å•é¡Œ2ï¼ˆé›£æ˜“åº¦ï¼šmediumï¼‰</h3>
<p>ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§ç°¡å˜ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä½œæˆã—ã€å…¨ãƒãƒ¼ãƒ‰ã®åª’ä»‹ä¸­å¿ƒæ€§ã‚’è¨ˆç®—ã—ã¦ãã ã•ã„ã€‚æœ€ã‚‚é«˜ã„åª’ä»‹ä¸­å¿ƒæ€§ã‚’æŒã¤ãƒãƒ¼ãƒ‰ã¨ãã®å€¤ã‚’å ±å‘Šã—ã¦ãã ã•ã„ã€‚</p>

<pre><code class="language-python">import networkx as nx

G = nx.Graph()
G.add_edges_from([(0, 1), (1, 2), (2, 3), (3, 4), (1, 5), (5, 6)])
</code></pre>

<details>
<summary>è§£ç­”ä¾‹</summary>

<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt

# ã‚°ãƒ©ãƒ•ã®ä½œæˆ
G = nx.Graph()
G.add_edges_from([(0, 1), (1, 2), (2, 3), (3, 4), (1, 5), (5, 6)])

# åª’ä»‹ä¸­å¿ƒæ€§ã®è¨ˆç®—
betweenness = nx.betweenness_centrality(G, normalized=True)

print("=== åª’ä»‹ä¸­å¿ƒæ€§ã®è¨ˆç®—çµæœ ===")
for node, centrality in sorted(betweenness.items()):
    print(f"ãƒãƒ¼ãƒ‰ {node}: {centrality:.4f}")

# æœ€å¤§å€¤ã®ç‰¹å®š
max_node = max(betweenness, key=betweenness.get)
max_value = betweenness[max_node]

print(f"\næœ€ã‚‚é«˜ã„åª’ä»‹ä¸­å¿ƒæ€§ã‚’æŒã¤ãƒãƒ¼ãƒ‰: {max_node}")
print(f"åª’ä»‹ä¸­å¿ƒæ€§ã®å€¤: {max_value:.4f}")

# å¯è¦–åŒ–
pos = nx.spring_layout(G, seed=42)
node_sizes = [v * 3000 for v in betweenness.values()]
node_colors = [betweenness[node] for node in G.nodes()]

plt.figure(figsize=(10, 7))
nx.draw_networkx_nodes(G, pos, node_size=node_sizes,
                       node_color=node_colors, cmap='Reds', alpha=0.8)
nx.draw_networkx_edges(G, pos, alpha=0.5, width=2)
nx.draw_networkx_labels(G, pos, font_size=14, font_weight='bold')
plt.title(f'åª’ä»‹ä¸­å¿ƒæ€§ã®å¯è¦–åŒ–\næœ€å¤§: ãƒãƒ¼ãƒ‰ {max_node} ({max_value:.4f})', fontsize=14)
plt.axis('off')
plt.tight_layout()
plt.show()
</code></pre>

<p><strong>å‡ºåŠ›</strong>ï¼š</p>
<pre><code>=== åª’ä»‹ä¸­å¿ƒæ€§ã®è¨ˆç®—çµæœ ===
ãƒãƒ¼ãƒ‰ 0: 0.0000
ãƒãƒ¼ãƒ‰ 1: 0.6000
ãƒãƒ¼ãƒ‰ 2: 0.2667
ãƒãƒ¼ãƒ‰ 3: 0.1333
ãƒãƒ¼ãƒ‰ 4: 0.0000
ãƒãƒ¼ãƒ‰ 5: 0.0667
ãƒãƒ¼ãƒ‰ 6: 0.0000

æœ€ã‚‚é«˜ã„åª’ä»‹ä¸­å¿ƒæ€§ã‚’æŒã¤ãƒãƒ¼ãƒ‰: 1
åª’ä»‹ä¸­å¿ƒæ€§ã®å€¤: 0.6000
</code></pre>

<p><strong>è§£é‡ˆ</strong>ï¼šãƒãƒ¼ãƒ‰1ã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ç•°ãªã‚‹éƒ¨åˆ†ï¼ˆ0-1-2-3-4ã¨ã®ãƒ‘ã‚¹ã¨5-6ã¸ã®åˆ†å²ï¼‰ã‚’ç¹‹ããƒ–ãƒªãƒƒã‚¸ã§ã‚ã‚Šã€å¤šãã®æœ€çŸ­çµŒè·¯ä¸Šã«ä½ç½®ã™ã‚‹ãŸã‚ã€åª’ä»‹ä¸­å¿ƒæ€§ãŒæœ€ã‚‚é«˜ããªã‚Šã¾ã™ã€‚</p>

</details>

<h3>å•é¡Œ3ï¼ˆé›£æ˜“åº¦ï¼šmediumï¼‰</h3>
<p>PageRankã®ãƒ€ãƒ³ãƒ”ãƒ³ã‚°ä¿‚æ•°ï¼ˆalphaï¼‰ãŒ0.5ã®å ´åˆã¨0.95ã®å ´åˆã§ã€çµæœãŒã©ã†å¤‰ã‚ã‚‹ã‹å®Ÿé¨“ã—ã¦ãã ã•ã„ã€‚ãƒ€ãƒ³ãƒ”ãƒ³ã‚°ä¿‚æ•°ã®å½¹å‰²ã‚’èª¬æ˜ã—ã¦ãã ã•ã„ã€‚</p>

<details>
<summary>è§£ç­”ä¾‹</summary>

<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt
import pandas as pd

# ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼ˆæœ‰å‘ã‚°ãƒ©ãƒ•ï¼‰
G = nx.DiGraph()
G.add_edges_from([
    (0, 1), (1, 2), (2, 3), (3, 0),  # ã‚µã‚¤ã‚¯ãƒ«
    (1, 4), (4, 5), (5, 1),          # ã‚µãƒ–ã‚µã‚¤ã‚¯ãƒ«
    (3, 6), (6, 7), (7, 3)           # åˆ¥ã®ã‚µãƒ–ã‚µã‚¤ã‚¯ãƒ«
])

# ç•°ãªã‚‹ãƒ€ãƒ³ãƒ”ãƒ³ã‚°ä¿‚æ•°ã§PageRankã‚’è¨ˆç®—
alpha_values = [0.5, 0.85, 0.95]
pagerank_results = {}

print("=== ãƒ€ãƒ³ãƒ”ãƒ³ã‚°ä¿‚æ•°ã®å½±éŸ¿åˆ†æ ===")
for alpha in alpha_values:
    pr = nx.pagerank(G, alpha=alpha)
    pagerank_results[f'alpha={alpha}'] = pr

    top3 = sorted(pr.items(), key=lambda x: x[1], reverse=True)[:3]
    print(f"\nalpha = {alpha}:")
    print(f"  Top 3ãƒãƒ¼ãƒ‰: {[(node, f'{score:.4f}') for node, score in top3]}")

# ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã§æ¯”è¼ƒ
df_comparison = pd.DataFrame(pagerank_results)
print("\nå…¨ãƒãƒ¼ãƒ‰ã®PageRankæ¯”è¼ƒ:")
print(df_comparison.to_string())

# å¯è¦–åŒ–
fig, axes = plt.subplots(1, 3, figsize=(18, 6))
pos = nx.spring_layout(G, seed=42)

for i, alpha in enumerate(alpha_values):
    pr = pagerank_results[f'alpha={alpha}']
    node_sizes = [v * 5000 for v in pr.values()]
    node_colors = [pr[node] for node in G.nodes()]

    nx.draw_networkx_nodes(G, pos, node_size=node_sizes,
                          node_color=node_colors, cmap='YlOrRd',
                          alpha=0.8, ax=axes[i])
    nx.draw_networkx_edges(G, pos, alpha=0.3, arrows=True,
                          arrowsize=15, ax=axes[i])
    nx.draw_networkx_labels(G, pos, font_size=10, ax=axes[i])
    axes[i].set_title(f'PageRank (alpha={alpha})', fontsize=14)
    axes[i].axis('off')

plt.tight_layout()
plt.show()

# ã‚¹ã‚³ã‚¢ã®åˆ†æ•£åˆ†æ
print("\n=== ã‚¹ã‚³ã‚¢åˆ†æ•£ã®æ¯”è¼ƒ ===")
for alpha in alpha_values:
    scores = list(pagerank_results[f'alpha={alpha}'].values())
    print(f"alpha={alpha}: æ¨™æº–åå·®={pd.Series(scores).std():.6f}")
</code></pre>

<p><strong>ãƒ€ãƒ³ãƒ”ãƒ³ã‚°ä¿‚æ•°ã®å½¹å‰²èª¬æ˜</strong>ï¼š</p>

<ol>
<li><p><strong>å®šç¾©</strong>: ãƒ€ãƒ³ãƒ”ãƒ³ã‚°ä¿‚æ•°ï¼ˆalphaï¼‰ã¯ã€ãƒ©ãƒ³ãƒ€ãƒ ã‚¦ã‚©ãƒ¼ã‚«ãƒ¼ãŒãƒªãƒ³ã‚¯ã‚’è¾¿ã‚‹ç¢ºç‡ã§ã™</p>
<ul>
<li>ç¢ºç‡ alpha: ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒªãƒ³ã‚¯ã‚’è¾¿ã‚‹</li>
<li>ç¢ºç‡ (1-alpha): ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚¸ãƒ£ãƒ³ãƒ—ã™ã‚‹</li>
</ul></li>

<li><p><strong>å€¤ã«ã‚ˆã‚‹å½±éŸ¿</strong>:</p>
<ul>
<li><strong>alpha=0.5</strong>: 50%ã®ç¢ºç‡ã§ãƒ©ãƒ³ãƒ€ãƒ ã‚¸ãƒ£ãƒ³ãƒ— â†’ ã‚¹ã‚³ã‚¢ãŒå‡ä¸€åŒ–</li>
<li><strong>alpha=0.85</strong>: æ¨™æº–å€¤ã€ãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ã„</li>
<li><strong>alpha=0.95</strong>: ãƒªãƒ³ã‚¯æ§‹é€ ã‚’å¼·ãåæ˜  â†’ ã‚¹ã‚³ã‚¢å·®ãŒæ‹¡å¤§</li>
</ul></li>

<li><p><strong>å®Ÿç”¨çš„æ„å‘³</strong>:</p>
<ul>
<li>ä½ã„alpha: ãƒ‡ãƒƒãƒ‰ã‚¨ãƒ³ãƒ‰å•é¡Œã‚’å›é¿ã€æ–°ã—ã„ãƒšãƒ¼ã‚¸ã«ãƒãƒ£ãƒ³ã‚¹</li>
<li>é«˜ã„alpha: ãƒªãƒ³ã‚¯æ§‹é€ ã‚’é‡è¦–ã€ç¢ºç«‹ã•ã‚ŒãŸãƒšãƒ¼ã‚¸ãŒæœ‰åˆ©</li>
</ul></li>
</ol>

</details>

<h3>å•é¡Œ4ï¼ˆé›£æ˜“åº¦ï¼šhardï¼‰</h3>
<p>æ¬¡ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«å¯¾ã—ã¦ã€æ¬¡æ•°ä¸­å¿ƒæ€§ã€åª’ä»‹ä¸­å¿ƒæ€§ã€PageRankã®3ã¤ã‚’è¨ˆç®—ã—ã€ãã‚Œãã‚Œã®Top 5ãƒãƒ¼ãƒ‰ã‚’æ¯”è¼ƒã—ã¦ãã ã•ã„ã€‚ãªãœé•ã„ãŒç”Ÿã˜ã‚‹ã®ã‹ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹é€ ã®è¦³ç‚¹ã‹ã‚‰èª¬æ˜ã—ã¦ãã ã•ã„ã€‚</p>

<pre><code class="language-python">import networkx as nx
G = nx.les_miserables_graph()
</code></pre>

<details>
<summary>è§£ç­”ä¾‹</summary>

<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt
import pandas as pd

# Les Miserablesãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼ˆæ–‡å­¦ä½œå“ã®ç™»å ´äººç‰©é–¢ä¿‚ï¼‰
G = nx.les_miserables_graph()

print(f"=== Les Miserables ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ===")
print(f"ãƒãƒ¼ãƒ‰æ•°: {G.number_of_nodes()}")
print(f"ã‚¨ãƒƒã‚¸æ•°: {G.number_of_edges()}")

# æœ‰å‘ã‚°ãƒ©ãƒ•ã«å¤‰æ›ï¼ˆPageRankç”¨ï¼‰
G_directed = G.to_directed()

# 3ã¤ã®ä¸­å¿ƒæ€§æŒ‡æ¨™ã‚’è¨ˆç®—
degree_cent = nx.degree_centrality(G)
betweenness_cent = nx.betweenness_centrality(G)
pagerank_cent = nx.pagerank(G_directed, alpha=0.85)

# ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã«çµ±åˆ
centrality_df = pd.DataFrame({
    'Degree': degree_cent,
    'Betweenness': betweenness_cent,
    'PageRank': pagerank_cent
})

# å„æŒ‡æ¨™ã®Top 5
print("\n=== æ¬¡æ•°ä¸­å¿ƒæ€§ Top 5 ===")
top5_degree = centrality_df.nlargest(5, 'Degree')
print(top5_degree[['Degree']])

print("\n=== åª’ä»‹ä¸­å¿ƒæ€§ Top 5 ===")
top5_betweenness = centrality_df.nlargest(5, 'Betweenness')
print(top5_betweenness[['Betweenness']])

print("\n=== PageRank Top 5 ===")
top5_pagerank = centrality_df.nlargest(5, 'PageRank')
print(top5_pagerank[['PageRank']])

# å…±é€šæ€§ã®åˆ†æ
top5_degree_set = set(top5_degree.index)
top5_betweenness_set = set(top5_betweenness.index)
top5_pagerank_set = set(top5_pagerank.index)

all_three = top5_degree_set & top5_betweenness_set & top5_pagerank_set
degree_betweenness = (top5_degree_set & top5_betweenness_set) - all_three
degree_pagerank = (top5_degree_set & top5_pagerank_set) - all_three
betweenness_pagerank = (top5_betweenness_set & top5_pagerank_set) - all_three

print("\n=== Top 5ã®é‡è¤‡åˆ†æ ===")
print(f"3æŒ‡æ¨™ã™ã¹ã¦ã§Top 5: {all_three}")
print(f"æ¬¡æ•°&åª’ä»‹ã®ã¿: {degree_betweenness}")
print(f"æ¬¡æ•°&PageRankã®ã¿: {degree_pagerank}")
print(f"åª’ä»‹&PageRankã®ã¿: {betweenness_pagerank}")

# å¯è¦–åŒ–
fig, axes = plt.subplots(2, 2, figsize=(16, 14))

# 1. æ¬¡æ•°ä¸­å¿ƒæ€§
pos = nx.spring_layout(G, k=0.3, iterations=50, seed=42)
node_sizes = [v * 3000 for v in degree_cent.values()]
node_colors = [degree_cent[node] for node in G.nodes()]

nx.draw_networkx_nodes(G, pos, node_size=node_sizes,
                       node_color=node_colors, cmap='Blues', alpha=0.7, ax=axes[0, 0])
nx.draw_networkx_edges(G, pos, alpha=0.1, ax=axes[0, 0])
top5_labels = {node: node for node in top5_degree.index}
nx.draw_networkx_labels(G, pos, top5_labels, font_size=8, ax=axes[0, 0])
axes[0, 0].set_title('æ¬¡æ•°ä¸­å¿ƒæ€§ï¼ˆTop 5ã«ãƒ©ãƒ™ãƒ«ï¼‰', fontsize=14)
axes[0, 0].axis('off')

# 2. åª’ä»‹ä¸­å¿ƒæ€§
node_sizes = [v * 10000 for v in betweenness_cent.values()]
node_colors = [betweenness_cent[node] for node in G.nodes()]

nx.draw_networkx_nodes(G, pos, node_size=node_sizes,
                       node_color=node_colors, cmap='Reds', alpha=0.7, ax=axes[0, 1])
nx.draw_networkx_edges(G, pos, alpha=0.1, ax=axes[0, 1])
top5_labels = {node: node for node in top5_betweenness.index}
nx.draw_networkx_labels(G, pos, top5_labels, font_size=8, ax=axes[0, 1])
axes[0, 1].set_title('åª’ä»‹ä¸­å¿ƒæ€§ï¼ˆTop 5ã«ãƒ©ãƒ™ãƒ«ï¼‰', fontsize=14)
axes[0, 1].axis('off')

# 3. PageRank
node_sizes = [v * 100000 for v in pagerank_cent.values()]
node_colors = [pagerank_cent[node] for node in G.nodes()]

nx.draw_networkx_nodes(G, pos, node_size=node_sizes,
                       node_color=node_colors, cmap='Greens', alpha=0.7, ax=axes[1, 0])
nx.draw_networkx_edges(G, pos, alpha=0.1, ax=axes[1, 0])
top5_labels = {node: node for node in top5_pagerank.index}
nx.draw_networkx_labels(G, pos, top5_labels, font_size=8, ax=axes[1, 0])
axes[1, 0].set_title('PageRankï¼ˆTop 5ã«ãƒ©ãƒ™ãƒ«ï¼‰', fontsize=14)
axes[1, 0].axis('off')

# 4. ç›¸é–¢è¡Œåˆ—
correlation = centrality_df.corr()
im = axes[1, 1].imshow(correlation, cmap='coolwarm', vmin=-1, vmax=1)
axes[1, 1].set_xticks(range(3))
axes[1, 1].set_yticks(range(3))
axes[1, 1].set_xticklabels(['Degree', 'Betweenness', 'PageRank'])
axes[1, 1].set_yticklabels(['Degree', 'Betweenness', 'PageRank'])
axes[1, 1].set_title('ä¸­å¿ƒæ€§æŒ‡æ¨™ã®ç›¸é–¢', fontsize=14)

for i in range(3):
    for j in range(3):
        text = axes[1, 1].text(j, i, f'{correlation.iloc[i, j]:.2f}',
                              ha="center", va="center", color="black", fontsize=12)

plt.colorbar(im, ax=axes[1, 1])
plt.tight_layout()
plt.show()

print("\n=== é•ã„ã®æ§‹é€ çš„ç†ç”± ===")
print("\n1. æ¬¡æ•°ä¸­å¿ƒæ€§ãŒé«˜ã„ãŒä»–ã¯ä½ã„ãƒãƒ¼ãƒ‰:")
print("   â†’ å¤šæ•°ã®ç¹‹ãŒã‚Šã‚’æŒã¤ãŒã€ãƒ–ãƒªãƒƒã‚¸ã§ã¯ãªãã€é‡è¦ãƒãƒ¼ãƒ‰ã¨ã‚‚ç¹‹ãŒã£ã¦ã„ãªã„")
print("   â†’ ä¾‹: å±€æ‰€çš„ãªãƒãƒ–")

print("\n2. åª’ä»‹ä¸­å¿ƒæ€§ãŒé«˜ã„ãŒä»–ã¯ä½ã„ãƒãƒ¼ãƒ‰:")
print("   â†’ ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£é–“ã®æ©‹æ¸¡ã—å½¹ã ãŒã€è‡ªèº«ã®ç¹‹ãŒã‚Šã¯å°‘ãªã„")
print("   â†’ ä¾‹: ã‚²ãƒ¼ãƒˆã‚­ãƒ¼ãƒ‘ãƒ¼ã€ä»²ä»‹è€…")

print("\n3. PageRankãŒé«˜ã„ãŒä»–ã¯ä½ã„ãƒãƒ¼ãƒ‰:")
print("   â†’ ç¹‹ãŒã‚Šæ•°ã¯å°‘ãªã„ãŒã€å½±éŸ¿åŠ›ã®é«˜ã„ãƒãƒ¼ãƒ‰ã¨ç¹‹ãŒã£ã¦ã„ã‚‹")
print("   â†’ ä¾‹: VIPã¨ã®ç¹‹ãŒã‚Šã‚’æŒã¤ãƒãƒ¼ãƒ‰")

# å…·ä½“ä¾‹åˆ†æï¼ˆä¸Šä½ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ï¼‰
print("\n=== ä¸»è¦ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è©³ç´°åˆ†æ ===")
main_characters = list(all_three)
if main_characters:
    for char in main_characters:
        print(f"\n{char}:")
        print(f"  æ¬¡æ•°ä¸­å¿ƒæ€§: {centrality_df.loc[char, 'Degree']:.4f}")
        print(f"  åª’ä»‹ä¸­å¿ƒæ€§: {centrality_df.loc[char, 'Betweenness']:.4f}")
        print(f"  PageRank: {centrality_df.loc[char, 'PageRank']:.4f}")
        print(f"  â†’ å…¨æŒ‡æ¨™ã§é«˜ã„ = ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã®ä¸­å¿ƒäººç‰©")
</code></pre>

<p><strong>æ§‹é€ çš„ç†ç”±ã®è©³ç´°èª¬æ˜</strong>ï¼š</p>

<ol>
<li><p><strong>æ¬¡æ•°ä¸­å¿ƒæ€§</strong>: ç›´æ¥çš„ãªç¹‹ãŒã‚Šã®æ•°</p>
<ul>
<li>å¤šãã®ç™»å ´äººç‰©ã¨é–¢ã‚ã‚‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ï¼ˆä¾‹: ä¸»äººå…¬ï¼‰</li>
<li>å±€æ‰€çš„ãªãƒãƒ–ã§ã‚‚é«˜å¾—ç‚¹</li>
</ul></li>

<li><p><strong>åª’ä»‹ä¸­å¿ƒæ€§</strong>: ç•°ãªã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ç¹‹ãä½ç½®</p>
<ul>
<li>ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã®ç•°ãªã‚‹éƒ¨åˆ†ã‚’ç¹‹ãã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼</li>
<li>å‰Šé™¤ã™ã‚‹ã¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒåˆ†æ–­ã•ã‚Œã‚‹ãƒãƒ¼ãƒ‰</li>
</ul></li>

<li><p><strong>PageRank</strong>: é‡è¦ãªãƒãƒ¼ãƒ‰ã¨ã®ç¹‹ãŒã‚Š</p>
<ul>
<li>ä¸»è¦ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¨é–¢ã‚ã‚‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼</li>
<li>ç¹‹ãŒã‚Šæ•°ã¯å°‘ãªãã¦ã‚‚ã€è³ªã®é«˜ã„ç¹‹ãŒã‚Šã‚’æŒã¤</li>
</ul></li>
</ol>

</details>

<h3>å•é¡Œ5ï¼ˆé›£æ˜“åº¦ï¼šhardï¼‰</h3>
<p>ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ•ï¼ˆErdos-Renyiãƒ¢ãƒ‡ãƒ«ï¼‰ã¨ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ã‚°ãƒ©ãƒ•ï¼ˆBarabasi-Albertãƒ¢ãƒ‡ãƒ«ï¼‰ã‚’ç”Ÿæˆã—ã€å„ã‚°ãƒ©ãƒ•ã§æ¬¡æ•°ä¸­å¿ƒæ€§ã¨PageRankã®åˆ†å¸ƒã‚’æ¯”è¼ƒã—ã¦ãã ã•ã„ã€‚ã©ã®ã‚ˆã†ãªé•ã„ãŒè¦‹ã‚‰ã‚Œã¾ã™ã‹ï¼Ÿ</p>

<details>
<summary>è§£ç­”ä¾‹</summary>

<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt
import numpy as np
from scipy import stats

# ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
n_nodes = 500
seed = 42

# 1. Erdos-Renyi ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ•
p = 6 / n_nodes  # å¹³å‡æ¬¡æ•° â‰ˆ 6
G_random = nx.erdos_renyi_graph(n=n_nodes, p=p, seed=seed)

# 2. Barabasi-Albert ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ã‚°ãƒ©ãƒ•
m = 3  # å„ãƒãƒ¼ãƒ‰ãŒ3æœ¬ã®ã‚¨ãƒƒã‚¸ã§æ¥ç¶š
G_scale_free = nx.barabasi_albert_graph(n=n_nodes, m=m, seed=seed)

print("=== ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¯”è¼ƒ ===")
print(f"\nErdos-Renyi ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ•:")
print(f"  ãƒãƒ¼ãƒ‰æ•°: {G_random.number_of_nodes()}")
print(f"  ã‚¨ãƒƒã‚¸æ•°: {G_random.number_of_edges()}")
print(f"  å¹³å‡æ¬¡æ•°: {2 * G_random.number_of_edges() / G_random.number_of_nodes():.2f}")

print(f"\nBarabasi-Albert ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ã‚°ãƒ©ãƒ•:")
print(f"  ãƒãƒ¼ãƒ‰æ•°: {G_scale_free.number_of_nodes()}")
print(f"  ã‚¨ãƒƒã‚¸æ•°: {G_scale_free.number_of_edges()}")
print(f"  å¹³å‡æ¬¡æ•°: {2 * G_scale_free.number_of_edges() / G_scale_free.number_of_nodes():.2f}")

# ä¸­å¿ƒæ€§è¨ˆç®—
degree_random = nx.degree_centrality(G_random)
degree_scale_free = nx.degree_centrality(G_scale_free)

pagerank_random = nx.pagerank(G_random.to_directed(), alpha=0.85)
pagerank_scale_free = nx.pagerank(G_scale_free.to_directed(), alpha=0.85)

# çµ±è¨ˆæƒ…å ±
print("\n=== æ¬¡æ•°ä¸­å¿ƒæ€§ã®çµ±è¨ˆ ===")
print(f"ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ•: å¹³å‡={np.mean(list(degree_random.values())):.4f}, "
      f"æ¨™æº–åå·®={np.std(list(degree_random.values())):.4f}")
print(f"ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼: å¹³å‡={np.mean(list(degree_scale_free.values())):.4f}, "
      f"æ¨™æº–åå·®={np.std(list(degree_scale_free.values())):.4f}")

print("\n=== PageRankã®çµ±è¨ˆ ===")
print(f"ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ•: å¹³å‡={np.mean(list(pagerank_random.values())):.4f}, "
      f"æ¨™æº–åå·®={np.std(list(pagerank_random.values())):.4f}")
print(f"ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼: å¹³å‡={np.mean(list(pagerank_scale_free.values())):.4f}, "
      f"æ¨™æº–åå·®={np.std(list(pagerank_scale_free.values())):.4f}")

# å¯è¦–åŒ–
fig, axes = plt.subplots(2, 3, figsize=(18, 12))

# 1. ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ• - æ¬¡æ•°ä¸­å¿ƒæ€§åˆ†å¸ƒ
axes[0, 0].hist(list(degree_random.values()), bins=30, alpha=0.7,
               edgecolor='black', color='skyblue')
axes[0, 0].set_xlabel('æ¬¡æ•°ä¸­å¿ƒæ€§')
axes[0, 0].set_ylabel('ãƒãƒ¼ãƒ‰æ•°')
axes[0, 0].set_title('ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ•: æ¬¡æ•°ä¸­å¿ƒæ€§åˆ†å¸ƒ', fontsize=12)
axes[0, 0].grid(True, alpha=0.3)

# 2. ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ• - PageRankåˆ†å¸ƒ
axes[0, 1].hist(list(pagerank_random.values()), bins=30, alpha=0.7,
               edgecolor='black', color='lightgreen')
axes[0, 1].set_xlabel('PageRank')
axes[0, 1].set_ylabel('ãƒãƒ¼ãƒ‰æ•°')
axes[0, 1].set_title('ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ•: PageRankåˆ†å¸ƒ', fontsize=12)
axes[0, 1].grid(True, alpha=0.3)

# 3. ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ• - æ•£å¸ƒå›³
axes[0, 2].scatter(list(degree_random.values()), list(pagerank_random.values()),
                  alpha=0.5, s=20, color='blue')
axes[0, 2].set_xlabel('æ¬¡æ•°ä¸­å¿ƒæ€§')
axes[0, 2].set_ylabel('PageRank')
axes[0, 2].set_title('ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ•: æ¬¡æ•° vs PageRank', fontsize=12)
axes[0, 2].grid(True, alpha=0.3)

# 4. ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ã‚°ãƒ©ãƒ• - æ¬¡æ•°ä¸­å¿ƒæ€§åˆ†å¸ƒï¼ˆå¯¾æ•°ã‚¹ã‚±ãƒ¼ãƒ«ï¼‰
axes[1, 0].hist(list(degree_scale_free.values()), bins=30, alpha=0.7,
               edgecolor='black', color='salmon')
axes[1, 0].set_xlabel('æ¬¡æ•°ä¸­å¿ƒæ€§')
axes[1, 0].set_ylabel('ãƒãƒ¼ãƒ‰æ•°ï¼ˆå¯¾æ•°ï¼‰')
axes[1, 0].set_yscale('log')
axes[1, 0].set_title('ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ã‚°ãƒ©ãƒ•: æ¬¡æ•°ä¸­å¿ƒæ€§åˆ†å¸ƒ', fontsize=12)
axes[1, 0].grid(True, alpha=0.3)

# 5. ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ã‚°ãƒ©ãƒ• - PageRankåˆ†å¸ƒï¼ˆå¯¾æ•°ã‚¹ã‚±ãƒ¼ãƒ«ï¼‰
axes[1, 1].hist(list(pagerank_scale_free.values()), bins=30, alpha=0.7,
               edgecolor='black', color='lightcoral')
axes[1, 1].set_xlabel('PageRank')
axes[1, 1].set_ylabel('ãƒãƒ¼ãƒ‰æ•°ï¼ˆå¯¾æ•°ï¼‰')
axes[1, 1].set_yscale('log')
axes[1, 1].set_title('ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ã‚°ãƒ©ãƒ•: PageRankåˆ†å¸ƒ', fontsize=12)
axes[1, 1].grid(True, alpha=0.3)

# 6. ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ã‚°ãƒ©ãƒ• - æ•£å¸ƒå›³
axes[1, 2].scatter(list(degree_scale_free.values()), list(pagerank_scale_free.values()),
                  alpha=0.5, s=20, color='red')
axes[1, 2].set_xlabel('æ¬¡æ•°ä¸­å¿ƒæ€§')
axes[1, 2].set_ylabel('PageRank')
axes[1, 2].set_title('ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ã‚°ãƒ©ãƒ•: æ¬¡æ•° vs PageRank', fontsize=12)
axes[1, 2].grid(True, alpha=0.3)

plt.tight_layout()
plt.show()

# ã¹ãä¹—å‰‡ã®ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ï¼ˆã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ã®ã¿ï¼‰
degree_sequence = sorted([d for n, d in G_scale_free.degree()], reverse=True)
degree_counts = np.bincount(degree_sequence)
degrees = np.arange(len(degree_counts))

# 0ã‚’é™¤å¤–
nonzero = degree_counts > 0
degrees_nz = degrees[nonzero]
counts_nz = degree_counts[nonzero]

# å¯¾æ•°ã‚¹ã‚±ãƒ¼ãƒ«ã§ãƒ•ã‚£ãƒƒãƒˆ
if len(degrees_nz) > 1:
    log_degrees = np.log(degrees_nz)
    log_counts = np.log(counts_nz)
    slope, intercept = np.polyfit(log_degrees, log_counts, 1)

    print(f"\n=== ã¹ãä¹—å‰‡ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚° ===")
    print(f"ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ã‚°ãƒ©ãƒ•ã®æ¬¡æ•°åˆ†å¸ƒ: P(k) ~ k^{slope:.2f}")
    print(f"ï¼ˆç†è«–å€¤ã¯ç´„ -3ï¼‰")

print("\n=== è¦³å¯Ÿã•ã‚Œã‚‹é•ã„ ===")
print("\n1. æ¬¡æ•°åˆ†å¸ƒ:")
print("   ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ•: æ­£è¦åˆ†å¸ƒã«è¿‘ã„ï¼ˆã»ã¨ã‚“ã©ã®ãƒãƒ¼ãƒ‰ãŒå¹³å‡ä»˜è¿‘ï¼‰")
print("   ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼: ã¹ãä¹—å‰‡ï¼ˆå°‘æ•°ã®ãƒãƒ–ã¨å¤šæ•°ã®ä½æ¬¡æ•°ãƒãƒ¼ãƒ‰ï¼‰")

print("\n2. PageRankåˆ†å¸ƒ:")
print("   ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ•: æ¯”è¼ƒçš„å‡ä¸€")
print("   ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼: é«˜åº¦ã«åã£ã¦ã„ã‚‹ï¼ˆå°‘æ•°ã®ãƒãƒ¼ãƒ‰ãŒé«˜ã‚¹ã‚³ã‚¢ï¼‰")

print("\n3. ç›¸é–¢:")
print(f"   ãƒ©ãƒ³ãƒ€ãƒ ã‚°ãƒ©ãƒ•: {np.corrcoef(list(degree_random.values()), list(pagerank_random.values()))[0,1]:.3f}")
print(f"   ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼: {np.corrcoef(list(degree_scale_free.values()), list(pagerank_scale_free.values()))[0,1]:.3f}")
print("   â†’ ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ã®æ–¹ãŒæ¬¡æ•°ã¨PageRankã®ç›¸é–¢ãŒå¼·ã„")

print("\n4. å®Ÿä¸–ç•Œã¸ã®ç¤ºå”†:")
print("   ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ãƒªãƒ¼ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼ˆWebã€SNSç­‰ï¼‰ã§ã¯:")
print("   - å°‘æ•°ã®ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ã«å½±éŸ¿åŠ›ãŒé›†ä¸­")
print("   - ãƒãƒ–ãƒãƒ¼ãƒ‰ã®é‡è¦æ€§ãŒæ¥µã‚ã¦é«˜ã„")
print("   - ãƒ©ãƒ³ãƒ€ãƒ æ”»æ’ƒã«ã¯é ‘å¥ã ãŒã€æ¨™çš„æ”»æ’ƒã«è„†å¼±")
</code></pre>

</details>

<hr>

<h2>å‚è€ƒæ–‡çŒ®</h2>

<ol>
<li>Newman, M. E. J. (2018). <em>Networks: An Introduction</em> (2nd ed.). Oxford University Press.</li>
<li>BarabÃ¡si, A. L. (2016). <em>Network Science</em>. Cambridge University Press.</li>
<li>Borgatti, S. P., & Everett, M. G. (2006). A Graph-theoretic perspective on centrality. <em>Social Networks</em>, 28(4), 466-484.</li>
<li>Page, L., Brin, S., Motwani, R., & Winograd, T. (1999). The PageRank citation ranking: Bringing order to the web. <em>Stanford InfoLab</em>.</li>
<li>Brandes, U. (2001). A faster algorithm for betweenness centrality. <em>Journal of Mathematical Sociology</em>, 25(2), 163-177.</li>
</ol>

<div class="navigation">
    <a href="chapter1-network-basics.html" class="nav-button">â† å‰ã®ç« : ã‚°ãƒ©ãƒ•ç†è«–åŸºç¤</a>
    <a href="chapter3-community-detection.html" class="nav-button">æ¬¡ã®ç« : ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ¤œå‡º â†’</a>
</div>

    </main>

    
    <section class="disclaimer">
        <h3>å…è²¬äº‹é …</h3>
        <ul>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯æ•™è‚²ãƒ»ç ”ç©¶ãƒ»æƒ…å ±æä¾›ã®ã¿ã‚’ç›®çš„ã¨ã—ã¦ãŠã‚Šã€å°‚é–€çš„ãªåŠ©è¨€(æ³•å¾‹ãƒ»ä¼šè¨ˆãƒ»æŠ€è¡“çš„ä¿è¨¼ãªã©)ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŠã‚ˆã³ä»˜éšã™ã‚‹ã‚³ãƒ¼ãƒ‰ä¾‹ã¯ã€Œç¾çŠ¶æœ‰å§¿(AS IS)ã€ã§æä¾›ã•ã‚Œã€æ˜ç¤ºã¾ãŸã¯é»™ç¤ºã‚’å•ã‚ãšã€å•†å“æ€§ã€ç‰¹å®šç›®çš„é©åˆæ€§ã€æ¨©åˆ©éä¾µå®³ã€æ­£ç¢ºæ€§ãƒ»å®Œå…¨æ€§ã€å‹•ä½œãƒ»å®‰å…¨æ€§ç­‰ã„ã‹ãªã‚‹ä¿è¨¼ã‚‚ã—ã¾ã›ã‚“ã€‚</li>
            <li>å¤–éƒ¨ãƒªãƒ³ã‚¯ã€ç¬¬ä¸‰è€…ãŒæä¾›ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ„ãƒ¼ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç­‰ã®å†…å®¹ãƒ»å¯ç”¨æ€§ãƒ»å®‰å…¨æ€§ã«ã¤ã„ã¦ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ©ç”¨ãƒ»å®Ÿè¡Œãƒ»è§£é‡ˆã«ã‚ˆã‚Šç›´æ¥çš„ãƒ»é–“æ¥çš„ãƒ»ä»˜éšçš„ãƒ»ç‰¹åˆ¥ãƒ»çµæœçš„ãƒ»æ‡²ç½°çš„æå®³ãŒç”Ÿã˜ãŸå ´åˆã§ã‚‚ã€é©ç”¨æ³•ã§è¨±å®¹ã•ã‚Œã‚‹æœ€å¤§é™ã®ç¯„å›²ã§ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å†…å®¹ã¯ã€äºˆå‘Šãªãå¤‰æ›´ãƒ»æ›´æ–°ãƒ»æä¾›åœæ­¢ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‘—ä½œæ¨©ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯æ˜è¨˜ã•ã‚ŒãŸæ¡ä»¶(ä¾‹: CC BY 4.0)ã«å¾“ã„ã¾ã™ã€‚å½“è©²ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯é€šå¸¸ã€ç„¡ä¿è¨¼æ¡é …ã‚’å«ã¿ã¾ã™ã€‚</li>
        </ul>
    </section>

<footer>
        <p><strong>ä½œæˆè€…</strong>: AI Terakoya Content Team</p>
        <p><strong>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</strong>: 1.0 | <strong>ä½œæˆæ—¥</strong>: 2025-10-23</p>
        <p><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong>: Creative Commons BY 4.0</p>
        <p>Â© 2025 AI Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>
