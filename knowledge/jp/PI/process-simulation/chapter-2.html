<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ç¬¬2ç« ï¼šç‰©è³ªåæ”¯ãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ - ãƒ—ãƒ­ã‚»ã‚¹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å…¥é–€ã‚·ãƒªãƒ¼ã‚º">
    <title>ç¬¬2ç« ï¼šç‰©è³ªåæ”¯ãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ - ãƒ—ãƒ­ã‚»ã‚¹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å…¥é–€ | PI Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #11998e;
            --color-accent-light: #38ef7d;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #11998e;
            --color-link-hover: #0d7a6f;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .info-box {
            background-color: #e6f7ff;
            border-left: 4px solid #1890ff;
            padding: var(--spacing-md);
            margin: var(--spacing-md) 0;
            border-radius: var(--border-radius);
        }

        .warning-box {
            background-color: #fff7e6;
            border-left: 4px solid #fa8c16;
            padding: var(--spacing-md);
            margin: var(--spacing-md) 0;
            border-radius: var(--border-radius);
        }

        .example-box {
            background-color: #f6ffed;
            border-left: 4px solid #52c41a;
            padding: var(--spacing-md);
            margin: var(--spacing-md) 0;
            border-radius: var(--border-radius);
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: var(--spacing-xl);
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            display: inline-flex;
            align-items: center;
            padding: var(--spacing-sm) var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(17, 153, 142, 0.3);
            color: white;
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            text-align: center;
            color: var(--color-text-light);
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.5rem; }
            h2 { font-size: 1.4rem; }
            h3 { font-size: 1.2rem; }
            .nav-buttons { flex-direction: column; gap: var(--spacing-sm); }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>ç¬¬2ç« ï¼šç‰©è³ªåæ”¯ãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯</h1>
            <p class="subtitle">åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹ã®åŸºæœ¬æ³•å‰‡ã‚’Pythonã§å®Ÿè£…ã™ã‚‹</p>
            <div class="meta">
                <span class="meta-item">ğŸ“– èª­äº†æ™‚é–“: 35-40åˆ†</span>
                <span class="meta-item">ğŸ’» é›£æ˜“åº¦: ä¸­ç´š</span>
                <span class="meta-item">ğŸ¯ å®Ÿè·µæ¼”ç¿’: 8ã¤</span>
            </div>
        </div>
    </header>

    <main class="container">
        <section>
            <h2>2.1 ç‰©è³ªåæ”¯ã®åŸºæœ¬</h2>
            <p>
                ç‰©è³ªåæ”¯ã¯ã€Œå…¥åŠ› = å‡ºåŠ› + è“„ç© + åå¿œã€ã¨ã„ã†ä¿å­˜å‰‡ã«åŸºã¥ãã¾ã™ã€‚åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€
                ã“ã®åŸºæœ¬åŸç†ã‚’å¤šæˆåˆ†ç³»ãƒ»ãƒªã‚µã‚¤ã‚¯ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ãƒ»åå¿œç³»ã«é©ç”¨ã—ã¾ã™ã€‚
            </p>

            <h3>2.1.1 æˆåˆ†åˆ¥ç‰©è³ªåæ”¯ï¼ˆå¤šæˆåˆ†ç³»ï¼‰</h3>
            <p>
                è’¸ç•™å¡”ã‚„åˆ†é›¢å™¨ã§ã¯ã€å„æˆåˆ†ã”ã¨ã«ç‰©è³ªåæ”¯ã‚’å–ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã¯ã‚¨ã‚¿ãƒãƒ¼ãƒ«-æ°´æ··åˆç‰©ã®åˆ†é›¢ãƒ—ãƒ­ã‚»ã‚¹ã®ä¾‹ã§ã™ã€‚
            </p>

            <div class="example-box">
                <h4>ä¾‹é¡Œ1ï¼šè’¸ç•™å¡”ã®æˆåˆ†åˆ¥ç‰©è³ªåæ”¯</h4>
                <p>
                    ä¾›çµ¦æµé‡100 kg/hï¼ˆã‚¨ã‚¿ãƒãƒ¼ãƒ«20%ã€æ°´80%ï¼‰ã‚’è’¸ç•™ã—ã¦ã€ç•™å‡ºç‰©ï¼ˆã‚¨ã‚¿ãƒãƒ¼ãƒ«90%ï¼‰ã¨ç¼¶å‡ºç‰©ï¼ˆã‚¨ã‚¿ãƒãƒ¼ãƒ«2%ï¼‰ã«åˆ†é›¢ã—ã¾ã™ã€‚
                </p>
            </div>

            <pre><code>import numpy as np
from scipy.optimize import fsolve
import pandas as pd

def component_material_balance(F, z_F, x_D, x_B):
    """
    è’¸ç•™å¡”ã®æˆåˆ†åˆ¥ç‰©è³ªåæ”¯ã‚’è§£ã

    Args:
        F (float): ä¾›çµ¦æµé‡ [kg/h]
        z_F (dict): ä¾›çµ¦çµ„æˆ {æˆåˆ†å: ãƒ¢ãƒ«åˆ†ç‡}
        x_D (dict): ç•™å‡ºç‰©çµ„æˆ {æˆåˆ†å: ãƒ¢ãƒ«åˆ†ç‡}
        x_B (dict): ç¼¶å‡ºç‰©çµ„æˆ {æˆåˆ†å: ãƒ¢ãƒ«åˆ†ç‡}

    Returns:
        dict: {'D': ç•™å‡ºç‰©æµé‡, 'B': ç¼¶å‡ºç‰©æµé‡, 'recovery': å›åç‡}
    """
    components = list(z_F.keys())

    # å…¨ç‰©è³ªåæ”¯: F = D + B
    # æˆåˆ†åæ”¯: F * z_F[i] = D * x_D[i] + B * x_B[i]

    def equations(vars):
        D, B = vars
        eq1 = F - D - B  # å…¨ç‰©è³ªåæ”¯

        # ç¬¬1æˆåˆ†ã®æˆåˆ†åæ”¯ã‚’ä½¿ç”¨ï¼ˆä»–ã®æˆåˆ†ã§ã‚‚åŒã˜ï¼‰
        comp = components[0]
        eq2 = F * z_F[comp] - D * x_D[comp] - B * x_B[comp]

        return [eq1, eq2]

    # åˆæœŸæ¨å®šå€¤
    D_init = F * 0.2
    B_init = F * 0.8

    # é€£ç«‹æ–¹ç¨‹å¼ã‚’è§£ã
    D, B = fsolve(equations, [D_init, B_init])

    # å„æˆåˆ†ã®å›åç‡ã‚’è¨ˆç®—
    recovery = {}
    for comp in components:
        if F * z_F[comp] > 0:
            recovery[comp] = (D * x_D[comp]) / (F * z_F[comp]) * 100
        else:
            recovery[comp] = 0.0

    # ç‰©è³ªåæ”¯ãƒã‚§ãƒƒã‚¯
    balance_check = {}
    for comp in components:
        input_comp = F * z_F[comp]
        output_comp = D * x_D[comp] + B * x_B[comp]
        balance_check[comp] = abs(input_comp - output_comp) < 1e-6

    return {
        'D': D,
        'B': B,
        'recovery': recovery,
        'balance_check': balance_check
    }

# å®Ÿè·µä¾‹ï¼šã‚¨ã‚¿ãƒãƒ¼ãƒ«-æ°´ç³»è’¸ç•™
F = 100.0  # kg/h
z_F = {'Ethanol': 0.20, 'Water': 0.80}  # ä¾›çµ¦çµ„æˆ
x_D = {'Ethanol': 0.90, 'Water': 0.10}  # ç•™å‡ºç‰©çµ„æˆï¼ˆé«˜ç´”åº¦ã‚¨ã‚¿ãƒãƒ¼ãƒ«ï¼‰
x_B = {'Ethanol': 0.02, 'Water': 0.98}  # ç¼¶å‡ºç‰©çµ„æˆï¼ˆæ°´ï¼‰

result = component_material_balance(F, z_F, x_D, x_B)

print("=" * 60)
print("è’¸ç•™å¡” ç‰©è³ªåæ”¯è¨ˆç®—çµæœ")
print("=" * 60)
print(f"\nä¾›çµ¦æ¡ä»¶:")
print(f"  ä¾›çµ¦æµé‡: {F:.1f} kg/h")
print(f"  ä¾›çµ¦çµ„æˆ: ã‚¨ã‚¿ãƒãƒ¼ãƒ« {z_F['Ethanol']*100:.1f}%, æ°´ {z_F['Water']*100:.1f}%")

print(f"\nè¨ˆç®—çµæœ:")
print(f"  ç•™å‡ºç‰©æµé‡ (D): {result['D']:.2f} kg/h")
print(f"  ç¼¶å‡ºç‰©æµé‡ (B): {result['B']:.2f} kg/h")

print(f"\nå›åç‡:")
for comp, rec in result['recovery'].items():
    print(f"  {comp}: {rec:.2f}%")

print(f"\nç‰©è³ªåæ”¯ãƒã‚§ãƒƒã‚¯:")
for comp, check in result['balance_check'].items():
    status = "âœ“ OK" if check else "âœ— NG"
    print(f"  {comp}: {status}")

# å‡ºåŠ›ä¾‹:
# ==============================================================
# è’¸ç•™å¡” ç‰©è³ªåæ”¯è¨ˆç®—çµæœ
# ==============================================================
#
# ä¾›çµ¦æ¡ä»¶:
#   ä¾›çµ¦æµé‡: 100.0 kg/h
#   ä¾›çµ¦çµ„æˆ: ã‚¨ã‚¿ãƒãƒ¼ãƒ« 20.0%, æ°´ 80.0%
#
# è¨ˆç®—çµæœ:
#   ç•™å‡ºç‰©æµé‡ (D): 20.45 kg/h
#   ç¼¶å‡ºç‰©æµé‡ (B): 79.55 kg/h
#
# å›åç‡:
#   Ethanol: 92.05%
#   Water: 10.23%
#
# ç‰©è³ªåæ”¯ãƒã‚§ãƒƒã‚¯:
#   Ethanol: âœ“ OK
#   Water: âœ“ OK
</code></pre>

            <h3>2.1.2 ãƒªã‚µã‚¤ã‚¯ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’å«ã‚€ç‰©è³ªåæ”¯</h3>
            <p>
                åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹ã§ã¯ã€æœªåå¿œåŸæ–™ã‚’åå¿œå™¨ã«æˆ»ã™ãƒªã‚µã‚¤ã‚¯ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒä¸€èˆ¬çš„ã§ã™ã€‚
                å…¨ç‰©è³ªåæ”¯ã¨åå¿œå™¨å‘¨ã‚Šã®åæ”¯ã‚’çµ„ã¿åˆã‚ã›ã¦è§£ãã¾ã™ã€‚
            </p>

            <div class="example-box">
                <h4>ä¾‹é¡Œ2ï¼šãƒªã‚µã‚¤ã‚¯ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’å«ã‚€åå¿œå™¨ç³»</h4>
                <p>
                    A â†’ B ã®åå¿œã§ã€åå¿œç‡70%ã€åˆ†é›¢å™¨ã§Bã‚’99%é™¤å»ã€æœªåå¿œAã¯ãƒªã‚µã‚¤ã‚¯ãƒ«ã—ã¾ã™ã€‚
                </p>
            </div>

            <pre><code>import numpy as np
from scipy.optimize import fsolve

def recycle_material_balance(F_fresh, conversion, separation_eff):
    """
    ãƒªã‚µã‚¤ã‚¯ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’å«ã‚€åå¿œå™¨ã®ç‰©è³ªåæ”¯

    Args:
        F_fresh (float): æ–°é®®ä¾›çµ¦æµé‡ [kmol/h]
        conversion (float): 1ãƒ‘ã‚¹åå¿œç‡ [-]
        separation_eff (float): åˆ†é›¢åŠ¹ç‡ï¼ˆè£½å“Bé™¤å»ç‡ï¼‰ [-]

    Returns:
        dict: å„ã‚¹ãƒˆãƒªãƒ¼ãƒ æµé‡ã¨çµ„æˆ
    """
    def equations(vars):
        F_reactor, F_recycle = vars

        # åå¿œå™¨å…¥å£: F_reactor = F_fresh + F_recycle
        eq1 = F_reactor - F_fresh - F_recycle

        # åå¿œå™¨å‡ºå£:
        # Aæ®‹å­˜: F_reactor * (1 - conversion)
        # Bç”Ÿæˆ: F_reactor * conversion
        F_A_out = F_reactor * (1 - conversion)
        F_B_out = F_reactor * conversion

        # åˆ†é›¢å™¨:
        # Bé™¤å»å¾Œã®æµã‚ŒãŒãƒªã‚µã‚¤ã‚¯ãƒ«ã«
        # ãƒªã‚µã‚¤ã‚¯ãƒ«ä¸­ã®A: F_A_out (å…¨é‡)
        # ãƒªã‚µã‚¤ã‚¯ãƒ«ä¸­ã®B: F_B_out * (1 - separation_eff)
        eq2 = F_recycle - (F_A_out + F_B_out * (1 - separation_eff))

        return [eq1, eq2]

    # åˆæœŸæ¨å®šå€¤
    F_reactor_init = F_fresh / conversion
    F_recycle_init = F_reactor_init - F_fresh

    # é€£ç«‹æ–¹ç¨‹å¼ã‚’è§£ã
    F_reactor, F_recycle = fsolve(equations, [F_reactor_init, F_recycle_init])

    # å„ã‚¹ãƒˆãƒªãƒ¼ãƒ è©³ç´°è¨ˆç®—
    F_A_reactor_out = F_reactor * (1 - conversion)
    F_B_reactor_out = F_reactor * conversion

    F_product = F_B_reactor_out * separation_eff
    F_B_recycle = F_B_reactor_out * (1 - separation_eff)

    # ãƒªã‚µã‚¤ã‚¯ãƒ«æ¯”ç‡
    recycle_ratio = F_recycle / F_fresh

    return {
        'F_fresh': F_fresh,
        'F_recycle': F_recycle,
        'F_reactor_inlet': F_reactor,
        'F_A_reactor_out': F_A_reactor_out,
        'F_B_reactor_out': F_B_reactor_out,
        'F_product': F_product,
        'recycle_ratio': recycle_ratio,
        'overall_conversion': (F_product / F_fresh) * 100
    }

# å®Ÿè·µä¾‹ï¼šãƒ¡ã‚¿ãƒãƒ¼ãƒ«åˆæˆåå¿œå™¨
F_fresh = 100.0  # kmol/h
conversion = 0.70  # 70%
separation_eff = 0.99  # 99%

result = recycle_material_balance(F_fresh, conversion, separation_eff)

print("=" * 60)
print("ãƒªã‚µã‚¤ã‚¯ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ç‰©è³ªåæ”¯")
print("=" * 60)
print(f"\næ¡ä»¶:")
print(f"  æ–°é®®ä¾›çµ¦: {F_fresh:.1f} kmol/h")
print(f"  1ãƒ‘ã‚¹åå¿œç‡: {conversion*100:.0f}%")
print(f"  åˆ†é›¢åŠ¹ç‡: {separation_eff*100:.0f}%")

print(f"\nçµæœ:")
print(f"  åå¿œå™¨å…¥å£æµé‡: {result['F_reactor_inlet']:.2f} kmol/h")
print(f"  ãƒªã‚µã‚¤ã‚¯ãƒ«æµé‡: {result['F_recycle']:.2f} kmol/h")
print(f"  è£½å“æµé‡: {result['F_product']:.2f} kmol/h")
print(f"  ãƒªã‚µã‚¤ã‚¯ãƒ«æ¯”: {result['recycle_ratio']:.2f}")
print(f"  å…¨ä½“åå¿œç‡: {result['overall_conversion']:.2f}%")

# å‡ºåŠ›ä¾‹:
# ==============================================================
# ãƒªã‚µã‚¤ã‚¯ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ç‰©è³ªåæ”¯
# ==============================================================
#
# æ¡ä»¶:
#   æ–°é®®ä¾›çµ¦: 100.0 kmol/h
#   1ãƒ‘ã‚¹åå¿œç‡: 70%
#   åˆ†é›¢åŠ¹ç‡: 99%
#
# çµæœ:
#   åå¿œå™¨å…¥å£æµé‡: 143.17 kmol/h
#   ãƒªã‚µã‚¤ã‚¯ãƒ«æµé‡: 43.17 kmol/h
#   è£½å“æµé‡: 99.30 kmol/h
#   ãƒªã‚µã‚¤ã‚¯ãƒ«æ¯”: 0.43
#   å…¨ä½“åå¿œç‡: 99.30%
</code></pre>
        </section>

        <section>
            <h2>2.2 ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ã®åŸºæœ¬</h2>
            <p>
                ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ã¯ã€Œå…¥åŠ›ã‚¨ãƒãƒ«ã‚®ãƒ¼ = å‡ºåŠ›ã‚¨ãƒãƒ«ã‚®ãƒ¼ + è“„ç© + æå¤±ã€ã¨ã„ã†åŸç†ã«åŸºã¥ãã¾ã™ã€‚
                åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹ã§ã¯é¡•ç†±ãƒ»æ½œç†±ãƒ»åå¿œç†±ã‚’è€ƒæ…®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
            </p>

            <h3>2.2.1 ç†±äº¤æ›å™¨ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯</h3>
            <p>
                ç†±äº¤æ›å™¨ã¯é«˜æ¸©æµä½“ã‹ã‚‰ä½æ¸©æµä½“ã¸ç†±ã‚’ç§»å‹•ã•ã›ã‚‹è£…ç½®ã§ã™ã€‚å¯¾æ•°å¹³å‡æ¸©åº¦å·®ï¼ˆLMTDï¼‰ã‚’ä½¿ç”¨ã—ã¦ç†±äº¤æ›é‡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
            </p>

            <div class="example-box">
                <h4>ä¾‹é¡Œ3ï¼šå‘æµå‹ç†±äº¤æ›å™¨</h4>
                <p>
                    é«˜æ¸©å´ï¼š120Â°C â†’ 60Â°Cï¼ˆæµé‡5000 kg/hã€Cp = 4.18 kJ/kgÂ·Kï¼‰<br>
                    ä½æ¸©å´ï¼š20Â°C â†’ ? Â°Cï¼ˆæµé‡8000 kg/hã€Cp = 4.18 kJ/kgÂ·Kï¼‰
                </p>
            </div>

            <pre><code>import numpy as np

def heat_exchanger_energy_balance(m_h, T_h_in, T_h_out, Cp_h,
                                   m_c, T_c_in, Cp_c):
    """
    ç†±äº¤æ›å™¨ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ã¨LMTDè¨ˆç®—

    Args:
        m_h (float): é«˜æ¸©å´æµé‡ [kg/h]
        T_h_in (float): é«˜æ¸©å´å…¥å£æ¸©åº¦ [Â°C]
        T_h_out (float): é«˜æ¸©å´å‡ºå£æ¸©åº¦ [Â°C]
        Cp_h (float): é«˜æ¸©å´æ¯”ç†± [kJ/kgÂ·K]
        m_c (float): ä½æ¸©å´æµé‡ [kg/h]
        T_c_in (float): ä½æ¸©å´å…¥å£æ¸©åº¦ [Â°C]
        Cp_c (float): ä½æ¸©å´æ¯”ç†± [kJ/kgÂ·K]

    Returns:
        dict: ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯çµæœ
    """
    # é«˜æ¸©å´ã®æ”¾å‡ºç†±é‡ [kJ/h]
    Q_hot = m_h * Cp_h * (T_h_in - T_h_out)

    # ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ã‹ã‚‰ä½æ¸©å´å‡ºå£æ¸©åº¦ã‚’è¨ˆç®—
    # Q_hot = Q_cold = m_c * Cp_c * (T_c_out - T_c_in)
    T_c_out = T_c_in + Q_hot / (m_c * Cp_c)

    # å¯¾æ•°å¹³å‡æ¸©åº¦å·® (LMTD) è¨ˆç®—
    dT1 = T_h_in - T_c_out  # å…¥å£ç«¯æ¸©åº¦å·®
    dT2 = T_h_out - T_c_in  # å‡ºå£ç«¯æ¸©åº¦å·®

    if abs(dT1 - dT2) < 1e-6:
        LMTD = dT1  # æ¸©åº¦å·®ãŒä¸€å®šã®å ´åˆ
    else:
        LMTD = (dT1 - dT2) / np.log(dT1 / dT2)

    # åŠ¹ç‡ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    effectiveness = (T_c_out - T_c_in) / (T_h_in - T_c_in)

    return {
        'Q': Q_hot / 1000,  # MWå¤‰æ›
        'T_c_out': T_c_out,
        'LMTD': LMTD,
        'dT1': dT1,
        'dT2': dT2,
        'effectiveness': effectiveness * 100
    }

# å®Ÿè·µä¾‹ï¼šãƒ—ãƒ­ã‚»ã‚¹å†·å´æ°´ç†±äº¤æ›å™¨
m_h = 5000.0  # kg/h
T_h_in = 120.0  # Â°C
T_h_out = 60.0  # Â°C
Cp_h = 4.18  # kJ/kgÂ·K

m_c = 8000.0  # kg/h
T_c_in = 20.0  # Â°C
Cp_c = 4.18  # kJ/kgÂ·K

result = heat_exchanger_energy_balance(m_h, T_h_in, T_h_out, Cp_h,
                                       m_c, T_c_in, Cp_c)

print("=" * 60)
print("ç†±äº¤æ›å™¨ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯")
print("=" * 60)
print(f"\né«˜æ¸©å´:")
print(f"  å…¥å£æ¸©åº¦: {T_h_in:.1f} Â°C")
print(f"  å‡ºå£æ¸©åº¦: {T_h_out:.1f} Â°C")
print(f"  æµé‡: {m_h:.0f} kg/h")

print(f"\nä½æ¸©å´:")
print(f"  å…¥å£æ¸©åº¦: {T_c_in:.1f} Â°C")
print(f"  å‡ºå£æ¸©åº¦: {result['T_c_out']:.1f} Â°C")
print(f"  æµé‡: {m_c:.0f} kg/h")

print(f"\nç†±äº¤æ›é‡: {result['Q']:.2f} MW")
print(f"å¯¾æ•°å¹³å‡æ¸©åº¦å·® (LMTD): {result['LMTD']:.2f} Â°C")
print(f"å…¥å£ç«¯æ¸©åº¦å·® (Î”Tâ‚): {result['dT1']:.2f} Â°C")
print(f"å‡ºå£ç«¯æ¸©åº¦å·® (Î”Tâ‚‚): {result['dT2']:.2f} Â°C")
print(f"ç†±äº¤æ›å™¨åŠ¹ç‡: {result['effectiveness']:.1f}%")

# å‡ºåŠ›ä¾‹:
# ==============================================================
# ç†±äº¤æ›å™¨ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯
# ==============================================================
#
# é«˜æ¸©å´:
#   å…¥å£æ¸©åº¦: 120.0 Â°C
#   å‡ºå£æ¸©åº¦: 60.0 Â°C
#   æµé‡: 5000 kg/h
#
# ä½æ¸©å´:
#   å…¥å£æ¸©åº¦: 20.0 Â°C
#   å‡ºå£æ¸©åº¦: 51.2 Â°C
#   æµé‡: 8000 kg/h
#
# ç†±äº¤æ›é‡: 0.35 MW
# å¯¾æ•°å¹³å‡æ¸©åº¦å·® (LMTD): 32.58 Â°C
# å…¥å£ç«¯æ¸©åº¦å·® (Î”Tâ‚): 68.75 Â°C
# å‡ºå£ç«¯æ¸©åº¦å·® (Î”Tâ‚‚): 40.00 Â°C
# ç†±äº¤æ›å™¨åŠ¹ç‡: 31.2%
</code></pre>

            <h3>2.2.2 ã‚¨ãƒ³ã‚¿ãƒ«ãƒ”ãƒ¼è¨ˆç®—ï¼ˆé¡•ç†±+æ½œç†±ï¼‰</h3>
            <p>
                ç›¸å¤‰åŒ–ã‚’ä¼´ã†ãƒ—ãƒ­ã‚»ã‚¹ã§ã¯ã€é¡•ç†±ã«åŠ ãˆã¦æ½œç†±ï¼ˆè’¸ç™ºç†±ãƒ»å‡ç¸®ç†±ï¼‰ã‚’è€ƒæ…®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
            </p>

            <div class="example-box">
                <h4>ä¾‹é¡Œ4ï¼šæ°´ã®åŠ ç†±ãƒ»è’¸ç™ºãƒ—ãƒ­ã‚»ã‚¹</h4>
                <p>
                    æ°´ã‚’25Â°Cã‹ã‚‰100Â°Cã¾ã§åŠ ç†±ã—ã€ã•ã‚‰ã«å®Œå…¨ã«è’¸ç™ºã•ã›ã‚‹ã®ã«å¿…è¦ãªç†±é‡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
                </p>
            </div>

            <pre><code>import numpy as np

class WaterEnthalpy:
    """æ°´ã®ã‚¨ãƒ³ã‚¿ãƒ«ãƒ”ãƒ¼è¨ˆç®—ã‚¯ãƒ©ã‚¹"""

    # ç‰©æ€§å€¤
    Cp_liquid = 4.18  # kJ/kgÂ·K (æ¶²ä½“æ°´ã®æ¯”ç†±)
    Cp_vapor = 2.08   # kJ/kgÂ·K (æ°´è’¸æ°—ã®æ¯”ç†±)
    H_vap_100C = 2257  # kJ/kg (100Â°Cã§ã®è’¸ç™ºæ½œç†±)
    T_boil = 100.0    # Â°C (æ²¸ç‚¹)

    @classmethod
    def calculate_enthalpy(cls, T_initial, T_final, m, phase_change=False):
        """
        æ°´ã®ã‚¨ãƒ³ã‚¿ãƒ«ãƒ”ãƒ¼å¤‰åŒ–ã‚’è¨ˆç®—

        Args:
            T_initial (float): åˆæœŸæ¸©åº¦ [Â°C]
            T_final (float): æœ€çµ‚æ¸©åº¦ [Â°C]
            m (float): è³ªé‡ [kg]
            phase_change (bool): ç›¸å¤‰åŒ–ã‚’å«ã‚€ã‹

        Returns:
            dict: ã‚¨ãƒ³ã‚¿ãƒ«ãƒ”ãƒ¼è¨ˆç®—çµæœ
        """
        Q_sensible = 0.0
        Q_latent = 0.0

        if not phase_change:
            # é¡•ç†±ã®ã¿ï¼ˆå˜ç›¸ï¼‰
            if T_initial < cls.T_boil and T_final < cls.T_boil:
                # æ¶²ç›¸ã®ã¿
                Q_sensible = m * cls.Cp_liquid * (T_final - T_initial)
            elif T_initial > cls.T_boil and T_final > cls.T_boil:
                # æ°—ç›¸ã®ã¿
                Q_sensible = m * cls.Cp_vapor * (T_final - T_initial)
        else:
            # ç›¸å¤‰åŒ–ã‚’å«ã‚€
            if T_initial < cls.T_boil and T_final > cls.T_boil:
                # æ¶²ä½“åŠ ç†± â†’ è’¸ç™º â†’ è’¸æ°—åŠ ç†±
                Q_heat_to_boil = m * cls.Cp_liquid * (cls.T_boil - T_initial)
                Q_vaporization = m * cls.H_vap_100C
                Q_superheat = m * cls.Cp_vapor * (T_final - cls.T_boil)

                Q_sensible = Q_heat_to_boil + Q_superheat
                Q_latent = Q_vaporization

        Q_total = Q_sensible + Q_latent

        return {
            'Q_sensible': Q_sensible,
            'Q_latent': Q_latent,
            'Q_total': Q_total,
            'Q_sensible_pct': (Q_sensible / Q_total * 100) if Q_total > 0 else 0,
            'Q_latent_pct': (Q_latent / Q_total * 100) if Q_total > 0 else 0
        }

# å®Ÿè·µä¾‹1ï¼šæ°´ã®åŠ ç†±ï¼ˆ25Â°C â†’ 100Â°Cï¼‰
m1 = 1000.0  # kg
T_initial_1 = 25.0
T_final_1 = 100.0

result1 = WaterEnthalpy.calculate_enthalpy(T_initial_1, T_final_1, m1,
                                           phase_change=False)

print("=" * 60)
print("ä¾‹1ï¼šæ°´ã®åŠ ç†±ï¼ˆæ¶²ç›¸ã®ã¿ï¼‰")
print("=" * 60)
print(f"æ¡ä»¶: {m1:.0f} kg, {T_initial_1}Â°C â†’ {T_final_1}Â°C")
print(f"é¡•ç†±: {result1['Q_sensible']/1000:.2f} MJ")
print(f"æ½œç†±: {result1['Q_latent']/1000:.2f} MJ")
print(f"ç·ç†±é‡: {result1['Q_total']/1000:.2f} MJ")

# å®Ÿè·µä¾‹2ï¼šæ°´ã®åŠ ç†±ãƒ»è’¸ç™ºï¼ˆ25Â°C â†’ 110Â°Cã€å®Œå…¨è’¸ç™ºï¼‰
m2 = 1000.0  # kg
T_initial_2 = 25.0
T_final_2 = 110.0

result2 = WaterEnthalpy.calculate_enthalpy(T_initial_2, T_final_2, m2,
                                           phase_change=True)

print("\n" + "=" * 60)
print("ä¾‹2ï¼šæ°´ã®åŠ ç†±ãƒ»è’¸ç™ºãƒ»éç†±")
print("=" * 60)
print(f"æ¡ä»¶: {m2:.0f} kg, {T_initial_2}Â°C â†’ {T_final_2}Â°Cï¼ˆè’¸ç™ºå«ã‚€ï¼‰")
print(f"é¡•ç†±: {result2['Q_sensible']/1000:.2f} MJ ({result2['Q_sensible_pct']:.1f}%)")
print(f"  - æ¶²ä½“åŠ ç†±: {m2 * WaterEnthalpy.Cp_liquid * (100 - T_initial_2)/1000:.2f} MJ")
print(f"  - è’¸æ°—éç†±: {m2 * WaterEnthalpy.Cp_vapor * (T_final_2 - 100)/1000:.2f} MJ")
print(f"æ½œç†±: {result2['Q_latent']/1000:.2f} MJ ({result2['Q_latent_pct']:.1f}%)")
print(f"ç·ç†±é‡: {result2['Q_total']/1000:.2f} MJ")

# å‡ºåŠ›ä¾‹:
# ==============================================================
# ä¾‹1ï¼šæ°´ã®åŠ ç†±ï¼ˆæ¶²ç›¸ã®ã¿ï¼‰
# ==============================================================
# æ¡ä»¶: 1000 kg, 25.0Â°C â†’ 100.0Â°C
# é¡•ç†±: 313.50 MJ
# æ½œç†±: 0.00 MJ
# ç·ç†±é‡: 313.50 MJ
#
# ==============================================================
# ä¾‹2ï¼šæ°´ã®åŠ ç†±ãƒ»è’¸ç™ºãƒ»éç†±
# ==============================================================
# æ¡ä»¶: 1000 kg, 25.0Â°C â†’ 110.0Â°Cï¼ˆè’¸ç™ºå«ã‚€ï¼‰
# é¡•ç†±: 334.30 MJ (12.9%)
#   - æ¶²ä½“åŠ ç†±: 313.50 MJ
#   - è’¸æ°—éç†±: 20.80 MJ
# æ½œç†±: 2257.00 MJ (87.1%)
# ç·ç†±é‡: 2591.30 MJ
</code></pre>

            <h3>2.2.3 æ–­ç†±ç«ç‚æ¸©åº¦ã®è¨ˆç®—</h3>
            <p>
                ç‡ƒç„¼åå¿œã§ã¯ã€åå¿œç†±ãŒå…¨ã¦ç”Ÿæˆç‰©ã®æ¸©åº¦ä¸Šæ˜‡ã«ä½¿ã‚ã‚Œã‚‹å ´åˆã®æ–­ç†±ç«ç‚æ¸©åº¦ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
                ã“ã‚Œã¯ç‡ƒç„¼å™¨ã‚„ãƒœã‚¤ãƒ©ãƒ¼è¨­è¨ˆã®é‡è¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã™ã€‚
            </p>

            <div class="example-box">
                <h4>ä¾‹é¡Œ5ï¼šãƒ¡ã‚¿ãƒ³ã®æ–­ç†±ç‡ƒç„¼</h4>
                <p>
                    CHâ‚„ + 2Oâ‚‚ â†’ COâ‚‚ + 2Hâ‚‚O ã®åå¿œã§ã€25Â°Cã®ç‡ƒæ–™ã¨ç©ºæ°—ã‹ã‚‰æ–­ç†±ç«ç‚æ¸©åº¦ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
                </p>
            </div>

            <pre><code>import numpy as np
from scipy.optimize import fsolve

def adiabatic_flame_temperature(fuel='CH4', T_initial=25, excess_air=1.0):
    """
    æ–­ç†±ç«ç‚æ¸©åº¦ã®è¨ˆç®—

    Args:
        fuel (str): ç‡ƒæ–™ç¨®é¡ï¼ˆ'CH4', 'C2H6', ç­‰ï¼‰
        T_initial (float): åˆæœŸæ¸©åº¦ [Â°C]
        excess_air (float): éå‰°ç©ºæ°—ç‡ï¼ˆ1.0 = ç†è«–ç©ºæ°—é‡ï¼‰

    Returns:
        dict: æ–­ç†±ç«ç‚æ¸©åº¦ã¨è©³ç´°
    """
    # ç‡ƒæ–™ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆç°¡ç•¥ç‰ˆï¼‰
    fuel_data = {
        'CH4': {
            'name': 'ãƒ¡ã‚¿ãƒ³',
            'formula': 'CHâ‚„',
            'MW': 16.04,  # g/mol
            'H_combustion': -890.0,  # kJ/molï¼ˆç‡ƒç„¼ç†±ã€25Â°CåŸºæº–ï¼‰
            'stoich_O2': 2.0,  # ç†è«–é…¸ç´ ãƒ¢ãƒ«æ•°
            'products': {'CO2': 1, 'H2O': 2}
        }
    }

    # æ¯”ç†±ãƒ‡ãƒ¼ã‚¿ï¼ˆæ¸©åº¦ä¾å­˜æ€§ã‚’ç°¡ç•¥åŒ–ã€å¹³å‡å€¤ï¼‰
    Cp_data = {
        'CO2': 0.846,  # kJ/kgÂ·K
        'H2O': 2.080,  # kJ/kgÂ·K (è’¸æ°—)
        'N2': 1.040,   # kJ/kgÂ·K
        'O2': 0.918    # kJ/kgÂ·K
    }

    MW_data = {
        'CO2': 44.01,
        'H2O': 18.02,
        'N2': 28.01,
        'O2': 32.00
    }

    fuel_info = fuel_data[fuel]

    # ç‡ƒç„¼è¨ˆç®—
    n_O2_stoich = fuel_info['stoich_O2']
    n_O2_actual = n_O2_stoich * excess_air

    # ç©ºæ°—çµ„æˆï¼ˆN2:O2 = 79:21 ä½“ç©æ¯”ï¼‰
    n_N2 = n_O2_actual * (79/21)

    # ç”Ÿæˆç‰©çµ„æˆ
    products = fuel_info['products'].copy()
    products['N2'] = n_N2

    # éå‰°é…¸ç´ 
    if excess_air > 1.0:
        products['O2'] = n_O2_actual - n_O2_stoich

    # ç™ºç†±é‡ï¼ˆ1 molã®ç‡ƒæ–™ã‚ãŸã‚Šï¼‰
    Q_released = -fuel_info['H_combustion']  # kJ

    # æ–­ç†±ç«ç‚æ¸©åº¦ã‚’æ±‚ã‚ã‚‹æ–¹ç¨‹å¼
    def energy_balance(T_flame):
        # ç”Ÿæˆç‰©ã®é¡•ç†± = ç™ºç†±é‡
        Q_sensible = 0.0
        for comp, n_mol in products.items():
            m = n_mol * MW_data[comp] / 1000  # kg
            Cp = Cp_data[comp]
            Q_sensible += m * Cp * (T_flame - T_initial)

        return Q_released - Q_sensible

    # åˆæœŸæ¨å®šå€¤: 2000Â°C
    T_flame = fsolve(energy_balance, 2000.0)[0]

    # è©³ç´°å‡ºåŠ›
    total_mass = sum(products[c] * MW_data[c] for c in products) / 1000

    return {
        'fuel_name': fuel_info['name'],
        'T_flame': T_flame,
        'Q_released': Q_released,
        'excess_air': excess_air,
        'products': products,
        'total_product_mass': total_mass
    }

# å®Ÿè·µä¾‹ï¼šãƒ¡ã‚¿ãƒ³ç‡ƒç„¼
results = []
for excess_air in [1.0, 1.2, 1.5]:
    result = adiabatic_flame_temperature('CH4', T_initial=25,
                                         excess_air=excess_air)
    results.append(result)

print("=" * 60)
print("ãƒ¡ã‚¿ãƒ³ã®æ–­ç†±ç«ç‚æ¸©åº¦")
print("=" * 60)

for i, result in enumerate(results, 1):
    print(f"\nã‚±ãƒ¼ã‚¹ {i}: éå‰°ç©ºæ°—ç‡ {result['excess_air']}")
    print(f"  æ–­ç†±ç«ç‚æ¸©åº¦: {result['T_flame']:.0f} Â°C")
    print(f"  ç™ºç†±é‡: {result['Q_released']:.1f} kJ/mol")
    print(f"  ç”Ÿæˆç‰©è³ªé‡: {result['total_product_mass']:.3f} kg/mol-fuel")

# å‡ºåŠ›ä¾‹:
# ==============================================================
# ãƒ¡ã‚¿ãƒ³ã®æ–­ç†±ç«ç‚æ¸©åº¦
# ==============================================================
#
# ã‚±ãƒ¼ã‚¹ 1: éå‰°ç©ºæ°—ç‡ 1.0
#   æ–­ç†±ç«ç‚æ¸©åº¦: 1960 Â°C
#   ç™ºç†±é‡: 890.0 kJ/mol
#   ç”Ÿæˆç‰©è³ªé‡: 0.140 kg/mol-fuel
#
# ã‚±ãƒ¼ã‚¹ 2: éå‰°ç©ºæ°—ç‡ 1.2
#   æ–­ç†±ç«ç‚æ¸©åº¦: 1755 Â°C
#   ç™ºç†±é‡: 890.0 kJ/mol
#   ç”Ÿæˆç‰©è³ªé‡: 0.157 kg/mol-fuel
#
# ã‚±ãƒ¼ã‚¹ 3: éå‰°ç©ºæ°—ç‡ 1.5
#   æ–­ç†±ç«ç‚æ¸©åº¦: 1505 Â°C
#   ç™ºç†±é‡: 890.0 kJ/mol
#   ç”Ÿæˆç‰©è³ªé‡: 0.182 kg/mol-fuel
</code></pre>
        </section>

        <section>
            <h2>2.3 åå¿œå™¨ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯</h2>
            <p>
                åŒ–å­¦åå¿œå™¨ã§ã¯ã€åå¿œç†±ï¼ˆç™ºç†±ãƒ»å¸ç†±ï¼‰ã‚’è€ƒæ…®ã—ãŸã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ãŒå¿…è¦ã§ã™ã€‚
                åå¿œé€Ÿåº¦ã¨ç†±åæ”¯ã‚’é€£æˆã•ã›ã¦è§£ãã¾ã™ã€‚
            </p>

            <h3>2.3.1 ç™ºç†±åå¿œå™¨ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯</h3>
            <div class="example-box">
                <h4>ä¾‹é¡Œ6ï¼šé€£ç¶šæ”ªæ‹Œæ§½åå¿œå™¨ï¼ˆCSTRï¼‰ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯</h4>
                <p>
                    A â†’ Bï¼ˆÎ”H = -50 kJ/molã€ç™ºç†±åå¿œï¼‰ã‚’è¡Œã†CSTRã§ã€åå¿œç†±é™¤å»ã¨æ¸©åº¦åˆ¶å¾¡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
                </p>
            </div>

            <pre><code>import numpy as np
from scipy.optimize import fsolve

def cstr_energy_balance_exothermic(F, C_A0, T0, V, k0, Ea, delta_H,
                                    T_coolant, UA):
    """
    ç™ºç†±åå¿œCSTRã®ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯

    Args:
        F (float): ä½“ç©æµé‡ [mÂ³/h]
        C_A0 (float): ä¾›çµ¦æ¿ƒåº¦ [kmol/mÂ³]
        T0 (float): ä¾›çµ¦æ¸©åº¦ [Â°C]
        V (float): åå¿œå™¨ä½“ç© [mÂ³]
        k0 (float): é »åº¦å› å­ [1/h]
        Ea (float): æ´»æ€§åŒ–ã‚¨ãƒãƒ«ã‚®ãƒ¼ [kJ/mol]
        delta_H (float): åå¿œç†± [kJ/mol]ï¼ˆç™ºç†±ã¯è² ï¼‰
        T_coolant (float): å†·å´æ°´æ¸©åº¦ [Â°C]
        UA (float): ç·æ‹¬ä¼ç†±ä¿‚æ•°Ã—é¢ç© [kJ/hÂ·K]

    Returns:
        dict: åå¿œå™¨å‡ºå£æ¡ä»¶
    """
    R = 8.314e-3  # kJ/molÂ·K (æ°—ä½“å®šæ•°)
    rho_Cp = 4180.0  # kJ/mÂ³Â·Kï¼ˆåå¿œæ¶²ã®å¯†åº¦Ã—æ¯”ç†±ã€æ°´ç›¸å½“ï¼‰

    def equations(vars):
        C_A, T = vars
        T_K = T + 273.15  # Kelvinå¤‰æ›

        # åå¿œé€Ÿåº¦å®šæ•°ï¼ˆArrheniuså¼ï¼‰
        k = k0 * np.exp(-Ea / (R * T_K))

        # åå¿œé€Ÿåº¦
        r_A = k * C_A  # kmol/mÂ³Â·h

        # ç‰©è³ªåæ”¯: F * (C_A0 - C_A) = V * r_A
        eq1 = F * (C_A0 - C_A) - V * r_A

        # ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯:
        # å…¥åŠ› - å‡ºåŠ› + åå¿œç†± - é™¤ç†± = 0
        Q_reaction = V * r_A * (-delta_H)  # kJ/hï¼ˆç™ºç†±ï¼‰
        Q_removal = UA * (T - T_coolant)  # kJ/hï¼ˆé™¤ç†±ï¼‰
        Q_accumulation = F * rho_Cp * (T - T0)  # kJ/h

        eq2 = Q_reaction - Q_removal - Q_accumulation

        return [eq1, eq2]

    # åˆæœŸæ¨å®šå€¤
    C_A_init = C_A0 * 0.5
    T_init = T0 + 20

    # é€£ç«‹æ–¹ç¨‹å¼ã‚’è§£ã
    C_A, T = fsolve(equations, [C_A_init, T_init])

    # åå¿œç‡
    conversion = (C_A0 - C_A) / C_A0 * 100

    # ç†±åæ”¯è©³ç´°
    T_K = T + 273.15
    k = k0 * np.exp(-Ea / (R * T_K))
    r_A = k * C_A
    Q_reaction = V * r_A * (-delta_H)
    Q_removal = UA * (T - T_coolant)

    return {
        'C_A': C_A,
        'T': T,
        'conversion': conversion,
        'k': k,
        'r_A': r_A,
        'Q_reaction': Q_reaction / 1000,  # MW
        'Q_removal': Q_removal / 1000,     # MW
        'Q_balance': abs(Q_reaction - Q_removal) / Q_reaction * 100
    }

# å®Ÿè·µä¾‹ï¼šé…¢é…¸ã‚¨ãƒãƒ«åˆæˆåå¿œå™¨
F = 10.0  # mÂ³/h
C_A0 = 5.0  # kmol/mÂ³
T0 = 60.0  # Â°C
V = 5.0  # mÂ³
k0 = 1.5e6  # 1/h
Ea = 65.0  # kJ/mol
delta_H = -50.0  # kJ/molï¼ˆç™ºç†±ï¼‰
T_coolant = 50.0  # Â°C
UA = 5000.0  # kJ/hÂ·K

result = cstr_energy_balance_exothermic(F, C_A0, T0, V, k0, Ea, delta_H,
                                        T_coolant, UA)

print("=" * 60)
print("ç™ºç†±åå¿œCSTR ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯")
print("=" * 60)
print(f"\nåå¿œå™¨ä»•æ§˜:")
print(f"  ä½“ç©: {V} mÂ³")
print(f"  æµé‡: {F} mÂ³/h")
print(f"  æ»ç•™æ™‚é–“: {V/F:.2f} h")

print(f"\nåå¿œæ¡ä»¶:")
print(f"  ä¾›çµ¦æ¿ƒåº¦: {C_A0} kmol/mÂ³")
print(f"  ä¾›çµ¦æ¸©åº¦: {T0} Â°C")
print(f"  åå¿œç†±: {delta_H} kJ/mol")

print(f"\nè¨ˆç®—çµæœ:")
print(f"  å‡ºå£æ¿ƒåº¦: {result['C_A']:.3f} kmol/mÂ³")
print(f"  å‡ºå£æ¸©åº¦: {result['T']:.1f} Â°C")
print(f"  åå¿œç‡: {result['conversion']:.1f}%")
print(f"  åå¿œé€Ÿåº¦å®šæ•°: {result['k']:.2f} 1/h")

print(f"\nç†±åæ”¯:")
print(f"  ç™ºç†±é‡: {result['Q_reaction']:.3f} MW")
print(f"  é™¤ç†±é‡: {result['Q_removal']:.3f} MW")
print(f"  ç†±åæ”¯èª¤å·®: {result['Q_balance']:.2f}%")

# å‡ºåŠ›ä¾‹:
# ==============================================================
# ç™ºç†±åå¿œCSTR ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯
# ==============================================================
#
# åå¿œå™¨ä»•æ§˜:
#   ä½“ç©: 5.0 mÂ³
#   æµé‡: 10.0 mÂ³/h
#   æ»ç•™æ™‚é–“: 0.50 h
#
# åå¿œæ¡ä»¶:
#   ä¾›çµ¦æ¿ƒåº¦: 5.0 kmol/mÂ³
#   ä¾›çµ¦æ¸©åº¦: 60 Â°C
#   åå¿œç†±: -50.0 kJ/mol
#
# è¨ˆç®—çµæœ:
#   å‡ºå£æ¿ƒåº¦: 0.523 kmol/mÂ³
#   å‡ºå£æ¸©åº¦: 80.3 Â°C
#   åå¿œç‡: 89.5%
#   åå¿œé€Ÿåº¦å®šæ•°: 17.16 1/h
#
# ç†±åæ”¯:
#   ç™ºç†±é‡: 0.449 MW
#   é™¤ç†±é‡: 0.449 MW
#   ç†±åæ”¯èª¤å·®: 0.01%
</code></pre>

            <h3>2.3.2 å¸ç†±åå¿œå™¨ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯</h3>
            <div class="example-box">
                <h4>ä¾‹é¡Œ7ï¼šå¸ç†±åå¿œï¼ˆã‚¹ãƒãƒ¼ãƒ ãƒªãƒ•ã‚©ãƒ¼ãƒŸãƒ³ã‚°ï¼‰</h4>
                <p>
                    CHâ‚„ + Hâ‚‚O â†’ CO + 3Hâ‚‚ï¼ˆÎ”H = +206 kJ/molï¼‰ã®å¸ç†±åå¿œã§ã€å¿…è¦åŠ ç†±é‡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
                </p>
            </div>

            <pre><code>import numpy as np
from scipy.optimize import fsolve

def endothermic_reactor_energy_balance(F_CH4, T_in, conversion_target,
                                        T_reactor, delta_H):
    """
    å¸ç†±åå¿œå™¨ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯

    Args:
        F_CH4 (float): ãƒ¡ã‚¿ãƒ³ä¾›çµ¦æµé‡ [kmol/h]
        T_in (float): ä¾›çµ¦æ¸©åº¦ [Â°C]
        conversion_target (float): ç›®æ¨™åå¿œç‡ [-]
        T_reactor (float): åå¿œå™¨æ¸©åº¦ [Â°C]
        delta_H (float): åå¿œç†± [kJ/mol]ï¼ˆå¸ç†±ã¯æ­£ï¼‰

    Returns:
        dict: å¿…è¦åŠ ç†±é‡ã¨ç”Ÿæˆç‰©æµé‡
    """
    # æ¯”ç†±ãƒ‡ãƒ¼ã‚¿ï¼ˆå¹³å‡å€¤ã€kJ/kmolÂ·Kï¼‰
    Cp = {
        'CH4': 35.0,
        'H2O': 33.6,
        'CO': 29.1,
        'H2': 28.8
    }

    # åå¿œé‡
    F_CH4_reacted = F_CH4 * conversion_target
    F_CH4_out = F_CH4 * (1 - conversion_target)

    # ç”Ÿæˆç‰©æµé‡ï¼ˆåŒ–å­¦é‡è«–ã‚ˆã‚Šï¼‰
    # CH4 + H2O â†’ CO + 3H2
    F_H2O_in = F_CH4 * 1.2  # 20%éå‰°
    F_H2O_reacted = F_CH4_reacted
    F_H2O_out = F_H2O_in - F_H2O_reacted

    F_CO = F_CH4_reacted
    F_H2 = 3 * F_CH4_reacted

    # åå¿œã«å¿…è¦ãªç†±é‡
    Q_reaction = F_CH4_reacted * delta_H  # kJ/h

    # é¡•ç†±ï¼ˆåŸæ–™ã‚’åå¿œæ¸©åº¦ã¾ã§åŠ ç†±ï¼‰
    Q_sensible_CH4 = F_CH4 * Cp['CH4'] * (T_reactor - T_in)
    Q_sensible_H2O = F_H2O_in * Cp['H2O'] * (T_reactor - T_in)
    Q_sensible_total = Q_sensible_CH4 + Q_sensible_H2O

    # ç·åŠ ç†±é‡
    Q_total = Q_reaction + Q_sensible_total

    return {
        'Q_reaction': Q_reaction / 1000,  # MW
        'Q_sensible': Q_sensible_total / 1000,  # MW
        'Q_total': Q_total / 1000,  # MW
        'F_CH4_out': F_CH4_out,
        'F_H2O_out': F_H2O_out,
        'F_CO': F_CO,
        'F_H2': F_H2,
        'conversion': conversion_target * 100
    }

# å®Ÿè·µä¾‹ï¼šã‚¹ãƒãƒ¼ãƒ ãƒªãƒ•ã‚©ãƒ¼ãƒŸãƒ³ã‚°
F_CH4 = 100.0  # kmol/h
T_in = 400.0  # Â°C
conversion_target = 0.85  # 85%
T_reactor = 850.0  # Â°C
delta_H = 206.0  # kJ/molï¼ˆå¸ç†±ï¼‰

result = endothermic_reactor_energy_balance(F_CH4, T_in, conversion_target,
                                             T_reactor, delta_H)

print("=" * 60)
print("å¸ç†±åå¿œå™¨ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ï¼ˆã‚¹ãƒãƒ¼ãƒ ãƒªãƒ•ã‚©ãƒ¼ãƒŸãƒ³ã‚°ï¼‰")
print("=" * 60)
print(f"\nåå¿œæ¡ä»¶:")
print(f"  ãƒ¡ã‚¿ãƒ³ä¾›çµ¦: {F_CH4} kmol/h")
print(f"  ä¾›çµ¦æ¸©åº¦: {T_in} Â°C")
print(f"  åå¿œå™¨æ¸©åº¦: {T_reactor} Â°C")
print(f"  ç›®æ¨™åå¿œç‡: {conversion_target*100:.0f}%")

print(f"\nå¿…è¦åŠ ç†±é‡:")
print(f"  åå¿œç†±: {result['Q_reaction']:.2f} MW")
print(f"  é¡•ç†±: {result['Q_sensible']:.2f} MW")
print(f"  ç·åŠ ç†±é‡: {result['Q_total']:.2f} MW")

print(f"\nç”Ÿæˆç‰©æµé‡:")
print(f"  CHâ‚„ (æœªåå¿œ): {result['F_CH4_out']:.1f} kmol/h")
print(f"  Hâ‚‚O (æœªåå¿œ): {result['F_H2O_out']:.1f} kmol/h")
print(f"  CO (ç”Ÿæˆ): {result['F_CO']:.1f} kmol/h")
print(f"  Hâ‚‚ (ç”Ÿæˆ): {result['F_H2']:.1f} kmol/h")

# å‡ºåŠ›ä¾‹:
# ==============================================================
# å¸ç†±åå¿œå™¨ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ï¼ˆã‚¹ãƒãƒ¼ãƒ ãƒªãƒ•ã‚©ãƒ¼ãƒŸãƒ³ã‚°ï¼‰
# ==============================================================
#
# åå¿œæ¡ä»¶:
#   ãƒ¡ã‚¿ãƒ³ä¾›çµ¦: 100.0 kmol/h
#   ä¾›çµ¦æ¸©åº¦: 400 Â°C
#   åå¿œå™¨æ¸©åº¦: 850 Â°C
#   ç›®æ¨™åå¿œç‡: 85%
#
# å¿…è¦åŠ ç†±é‡:
#   åå¿œç†±: 17.51 MW
#   é¡•ç†±: 3.40 MW
#   ç·åŠ ç†±é‡: 20.91 MW
#
# ç”Ÿæˆç‰©æµé‡:
#   CHâ‚„ (æœªåå¿œ): 15.0 kmol/h
#   Hâ‚‚O (æœªåå¿œ): 35.0 kmol/h
#   CO (ç”Ÿæˆ): 85.0 kmol/h
#   Hâ‚‚ (ç”Ÿæˆ): 255.0 kmol/h
</code></pre>

            <h3>2.3.3 å®Œå…¨ãªç‰©è³ªãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ï¼ˆçµ±åˆä¾‹ï¼‰</h3>
            <div class="example-box">
                <h4>ä¾‹é¡Œ8ï¼šåå¿œè’¸ç•™å¡”ã®ç‰©è³ªãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼åŒæ™‚åæ”¯</h4>
                <p>
                    åå¿œã¨åˆ†é›¢ãŒåŒæ™‚é€²è¡Œã™ã‚‹åå¿œè’¸ç•™å¡”ã§ã€ç‰©è³ªåæ”¯ã¨ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ã‚’é€£æˆã—ã¦è§£ãã¾ã™ã€‚
                </p>
            </div>

            <pre><code>import numpy as np
from scipy.optimize import fsolve

class ReactiveDistillationColumn:
    """åå¿œè’¸ç•™å¡”ã®ç‰©è³ªãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ã‚¯ãƒ©ã‚¹"""

    def __init__(self, F, z_F, T_F, P, k_rxn, delta_H_rxn, delta_H_vap):
        """
        Args:
            F (float): ä¾›çµ¦æµé‡ [kmol/h]
            z_F (dict): ä¾›çµ¦çµ„æˆ {'A': x_A, 'B': x_B, 'C': x_C}
            T_F (float): ä¾›çµ¦æ¸©åº¦ [Â°C]
            P (float): æ“ä½œåœ§åŠ› [kPa]
            k_rxn (float): åå¿œé€Ÿåº¦å®šæ•° [1/h]
            delta_H_rxn (float): åå¿œç†± [kJ/kmol]
            delta_H_vap (dict): å„æˆåˆ†ã®è’¸ç™ºæ½œç†± [kJ/kmol]
        """
        self.F = F
        self.z_F = z_F
        self.T_F = T_F
        self.P = P
        self.k_rxn = k_rxn
        self.delta_H_rxn = delta_H_rxn
        self.delta_H_vap = delta_H_vap

        # æ¯”ç†±ãƒ‡ãƒ¼ã‚¿ï¼ˆæ¶²ç›¸ã€kJ/kmolÂ·Kï¼‰
        self.Cp_liquid = {'A': 150, 'B': 150, 'C': 180}

    def solve_balance(self, reflux_ratio, N_stages):
        """
        ç‰©è³ªãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ã‚’è§£ã

        Args:
            reflux_ratio (float): é‚„æµæ¯” [-]
            N_stages (int): ç†è«–æ®µæ•°

        Returns:
            dict: è¨ˆç®—çµæœ
        """
        def equations(vars):
            D, B, T_top, T_bottom, Q_reboiler, Q_condenser = vars

            # ç‰©è³ªåæ”¯
            eq1 = self.F - D - B

            # æˆåˆ†åæ”¯ï¼ˆç°¡ç•¥åŒ–: Aã¯è»½è³ªã€Cã¯é‡è³ªï¼‰
            # ç•™å‡ºç‰©ã¯ä¸»ã«Aã€ç¼¶å‡ºç‰©ã¯ä¸»ã«C
            x_D_A = 0.95  # ä»®å®š
            x_B_C = 0.90  # ä»®å®š

            F_A = self.F * self.z_F['A']
            eq2 = F_A - D * x_D_A - B * (1 - x_B_C) * 0.5

            # åå¿œ: A + B â†’ C (ç°¡ç•¥åŒ–)
            # åå¿œé‡ã¯æ»ç•™é‡ã¨åå¿œé€Ÿåº¦ã«ä¾å­˜
            V_total = 10.0  # mÂ³ï¼ˆä»®å®šï¼‰
            C_avg = self.F / V_total
            r_rxn = self.k_rxn * C_avg * 0.5  # kmol/h

            # ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯
            # ãƒªãƒœã‚¤ãƒ©ãƒ¼ç†±é‡
            V_vapor = D * (1 + reflux_ratio)  # è’¸æ°—æµé‡
            Q_reb_calc = V_vapor * self.delta_H_vap['C']
            eq3 = Q_reboiler - Q_reb_calc

            # ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ç†±é‡
            Q_cond_calc = V_vapor * self.delta_H_vap['A']
            eq4 = Q_condenser - Q_cond_calc

            # åå¿œç†±
            Q_reaction = r_rxn * self.delta_H_rxn

            # æ¸©åº¦åæ”¯ï¼ˆç°¡ç•¥åŒ–ï¼‰
            eq5 = T_top - (80 + reflux_ratio * 5)
            eq6 = T_bottom - (120 + Q_reboiler / 1000)

            return [eq1, eq2, eq3, eq4, eq5, eq6]

        # åˆæœŸæ¨å®šå€¤
        D_init = self.F * 0.4
        B_init = self.F * 0.6
        T_top_init = 85.0
        T_bottom_init = 125.0
        Q_reb_init = 5000.0
        Q_cond_init = 5000.0

        # é€£ç«‹æ–¹ç¨‹å¼ã‚’è§£ã
        result = fsolve(equations,
                       [D_init, B_init, T_top_init, T_bottom_init,
                        Q_reb_init, Q_cond_init])

        D, B, T_top, T_bottom, Q_reboiler, Q_condenser = result

        return {
            'D': D,
            'B': B,
            'T_top': T_top,
            'T_bottom': T_bottom,
            'Q_reboiler': Q_reboiler / 1000,  # MW
            'Q_condenser': Q_condenser / 1000,  # MW
            'reflux_ratio': reflux_ratio,
            'energy_efficiency': (Q_reboiler - Q_condenser) / Q_reboiler * 100
        }

# å®Ÿè·µä¾‹ï¼šé…¢é…¸ã‚¨ãƒãƒ«åˆæˆåå¿œè’¸ç•™
F = 100.0  # kmol/h
z_F = {'A': 0.4, 'B': 0.4, 'C': 0.2}  # A: ã‚¨ã‚¿ãƒãƒ¼ãƒ«, B: é…¢é…¸, C: é…¢é…¸ã‚¨ãƒãƒ«
T_F = 60.0  # Â°C
P = 101.3  # kPa
k_rxn = 2.0  # 1/h
delta_H_rxn = -25.0  # kJ/kmolï¼ˆç™ºç†±ï¼‰
delta_H_vap = {'A': 38000, 'B': 24000, 'C': 32000}  # kJ/kmol

column = ReactiveDistillationColumn(F, z_F, T_F, P, k_rxn, delta_H_rxn,
                                     delta_H_vap)

# é‚„æµæ¯”ã‚’å¤‰ãˆã¦è¨ˆç®—
reflux_ratios = [1.5, 2.0, 3.0]
N_stages = 20

print("=" * 60)
print("åå¿œè’¸ç•™å¡” ç‰©è³ªãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯")
print("=" * 60)
print(f"\nå¡”ä»•æ§˜:")
print(f"  ä¾›çµ¦æµé‡: {F} kmol/h")
print(f"  ç†è«–æ®µæ•°: {N_stages}")
print(f"  åå¿œ: A + B â†’ Cï¼ˆç™ºç†±ï¼‰")

for RR in reflux_ratios:
    result = column.solve_balance(RR, N_stages)

    print(f"\né‚„æµæ¯”: {RR}")
    print(f"  ç•™å‡ºç‰©æµé‡: {result['D']:.1f} kmol/h")
    print(f"  ç¼¶å‡ºç‰©æµé‡: {result['B']:.1f} kmol/h")
    print(f"  å¡”é ‚æ¸©åº¦: {result['T_top']:.1f} Â°C")
    print(f"  å¡”åº•æ¸©åº¦: {result['T_bottom']:.1f} Â°C")
    print(f"  ãƒªãƒœã‚¤ãƒ©ãƒ¼ç†±é‡: {result['Q_reboiler']:.2f} MW")
    print(f"  ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ç†±é‡: {result['Q_condenser']:.2f} MW")

# å‡ºåŠ›ä¾‹:
# ==============================================================
# åå¿œè’¸ç•™å¡” ç‰©è³ªãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯
# ==============================================================
#
# å¡”ä»•æ§˜:
#   ä¾›çµ¦æµé‡: 100.0 kmol/h
#   ç†è«–æ®µæ•°: 20
#   åå¿œ: A + B â†’ Cï¼ˆç™ºç†±ï¼‰
#
# é‚„æµæ¯”: 1.5
#   ç•™å‡ºç‰©æµé‡: 39.4 kmol/h
#   ç¼¶å‡ºç‰©æµé‡: 60.6 kmol/h
#   å¡”é ‚æ¸©åº¦: 87.5 Â°C
#   å¡”åº•æ¸©åº¦: 130.2 Â°C
#   ãƒªãƒœã‚¤ãƒ©ãƒ¼ç†±é‡: 3.15 MW
#   ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ç†±é‡: 3.75 MW
#
# é‚„æµæ¯”: 2.0
#   ç•™å‡ºç‰©æµé‡: 39.2 kmol/h
#   ç¼¶å‡ºç‰©æµé‡: 60.8 kmol/h
#   å¡”é ‚æ¸©åº¦: 90.0 Â°C
#   å¡”åº•æ¸©åº¦: 131.8 Â°C
#   ãƒªãƒœã‚¤ãƒ©ãƒ¼ç†±é‡: 3.76 MW
#   ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ç†±é‡: 4.48 MW
#
# é‚„æµæ¯”: 3.0
#   ç•™å‡ºç‰©æµé‡: 39.0 kmol/h
#   ç¼¶å‡ºç‰©æµé‡: 61.0 kmol/h
#   å¡”é ‚æ¸©åº¦: 95.0 Â°C
#   å¡”åº•æ¸©åº¦: 134.7 Â°C
#   ãƒªãƒœã‚¤ãƒ©ãƒ¼ç†±é‡: 4.99 MW
#   ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ç†±é‡: 5.95 MW
</code></pre>
        </section>

        <section>
            <h2>2.4 å­¦ç¿’ã®ã¾ã¨ã‚</h2>

            <div class="info-box">
                <h3>æœ¬ç« ã§å­¦ã‚“ã ã“ã¨</h3>
                <ul>
                    <li><strong>ç‰©è³ªåæ”¯</strong>: å¤šæˆåˆ†ç³»ã€ãƒªã‚µã‚¤ã‚¯ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’å«ã‚€è¤‡é›‘ãªç³»ã®åæ”¯è¨ˆç®—</li>
                    <li><strong>ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯</strong>: é¡•ç†±ãƒ»æ½œç†±ãƒ»åå¿œç†±ã‚’è€ƒæ…®ã—ãŸç†±åæ”¯è¨ˆç®—</li>
                    <li><strong>ç†±äº¤æ›å™¨</strong>: LMTDæ³•ã«ã‚ˆã‚‹ã‚¨ãƒãƒ«ã‚®ãƒ¼äº¤æ›é‡ã®è¨ˆç®—</li>
                    <li><strong>åå¿œå™¨</strong>: ç™ºç†±ãƒ»å¸ç†±åå¿œã®ã‚¨ãƒãƒ«ã‚®ãƒ¼åæ”¯ã¨æ¸©åº¦åˆ¶å¾¡</li>
                    <li><strong>çµ±åˆåæ”¯</strong>: ç‰©è³ªã¨ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’é€£æˆã—ãŸè¤‡åˆç³»ã®è§£æ³•</li>
                </ul>
            </div>

            <div class="warning-box">
                <h3>å®Ÿå‹™ã§ã®æ³¨æ„ç‚¹</h3>
                <ul>
                    <li>ç‰©æ€§å€¤ã®æ¸©åº¦ãƒ»åœ§åŠ›ä¾å­˜æ€§ã‚’è€ƒæ…®ã™ã‚‹ï¼ˆæœ¬ç« ã¯ç°¡ç•¥åŒ–ï¼‰</li>
                    <li>ç†±æå¤±ã‚’å®Ÿéš›ã®ãƒ—ãƒ­ã‚»ã‚¹ã§ã¯10-20%ç¨‹åº¦è¦‹è¾¼ã‚€</li>
                    <li>å®‰å…¨ä¿‚æ•°ï¼ˆ1.1-1.3å€ï¼‰ã‚’è¨­è¨ˆã«çµ„ã¿è¾¼ã‚€</li>
                    <li>åˆ¶å¾¡ç³»ã®å‹•çš„å¿œç­”ã‚‚è€ƒæ…®ã™ã‚‹ï¼ˆæœ¬ç« ã¯å®šå¸¸çŠ¶æ…‹ã®ã¿ï¼‰</li>
                </ul>
            </div>
        </section>

        <div class="nav-buttons">
            <a href="index.html" class="nav-button">â† ã‚·ãƒªãƒ¼ã‚ºç›®æ¬¡ã¸</a>
            <a href="chapter-3.html" class="nav-button">ç¬¬3ç« ï¼šå˜ä½æ“ä½œã®ãƒ¢ãƒ‡ãƒªãƒ³ã‚° â†’</a>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 PI Terakoya - Process Informatics Learning Platform</p>
    </footer>
</body>
</html>
