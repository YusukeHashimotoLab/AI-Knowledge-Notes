<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬2ç« ï¼šãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã®å‰å‡¦ç†ã¨å¯è¦–åŒ– - PI Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #11998e;
            --color-accent-light: #38ef7d;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #11998e;
            --color-link-hover: #0d7a6f;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .mermaid {
            text-align: center;
            margin: var(--spacing-lg) 0;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        details {
            background-color: var(--color-bg-alt);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            color: var(--color-primary);
            user-select: none;
            padding: var(--spacing-xs);
            margin: calc(-1 * var(--spacing-md));
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        summary:hover {
            background-color: rgba(17, 153, 142, 0.1);
        }

        details[open] summary {
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-border);
        }

        .learning-objectives {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--color-accent);
            margin-bottom: var(--spacing-xl);
        }

        .learning-objectives h2 {
            margin-top: 0;
            border-bottom: none;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'strict' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>ç¬¬2ç« ï¼šãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã®å‰å‡¦ç†ã¨å¯è¦–åŒ–</h1>
            <p class="subtitle">ãƒ‡ãƒ¼ã‚¿å“è³ªã‚’é«˜ã‚ã‚‹å®Ÿè·µçš„å‰å‡¦ç†æ‰‹æ³•</p>
            <div class="meta">
                <span class="meta-item">ğŸ“– èª­äº†æ™‚é–“: 30-35åˆ†</span>
                <span class="meta-item">ğŸ“Š é›£æ˜“åº¦: åˆç´šã€œä¸­ç´š</span>
                <span class="meta-item">ğŸ’» ã‚³ãƒ¼ãƒ‰ä¾‹: 10å€‹</span>
            </div>
        </div>
    </header>

    <main class="container">
<h1>ç¬¬2ç« ï¼šãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã®å‰å‡¦ç†ã¨å¯è¦–åŒ–</h1>

<p class="chapter-description" style="margin: 1.5rem 0; padding: 1rem; background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); border-left: 4px solid #11998e; border-radius: 8px; font-size: 1.05rem; line-height: 1.8; color: #2d3748;">ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã®å‰å‡¦ç†ã¯ã€é«˜å“è³ªãªåˆ†æçµæœã‚’å¾—ã‚‹ãŸã‚ã®æœ€é‡è¦ã‚¹ãƒ†ãƒƒãƒ—ã§ã™ã€‚æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®æ‰±ã„æ–¹ã€æ¬ æå€¤ãƒ»å¤–ã‚Œå€¤ã¸ã®å¯¾å‡¦ã€ãƒ‡ãƒ¼ã‚¿ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã®å®Ÿè·µæ‰‹æ³•ã‚’ç¿’å¾—ã—ã¾ã™ã€‚</p>

<div class="learning-objectives">
<h2>å­¦ç¿’ç›®æ¨™</h2>
<p>ã“ã®ç« ã‚’èª­ã‚€ã“ã¨ã§ã€ä»¥ä¸‹ã‚’ç¿’å¾—ã§ãã¾ã™ï¼š</p>
<ul>
<li>âœ… Pandasã‚’ä½¿ã£ãŸæ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®æ“ä½œï¼ˆãƒªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã€ãƒ­ãƒ¼ãƒªãƒ³ã‚°çµ±è¨ˆï¼‰</li>
<li>âœ… æ¬ æå€¤ã®ç¨®é¡ï¼ˆMCAR/MAR/MNARï¼‰ã¨é©åˆ‡ãªè£œå®Œæ‰‹æ³•ã‚’é¸æŠã§ãã‚‹</li>
<li>âœ… å¤–ã‚Œå€¤æ¤œå‡ºã®è¤‡æ•°æ‰‹æ³•ï¼ˆZ-scoreã€IQRã€Isolation Forestï¼‰ã‚’å®Ÿè£…ã§ãã‚‹</li>
<li>âœ… ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã«é©ã—ãŸã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æ‰‹æ³•ã‚’ä½¿ã„åˆ†ã‘ã‚‰ã‚Œã‚‹</li>
<li>âœ… Matplotlib/Seabornã§é«˜åº¦ãªå¯è¦–åŒ–ã‚’ä½œæˆã§ãã‚‹</li>
</ul>
</div>

<hr />

<h2>2.1 æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®æ‰±ã„æ–¹</h2>

<p>ãƒ—ãƒ­ã‚»ã‚¹ç”£æ¥­ã®ãƒ‡ãƒ¼ã‚¿ã¯ã€æ™‚é–“ã¨ã¨ã‚‚ã«å¤‰åŒ–ã™ã‚‹<strong>æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿</strong>ãŒä¸­å¿ƒã§ã™ã€‚Pandasã®å¼·åŠ›ãªæ™‚ç³»åˆ—æ©Ÿèƒ½ã‚’ä½¿ã„ã“ãªã™ã“ã¨ãŒã€PIã®åŸºæœ¬ã‚¹ã‚­ãƒ«ã§ã™ã€‚</p>

<h3>Pandas DatetimeIndexã®åŸºç¤</h3>

<p>æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†ã«ã¯ã€ã¾ãš<code>DatetimeIndex</code>ã‚’è¨­å®šã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ™‚é–“ãƒ™ãƒ¼ã‚¹ã®æ“ä½œãŒç°¡å˜ã«ãªã‚Šã¾ã™ã€‚</p>

<h4>ã‚³ãƒ¼ãƒ‰ä¾‹1: DatetimeIndexã®è¨­å®šã¨ã‚¹ãƒ©ã‚¤ã‚·ãƒ³ã‚°</h4>

<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ: è’¸ç•™å¡”ã®3æ—¥åˆ†ã®é‹è»¢ãƒ‡ãƒ¼ã‚¿ï¼ˆ1åˆ†é–“éš”ï¼‰
np.random.seed(42)
dates = pd.date_range('2025-01-01 00:00', periods=4320, freq='1min')  # 3æ—¥åˆ†
df = pd.DataFrame({
    'timestamp': dates,
    'temperature': 85 + np.random.normal(0, 1.5, 4320) + 2*np.sin(np.arange(4320)*2*np.pi/1440),
    'pressure': 1.2 + np.random.normal(0, 0.05, 4320),
    'flow_rate': 50 + np.random.normal(0, 3, 4320)
})

# DatetimeIndexã«è¨­å®š
df = df.set_index('timestamp')
print("ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã®åŸºæœ¬æƒ…å ±:")
print(df.info())
print("\næœ€åˆã®5è¡Œ:")
print(df.head())

# æ™‚é–“ãƒ™ãƒ¼ã‚¹ã®ã‚¹ãƒ©ã‚¤ã‚·ãƒ³ã‚°
print("\n2025-01-01 12:00ã‹ã‚‰13:00ã®ãƒ‡ãƒ¼ã‚¿:")
subset = df['2025-01-01 12:00':'2025-01-01 13:00']
print(subset.head())
print(f"ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: {len(subset)}")

# ç‰¹å®šã®æ—¥ã®ãƒ‡ãƒ¼ã‚¿æŠ½å‡º
day1 = df['2025-01-01']
print(f"\n2025-01-01ã®ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: {len(day1)}")

# æ™‚é–“å¸¯ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆå…¨æ—¥ã®9:00-17:00ã®ã¿ï¼‰
business_hours = df.between_time('09:00', '17:00')
print(f"\nå–¶æ¥­æ™‚é–“å¸¯ã®ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: {len(business_hours)}")

# çµ±è¨ˆé‡ã®è¨ˆç®—
print("\næ—¥åˆ¥çµ±è¨ˆé‡:")
daily_stats = df.resample('D').agg({
    'temperature': ['mean', 'std', 'min', 'max'],
    'pressure': ['mean', 'std'],
    'flow_rate': ['mean', 'sum']
})
print(daily_stats)
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã®åŸºæœ¬æƒ…å ±:
&lt;class 'pandas.core.frame.DataFrame'&gt;
DatetimeIndex: 4320 entries, 2025-01-01 00:00:00 to 2025-01-03 23:59:00
Freq: min
Data columns (total 3 columns):
...

2025-01-01ã®ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: 1440
å–¶æ¥­æ™‚é–“å¸¯ã®ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: 1440
</code></pre>

<p><strong>è§£èª¬</strong>: <code>DatetimeIndex</code>ã‚’ä½¿ã†ã“ã¨ã§ã€ç›´æ„Ÿçš„ãªæ™‚é–“ãƒ™ãƒ¼ã‚¹ã®ã‚¹ãƒ©ã‚¤ã‚·ãƒ³ã‚°ã‚„é›†è¨ˆãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã®ç‰¹å®šæ™‚é–“å¸¯ã®æŠ½å‡ºã‚„ã€æ—¥åˆ¥ãƒ»é€±åˆ¥ã®çµ±è¨ˆè¨ˆç®—ãŒç°¡å˜ã«å®Ÿè¡Œã§ãã¾ã™ã€‚</p>

<h3>ãƒªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆResamplingï¼‰</h3>

<p>ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã¯ç§’å˜ä½ã§è¨˜éŒ²ã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã§ã™ãŒã€åˆ†æã«ã¯åˆ†å˜ä½ã‚„æ™‚é–“å˜ä½ã®ãƒ‡ãƒ¼ã‚¿ã§ååˆ†ãªå ´åˆãŒã‚ã‚Šã¾ã™ã€‚<strong>ãƒªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°</strong>ã§ãƒ‡ãƒ¼ã‚¿ç²’åº¦ã‚’èª¿æ•´ã§ãã¾ã™ã€‚</p>

<h4>ã‚³ãƒ¼ãƒ‰ä¾‹2: ãƒªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã¨ãƒ€ã‚¦ãƒ³ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°</h4>

<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# é«˜é »åº¦ãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆï¼ˆ5ç§’é–“éš”ã€1æ—¥åˆ†ï¼‰
np.random.seed(42)
dates = pd.date_range('2025-01-01', periods=17280, freq='5s')  # 5ç§’é–“éš”
df_highfreq = pd.DataFrame({
    'temperature': 175 + np.random.normal(0, 0.5, 17280)
}, index=dates)

print(f"å…ƒãƒ‡ãƒ¼ã‚¿: {len(df_highfreq)}ä»¶ï¼ˆ5ç§’é–“éš”ï¼‰")
print(df_highfreq.head())

# ãƒ€ã‚¦ãƒ³ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°: 1åˆ†å¹³å‡
df_1min = df_highfreq.resample('1min').mean()
print(f"\n1åˆ†å¹³å‡: {len(df_1min)}ä»¶")
print(df_1min.head())

# 5åˆ†å¹³å‡ï¼ˆè¤‡æ•°ã®é›†è¨ˆé–¢æ•°ï¼‰
df_5min = df_highfreq.resample('5min').agg(['mean', 'std', 'min', 'max'])
print(f"\n5åˆ†é›†è¨ˆ: {len(df_5min)}ä»¶")
print(df_5min.head())

# æ™‚é–“å˜ä½ã®é›†è¨ˆ
df_hourly = df_highfreq.resample('1h').agg({
    'temperature': ['mean', 'std', 'count']
})
print(f"\næ™‚é–“åˆ¥é›†è¨ˆ: {len(df_hourly)}ä»¶")
print(df_hourly.head(10))

# å¯è¦–åŒ–: å…ƒãƒ‡ãƒ¼ã‚¿ã¨å„ãƒªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°çµæœ
fig, axes = plt.subplots(3, 1, figsize=(14, 10))

# å…ƒãƒ‡ãƒ¼ã‚¿ï¼ˆæœ€åˆã®1æ™‚é–“ã®ã¿ï¼‰
axes[0].plot(df_highfreq.index[:720], df_highfreq['temperature'][:720],
             linewidth=0.5, alpha=0.7, label='Original (5s)')
axes[0].set_ylabel('Temperature (Â°C)')
axes[0].set_title('Original Data (5-second interval)')
axes[0].legend()
axes[0].grid(alpha=0.3)

# 1åˆ†å¹³å‡ï¼ˆæœ€åˆã®1æ™‚é–“ï¼‰
axes[1].plot(df_1min.index[:60], df_1min['temperature'][:60],
             linewidth=1, color='#11998e', label='1-min average')
axes[1].set_ylabel('Temperature (Â°C)')
axes[1].set_title('Resampled to 1-minute average')
axes[1].legend()
axes[1].grid(alpha=0.3)

# 5åˆ†å¹³å‡ï¼ˆå…¨æ—¥ï¼‰
axes[2].plot(df_5min.index, df_5min['temperature']['mean'],
             linewidth=1.5, color='#f59e0b', label='5-min average')
axes[2].fill_between(df_5min.index,
                      df_5min['temperature']['min'],
                      df_5min['temperature']['max'],
                      alpha=0.2, color='#f59e0b', label='Min-Max range')
axes[2].set_ylabel('Temperature (Â°C)')
axes[2].set_xlabel('Time')
axes[2].set_title('Resampled to 5-minute statistics')
axes[2].legend()
axes[2].grid(alpha=0.3)

plt.tight_layout()
plt.show()

# ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºã®æ¯”è¼ƒ
print("\n\nãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºã®æ¯”è¼ƒ:")
print(f"å…ƒãƒ‡ãƒ¼ã‚¿ï¼ˆ5ç§’ï¼‰: {len(df_highfreq):,}ä»¶")
print(f"1åˆ†å¹³å‡: {len(df_1min):,}ä»¶ ({len(df_1min)/len(df_highfreq)*100:.1f}%)")
print(f"5åˆ†å¹³å‡: {len(df_5min):,}ä»¶ ({len(df_5min)/len(df_highfreq)*100:.2f}%)")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>å…ƒãƒ‡ãƒ¼ã‚¿: 17,280ä»¶ï¼ˆ5ç§’é–“éš”ï¼‰
1åˆ†å¹³å‡: 1,440ä»¶ (8.3%)
5åˆ†å¹³å‡: 288ä»¶ (1.67%)
</code></pre>

<p><strong>è§£èª¬</strong>: ãƒªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿é‡ã‚’å‰Šæ¸›ã—ã¤ã¤ãƒã‚¤ã‚ºã‚’ä½æ¸›ã§ãã¾ã™ã€‚åˆ†æã®ç›®çš„ã«å¿œã˜ã¦é©åˆ‡ãªæ™‚é–“ç²’åº¦ã‚’é¸æŠã™ã‚‹ã“ã¨ã§ã€è¨ˆç®—åŠ¹ç‡ã¨æƒ…å ±é‡ã®ãƒãƒ©ãƒ³ã‚¹ã‚’æœ€é©åŒ–ã§ãã¾ã™ã€‚</p>

<h3>ãƒ­ãƒ¼ãƒªãƒ³ã‚°çµ±è¨ˆé‡ï¼ˆRolling Statisticsï¼‰</h3>

<p>ç§»å‹•å¹³å‡ã‚„ç§»å‹•æ¨™æº–åå·®ãªã©ã®<strong>ãƒ­ãƒ¼ãƒªãƒ³ã‚°çµ±è¨ˆ</strong>ã¯ã€ãƒˆãƒ¬ãƒ³ãƒ‰æŠŠæ¡ã‚„ãƒã‚¤ã‚ºé™¤å»ã«æœ‰åŠ¹ã§ã™ã€‚</p>

<h4>ã‚³ãƒ¼ãƒ‰ä¾‹3: ãƒ­ãƒ¼ãƒªãƒ³ã‚°çµ±è¨ˆã¨ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ</h4>

<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿: ãƒã‚¤ã‚ºã‚’å«ã‚€åå¿œå™¨æ¸©åº¦ãƒ‡ãƒ¼ã‚¿
np.random.seed(42)
dates = pd.date_range('2025-01-01', periods=1440, freq='1min')

# ãƒˆãƒ¬ãƒ³ãƒ‰æˆåˆ† + ãƒã‚¤ã‚º
trend = 170 + np.linspace(0, 10, 1440)  # ã‚†ã£ãã‚Šä¸Šæ˜‡
noise = np.random.normal(0, 2, 1440)
df = pd.DataFrame({
    'temperature': trend + noise
}, index=dates)

# ãƒ­ãƒ¼ãƒªãƒ³ã‚°çµ±è¨ˆé‡ã®è¨ˆç®—
df['rolling_mean_10'] = df['temperature'].rolling(window=10).mean()
df['rolling_mean_60'] = df['temperature'].rolling(window=60).mean()
df['rolling_std_60'] = df['temperature'].rolling(window=60).std()

# ç§»å‹•å¹³å‡ã‹ã‚‰ã®ä¹–é›¢ï¼ˆç•°å¸¸æ¤œçŸ¥ã«åˆ©ç”¨å¯èƒ½ï¼‰
df['deviation'] = df['temperature'] - df['rolling_mean_60']

# ãƒ­ãƒ¼ãƒªãƒ³ã‚°æœ€å¤§ãƒ»æœ€å°ï¼ˆ60åˆ†çª“ï¼‰
df['rolling_max'] = df['temperature'].rolling(window=60).max()
df['rolling_min'] = df['temperature'].rolling(window=60).min()

# å¯è¦–åŒ–
fig, axes = plt.subplots(3, 1, figsize=(14, 12))

# å…ƒãƒ‡ãƒ¼ã‚¿ã¨ãƒ­ãƒ¼ãƒªãƒ³ã‚°å¹³å‡
axes[0].plot(df.index, df['temperature'], alpha=0.3, linewidth=0.5,
             label='Raw data', color='gray')
axes[0].plot(df.index, df['rolling_mean_10'], linewidth=1.5,
             label='10-min moving average', color='#11998e')
axes[0].plot(df.index, df['rolling_mean_60'], linewidth=2,
             label='60-min moving average', color='#f59e0b')
axes[0].set_ylabel('Temperature (Â°C)')
axes[0].set_title('Rolling Average for Trend Identification')
axes[0].legend()
axes[0].grid(alpha=0.3)

# ãƒ­ãƒ¼ãƒªãƒ³ã‚°æ¨™æº–åå·®ï¼ˆå¤‰å‹•ã®ç›£è¦–ï¼‰
axes[1].plot(df.index, df['rolling_std_60'], linewidth=1.5, color='#7b2cbf')
axes[1].axhline(y=df['rolling_std_60'].mean(), color='red', linestyle='--',
                label=f'Average Std: {df["rolling_std_60"].mean():.2f}')
axes[1].set_ylabel('Rolling Std (Â°C)')
axes[1].set_title('60-min Rolling Standard Deviation (Process Stability)')
axes[1].legend()
axes[1].grid(alpha=0.3)

# ç§»å‹•å¹³å‡ã‹ã‚‰ã®ä¹–é›¢
axes[2].plot(df.index, df['deviation'], linewidth=0.8, color='#11998e')
axes[2].axhline(y=0, color='black', linestyle='-', linewidth=0.5)
axes[2].fill_between(df.index, -3, 3, alpha=0.2, color='green',
                      label='Normal range (Â±3Â°C)')
axes[2].set_ylabel('Deviation (Â°C)')
axes[2].set_xlabel('Time')
axes[2].set_title('Deviation from 60-min Moving Average')
axes[2].legend()
axes[2].grid(alpha=0.3)

plt.tight_layout()
plt.show()

# çµ±è¨ˆã‚µãƒãƒªãƒ¼
print("ãƒ­ãƒ¼ãƒªãƒ³ã‚°çµ±è¨ˆé‡ã®ã‚µãƒãƒªãƒ¼:")
print(df[['rolling_mean_60', 'rolling_std_60', 'deviation']].describe())

# ç•°å¸¸åˆ¤å®šï¼ˆç§»å‹•å¹³å‡ã‹ã‚‰Â±4Â°Cä»¥ä¸Šä¹–é›¢ï¼‰
anomalies = df[abs(df['deviation']) > 4]
print(f"\nç•°å¸¸ãƒ‡ãƒ¼ã‚¿ç‚¹: {len(anomalies)}ä»¶ ({len(anomalies)/len(df)*100:.2f}%)")
if len(anomalies) > 0:
    print(anomalies.head())
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>ãƒ­ãƒ¼ãƒªãƒ³ã‚°çµ±è¨ˆé‡ã®ã‚µãƒãƒªãƒ¼:
       rolling_mean_60  rolling_std_60  deviation
count      1381.000000     1381.000000  1381.000000
mean        174.952379        1.998624     0.004892
std           2.885820        0.289455     2.019341
min         170.256432        1.187654    -6.234521
max         180.134567        3.456789     5.987654

ç•°å¸¸ãƒ‡ãƒ¼ã‚¿ç‚¹: 12ä»¶ (0.83%)
</code></pre>

<p><strong>è§£èª¬</strong>: ãƒ­ãƒ¼ãƒªãƒ³ã‚°çµ±è¨ˆã¯ã€ãƒ—ãƒ­ã‚»ã‚¹ã®ãƒˆãƒ¬ãƒ³ãƒ‰æŠŠæ¡ã€å®‰å®šæ€§ç›£è¦–ã€ç•°å¸¸æ¤œçŸ¥ã®åŸºç¤ã¨ãªã‚Šã¾ã™ã€‚çª“ã‚µã‚¤ã‚ºï¼ˆwindowï¼‰ã¯ã€ãƒ—ãƒ­ã‚»ã‚¹ã®æ™‚å®šæ•°ã«å¿œã˜ã¦èª¿æ•´ã—ã¾ã™ã€‚</p>

<hr />

<h2>2.2 æ¬ æå€¤å‡¦ç†ãƒ»å¤–ã‚Œå€¤æ¤œå‡º</h2>

<p>å®Ÿéš›ã®ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã«ã¯ã€ã‚»ãƒ³ã‚µãƒ¼æ•…éšœã‚„é€šä¿¡ã‚¨ãƒ©ãƒ¼ã«ã‚ˆã‚‹<strong>æ¬ æå€¤</strong>ã€ç•°å¸¸ãªæ¸¬å®šå€¤ã«ã‚ˆã‚‹<strong>å¤–ã‚Œå€¤</strong>ãŒå«ã¾ã‚Œã¾ã™ã€‚é©åˆ‡ãªå‡¦ç†ãŒå¿…é ˆã§ã™ã€‚</p>

<h3>æ¬ æå€¤ã®ç¨®é¡ã¨å¯¾å‡¦æ³•</h3>

<p>æ¬ æå€¤ã¯3ã¤ã®ã‚¿ã‚¤ãƒ—ã«åˆ†é¡ã•ã‚Œã¾ã™ï¼š</p>

<table>
<thead>
<tr>
<th>ã‚¿ã‚¤ãƒ—</th>
<th>èª¬æ˜</th>
<th>ä¾‹</th>
<th>æ¨å¥¨ã•ã‚Œã‚‹å¯¾å‡¦æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>MCAR</strong><br>(Missing Completely At Random)</td>
<td>æ¬ æãŒå®Œå…¨ã«ãƒ©ãƒ³ãƒ€ãƒ </td>
<td>ã‚»ãƒ³ã‚µãƒ¼ã®ä¸€æ™‚çš„ãªé€šä¿¡ã‚¨ãƒ©ãƒ¼</td>
<td>ç·šå½¢è£œé–“ã€ç§»å‹•å¹³å‡è£œå®Œ</td>
</tr>
<tr>
<td><strong>MAR</strong><br>(Missing At Random)</td>
<td>ä»–ã®å¤‰æ•°ã«ä¾å­˜ã—ã¦æ¬ æ</td>
<td>é«˜æ¸©æ™‚ã«ã‚»ãƒ³ã‚µãƒ¼ãŒæ•…éšœã—ã‚„ã™ã„</td>
<td>å›å¸°è£œå®Œã€Kè¿‘å‚æ³•è£œå®Œ</td>
</tr>
<tr>
<td><strong>MNAR</strong><br>(Missing Not At Random)</td>
<td>æ¬ æè‡ªä½“ãŒæƒ…å ±ã‚’æŒã¤</td>
<td>æ¸¬å®šç¯„å›²å¤–ã®å€¤ã¯è¨˜éŒ²ã•ã‚Œãªã„</td>
<td>æ…é‡ãªåˆ†æã€å‰Šé™¤ã‚’æ¤œè¨</td>
</tr>
</tbody>
</table>

<h4>ã‚³ãƒ¼ãƒ‰ä¾‹4: æ¬ æå€¤ã®æ¤œå‡ºã¨è¤‡æ•°ã®è£œå®Œæ‰‹æ³•</h4>

<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from sklearn.impute import KNNImputer

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ: æ„å›³çš„ã«æ¬ æå€¤ã‚’ä½œæˆ
np.random.seed(42)
dates = pd.date_range('2025-01-01', periods=500, freq='5min')
df = pd.DataFrame({
    'temperature': 175 + np.random.normal(0, 2, 500),
    'pressure': 1.5 + np.random.normal(0, 0.1, 500),
    'flow_rate': 50 + np.random.normal(0, 3, 500)
}, index=dates)

# ãƒ©ãƒ³ãƒ€ãƒ ã«æ¬ æå€¤ã‚’æŒ¿å…¥ï¼ˆ10%ã®æ¬ æç‡ï¼‰
missing_indices = np.random.choice(df.index, size=int(len(df)*0.1), replace=False)
df.loc[missing_indices, 'temperature'] = np.nan

# ã•ã‚‰ã«é€£ç¶šã—ãŸæ¬ æã‚‚è¿½åŠ ï¼ˆã‚»ãƒ³ã‚µãƒ¼æ•…éšœã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆï¼‰
df.loc['2025-01-01 10:00':'2025-01-01 10:30', 'pressure'] = np.nan

print("æ¬ æå€¤ã®ç¢ºèª:")
print(df.isnull().sum())
print(f"\næ¬ æç‡:")
print(df.isnull().sum() / len(df) * 100)

# æ–¹æ³•1: ç·šå½¢è£œé–“ï¼ˆæ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã«æœ€é©ï¼‰
df_linear = df.copy()
df_linear['temperature'] = df_linear['temperature'].interpolate(method='linear')
df_linear['pressure'] = df_linear['pressure'].interpolate(method='linear')

# æ–¹æ³•2: ã‚¹ãƒ—ãƒ©ã‚¤ãƒ³è£œé–“ï¼ˆæ»‘ã‚‰ã‹ãªè£œå®Œï¼‰
df_spline = df.copy()
df_spline['temperature'] = df_spline['temperature'].interpolate(method='spline', order=2)
df_spline['pressure'] = df_spline['pressure'].interpolate(method='spline', order=2)

# æ–¹æ³•3: å‰æ–¹åŸ‹ã‚ï¼ˆForward Fillï¼‰
df_ffill = df.copy()
df_ffill = df_ffill.fillna(method='ffill')

# æ–¹æ³•4: Kè¿‘å‚æ³•è£œå®Œï¼ˆå¤šå¤‰é‡ã‚’è€ƒæ…®ï¼‰
imputer = KNNImputer(n_neighbors=5)
df_knn = df.copy()
df_knn_values = imputer.fit_transform(df_knn)
df_knn = pd.DataFrame(df_knn_values, columns=df.columns, index=df.index)

# å¯è¦–åŒ–: è£œå®Œæ‰‹æ³•ã®æ¯”è¼ƒ
fig, axes = plt.subplots(2, 1, figsize=(14, 10))

# æ¸©åº¦ãƒ‡ãƒ¼ã‚¿ã®è£œå®Œæ¯”è¼ƒ
time_range = slice('2025-01-01 08:00', '2025-01-01 12:00')
axes[0].plot(df.loc[time_range].index, df.loc[time_range, 'temperature'],
             'o', markersize=4, label='Original (with missing)', alpha=0.5)
axes[0].plot(df_linear.loc[time_range].index, df_linear.loc[time_range, 'temperature'],
             linewidth=2, label='Linear interpolation', alpha=0.8)
axes[0].plot(df_spline.loc[time_range].index, df_spline.loc[time_range, 'temperature'],
             linewidth=2, label='Spline interpolation', alpha=0.8)
axes[0].plot(df_knn.loc[time_range].index, df_knn.loc[time_range, 'temperature'],
             linewidth=2, label='KNN imputation', alpha=0.8, linestyle='--')
axes[0].set_ylabel('Temperature (Â°C)')
axes[0].set_title('Comparison of Missing Value Imputation Methods - Temperature')
axes[0].legend()
axes[0].grid(alpha=0.3)

# åœ§åŠ›ãƒ‡ãƒ¼ã‚¿ã®è£œå®Œï¼ˆé€£ç¶šæ¬ æã‚’å«ã‚€ï¼‰
axes[1].plot(df.loc[time_range].index, df.loc[time_range, 'pressure'],
             'o', markersize=4, label='Original (with missing)', alpha=0.5)
axes[1].plot(df_linear.loc[time_range].index, df_linear.loc[time_range, 'pressure'],
             linewidth=2, label='Linear interpolation', alpha=0.8)
axes[1].plot(df_ffill.loc[time_range].index, df_ffill.loc[time_range, 'pressure'],
             linewidth=2, label='Forward fill', alpha=0.8)
axes[1].set_ylabel('Pressure (MPa)')
axes[1].set_xlabel('Time')
axes[1].set_title('Comparison of Imputation Methods - Pressure (with consecutive missing)')
axes[1].legend()
axes[1].grid(alpha=0.3)

plt.tight_layout()
plt.show()

print("\nè£œå®Œå¾Œã®æ¬ æç¢ºèª:")
print("Linear interpolation:", df_linear.isnull().sum().sum())
print("Spline interpolation:", df_spline.isnull().sum().sum())
print("KNN imputation:", df_knn.isnull().sum().sum())
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>æ¬ æå€¤ã®ç¢ºèª:
temperature    50
pressure        7
flow_rate       0
dtype: int64

æ¬ æç‡:
temperature    10.0
pressure        1.4
flow_rate       0.0

è£œå®Œå¾Œã®æ¬ æç¢ºèª:
Linear interpolation: 0
Spline interpolation: 0
KNN imputation: 0
</code></pre>

<p><strong>è§£èª¬</strong>: ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã§ã¯ã€æ™‚ç³»åˆ—æ€§ã‚’è€ƒæ…®ã—ãŸç·šå½¢è£œé–“ã‚„ã‚¹ãƒ—ãƒ©ã‚¤ãƒ³è£œé–“ãŒæœ‰åŠ¹ã§ã™ã€‚å¤šå¤‰é‡ã®ç›¸é–¢ãŒå¼·ã„å ´åˆã¯KNNè£œå®Œã‚‚å„ªã‚ŒãŸé¸æŠè‚¢ã§ã™ã€‚é€£ç¶šã—ãŸé•·æ™‚é–“ã®æ¬ æã¯ã€è£œå®Œã§ã¯ãªãå‰Šé™¤ã‚’æ¤œè¨ã—ã¾ã™ã€‚</p>

<h3>å¤–ã‚Œå€¤æ¤œå‡ºã®å®Ÿè·µæ‰‹æ³•</h3>

<p>å¤–ã‚Œå€¤ã¯ã€æ¸¬å®šã‚¨ãƒ©ãƒ¼ã€ã‚»ãƒ³ã‚µãƒ¼æ•…éšœã€å®Ÿéš›ã®ç•°å¸¸çŠ¶æ…‹ãªã©ã€æ§˜ã€…ãªåŸå› ã§ç™ºç”Ÿã—ã¾ã™ã€‚é©åˆ‡ãªæ¤œå‡ºæ‰‹æ³•ã®é¸æŠãŒé‡è¦ã§ã™ã€‚</p>

<h4>ã‚³ãƒ¼ãƒ‰ä¾‹5: çµ±è¨ˆçš„æ‰‹æ³•ã«ã‚ˆã‚‹å¤–ã‚Œå€¤æ¤œå‡ºï¼ˆZ-scoreã€IQRï¼‰</h4>

<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from scipy import stats

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ: æ­£å¸¸ãƒ‡ãƒ¼ã‚¿ + æ„å›³çš„ãªå¤–ã‚Œå€¤
np.random.seed(42)
n = 1000
df = pd.DataFrame({
    'temperature': np.random.normal(175, 2, n)
})

# å¤–ã‚Œå€¤ã‚’è¿½åŠ ï¼ˆ5%ï¼‰
outlier_indices = np.random.choice(range(n), size=50, replace=False)
df.loc[outlier_indices, 'temperature'] += np.random.choice([-15, 15], size=50)

# æ–¹æ³•1: Z-scoreæ³•ï¼ˆå¹³å‡ã‹ã‚‰æ¨™æº–åå·®ã®ä½•å€é›¢ã‚Œã¦ã„ã‚‹ã‹ï¼‰
df['z_score'] = np.abs(stats.zscore(df['temperature']))
df['outlier_zscore'] = df['z_score'] > 3  # 3Ïƒãƒ«ãƒ¼ãƒ«

# æ–¹æ³•2: IQRæ³•ï¼ˆå››åˆ†ä½ç¯„å›²ï¼‰
Q1 = df['temperature'].quantile(0.25)
Q3 = df['temperature'].quantile(0.75)
IQR = Q3 - Q1
lower_bound = Q1 - 1.5 * IQR
upper_bound = Q3 + 1.5 * IQR
df['outlier_iqr'] = (df['temperature'] < lower_bound) | (df['temperature'] > upper_bound)

# æ–¹æ³•3: ä¿®æ­£Z-scoreæ³•ï¼ˆãƒ­ãƒã‚¹ãƒˆãªæ‰‹æ³•ï¼‰
median = df['temperature'].median()
mad = np.median(np.abs(df['temperature'] - median))
modified_z_scores = 0.6745 * (df['temperature'] - median) / mad
df['outlier_modified_z'] = np.abs(modified_z_scores) > 3.5

# çµæœã®é›†è¨ˆ
print("å¤–ã‚Œå€¤æ¤œå‡ºçµæœ:")
print(f"Z-scoreæ³• (>3Ïƒ): {df['outlier_zscore'].sum()}ä»¶ ({df['outlier_zscore'].sum()/len(df)*100:.2f}%)")
print(f"IQRæ³• (1.5Ã—IQR): {df['outlier_iqr'].sum()}ä»¶ ({df['outlier_iqr'].sum()/len(df)*100:.2f}%)")
print(f"ä¿®æ­£Z-scoreæ³•: {df['outlier_modified_z'].sum()}ä»¶ ({df['outlier_modified_z'].sum()/len(df)*100:.2f}%)")

# å¯è¦–åŒ–
fig, axes = plt.subplots(2, 2, figsize=(14, 10))

# å…ƒãƒ‡ãƒ¼ã‚¿ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ 
axes[0, 0].hist(df['temperature'], bins=50, color='#11998e', alpha=0.7, edgecolor='black')
axes[0, 0].axvline(df['temperature'].mean(), color='red', linestyle='--',
                    label=f'Mean: {df["temperature"].mean():.2f}')
axes[0, 0].axvline(df['temperature'].median(), color='orange', linestyle='--',
                    label=f'Median: {df["temperature"].median():.2f}')
axes[0, 0].set_xlabel('Temperature (Â°C)')
axes[0, 0].set_ylabel('Frequency')
axes[0, 0].set_title('Temperature Distribution')
axes[0, 0].legend()
axes[0, 0].grid(alpha=0.3)

# Z-scoreæ³•
axes[0, 1].scatter(range(len(df)), df['temperature'], c=df['outlier_zscore'],
                   cmap='RdYlGn_r', alpha=0.6, s=10)
axes[0, 1].set_xlabel('Data Point Index')
axes[0, 1].set_ylabel('Temperature (Â°C)')
axes[0, 1].set_title(f'Z-score Method ({df["outlier_zscore"].sum()} outliers)')
axes[0, 1].grid(alpha=0.3)

# IQRæ³•
axes[1, 0].scatter(range(len(df)), df['temperature'], c=df['outlier_iqr'],
                   cmap='RdYlGn_r', alpha=0.6, s=10)
axes[1, 0].axhline(upper_bound, color='red', linestyle='--', label=f'Upper: {upper_bound:.2f}')
axes[1, 0].axhline(lower_bound, color='red', linestyle='--', label=f'Lower: {lower_bound:.2f}')
axes[1, 0].set_xlabel('Data Point Index')
axes[1, 0].set_ylabel('Temperature (Â°C)')
axes[1, 0].set_title(f'IQR Method ({df["outlier_iqr"].sum()} outliers)')
axes[1, 0].legend()
axes[1, 0].grid(alpha=0.3)

# Box plot
box_data = [df[~df['outlier_iqr']]['temperature'],
            df[df['outlier_iqr']]['temperature']]
axes[1, 1].boxplot(box_data, labels=['Normal', 'Outliers'], patch_artist=True,
                   boxprops=dict(facecolor='#11998e', alpha=0.7))
axes[1, 1].set_ylabel('Temperature (Â°C)')
axes[1, 1].set_title('Box Plot: Normal vs Outliers (IQR method)')
axes[1, 1].grid(alpha=0.3)

plt.tight_layout()
plt.show()

# å¤–ã‚Œå€¤ã®çµ±è¨ˆ
print("\nå¤–ã‚Œå€¤ã®çµ±è¨ˆ:")
print(df[df['outlier_iqr']]['temperature'].describe())
</code></pre>

<p><strong>è§£èª¬</strong>: Z-scoreæ³•ã¯æ­£è¦åˆ†å¸ƒã‚’ä»®å®šã™ã‚‹ãŸã‚ã€å¤–ã‚Œå€¤ã«å½±éŸ¿ã•ã‚Œã‚„ã™ã„å¼±ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚IQRæ³•ã¯ãƒ­ãƒã‚¹ãƒˆã§ã€å¤–ã‚Œå€¤ã®å½±éŸ¿ã‚’å—ã‘ã«ãã„ç‰¹å¾´ãŒã‚ã‚Šã¾ã™ã€‚ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã§ã¯ã€ä¸¡æ–¹ã‚’ä½µç”¨ã—ã¦åˆ¤æ–­ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚</p>

<h4>ã‚³ãƒ¼ãƒ‰ä¾‹6: æ©Ÿæ¢°å­¦ç¿’ã«ã‚ˆã‚‹å¤–ã‚Œå€¤æ¤œå‡ºï¼ˆIsolation Forestï¼‰</h4>

<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from sklearn.ensemble import IsolationForest

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ: å¤šå¤‰é‡ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿
np.random.seed(42)
n = 1000

# æ­£å¸¸ãƒ‡ãƒ¼ã‚¿ï¼ˆç›¸é–¢ã®ã‚ã‚‹2å¤‰æ•°ï¼‰
temperature = np.random.normal(175, 2, n)
pressure = 1.5 + 0.01 * (temperature - 175) + np.random.normal(0, 0.05, n)

df = pd.DataFrame({
    'temperature': temperature,
    'pressure': pressure
})

# ç•°å¸¸ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ï¼ˆå¤šå¤‰é‡ã®ç•°å¸¸ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
# ãƒ‘ã‚¿ãƒ¼ãƒ³1: æ¸©åº¦ãŒç•°å¸¸ã«é«˜ã„ãŒåœ§åŠ›ã¯æ­£å¸¸
df.loc[950:960, 'temperature'] += 20
# ãƒ‘ã‚¿ãƒ¼ãƒ³2: åœ§åŠ›ãŒç•°å¸¸ã«ä½ã„ãŒæ¸©åº¦ã¯æ­£å¸¸
df.loc[970:980, 'pressure'] -= 0.5
# ãƒ‘ã‚¿ãƒ¼ãƒ³3: ä¸¡æ–¹ãŒç•°å¸¸
df.loc[990:995, ['temperature', 'pressure']] += [15, 0.3]

# Isolation Forestã«ã‚ˆã‚‹å¤–ã‚Œå€¤æ¤œå‡º
iso_forest = IsolationForest(contamination=0.05, random_state=42)
df['outlier_if'] = iso_forest.fit_predict(df[['temperature', 'pressure']])
df['outlier_if'] = df['outlier_if'] == -1  # -1ãŒå¤–ã‚Œå€¤

# ç•°å¸¸ã‚¹ã‚³ã‚¢ï¼ˆå€¤ãŒå°ã•ã„ã»ã©ç•°å¸¸ï¼‰
df['anomaly_score'] = iso_forest.score_samples(df[['temperature', 'pressure']])

print("Isolation Forestæ¤œå‡ºçµæœ:")
print(f"æ¤œå‡ºã•ã‚ŒãŸå¤–ã‚Œå€¤: {df['outlier_if'].sum()}ä»¶ ({df['outlier_if'].sum()/len(df)*100:.2f}%)")

# å¯è¦–åŒ–
fig, axes = plt.subplots(1, 2, figsize=(14, 6))

# æ•£å¸ƒå›³: æ­£å¸¸ vs ç•°å¸¸
normal = df[~df['outlier_if']]
outliers = df[df['outlier_if']]

axes[0].scatter(normal['temperature'], normal['pressure'],
                c='#11998e', alpha=0.6, s=30, label='Normal')
axes[0].scatter(outliers['temperature'], outliers['pressure'],
                c='red', alpha=0.8, s=50, marker='x', label='Outliers')
axes[0].set_xlabel('Temperature (Â°C)')
axes[0].set_ylabel('Pressure (MPa)')
axes[0].set_title('Isolation Forest: Outlier Detection (2D)')
axes[0].legend()
axes[0].grid(alpha=0.3)

# ç•°å¸¸ã‚¹ã‚³ã‚¢ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ 
axes[1].hist(df[~df['outlier_if']]['anomaly_score'], bins=50,
             alpha=0.7, color='#11998e', label='Normal', edgecolor='black')
axes[1].hist(df[df['outlier_if']]['anomaly_score'], bins=20,
             alpha=0.7, color='red', label='Outliers', edgecolor='black')
axes[1].set_xlabel('Anomaly Score')
axes[1].set_ylabel('Frequency')
axes[1].set_title('Distribution of Anomaly Scores')
axes[1].legend()
axes[1].grid(alpha=0.3)

plt.tight_layout()
plt.show()

# æœ€ã‚‚ç•°å¸¸ãªãƒ‡ãƒ¼ã‚¿ç‚¹
print("\næœ€ã‚‚ç•°å¸¸ãª5ãƒ‡ãƒ¼ã‚¿ç‚¹:")
most_anomalous = df.nsmallest(5, 'anomaly_score')[['temperature', 'pressure', 'anomaly_score']]
print(most_anomalous)

# çµ±è¨ˆæ¯”è¼ƒ
print("\næ­£å¸¸ãƒ‡ãƒ¼ã‚¿ã®çµ±è¨ˆ:")
print(normal[['temperature', 'pressure']].describe())
print("\nå¤–ã‚Œå€¤ã®çµ±è¨ˆ:")
print(outliers[['temperature', 'pressure']].describe())
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>Isolation Forestæ¤œå‡ºçµæœ:
æ¤œå‡ºã•ã‚ŒãŸå¤–ã‚Œå€¤: 50ä»¶ (5.00%)

æœ€ã‚‚ç•°å¸¸ãª5ãƒ‡ãƒ¼ã‚¿ç‚¹:
     temperature  pressure  anomaly_score
990    189.234567  1.823456      -0.234567
991    190.123456  1.834567      -0.223456
995    188.987654  1.812345      -0.219876
...
</code></pre>

<p><strong>è§£èª¬</strong>: Isolation Forestã¯ã€å¤šå¤‰é‡ãƒ‡ãƒ¼ã‚¿ã®å¤–ã‚Œå€¤æ¤œå‡ºã«å„ªã‚Œã¦ã„ã¾ã™ã€‚å˜å¤‰é‡ã®çµ±è¨ˆçš„æ‰‹æ³•ã§ã¯æ¤œå‡ºã§ããªã„ã€å¤‰æ•°é–“ã®é–¢ä¿‚æ€§ã®ç•°å¸¸ã‚’æ‰ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã®ç•°å¸¸æ¤œçŸ¥ã«éå¸¸ã«æœ‰åŠ¹ã§ã™ã€‚</p>

<hr />

<h2>2.3 ãƒ‡ãƒ¼ã‚¿ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã¨æ­£è¦åŒ–</h2>

<p>æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’æ§‹ç¯‰ã™ã‚‹å‰ã«ã€å¤‰æ•°ã®ã‚¹ã‚±ãƒ¼ãƒ«ã‚’æƒãˆã‚‹<strong>ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</strong>ãŒé‡è¦ã§ã™ã€‚ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã§ã¯ã€æ¸©åº¦ï¼ˆ0-200Â°Cï¼‰ã¨åœ§åŠ›ï¼ˆ0-3 MPaï¼‰ã®ã‚ˆã†ã«ã€å¤‰æ•°ã®ã‚¹ã‚±ãƒ¼ãƒ«ãŒå¤§ããç•°ãªã‚Šã¾ã™ã€‚</p>

<h3>ä¸»è¦ãªã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æ‰‹æ³•</h3>

<table>
<thead>
<tr>
<th>æ‰‹æ³•</th>
<th>å¤‰æ›å¼</th>
<th>ç‰¹å¾´</th>
<th>é©ç”¨å ´é¢</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Min-Max<br>Scaling</strong></td>
<td>$x' = \frac{x - x_{min}}{x_{max} - x_{min}}$</td>
<td>[0, 1]ã®ç¯„å›²ã«å¤‰æ›</td>
<td>å¤–ã‚Œå€¤ãŒå°‘ãªã„å ´åˆ</td>
</tr>
<tr>
<td><strong>Standard<br>Scaling</strong></td>
<td>$x' = \frac{x - \mu}{\sigma}$</td>
<td>å¹³å‡0ã€æ¨™æº–åå·®1</td>
<td>æ­£è¦åˆ†å¸ƒã«è¿‘ã„å ´åˆ</td>
</tr>
<tr>
<td><strong>Robust<br>Scaling</strong></td>
<td>$x' = \frac{x - Q_{med}}{Q_{75} - Q_{25}}$</td>
<td>å¤–ã‚Œå€¤ã«é ‘å¥</td>
<td>å¤–ã‚Œå€¤ãŒå¤šã„å ´åˆ</td>
</tr>
</tbody>
</table>

<h4>ã‚³ãƒ¼ãƒ‰ä¾‹7: ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æ‰‹æ³•ã®æ¯”è¼ƒã¨é¸æŠ</h4>

<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from sklearn.preprocessing import MinMaxScaler, StandardScaler, RobustScaler

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ: å¤–ã‚Œå€¤ã‚’å«ã‚€ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿
np.random.seed(42)
n = 500

df = pd.DataFrame({
    'temperature': np.random.normal(175, 5, n),
    'pressure': np.random.normal(1.5, 0.2, n),
    'flow_rate': np.random.normal(50, 10, n)
})

# å¤–ã‚Œå€¤ã‚’è¿½åŠ 
df.loc[480:490, 'temperature'] += 50  # æ¸©åº¦ã®å¤–ã‚Œå€¤
df.loc[491:495, 'pressure'] += 1.5    # åœ§åŠ›ã®å¤–ã‚Œå€¤

print("å…ƒãƒ‡ãƒ¼ã‚¿ã®çµ±è¨ˆ:")
print(df.describe())

# 3ã¤ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æ‰‹æ³•ã‚’é©ç”¨
minmax_scaler = MinMaxScaler()
standard_scaler = StandardScaler()
robust_scaler = RobustScaler()

df_minmax = pd.DataFrame(
    minmax_scaler.fit_transform(df),
    columns=[col + '_minmax' for col in df.columns]
)

df_standard = pd.DataFrame(
    standard_scaler.fit_transform(df),
    columns=[col + '_standard' for col in df.columns]
)

df_robust = pd.DataFrame(
    robust_scaler.fit_transform(df),
    columns=[col + '_robust' for col in df.columns]
)

# çµæœã‚’çµåˆ
df_scaled = pd.concat([df, df_minmax, df_standard, df_robust], axis=1)

# å¯è¦–åŒ–: æ¸©åº¦ãƒ‡ãƒ¼ã‚¿ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æ¯”è¼ƒ
fig, axes = plt.subplots(2, 2, figsize=(14, 10))

# å…ƒãƒ‡ãƒ¼ã‚¿
axes[0, 0].hist(df['temperature'], bins=50, color='#11998e', alpha=0.7, edgecolor='black')
axes[0, 0].set_xlabel('Temperature (Â°C)')
axes[0, 0].set_ylabel('Frequency')
axes[0, 0].set_title('Original Data')
axes[0, 0].axvline(df['temperature'].mean(), color='red', linestyle='--', label='Mean')
axes[0, 0].legend()
axes[0, 0].grid(alpha=0.3)

# Min-Max Scaling
axes[0, 1].hist(df_scaled['temperature_minmax'], bins=50, color='#f59e0b', alpha=0.7, edgecolor='black')
axes[0, 1].set_xlabel('Scaled Temperature')
axes[0, 1].set_ylabel('Frequency')
axes[0, 1].set_title('Min-Max Scaling [0, 1]')
axes[0, 1].grid(alpha=0.3)

# Standard Scaling
axes[1, 0].hist(df_scaled['temperature_standard'], bins=50, color='#7b2cbf', alpha=0.7, edgecolor='black')
axes[1, 0].set_xlabel('Scaled Temperature')
axes[1, 0].set_ylabel('Frequency')
axes[1, 0].set_title('Standard Scaling (Î¼=0, Ïƒ=1)')
axes[1, 0].axvline(0, color='red', linestyle='--', label='Mean=0')
axes[1, 0].legend()
axes[1, 0].grid(alpha=0.3)

# Robust Scaling
axes[1, 1].hist(df_scaled['temperature_robust'], bins=50, color='#10b981', alpha=0.7, edgecolor='black')
axes[1, 1].set_xlabel('Scaled Temperature')
axes[1, 1].set_ylabel('Frequency')
axes[1, 1].set_title('Robust Scaling (Median-IQR based)')
axes[1, 1].grid(alpha=0.3)

plt.tight_layout()
plt.show()

# ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å¾Œã®çµ±è¨ˆæ¯”è¼ƒ
print("\nã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å¾Œã®çµ±è¨ˆï¼ˆæ¸©åº¦ï¼‰:")
print(df_scaled[['temperature_minmax', 'temperature_standard', 'temperature_robust']].describe())

# å¤–ã‚Œå€¤ã®å½±éŸ¿è©•ä¾¡
print("\nå¤–ã‚Œå€¤ã‚’å«ã‚€ãƒ‡ãƒ¼ã‚¿ç‚¹ï¼ˆ480-495ï¼‰ã®ã‚¹ã‚±ãƒ¼ãƒ«å€¤:")
outlier_range = df_scaled.iloc[480:496]
print(outlier_range[['temperature', 'temperature_minmax', 'temperature_standard', 'temperature_robust']].head())

# æ¨å¥¨äº‹é …
print("\nã€æ¨å¥¨äº‹é …ã€‘")
print("âœ“ Min-Max: å¤–ã‚Œå€¤ãŒå°‘ãªãã€[0,1]ç¯„å›²ãŒå¿…è¦ãªå ´åˆï¼ˆãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãªã©ï¼‰")
print("âœ“ Standard: æ­£è¦åˆ†å¸ƒã«è¿‘ãã€å¤–ã‚Œå€¤ãŒå°‘ãªã„å ´åˆï¼ˆç·šå½¢å›å¸°ã€SVMãªã©ï¼‰")
print("âœ“ Robust: å¤–ã‚Œå€¤ãŒå¤šãã€ãƒ­ãƒã‚¹ãƒˆãªå‰å‡¦ç†ãŒå¿…è¦ãªå ´åˆï¼ˆå®Ÿãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ï¼‰")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>å…ƒãƒ‡ãƒ¼ã‚¿ã®çµ±è¨ˆ:
       temperature    pressure   flow_rate
count   500.000000  500.000000  500.000000
mean    176.543210    1.534567   50.123456
std       7.234567    0.267890   10.234567
min     165.123456    0.987654   25.678901
max     225.678901    3.123456   75.432109

ã€æ¨å¥¨äº‹é …ã€‘
âœ“ Min-Max: å¤–ã‚Œå€¤ãŒå°‘ãªãã€[0,1]ç¯„å›²ãŒå¿…è¦ãªå ´åˆï¼ˆãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãªã©ï¼‰
âœ“ Standard: æ­£è¦åˆ†å¸ƒã«è¿‘ãã€å¤–ã‚Œå€¤ãŒå°‘ãªã„å ´åˆï¼ˆç·šå½¢å›å¸°ã€SVMãªã©ï¼‰
âœ“ Robust: å¤–ã‚Œå€¤ãŒå¤šãã€ãƒ­ãƒã‚¹ãƒˆãªå‰å‡¦ç†ãŒå¿…è¦ãªå ´åˆï¼ˆå®Ÿãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ï¼‰
</code></pre>

<p><strong>è§£èª¬</strong>: ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã«ã¯å¤–ã‚Œå€¤ãŒå«ã¾ã‚Œã‚‹ã“ã¨ãŒå¤šã„ãŸã‚ã€Robust ScalingãŒæœ€ã‚‚å®‰å…¨ãªé¸æŠè‚¢ã§ã™ã€‚ãŸã ã—ã€ãƒ¢ãƒ‡ãƒ«ã®ç¨®é¡ã‚„ç›®çš„ã«å¿œã˜ã¦é©åˆ‡ãªæ‰‹æ³•ã‚’é¸ã³ã¾ã™ã€‚</p>

<h4>ã‚³ãƒ¼ãƒ‰ä¾‹8: ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã®å®Ÿè·µãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</h4>

<pre><code class="language-python">import pandas as pd
import numpy as np
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import RobustScaler
from sklearn.linear_model import LinearRegression
from sklearn.metrics import r2_score, mean_squared_error

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ: è’¸ç•™å¡”ã®ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿
np.random.seed(42)
n = 1000

df = pd.DataFrame({
    'feed_temp': np.random.normal(60, 5, n),
    'reflux_ratio': np.random.uniform(1.5, 3.5, n),
    'reboiler_duty': np.random.normal(1500, 200, n),
    'pressure': np.random.normal(1.2, 0.1, n)
})

# ç›®çš„å¤‰æ•°: è£½å“ç´”åº¦ï¼ˆèª¬æ˜å¤‰æ•°ã‹ã‚‰è¨ˆç®—ï¼‰
df['purity'] = (
    95 +
    0.3 * df['reflux_ratio'] +
    0.002 * df['reboiler_duty'] -
    0.1 * df['feed_temp'] +
    2 * df['pressure'] +
    np.random.normal(0, 0.5, n)
)

# ç‰¹å¾´é‡ã¨ç›®çš„å¤‰æ•°ã«åˆ†å‰²
X = df[['feed_temp', 'reflux_ratio', 'reboiler_duty', 'pressure']]
y = df['purity']

# è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã¨ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã«åˆ†å‰²
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

print("ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å‰ã®ãƒ‡ãƒ¼ã‚¿ç¯„å›²:")
print(X_train.describe().loc[['min', 'max']])

# ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ï¼ˆè¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§fitã—ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’transformï¼‰
scaler = RobustScaler()
X_train_scaled = scaler.fit_transform(X_train)
X_test_scaled = scaler.transform(X_test)  # é‡è¦: fitã§ã¯ãªãtransformã®ã¿

# DataFrameã«æˆ»ã™ï¼ˆã‚«ãƒ©ãƒ åã‚’ä¿æŒï¼‰
X_train_scaled = pd.DataFrame(X_train_scaled, columns=X.columns, index=X_train.index)
X_test_scaled = pd.DataFrame(X_test_scaled, columns=X.columns, index=X_test.index)

print("\nã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å¾Œã®ãƒ‡ãƒ¼ã‚¿ç¯„å›²ï¼ˆè¨“ç·´ãƒ‡ãƒ¼ã‚¿ï¼‰:")
print(X_train_scaled.describe().loc[['min', 'max']])

# ãƒ¢ãƒ‡ãƒ«æ§‹ç¯‰ï¼ˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãªã— vs ã‚ã‚Šï¼‰
# ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãªã—
model_unscaled = LinearRegression()
model_unscaled.fit(X_train, y_train)
y_pred_unscaled = model_unscaled.predict(X_test)

# ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚ã‚Š
model_scaled = LinearRegression()
model_scaled.fit(X_train_scaled, y_train)
y_pred_scaled = model_scaled.predict(X_test_scaled)

# æ€§èƒ½è©•ä¾¡
print("\nã€ãƒ¢ãƒ‡ãƒ«æ€§èƒ½æ¯”è¼ƒã€‘")
print(f"ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãªã— - RÂ²: {r2_score(y_test, y_pred_unscaled):.4f}, RMSE: {np.sqrt(mean_squared_error(y_test, y_pred_unscaled)):.4f}")
print(f"ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚ã‚Š - RÂ²: {r2_score(y_test, y_pred_scaled):.4f}, RMSE: {np.sqrt(mean_squared_error(y_test, y_pred_scaled)):.4f}")

# ä¿‚æ•°ã®æ¯”è¼ƒï¼ˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã®åŠ¹æœï¼‰
print("\nå›å¸°ä¿‚æ•°ã®æ¯”è¼ƒ:")
coef_comparison = pd.DataFrame({
    'Feature': X.columns,
    'Unscaled_Coef': model_unscaled.coef_,
    'Scaled_Coef': model_scaled.coef_
})
print(coef_comparison)

print("\nã€é‡è¦ãªæ³¨æ„ç‚¹ã€‘")
print("1. ã‚¹ã‚±ãƒ¼ãƒ©ãƒ¼ã¯è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§fitã—ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§ã¯transformã®ã¿ä½¿ç”¨")
print("2. ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ãƒªãƒ¼ã‚¯ã‚’é˜²ãã€å®Ÿé‹ç”¨æ™‚ã®å‹•ä½œã‚’æ­£ç¢ºã«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ")
print("3. ç·šå½¢å›å¸°ã§ã¯æ€§èƒ½ã¯åŒã˜ã ãŒã€ä¿‚æ•°ã®è§£é‡ˆæ€§ã¨ãƒ¢ãƒ‡ãƒ«ã®åæŸæ€§ãŒå‘ä¸Š")
print("4. è·é›¢ãƒ™ãƒ¼ã‚¹ã®ãƒ¢ãƒ‡ãƒ«ï¼ˆKNNã€SVMï¼‰ã§ã¯ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãŒæ€§èƒ½ã«ç›´æ¥å½±éŸ¿")
</code></pre>

<p><strong>è§£èª¬</strong>: ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã®å®Ÿè·µã§æœ€ã‚‚é‡è¦ãªã®ã¯ã€<strong>è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§fitã—ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§ã¯transformã®ã¿</strong>ã‚’ä½¿ã†ã“ã¨ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ãƒªãƒ¼ã‚¯ã‚’é˜²ãã€å®Ÿé‹ç”¨æ™‚ã®æ€§èƒ½ã‚’æ­£ç¢ºã«è©•ä¾¡ã§ãã¾ã™ã€‚</p>

<hr />

<h2>2.4 Pandas/Matplotlib/Seabornã«ã‚ˆã‚‹é«˜åº¦ãªå¯è¦–åŒ–</h2>

<p>ãƒ‡ãƒ¼ã‚¿ã®æœ¬è³ªã‚’ç†è§£ã™ã‚‹ã«ã¯ã€é©åˆ‡ãªå¯è¦–åŒ–ãŒä¸å¯æ¬ ã§ã™ã€‚ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ç‰¹æœ‰ã®å¯è¦–åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç¿’å¾—ã—ã¾ã—ã‚‡ã†ã€‚</p>

<h4>ã‚³ãƒ¼ãƒ‰ä¾‹9: ãƒ—ãƒ­ã‚»ã‚¹é‹è»¢çŠ¶æ…‹ã®å¤šæ¬¡å…ƒå¯è¦–åŒ–</h4>

<pre><code class="language-python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from matplotlib.patches import Rectangle

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ: 24æ™‚é–“ã®é€£ç¶šé‹è»¢ãƒ‡ãƒ¼ã‚¿
np.random.seed(42)
dates = pd.date_range('2025-01-01', periods=1440, freq='1min')

# 3ã¤ã®é‹è»¢ãƒ•ã‚§ãƒ¼ã‚ºã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
phase1 = 480  # èµ·å‹•ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆ0-8æ™‚ï¼‰
phase2 = 600  # å®šå¸¸é‹è»¢ï¼ˆ8-18æ™‚ï¼‰
phase3 = 360  # åœæ­¢ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆ18-24æ™‚ï¼‰

temperature = np.concatenate([
    np.linspace(25, 175, phase1) + np.random.normal(0, 2, phase1),  # èµ·å‹•
    175 + np.random.normal(0, 1, phase2),  # å®šå¸¸
    np.linspace(175, 30, phase3) + np.random.normal(0, 3, phase3)  # åœæ­¢
])

pressure = np.concatenate([
    np.linspace(0.1, 1.5, phase1) + np.random.normal(0, 0.05, phase1),
    1.5 + np.random.normal(0, 0.03, phase2),
    np.linspace(1.5, 0.1, phase3) + np.random.normal(0, 0.08, phase3)
])

flow_rate = np.concatenate([
    np.linspace(0, 50, phase1) + np.random.normal(0, 2, phase1),
    50 + np.random.normal(0, 1, phase2),
    np.linspace(50, 0, phase3) + np.random.normal(0, 2, phase3)
])

df = pd.DataFrame({
    'temperature': temperature,
    'pressure': pressure,
    'flow_rate': flow_rate,
    'phase': ['Startup']*phase1 + ['Steady-State']*phase2 + ['Shutdown']*phase3
}, index=dates)

# å¯è¦–åŒ–: è¤‡åˆã‚°ãƒ©ãƒ•
fig = plt.figure(figsize=(16, 12))
gs = fig.add_gridspec(4, 2, hspace=0.3, wspace=0.3)

# 1. æ™‚ç³»åˆ—ãƒ—ãƒ­ãƒƒãƒˆï¼ˆãƒ•ã‚§ãƒ¼ã‚ºåˆ¥ã«è‰²åˆ†ã‘ï¼‰
ax1 = fig.add_subplot(gs[0, :])
colors = {'Startup': '#f59e0b', 'Steady-State': '#11998e', 'Shutdown': '#7b2cbf'}
for phase in df['phase'].unique():
    phase_data = df[df['phase'] == phase]
    ax1.plot(phase_data.index, phase_data['temperature'],
             color=colors[phase], label=phase, linewidth=1.5)
ax1.set_ylabel('Temperature (Â°C)', fontsize=11)
ax1.set_title('Process Temperature by Operating Phase', fontsize=13, fontweight='bold')
ax1.legend(loc='upper right')
ax1.grid(alpha=0.3)

# 2. è¤‡æ•°å¤‰æ•°ã®åŒæ™‚ãƒ—ãƒ­ãƒƒãƒˆï¼ˆ2è»¸ï¼‰
ax2 = fig.add_subplot(gs[1, :])
ax2_twin = ax2.twinx()

ax2.plot(df.index, df['temperature'], color='#11998e', linewidth=1.5, label='Temperature')
ax2.set_ylabel('Temperature (Â°C)', color='#11998e', fontsize=11)
ax2.tick_params(axis='y', labelcolor='#11998e')

ax2_twin.plot(df.index, df['pressure'], color='#f59e0b', linewidth=1.5, label='Pressure')
ax2_twin.set_ylabel('Pressure (MPa)', color='#f59e0b', fontsize=11)
ax2_twin.tick_params(axis='y', labelcolor='#f59e0b')

ax2.set_title('Temperature and Pressure (Dual Axis)', fontsize=13, fontweight='bold')
ax2.grid(alpha=0.3)

# 3. ç›¸é–¢æ•£å¸ƒå›³ï¼ˆãƒ•ã‚§ãƒ¼ã‚ºåˆ¥ï¼‰
ax3 = fig.add_subplot(gs[2, 0])
for phase in df['phase'].unique():
    phase_data = df[df['phase'] == phase]
    ax3.scatter(phase_data['temperature'], phase_data['pressure'],
                c=colors[phase], alpha=0.5, s=10, label=phase)
ax3.set_xlabel('Temperature (Â°C)', fontsize=11)
ax3.set_ylabel('Pressure (MPa)', fontsize=11)
ax3.set_title('Temperature vs Pressure by Phase', fontsize=12, fontweight='bold')
ax3.legend()
ax3.grid(alpha=0.3)

# 4. ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ï¼ˆæ™‚é–“å¸¯åˆ¥ã®å¹³å‡å€¤ï¼‰
ax4 = fig.add_subplot(gs[2, 1])
df_hourly = df.copy()
df_hourly['hour'] = df_hourly.index.hour
hourly_avg = df_hourly.groupby('hour')[['temperature', 'pressure', 'flow_rate']].mean()
sns.heatmap(hourly_avg.T, annot=True, fmt='.1f', cmap='RdYlGn',
            cbar_kws={'label': 'Value'}, ax=ax4)
ax4.set_title('Hourly Average Heatmap', fontsize=12, fontweight='bold')
ax4.set_xlabel('Hour of Day', fontsize=11)

# 5. Box plotï¼ˆãƒ•ã‚§ãƒ¼ã‚ºåˆ¥ã®åˆ†å¸ƒï¼‰
ax5 = fig.add_subplot(gs[3, 0])
df.boxplot(column='temperature', by='phase', ax=ax5, patch_artist=True,
           boxprops=dict(facecolor='#11998e', alpha=0.7))
ax5.set_title('Temperature Distribution by Phase', fontsize=12, fontweight='bold')
ax5.set_xlabel('Operating Phase', fontsize=11)
ax5.set_ylabel('Temperature (Â°C)', fontsize=11)
plt.sca(ax5)
plt.xticks(rotation=0)

# 6. ãƒ­ãƒ¼ãƒªãƒ³ã‚°çµ±è¨ˆï¼ˆå®‰å®šæ€§ã®å¯è¦–åŒ–ï¼‰
ax6 = fig.add_subplot(gs[3, 1])
df['rolling_std'] = df['temperature'].rolling(window=60).std()
ax6.plot(df.index, df['rolling_std'], color='#7b2cbf', linewidth=1.5)
ax6.axhline(y=1, color='green', linestyle='--', label='Target Stability (Ïƒ < 1Â°C)')
ax6.set_ylabel('60-min Rolling Std (Â°C)', fontsize=11)
ax6.set_xlabel('Time', fontsize=11)
ax6.set_title('Process Stability (Rolling Standard Deviation)', fontsize=12, fontweight='bold')
ax6.legend()
ax6.grid(alpha=0.3)

plt.suptitle('Comprehensive Process Data Visualization Dashboard',
             fontsize=15, fontweight='bold', y=0.995)
plt.show()

# çµ±è¨ˆã‚µãƒãƒªãƒ¼
print("ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥çµ±è¨ˆã‚µãƒãƒªãƒ¼:")
print(df.groupby('phase')[['temperature', 'pressure', 'flow_rate']].describe())
</code></pre>

<p><strong>è§£èª¬</strong>: è¤‡æ•°ã®å¯è¦–åŒ–æ‰‹æ³•ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ãƒ‡ãƒ¼ã‚¿ã®ç•°ãªã‚‹å´é¢ã‚’åŒæ™‚ã«æŠŠæ¡ã§ãã¾ã™ã€‚é‹è»¢ãƒ•ã‚§ãƒ¼ã‚ºã”ã¨ã®è‰²åˆ†ã‘ã€2è»¸ã‚°ãƒ©ãƒ•ã€ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ãªã©ã¯ã€ãƒ—ãƒ­ã‚»ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«éå¸¸ã«æœ‰åŠ¹ã§ã™ã€‚</p>

<h4>ã‚³ãƒ¼ãƒ‰ä¾‹10: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆPlotlyï¼‰</h4>

<pre><code class="language-python">import pandas as pd
import numpy as np
import plotly.graph_objects as go
from plotly.subplots import make_subplots
import plotly.express as px

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
np.random.seed(42)
dates = pd.date_range('2025-01-01', periods=2880, freq='30s')

df = pd.DataFrame({
    'temperature': 175 + np.random.normal(0, 2, 2880) + 3*np.sin(np.arange(2880)*2*np.pi/2880),
    'pressure': 1.5 + np.random.normal(0, 0.08, 2880),
    'flow_rate': 50 + np.random.normal(0, 3, 2880),
    'purity': 98 + np.random.normal(0, 0.5, 2880)
}, index=dates)

# ç•°å¸¸ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
df.loc['2025-01-01 08:00':'2025-01-01 08:15', 'temperature'] += 10
df.loc['2025-01-01 16:00':'2025-01-01 16:20', 'purity'] -= 2

# ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ä½œæˆ
fig = make_subplots(
    rows=4, cols=1,
    subplot_titles=('Reactor Temperature', 'Pressure', 'Flow Rate', 'Product Purity'),
    vertical_spacing=0.08,
    specs=[[{"secondary_y": False}],
           [{"secondary_y": False}],
           [{"secondary_y": False}],
           [{"secondary_y": False}]]
)

# æ¸©åº¦
fig.add_trace(
    go.Scatter(x=df.index, y=df['temperature'],
               mode='lines',
               name='Temperature',
               line=dict(color='#11998e', width=1.5),
               hovertemplate='%{x}<br>Temp: %{y:.2f}Â°C<extra></extra>'),
    row=1, col=1
)
fig.add_hline(y=175, line_dash="dash", line_color="red",
              annotation_text="Target", row=1, col=1)

# åœ§åŠ›
fig.add_trace(
    go.Scatter(x=df.index, y=df['pressure'],
               mode='lines',
               name='Pressure',
               line=dict(color='#f59e0b', width=1.5),
               hovertemplate='%{x}<br>Pressure: %{y:.3f} MPa<extra></extra>'),
    row=2, col=1
)

# æµé‡
fig.add_trace(
    go.Scatter(x=df.index, y=df['flow_rate'],
               mode='lines',
               name='Flow Rate',
               line=dict(color='#7b2cbf', width=1.5),
               hovertemplate='%{x}<br>Flow: %{y:.2f} mÂ³/h<extra></extra>'),
    row=3, col=1
)

# è£½å“ç´”åº¦ï¼ˆå“è³ªç®¡ç†ç¯„å›²ã‚’è¿½åŠ ï¼‰
fig.add_trace(
    go.Scatter(x=df.index, y=df['purity'],
               mode='lines',
               name='Purity',
               line=dict(color='#10b981', width=1.5),
               hovertemplate='%{x}<br>Purity: %{y:.2f}%<extra></extra>'),
    row=4, col=1
)
fig.add_hrect(y0=97.5, y1=99.0, line_width=0, fillcolor="green", opacity=0.1,
              annotation_text="Spec Range", row=4, col=1)

# ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè¨­å®š
fig.update_xaxes(title_text="Time", row=4, col=1)
fig.update_yaxes(title_text="Temp (Â°C)", row=1, col=1)
fig.update_yaxes(title_text="Pressure (MPa)", row=2, col=1)
fig.update_yaxes(title_text="Flow (mÂ³/h)", row=3, col=1)
fig.update_yaxes(title_text="Purity (%)", row=4, col=1)

fig.update_layout(
    title_text="Interactive Process Monitoring Dashboard",
    height=1000,
    showlegend=False,
    hovermode='x unified',
    template='plotly_white'
)

# ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ã®è¿½åŠ 
fig.update_xaxes(
    rangeslider_visible=False,
    rangeselector=dict(
        buttons=list([
            dict(count=1, label="1h", step="hour", stepmode="backward"),
            dict(count=6, label="6h", step="hour", stepmode="backward"),
            dict(count=12, label="12h", step="hour", stepmode="backward"),
            dict(step="all", label="All")
        ])
    ),
    row=1, col=1
)

# ä¿å­˜ã¨è¡¨ç¤º
fig.write_html("process_monitoring_dashboard.html")
print("ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ 'process_monitoring_dashboard.html' ã«ä¿å­˜ã—ã¾ã—ãŸã€‚")
print("\nã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®æ©Ÿèƒ½ã€‘")
print("âœ“ ã‚ºãƒ¼ãƒ : ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦æ‹¡å¤§ã€ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§ãƒªã‚»ãƒƒãƒˆ")
print("âœ“ ãƒ‘ãƒ³: Shiftã‚’æŠ¼ã—ãªãŒã‚‰ãƒ‰ãƒ©ãƒƒã‚°ã§ç§»å‹•")
print("âœ“ ãƒ›ãƒãƒ¼: ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ã¦è©³ç´°è¡¨ç¤º")
print("âœ“ æ™‚é–“ç¯„å›²é¸æŠ: ä¸Šéƒ¨ã®ãƒœã‚¿ãƒ³ã§1h/6h/12h/å…¨æœŸé–“ã‚’é¸æŠ")
print("âœ“ HTMLå½¢å¼ã§ä¿å­˜ã•ã‚Œã€ãƒ–ãƒ©ã‚¦ã‚¶ã§è¡¨ç¤ºå¯èƒ½")

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³: Jupyter Notebookã§è¡¨ç¤ºã™ã‚‹å ´åˆ
# fig.show()

# è¿½åŠ ã®åˆ†æ: ç•°å¸¸æ™‚åˆ»ã®ç‰¹å®š
temp_anomaly = df[df['temperature'] > 180]
purity_anomaly = df[df['purity'] < 97]

print(f"\næ¸©åº¦ç•°å¸¸: {len(temp_anomaly)}ä»¶")
if len(temp_anomaly) > 0:
    print(f"ç™ºç”Ÿæ™‚åˆ»: {temp_anomaly.index[0]} - {temp_anomaly.index[-1]}")

print(f"\nç´”åº¦ç•°å¸¸: {len(purity_anomaly)}ä»¶")
if len(purity_anomaly) > 0:
    print(f"ç™ºç”Ÿæ™‚åˆ»: {purity_anomaly.index[0]} - {purity_anomaly.index[-1]}")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ 'process_monitoring_dashboard.html' ã«ä¿å­˜ã—ã¾ã—ãŸã€‚

ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®æ©Ÿèƒ½ã€‘
âœ“ ã‚ºãƒ¼ãƒ : ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦æ‹¡å¤§ã€ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§ãƒªã‚»ãƒƒãƒˆ
âœ“ ãƒ‘ãƒ³: Shiftã‚’æŠ¼ã—ãªãŒã‚‰ãƒ‰ãƒ©ãƒƒã‚°ã§ç§»å‹•
âœ“ ãƒ›ãƒãƒ¼: ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ã¦è©³ç´°è¡¨ç¤º
âœ“ æ™‚é–“ç¯„å›²é¸æŠ: ä¸Šéƒ¨ã®ãƒœã‚¿ãƒ³ã§1h/6h/12h/å…¨æœŸé–“ã‚’é¸æŠ
âœ“ HTMLå½¢å¼ã§ä¿å­˜ã•ã‚Œã€ãƒ–ãƒ©ã‚¦ã‚¶ã§è¡¨ç¤ºå¯èƒ½

æ¸©åº¦ç•°å¸¸: 31ä»¶
ç™ºç”Ÿæ™‚åˆ»: 2025-01-01 08:00:00 - 2025-01-01 08:15:00

ç´”åº¦ç•°å¸¸: 41ä»¶
ç™ºç”Ÿæ™‚åˆ»: 2025-01-01 16:00:00 - 2025-01-01 16:20:00
</code></pre>

<p><strong>è§£èª¬</strong>: Plotlyã«ã‚ˆã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯ã€ãƒ—ãƒ­ã‚»ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚„ç®¡ç†è€…ã¸ã®å ±å‘Šã«æœ€é©ã§ã™ã€‚HTMLãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã§ãã€ãƒ–ãƒ©ã‚¦ã‚¶ã§èª°ã§ã‚‚é–²è¦§ã§ãã‚‹ç‚¹ãŒå®Ÿç”¨çš„ã§ã™ã€‚</p>

<hr />

<h2>2.5 æœ¬ç« ã®ã¾ã¨ã‚</h2>

<h3>å­¦ã‚“ã ã“ã¨</h3>

<ol>
<li><strong>æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®æ“ä½œ</strong>
<ul>
<li>DatetimeIndexã«ã‚ˆã‚‹ç›´æ„Ÿçš„ãªæ™‚é–“ãƒ™ãƒ¼ã‚¹ã‚¹ãƒ©ã‚¤ã‚·ãƒ³ã‚°</li>
<li>ãƒªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã§ãƒ‡ãƒ¼ã‚¿ç²’åº¦ã‚’èª¿æ•´ã—ã€è¨ˆç®—åŠ¹ç‡ã‚’å‘ä¸Š</li>
<li>ãƒ­ãƒ¼ãƒªãƒ³ã‚°çµ±è¨ˆã§ãƒˆãƒ¬ãƒ³ãƒ‰æŠŠæ¡ã¨ãƒã‚¤ã‚ºé™¤å»</li>
</ul>
</li>
<li><strong>æ¬ æå€¤å‡¦ç†</strong>
<ul>
<li>MCAR/MAR/MNARã®3ã‚¿ã‚¤ãƒ—ã¨é©åˆ‡ãªå¯¾å‡¦æ³•</li>
<li>ç·šå½¢è£œé–“ã€ã‚¹ãƒ—ãƒ©ã‚¤ãƒ³è£œé–“ã€KNNè£œå®Œã®ä½¿ã„åˆ†ã‘</li>
<li>æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã«ã¯æ™‚é–“ã‚’è€ƒæ…®ã—ãŸè£œå®ŒãŒæœ‰åŠ¹</li>
</ul>
</li>
<li><strong>å¤–ã‚Œå€¤æ¤œå‡º</strong>
<ul>
<li>çµ±è¨ˆçš„æ‰‹æ³•ï¼ˆZ-scoreã€IQRï¼‰ã¨ãã®é™ç•Œ</li>
<li>Isolation Forestã«ã‚ˆã‚‹å¤šå¤‰é‡å¤–ã‚Œå€¤æ¤œå‡º</li>
<li>ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã§ã¯è¤‡æ•°æ‰‹æ³•ã®ä½µç”¨ãŒæ¨å¥¨</li>
</ul>
</li>
<li><strong>ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</strong>
<ul>
<li>Min-Maxã€Standardã€Robustã®3æ‰‹æ³•</li>
<li>å¤–ã‚Œå€¤ãŒå¤šã„å®Ÿãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã«ã¯RobustãŒé©åˆ‡</li>
<li>è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§fitã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§transformã®åŸå‰‡</li>
</ul>
</li>
<li><strong>é«˜åº¦ãªå¯è¦–åŒ–</strong>
<ul>
<li>ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥è‰²åˆ†ã‘ã€2è»¸ã‚°ãƒ©ãƒ•ã€ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—</li>
<li>Plotlyã«ã‚ˆã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</li>
<li>è¤‡æ•°ã®è¦–ç‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’ç†è§£ã™ã‚‹é‡è¦æ€§</li>
</ul>
</li>
</ol>

<h3>é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ</h3>

<blockquote>
<p><strong>"Garbage In, Garbage Out"</strong>: ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†ã®å“è³ªãŒã€ãƒ¢ãƒ‡ãƒ«ã®æ€§èƒ½ã‚’æ±ºå®šã—ã¾ã™ã€‚</p>
</blockquote>

<ul>
<li>ãƒ—ãƒ­ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã«ã¯å¿…ãšæ¬ æå€¤ãƒ»å¤–ã‚Œå€¤ãŒå«ã¾ã‚Œã‚‹</li>
<li>é©åˆ‡ãªå‰å‡¦ç†ãªã—ã«ãƒ¢ãƒ‡ãƒ«æ§‹ç¯‰ã‚’å§‹ã‚ã¦ã¯ã„ã‘ãªã„</li>
<li>å¯è¦–åŒ–ã¯å‰å‡¦ç†ã®åŠ¹æœã‚’ç¢ºèªã™ã‚‹æœ€è‰¯ã®æ‰‹æ®µ</li>
<li>å®Ÿå‹™ã§ã¯ã€å‰å‡¦ç†ã«å…¨ä½“ã®60-70%ã®æ™‚é–“ã‚’è²»ã‚„ã™</li>
</ul>

<h3>å®Ÿè·µã®ãƒ’ãƒ³ãƒˆ</h3>

<ol>
<li><strong>æ¢ç´¢çš„ãƒ‡ãƒ¼ã‚¿åˆ†æï¼ˆEDAï¼‰ã‚’æ€ ã‚‰ãªã„</strong>: ã„ããªã‚Šãƒ¢ãƒ‡ãƒ«æ§‹ç¯‰ã›ãšã€ã¾ãšãƒ‡ãƒ¼ã‚¿ã‚’ç†è§£ã™ã‚‹</li>
<li><strong>å‰å‡¦ç†ã¯å¯é€†çš„ã«</strong>: å…ƒãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã—ã€å‰å‡¦ç†ã®å„ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¨˜éŒ²</li>
<li><strong>å¯è¦–åŒ–ã§æ¤œè¨¼</strong>: å‰å‡¦ç†ã®å„ã‚¹ãƒ†ãƒƒãƒ—ã§å¯è¦–åŒ–ã—ã€æœŸå¾…é€šã‚Šã®çµæœã‹ç¢ºèª</li>
<li><strong>ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã‚’æ´»ç”¨</strong>: ãƒ—ãƒ­ã‚»ã‚¹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨å”åŠ›ã—ã€ç•°å¸¸å€¤ã®æ„å‘³ã‚’ç†è§£</li>
</ol>

<h3>æ¬¡ã®ç« ã¸</h3>

<p>ç¬¬3ç« ã§ã¯ã€å‰å‡¦ç†ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦<strong>ãƒ—ãƒ­ã‚»ã‚¹ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã®åŸºç¤</strong>ã‚’å­¦ã³ã¾ã™ï¼š</p>
<ul>
<li>ç·šå½¢å›å¸°ã«ã‚ˆã‚‹ãƒ—ãƒ­ã‚»ã‚¹ãƒ¢ãƒ‡ãƒ«æ§‹ç¯‰</li>
<li>å¤šå¤‰é‡å›å¸°ã¨PLSï¼ˆåæœ€å°äºŒä¹—æ³•ï¼‰</li>
<li>ã‚½ãƒ•ãƒˆã‚»ãƒ³ã‚µãƒ¼ã®æ¦‚å¿µã¨å®Ÿè£…</li>
<li>ãƒ¢ãƒ‡ãƒ«è©•ä¾¡æŒ‡æ¨™ï¼ˆRÂ², RMSE, MAEï¼‰</li>
<li>éç·šå½¢ãƒ¢ãƒ‡ãƒ«ã¸ã®æ‹¡å¼µï¼ˆRandom Forestã€SVRï¼‰</li>
</ul>

<div class="navigation">
    <a href="chapter-1.html" class="nav-button">â† å‰ã®ç« </a>
    <a href="chapter-3.html" class="nav-button">æ¬¡ã®ç«  â†’</a>
</div>
    </main>

    <footer>
        <p><strong>ä½œæˆè€…</strong>: PI Knowledge Hub Content Team</p>
        <p><strong>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</strong>: 1.0 | <strong>ä½œæˆæ—¥</strong>: 2025-10-25</p>
        <p><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong>: Creative Commons BY 4.0</p>
        <p>&copy; 2025 PI Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>
