<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第1章：PIの基礎概念とプロセス産業におけるデータ活用 - PI Terakoya</title>

        <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.8; color: #333; background: #f5f5f5;
        }
        header {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white; padding: 2rem 1rem; text-align: center;
        }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; }
        .subtitle { opacity: 0.9; font-size: 1.1rem; }
        .container { max-width: 1200px; margin: 2rem auto; padding: 0 1rem; }
        .back-link {
            display: inline-block; margin-bottom: 2rem; padding: 0.5rem 1rem;
            background: white; color: #11998e; text-decoration: none;
            border-radius: 6px; font-weight: 600;
        }
        .content-box {
            background: white; padding: 2rem; border-radius: 12px;
            margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h2 {
            color: #11998e; margin: 2rem 0 1rem 0;
            padding-bottom: 0.5rem; border-bottom: 3px solid #11998e;
        }
        h3 { color: #2c3e50; margin: 1.5rem 0 1rem 0; }
        h4 { color: #2c3e50; margin: 1rem 0 0.5rem 0; }
        p { margin-bottom: 1rem; }
        ul, ol { margin-left: 2rem; margin-bottom: 1rem; }
        li { margin-bottom: 0.5rem; }
        pre {
            background: #1e1e1e; color: #d4d4d4; padding: 1.5rem;
            border-radius: 8px; overflow-x: auto; margin: 1rem 0;
            border-left: 4px solid #11998e;
        }
        code {
            font-family: 'Courier New', monospace; font-size: 0.9rem;
        }
        .key-point {
            background: #e8f5e9; padding: 1rem; border-radius: 6px;
            border-left: 4px solid #4caf50; margin: 1rem 0;
        }
        .tech-note {
            background: #e3f2fd; padding: 1rem; border-radius: 6px;
            border-left: 4px solid #2196f3; margin: 1rem 0;
        }
        .formula {
            background: #f0f7ff; padding: 1rem; border-radius: 6px;
            margin: 1rem 0; overflow-x: auto;
        }
        table {
            width: 100%; border-collapse: collapse; margin: 1rem 0;
        }
        th, td {
            border: 1px solid #ddd; padding: 0.75rem; text-align: left;
        }
        th {
            background: #11998e; color: white; font-weight: 600;
        }
        tr:nth-child(even) { background: #f9f9f9; }
        .nav-buttons {
            display: flex; justify-content: space-between; margin-top: 3rem;
        }
        .nav-buttons a {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white; text-decoration: none; border-radius: 6px;
            font-weight: 600;
        }
        footer {
            background: #2c3e50; color: white; text-align: center;
            padding: 2rem 1rem; margin-top: 4rem;
        }
        @media (max-width: 768px) {
            h1 { font-size: 1.6rem; }
            .container { padding: 0 0.5rem; }
            pre { padding: 1rem; }
        }
    
        
    
        /* Breadcrumb styles */
        .breadcrumb {
            background: #f7fafc;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.9rem;
        }

        .breadcrumb-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumb a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .breadcrumb-separator {
            color: #a0aec0;
            margin: 0 0.25rem;
        }

        .breadcrumb-current {
            color: #4a5568;
            font-weight: 500;
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'strict' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>

    <style>
        /* Locale Switcher Styles */
        .locale-switcher {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 6px;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .current-locale {
            font-weight: 600;
            color: #7b2cbf;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .locale-separator {
            color: #adb5bd;
            font-weight: 300;
        }

        .locale-link {
            color: #f093fb;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }

        .locale-link:hover {
            background: rgba(240, 147, 251, 0.1);
            color: #d07be8;
            transform: translateY(-1px);
        }

        .locale-meta {
            color: #868e96;
            font-size: 0.85rem;
            font-style: italic;
            margin-left: auto;
        }

        @media (max-width: 768px) {
            .locale-switcher {
                font-size: 0.85rem;
                padding: 0.4rem 0.8rem;
            }
            .locale-meta {
                display: none;
            }
        }
    </style>
</head>
<body>
            <div class="locale-switcher">
<span class="current-locale">🌐 JP</span>
<span class="locale-separator">|</span>
<a href="../../../en/PI/pi-introduction/chapter-1.html" class="locale-link">🇬🇧 EN</a>
<span class="locale-separator">|</span>
<span class="locale-meta">Last sync: 2025-11-16</span>
</div>
<nav class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="../../index.html">AI寺子屋トップ</a><span class="breadcrumb-separator">›</span><a href="../../PI/index.html">プロセス・インフォマティクス</a><span class="breadcrumb-separator">›</span><a href="../../PI/pi-introduction/index.html">Pi</a><span class="breadcrumb-separator">›</span><span class="breadcrumb-current">Chapter 1</span>
        </div>
    </nav>

        <header>
        <div class="container">
            <h1>第1章：PIの基礎概念とプロセス産業におけるデータ活用</h1>
            <p class="subtitle">プロセス産業のデジタル変革の基礎</p>
            <div class="meta">
                <span class="meta">📖 読了時間: 20-25分</span>
                <span class="meta">📊 難易度: 入門</span>
                <span class="meta">💻 コード例: 5個</span>
            </div>
        </div>
    </header>

    <main class="container">
<h1>第1章：PIの基礎概念とプロセス産業におけるデータ活用</h1>

<p class="chapter-description" style="margin: 1.5rem 0; padding: 1rem; background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); border-left: 4px solid #11998e; border-radius: 8px; font-size: 1.05rem; line-height: 1.8; color: #2d3748;">プロセス・インフォマティクス（PI）の基本概念を理解し、プロセス産業における特徴とデータの種類を学びます。データ駆動型アプローチによる実際の改善事例を通じて、PIの価値を実感しましょう。</p>

<div class="learning-objectives">
<h2>学習目標</h2>
<p>この章を読むことで、以下を習得できます：</p>
<ul>
<li>✅ プロセス・インフォマティクス（PI）の定義と目的を説明できる</li>
<li>✅ プロセス産業の特徴と従来の材料開発との違いを理解する</li>
<li>✅ プロセスデータの主要な種類（センサー、操作、品質データ）を分類できる</li>
<li>✅ データ駆動型プロセス改善の具体的な事例を説明できる</li>
<li>✅ Pythonを使った基本的なプロセスデータ可視化ができる</li>
</ul>
</div>

<hr />

<h2>1.1 プロセス・インフォマティクス（PI）とは</h2>

<h3>PIの定義</h3>

<p><strong>プロセス・インフォマティクス（Process Informatics; PI）</strong>は、化学プラント、製薬、食品、半導体などのプロセス産業において、<strong>データ駆動型アプローチ</strong>を活用して、プロセスの理解、最適化、制御を行う学問分野です。</p>

<p>具体的には、以下の活動を含みます：</p>

<ul>
<li><strong>プロセスデータの収集と分析</strong>: センサーデータ、操作条件、品質データの収集と解析</li>
<li><strong>プロセスモデリング</strong>: 機械学習やソフトセンサーによる品質予測モデルの構築</li>
<li><strong>プロセス最適化</strong>: 収率向上、エネルギー削減、品質改善のための条件最適化</li>
<li><strong>プロセス制御</strong>: リアルタイムデータに基づく自動制御システムの構築</li>
<li><strong>異常検知</strong>: データ分析による異常状態の早期発見</li>
</ul>

<h3>Materials Informatics（MI）との違い</h3>

<p>PIとよく混同される概念に、Materials Informatics（MI）があります。両者の違いを明確に理解しましょう。</p>

<table>
<thead>
<tr>
<th>項目</th>
<th>Materials Informatics (MI)</th>
<th>Process Informatics (PI)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>対象</strong></td>
<td>材料そのもの（組成、構造、特性）</td>
<td>製造プロセス（運転条件、制御、品質）</td>
</tr>
<tr>
<td><strong>目的</strong></td>
<td>新材料の発見・設計</td>
<td>プロセスの最適化・制御</td>
</tr>
<tr>
<td><strong>データの種類</strong></td>
<td>物性値、結晶構造、組成データ</td>
<td>時系列センサーデータ、操作条件</td>
</tr>
<tr>
<td><strong>時間軸</strong></td>
<td>静的（材料の固有特性）</td>
<td>動的（時々刻々と変化）</td>
</tr>
<tr>
<td><strong>主要手法</strong></td>
<td>記述子、材料データベース、スクリーニング</td>
<td>時系列分析、ソフトセンサー、プロセス制御</td>
</tr>
<tr>
<td><strong>典型的な課題</strong></td>
<td>バンドギャップ2.5 eVの材料を探索</td>
<td>製品純度98%以上を維持しながらエネルギー消費を10%削減</td>
</tr>
</tbody>
</table>

<p><strong>重要なポイント</strong>: MIは「何を作るか」に焦点を当て、PIは「どう作るか」に焦点を当てます。両者は補完関係にあり、MIで発見した新材料をPIで効率的に製造する、というように連携します。</p>

<hr />

<h2>1.2 プロセス産業の特徴</h2>

<p>PIを理解するには、まずプロセス産業の特徴を知る必要があります。</p>

<h3>プロセスの分類</h3>

<p>プロセス産業のプロセスは、大きく2つに分類されます：</p>

<h4>1. 連続プロセス (Continuous Process)</h4>

<ul>
<li><strong>特徴</strong>: 24時間365日、原料を連続的に投入し、製品を連続的に取り出す</li>
<li><strong>例</strong>: 石油精製、化学プラント（エチレン製造など）、製紙</li>
<li><strong>利点</strong>: 高い生産性、安定した品質</li>
<li><strong>課題</strong>: 停止・再起動のコストが高い、柔軟性が低い</li>
</ul>

<h4>2. バッチプロセス (Batch Process)</h4>

<ul>
<li><strong>特徴</strong>: 原料を投入 → 反応 → 製品取り出しを繰り返す</li>
<li><strong>例</strong>: 医薬品製造、食品加工、ファインケミカル</li>
<li><strong>利点</strong>: 柔軟な製品切り替え、少量多品種生産に適す</li>
<li><strong>課題</strong>: バッチ間のばらつき、生産性が連続プロセスより低い</li>
</ul>

<h3>プロセス産業の主要分野</h3>

<table>
<thead>
<tr>
<th>産業分野</th>
<th>主なプロセス</th>
<th>PIの典型的応用</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>化学</strong></td>
<td>蒸留、反応、分離</td>
<td>収率最適化、エネルギー削減</td>
</tr>
<tr>
<td><strong>石油化学</strong></td>
<td>精製、クラッキング</td>
<td>製品品質予測、装置異常検知</td>
</tr>
<tr>
<td><strong>製薬</strong></td>
<td>合成、晶析、乾燥</td>
<td>バッチ品質管理、プロセス開発加速</td>
</tr>
<tr>
<td><strong>食品</strong></td>
<td>発酵、殺菌、混合</td>
<td>品質一貫性向上、賞味期限予測</td>
</tr>
<tr>
<td><strong>半導体</strong></td>
<td>CVD、エッチング、洗浄</td>
<td>歩留まり向上、リアルタイム制御</td>
</tr>
</tbody>
</table>

<h3>プロセスの複雑性</h3>

<p>プロセス産業のプロセスは、以下の特徴により非常に複雑です：</p>

<ol>
<li><strong>多変数性</strong>
<ul>
<li>数十〜数百の変数が相互に影響</li>
<li>例: 蒸留塔では温度（複数段）、圧力、流量、組成などが連動</li>
</ul>
</li>
<li><strong>非線形性</strong>
<ul>
<li>入力と出力の関係が線形でない</li>
<li>例: 反応温度を10°C上げると収率が5%増えるが、さらに10°C上げると副反応が起こり収率が減少</li>
</ul>
</li>
<li><strong>時間遅れ（タイムラグ）</strong>
<ul>
<li>操作変更の効果が現れるまで時間がかかる</li>
<li>例: 蒸留塔のリボイラー温度を変更しても、塔頂製品への影響は数分〜数十分後</li>
</ul>
</li>
<li><strong>外乱の存在</strong>
<ul>
<li>原料組成の変動、環境温度の変化など</li>
<li>これらをリアルタイムで補正する必要</li>
</ul>
</li>
</ol>

<p><strong>結論</strong>: この複雑性ゆえに、<strong>データ駆動型アプローチ（PI）</strong>が有効なのです。従来の経験則や単純なモデルでは対応しきれない複雑な関係性を、機械学習やデータ分析で捉えることができます。</p>

<hr />

<h2>1.3 プロセスデータの種類</h2>

<p>PIで扱うデータは、主に3つのカテゴリに分類されます。</p>

<h3>1. センサーデータ（測定データ）</h3>

<p>プロセスの状態をリアルタイムで測定するデータです。</p>

<p><strong>主要なセンサータイプ</strong>:</p>

<table>
<thead>
<tr>
<th>センサータイプ</th>
<th>測定対象</th>
<th>典型的な測定頻度</th>
<th>用途例</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>温度センサー</strong></td>
<td>プロセス温度</td>
<td>1秒〜1分</td>
<td>反応温度監視、加熱炉制御</td>
</tr>
<tr>
<td><strong>圧力センサー</strong></td>
<td>プロセス圧力</td>
<td>1秒〜1分</td>
<td>蒸留塔圧力、反応器圧力</td>
</tr>
<tr>
<td><strong>流量計</strong></td>
<td>流体流量</td>
<td>1秒〜1分</td>
<td>原料供給量、製品取り出し量</td>
</tr>
<tr>
<td><strong>液面計</strong></td>
<td>タンク液面</td>
<td>10秒〜1分</td>
<td>反応器液面、貯蔵タンク</td>
</tr>
<tr>
<td><strong>濃度計</strong></td>
<td>成分濃度</td>
<td>1分〜1時間</td>
<td>製品純度、反応進行度</td>
</tr>
<tr>
<td><strong>pH計</strong></td>
<td>pH値</td>
<td>1秒〜1分</td>
<td>化学反応制御</td>
</tr>
</tbody>
</table>

<p><strong>特徴</strong>:</p>
<ul>
<li>高頻度（秒〜分単位）で大量のデータが生成される</li>
<li>時系列データとして蓄積</li>
<li>欠損値、外れ値、ノイズが含まれることが多い</li>
</ul>

<h3>2. 操作条件データ（設定値・制御データ）</h3>

<p>プロセスを制御するために人間またはDCS（Distributed Control System）が設定する値です。</p>

<p><strong>主要な操作変数</strong>:</p>

<ul>
<li><strong>設定温度</strong>: 反応器温度設定値、加熱炉設定温度</li>
<li><strong>設定圧力</strong>: 蒸留塔圧力設定値</li>
<li><strong>流量設定値</strong>: 原料供給速度、冷却水流量</li>
<li><strong>バルブ開度</strong>: 制御弁の開度（0-100%）</li>
<li><strong>攪拌速度</strong>: 反応器の攪拌機回転数</li>
</ul>

<p><strong>特徴</strong>:</p>
<ul>
<li>センサーデータと連動（設定値と実測値の比較）</li>
<li>PIの目的の1つは、最適な操作条件を見つけること</li>
</ul>

<h3>3. 品質データ（製品特性・分析データ）</h3>

<p>製品の品質を評価するデータです。多くの場合、オフライン分析により得られます。</p>

<p><strong>主要な品質指標</strong>:</p>

<table>
<thead>
<tr>
<th>品質指標</th>
<th>測定方法</th>
<th>測定頻度</th>
<th>重要性</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>製品純度</strong></td>
<td>ガスクロマトグラフィー（GC）</td>
<td>1時間〜1日</td>
<td>製品規格の主要項目</td>
</tr>
<tr>
<td><strong>収率</strong></td>
<td>物質収支計算</td>
<td>バッチごと</td>
<td>経済性の指標</td>
</tr>
<tr>
<td><strong>粘度</strong></td>
<td>粘度計</td>
<td>数時間〜1日</td>
<td>製品品質</td>
</tr>
<tr>
<td><strong>色</strong></td>
<td>分光光度計</td>
<td>数時間〜1日</td>
<td>製品外観</td>
</tr>
<tr>
<td><strong>不純物含有量</strong></td>
<td>HPLC、GC-MS</td>
<td>1日〜1週間</td>
<td>品質規格、安全性</td>
</tr>
</tbody>
</table>

<p><strong>特徴</strong>:</p>
<ul>
<li>測定頻度が低い（時間〜日単位）</li>
<li>測定に時間とコストがかかる</li>
<li><strong>PIの重要な課題</strong>: センサーデータからリアルタイムに品質を予測する「ソフトセンサー」の構築</li>
</ul>

<h3>4. イベントデータ（補助的データ）</h3>

<p>プロセスで発生する各種イベントの記録です。</p>

<ul>
<li><strong>アラーム</strong>: 異常状態の警告（温度異常、圧力異常など）</li>
<li><strong>運転日誌</strong>: オペレーターによる手動記録</li>
<li><strong>設備保全記録</strong>: メンテナンス履歴</li>
<li><strong>バッチ記録</strong>: バッチごとの開始・終了時刻、使用原料情報</li>
</ul>

<hr />

<h2>1.4 データ駆動型プロセス改善の事例</h2>

<p>理論だけでなく、実際にPIがどのように活用されているのか、具体的な事例を見てみましょう。</p>

<h3>ケーススタディ1: 化学プラントの収率向上（5%改善）</h3>

<p><strong>背景</strong>:</p>

<p>ある化学プラントでは、原料AとBから製品Cを製造していました。理論的な収率は95%ですが、実際の収率は平均85%にとどまっていました。従来は、ベテランオペレーターの経験に基づき、反応温度と圧力を調整していましたが、なぜ収率が変動するのか明確ではありませんでした。</p>

<p><strong>PIアプローチ</strong>:</p>

<ol>
<li><strong>データ収集（1ヶ月）</strong>
<ul>
<li>過去2年分の運転データ（温度、圧力、流量、原料組成）を収集</li>
<li>同期間の製品品質データ（収率、純度）を収集</li>
<li>データポイント数: 約100万点</li>
</ul>
</li>
<li><strong>探索的データ分析（EDA）</strong>
<ul>
<li>変数間の相関分析</li>
<li>発見: 反応温度だけでなく、<strong>原料Aの供給速度と反応器攪拌速度の比</strong>が収率に強く影響</li>
<li>これは従来知られていなかった関係</li>
</ul>
</li>
<li><strong>機械学習モデル構築</strong>
<ul>
<li>Random Forestで収率予測モデルを構築</li>
<li>予測精度: R² = 0.82</li>
<li>特徴量重要度分析により、重要な操作変数を特定</li>
</ul>
</li>
<li><strong>最適化と実装</strong>
<ul>
<li>モデルに基づき、最適な操作条件を探索</li>
<li>最適条件: 反応温度175°C、原料A流量2.5 m³/h、攪拌速度300 rpm</li>
<li>実プラントで試験運転を実施</li>
</ul>
</li>
</ol>

<p><strong>結果</strong>:</p>

<ul>
<li><strong>収率向上</strong>: 85% → 90%（<strong>+5%</strong>）</li>
<li><strong>経済効果</strong>: 年間約5億円の利益増加（製品価値換算）</li>
<li><strong>副次効果</strong>: エネルギー消費も3%削減</li>
</ul>

<h3>ケーススタディ2: エネルギー消費削減（15%削減）</h3>

<p><strong>背景</strong>:</p>

<p>石油化学プラントの蒸留塔では、製品を精製するために大量の蒸気を使用していました。エネルギーコストは年間10億円以上で、経営上の大きな課題でした。</p>

<p><strong>PIアプローチ</strong>:</p>

<ol>
<li><strong>エネルギー消費分析</strong>
<ul>
<li>蒸留塔のリボイラー熱量データと製品品質データを収集</li>
<li>発見: 必要以上に高い還流比で運転されている時間帯が多い</li>
<li>製品純度99.5%が目標だが、実際は99.8%程度で過剰品質</li>
</ul>
</li>
<li><strong>ソフトセンサー構築</strong>
<ul>
<li>目的: 塔頂製品純度をリアルタイムで予測</li>
<li>従来: 1日1回のGC分析でしか純度を測定できない</li>
<li>PLSモデルで温度プロファイルから純度を予測</li>
<li>予測精度: R² = 0.88</li>
</ul>
</li>
<li><strong>最適化制御</strong>
<ul>
<li>ソフトセンサーの予測値を用いて、還流比を動的に調整</li>
<li>製品純度99.5-99.6%を維持しながら、エネルギー使用量を最小化</li>
</ul>
</li>
</ol>

<p><strong>結果</strong>:</p>

<ul>
<li><strong>エネルギー削減</strong>: <strong>15%削減</strong></li>
<li><strong>経済効果</strong>: 年間約1.5億円のコスト削減</li>
<li><strong>CO₂削減</strong>: 年間約5,000トンのCO₂排出削減</li>
<li><strong>投資回収期間</strong>: 約1年（ソフトセンサー開発・実装コストを含む）</li>
</ul>

<h3>ROI（投資対効果）分析</h3>

<p>PIプロジェクトの典型的なROIを見てみましょう。</p>

<table>
<thead>
<tr>
<th>項目</th>
<th>ケーススタディ1（収率向上）</th>
<th>ケーススタディ2（エネルギー削減）</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>初期投資</strong></td>
<td>データ基盤整備: 2,000万円<br>モデル開発: 1,000万円</td>
<td>ソフトセンサー開発: 1,500万円<br>制御システム改修: 3,000万円</td>
</tr>
<tr>
<td><strong>年間効果</strong></td>
<td>5億円/年（利益増）</td>
<td>1.5億円/年（コスト削減）</td>
</tr>
<tr>
<td><strong>ROI</strong></td>
<td>初年度 <strong>1,567%</strong></td>
<td>初年度 <strong>233%</strong></td>
</tr>
<tr>
<td><strong>投資回収期間</strong></td>
<td><strong>約2ヶ月</strong></td>
<td><strong>約4ヶ月</strong></td>
</tr>
</tbody>
</table>

<p><strong>結論</strong>: PIプロジェクトは、適切に実施すれば<strong>極めて高いROI</strong>を達成できます。</p>

<hr />

<h2>1.5 Pythonによるプロセスデータ可視化入門</h2>

<p>ここから、実際にPythonを使ってプロセスデータを可視化してみましょう。以下の5つのコード例を通じて、PIの基礎スキルを習得します。</p>

<h3>環境準備</h3>

<p>まず、必要なライブラリをインストールします。</p>

<pre><code class="language-bash"># 必要なライブラリのインストール
pip install pandas matplotlib seaborn numpy plotly
</code></pre>

<h3>コード例1: 時系列センサーデータの可視化</h3>

<p>化学反応器の温度データを時系列プロットします。</p>

<pre><code class="language-python">import pandas as pd
import matplotlib.pyplot as plt
import numpy as np

# サンプルデータ生成: 反応器温度の1日分のデータ（1分間隔）
np.random.seed(42)
time_points = pd.date_range('2025-01-01 00:00', periods=1440, freq='1min')
temperature = 175 + np.random.normal(0, 2, 1440) + \
              5 * np.sin(np.linspace(0, 4*np.pi, 1440))  # 温度変動をシミュレート

# DataFrameに格納
df = pd.DataFrame({
    'timestamp': time_points,
    'temperature': temperature
})

# 可視化
plt.figure(figsize=(14, 5))
plt.plot(df['timestamp'], df['temperature'], linewidth=0.8, color='#11998e')
plt.axhline(y=175, color='red', linestyle='--', label='Target: 175°C')
plt.fill_between(df['timestamp'], 173, 177, alpha=0.2, color='green', label='Acceptable range')
plt.xlabel('Time', fontsize=12)
plt.ylabel('Temperature (°C)', fontsize=12)
plt.title('Reactor Temperature - 24 Hour Trend', fontsize=14, fontweight='bold')
plt.legend()
plt.grid(alpha=0.3)
plt.tight_layout()
plt.show()

# 統計量の計算
print(f"平均温度: {df['temperature'].mean():.2f}°C")
print(f"標準偏差: {df['temperature'].std():.2f}°C")
print(f"最高温度: {df['temperature'].max():.2f}°C")
print(f"最低温度: {df['temperature'].min():.2f}°C")
</code></pre>

<p><strong>出力例</strong>:</p>
<pre><code>平均温度: 174.98°C
標準偏差: 3.45°C
最高温度: 183.12°C
最低温度: 166.54°C
</code></pre>

<p><strong>解説</strong>:
この例では、反応器温度の時系列データをプロットしています。目標温度（175°C）と許容範囲（173-177°C）を表示することで、プロセスの安定性を視覚的に確認できます。</p>

<h3>コード例2: 複数センサーの同時プロット</h3>

<p>蒸留塔の温度、圧力、流量を同時に表示します。</p>

<pre><code class="language-python">import pandas as pd
import matplotlib.pyplot as plt
import numpy as np

# サンプルデータ生成
np.random.seed(42)
time_points = pd.date_range('2025-01-01 00:00', periods=1440, freq='1min')

df = pd.DataFrame({
    'timestamp': time_points,
    'temperature': 85 + np.random.normal(0, 1.5, 1440),
    'pressure': 1.2 + np.random.normal(0, 0.05, 1440),
    'flow_rate': 50 + np.random.normal(0, 3, 1440)
})

# 3つのサブプロットで表示
fig, axes = plt.subplots(3, 1, figsize=(14, 10), sharex=True)

# 温度
axes[0].plot(df['timestamp'], df['temperature'], color='#11998e', linewidth=0.8)
axes[0].set_ylabel('Temperature (°C)', fontsize=11)
axes[0].set_title('Distillation Column - Multi-Sensor Data', fontsize=14, fontweight='bold')
axes[0].grid(alpha=0.3)

# 圧力
axes[1].plot(df['timestamp'], df['pressure'], color='#f59e0b', linewidth=0.8)
axes[1].set_ylabel('Pressure (MPa)', fontsize=11)
axes[1].grid(alpha=0.3)

# 流量
axes[2].plot(df['timestamp'], df['flow_rate'], color='#7b2cbf', linewidth=0.8)
axes[2].set_ylabel('Flow Rate (m³/h)', fontsize=11)
axes[2].set_xlabel('Time', fontsize=12)
axes[2].grid(alpha=0.3)

plt.tight_layout()
plt.show()

# 変数間の相関
print("変数間の相関係数:")
print(df[['temperature', 'pressure', 'flow_rate']].corr())
</code></pre>

<p><strong>解説</strong>:
複数のセンサーデータを同じ時間軸で表示することで、変数間の関係や異常パターンを視覚的に把握できます。相関係数により、変数間の定量的な関係も確認できます。</p>

<h3>コード例3: 相関マトリックスのヒートマップ</h3>

<p>多変数間の相関関係を一目で把握します。</p>

<pre><code class="language-python">import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
import numpy as np

# サンプルデータ生成: 蒸留塔の8変数
np.random.seed(42)
n = 500

df = pd.DataFrame({
    'Feed_Temp': np.random.normal(60, 5, n),
    'Reflux_Ratio': np.random.uniform(1.5, 3.5, n),
    'Reboiler_Duty': np.random.normal(1500, 200, n),
    'Top_Temp': np.random.normal(85, 3, n),
    'Bottom_Temp': np.random.normal(155, 5, n),
    'Pressure': np.random.normal(1.2, 0.1, n),
    'Purity': np.random.uniform(95, 99.5, n),
    'Yield': np.random.uniform(85, 95, n)
})

# 相関関係に基づくデータ調整（リアルな相関を作成）
df['Top_Temp'] = df['Top_Temp'] + 0.3 * df['Reflux_Ratio']
df['Purity'] = df['Purity'] + 0.5 * df['Reflux_Ratio'] - 0.2 * df['Top_Temp']
df['Yield'] = df['Yield'] + 0.3 * df['Reboiler_Duty'] / 100

# 相関マトリックスの計算
corr = df.corr()

# ヒートマップの作成
plt.figure(figsize=(10, 8))
sns.heatmap(corr, annot=True, fmt='.2f', cmap='RdYlGn', center=0,
            square=True, linewidths=1, cbar_kws={"shrink": 0.8})
plt.title('Correlation Matrix - Distillation Column Variables', fontsize=14, fontweight='bold')
plt.tight_layout()
plt.show()

# 強い相関を持つペアを表示
print("\n強い相関を持つ変数ペア (|r| > 0.5):")
for i in range(len(corr.columns)):
    for j in range(i+1, len(corr.columns)):
        if abs(corr.iloc[i, j]) > 0.5:
            print(f"{corr.columns[i]} vs {corr.columns[j]}: {corr.iloc[i, j]:.3f}")
</code></pre>

<p><strong>解説</strong>:
相関マトリックスのヒートマップにより、どの変数同士が強く関連しているかを視覚的に把握できます。これはモデリングの前処理や特徴量選択に有用です。</p>

<h3>コード例4: 散布図マトリックス（ペアプロット）</h3>

<p>変数間の関係を散布図で詳細に観察します。</p>

<pre><code class="language-python">import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
import numpy as np

# サンプルデータ生成
np.random.seed(42)
n = 300

df = pd.DataFrame({
    'Temperature': np.random.normal(175, 5, n),
    'Pressure': np.random.normal(1.5, 0.2, n),
    'Flow_Rate': np.random.normal(50, 5, n),
    'Yield': np.random.uniform(80, 95, n)
})

# 関係性の追加（現実的な相関）
df['Yield'] = df['Yield'] + 0.5 * (df['Temperature'] - 175) + 2 * (df['Pressure'] - 1.5)

# ペアプロットの作成
sns.pairplot(df, diag_kind='kde', plot_kws={'alpha': 0.6, 'color': '#11998e'},
             diag_kws={'color': '#11998e'})
plt.suptitle('Pairplot - Process Variables vs Yield', y=1.01, fontsize=14, fontweight='bold')
plt.tight_layout()
plt.show()
</code></pre>

<p><strong>解説</strong>:
ペアプロットにより、全変数ペアの散布図と各変数の分布を一度に確認できます。非線形な関係や外れ値の検出に有効です。</p>

<h3>コード例5: インタラクティブな可視化（Plotly）</h3>

<p>Webブラウザでズームやホバー表示が可能なインタラクティブなグラフを作成します。</p>

<pre><code class="language-python">import pandas as pd
import plotly.graph_objects as go
from plotly.subplots import make_subplots
import numpy as np

# サンプルデータ生成
np.random.seed(42)
time_points = pd.date_range('2025-01-01', periods=1440, freq='1min')

df = pd.DataFrame({
    'timestamp': time_points,
    'temperature': 175 + np.random.normal(0, 2, 1440),
    'pressure': 1.5 + np.random.normal(0, 0.1, 1440),
    'yield': 90 + np.random.normal(0, 3, 1440)
})

# サブプロット作成
fig = make_subplots(
    rows=3, cols=1,
    subplot_titles=('Reactor Temperature', 'Reactor Pressure', 'Yield'),
    vertical_spacing=0.12
)

# 温度
fig.add_trace(
    go.Scatter(x=df['timestamp'], y=df['temperature'],
               mode='lines', name='Temperature',
               line=dict(color='#11998e', width=1.5)),
    row=1, col=1
)

# 圧力
fig.add_trace(
    go.Scatter(x=df['timestamp'], y=df['pressure'],
               mode='lines', name='Pressure',
               line=dict(color='#f59e0b', width=1.5)),
    row=2, col=1
)

# 収率
fig.add_trace(
    go.Scatter(x=df['timestamp'], y=df['yield'],
               mode='lines', name='Yield',
               line=dict(color='#7b2cbf', width=1.5)),
    row=3, col=1
)

# レイアウト設定
fig.update_xaxes(title_text="Time", row=3, col=1)
fig.update_yaxes(title_text="Temp (°C)", row=1, col=1)
fig.update_yaxes(title_text="Pressure (MPa)", row=2, col=1)
fig.update_yaxes(title_text="Yield (%)", row=3, col=1)

fig.update_layout(
    title_text="Interactive Process Data Visualization",
    height=900,
    showlegend=False
)

# グラフを表示（Jupyter Notebookの場合）
fig.show()

# HTMLファイルとして保存
fig.write_html("process_data_interactive.html")
print("インタラクティブなグラフを 'process_data_interactive.html' に保存しました。")
</code></pre>

<p><strong>解説</strong>:
Plotlyを使うと、ズーム、パン、ホバー表示などのインタラクティブ機能を持つグラフを作成できます。大量のデータを探索する際に非常に便利です。</p>

<hr />

<h2>1.6 本章のまとめ</h2>

<h3>学んだこと</h3>

<ol>
<li><strong>プロセス・インフォマティクス（PI）の定義</strong>
<ul>
<li>データ駆動型アプローチによるプロセスの理解、最適化、制御</li>
<li>MIが「何を作るか」、PIが「どう作るか」に焦点</li>
</ul>
</li>
<li><strong>プロセス産業の特徴</strong>
<ul>
<li>連続プロセス vs バッチプロセス</li>
<li>多変数性、非線形性、時間遅れの複雑性</li>
</ul>
</li>
<li><strong>プロセスデータの3つの主要カテゴリ</strong>
<ul>
<li>センサーデータ: 温度、圧力、流量（高頻度）</li>
<li>操作条件データ: 設定値、制御パラメータ</li>
<li>品質データ: 純度、収率（低頻度・オフライン）</li>
</ul>
</li>
<li><strong>データ駆動型改善の実例</strong>
<ul>
<li>収率5%向上 → 年間5億円の利益増</li>
<li>エネルギー15%削減 → 年間1.5億円のコスト削減</li>
<li>高いROI（数百〜数千%）と短い投資回収期間（2-4ヶ月）</li>
</ul>
</li>
<li><strong>Pythonによるデータ可視化の基礎</strong>
<ul>
<li>時系列プロット、複数変数の同時表示</li>
<li>相関マトリックス、ペアプロット</li>
<li>インタラクティブな可視化（Plotly）</li>
</ul>
</li>
</ol>

<h3>重要なポイント</h3>

<ul>
<li>PIは<strong>実用的で即効性が高い</strong>技術（数ヶ月でROI達成）</li>
<li>プロセスの複雑性ゆえに、データ駆動型アプローチが有効</li>
<li>データの可視化は、PIの第一歩であり最も重要なステップ</li>
<li>ソフトセンサー（リアルタイム品質予測）がPIの核心技術の1つ</li>
</ul>

<h3>次の章へ</h3>

<p>第2章では、<strong>プロセスデータの前処理と可視化</strong>を詳しく学びます：</p>
<ul>
<li>時系列データの扱い方（リサンプリング、ローリング統計）</li>
<li>欠損値処理・外れ値検出の実践手法</li>
<li>データスケーリングと正規化</li>
<li>高度な可視化テクニック</li>
<li>プロセスデータ特有の課題への対処法</li>
</ul>

<div class="navigation">
    <a href="index.html" class="nav-button">シリーズ目次に戻る</a>
    <a href="chapter-2.html" class="nav-button">次の章 →</a>
</div>
    </main>

    
    <section class="disclaimer">
        <h3>免責事項</h3>
        <ul>
            <li>本コンテンツは教育・研究・情報提供のみを目的としており、専門的な助言(法律・会計・技術的保証など)を提供するものではありません。</li>
            <li>本コンテンツおよび付随するコード例は「現状有姿(AS IS)」で提供され、明示または黙示を問わず、商品性、特定目的適合性、権利非侵害、正確性・完全性、動作・安全性等いかなる保証もしません。</li>
            <li>外部リンク、第三者が提供するデータ・ツール・ライブラリ等の内容・可用性・安全性について、作成者および東北大学は一切の責任を負いません。</li>
            <li>本コンテンツの利用・実行・解釈により直接的・間接的・付随的・特別・結果的・懲罰的損害が生じた場合でも、適用法で許容される最大限の範囲で、作成者および東北大学は責任を負いません。</li>
            <li>本コンテンツの内容は、予告なく変更・更新・提供停止されることがあります。</li>
            <li>本コンテンツの著作権・ライセンスは明記された条件(例: CC BY 4.0)に従います。当該ライセンスは通常、無保証条項を含みます。</li>
        </ul>
    </section>

<footer>
        <p><strong>作成者</strong>: PI Knowledge Hub Content Team</p>
        <p><strong>バージョン</strong>: 1.0 | <strong>作成日</strong>: 2025-10-25</p>
        <p><strong>ライセンス</strong>: Creative Commons BY 4.0</p>
        <p>&copy; 2025 PI Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>
