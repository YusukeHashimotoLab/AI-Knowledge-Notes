<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ç¬¬1ç« ï¼šãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨æ€§ã®åŸºç¤ - ãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨æ€§è©•ä¾¡å…¥é–€ã‚·ãƒªãƒ¼ã‚º">
    <title>ç¬¬1ç« ï¼šãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨æ€§ã®åŸºç¤ - ãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨æ€§è©•ä¾¡å…¥é–€ | PI Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #11998e;
            --color-accent-light: #38ef7d;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #11998e;
            --color-link-hover: #0d7a6f;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .mermaid {
            text-align: center;
            margin: var(--spacing-lg) 0;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .learning-objectives {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--color-accent);
            margin-bottom: var(--spacing-xl);
        }

        .learning-objectives h2 {
            margin-top: 0;
            border-bottom: none;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }
        .disclaimer {
            max-width: 900px;
            margin: 2rem auto;
            padding: 1.5rem;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 4px;
        }

        .disclaimer h3 {
            color: #495057;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .disclaimer ul {
            list-style: none;
            padding-left: 0;
        }

        .disclaimer li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
            font-size: 0.9rem;
            color: #6c757d;
            line-height: 1.6;
        }

        .disclaimer li::before {
            content: "âš ï¸";
            position: absolute;
            left: 0;
        }


        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'strict' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>ç¬¬1ç« ï¼šãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨æ€§ã®åŸºç¤</h1>
            <p class="subtitle">ãƒã‚¶ãƒ¼ãƒ‰è­˜åˆ¥ã€ãƒªã‚¹ã‚¯è©•ä¾¡ã€ä¿è­·å±¤åˆ†æï¼ˆLOPAï¼‰ã®å®Œå…¨å®Ÿè£…</p>
            <div class="meta">
                <span class="meta-item">ğŸ“– èª­äº†æ™‚é–“: 25-30åˆ†</span>
                <span class="meta-item">ğŸ“Š é›£æ˜“åº¦: ä¸­ç´š</span>
                <span class="meta-item">ğŸ’» ã‚³ãƒ¼ãƒ‰ä¾‹: 8å€‹</span>
            </div>
        </div>
    </header>

    <main class="container">

<div class="learning-objectives">
<h2>å­¦ç¿’ç›®æ¨™</h2>
<p>ã“ã®ç« ã‚’èª­ã‚€ã“ã¨ã§ã€ä»¥ä¸‹ã‚’ç¿’å¾—ã§ãã¾ã™ï¼š</p>
<ul>
<li>âœ… ãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨ã®æ¦‚å¿µã¨é‡å¤§äº‹æ•…ã®æ•™è¨“ã‚’ç†è§£ã™ã‚‹</li>
<li>âœ… ãƒã‚¶ãƒ¼ãƒ‰è­˜åˆ¥ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’å®Ÿè£…ã§ãã‚‹</li>
<li>âœ… ãƒªã‚¹ã‚¯ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ï¼ˆç™ºç”Ÿé »åº¦ Ã— å½±éŸ¿åº¦ï¼‰ã§ãƒªã‚¹ã‚¯è©•ä¾¡ãŒã§ãã‚‹</li>
<li>âœ… ä¿è­·å±¤åˆ†æï¼ˆLOPAï¼‰ã‚’å®Ÿæ–½ã—SILã‚’è¨ˆç®—ã§ãã‚‹</li>
<li>âœ… Bow-tieå›³ã§ãƒªã‚¹ã‚¯åˆ†æã‚’å¯è¦–åŒ–ã§ãã‚‹</li>
<li>âœ… å½±éŸ¿åº¦è¨ˆç®—ï¼ˆConsequence Modelingï¼‰ã‚’å®Ÿè£…ã§ãã‚‹</li>
</ul>
</div>

<hr />

<h2>1.1 ãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨ã®æ¦‚è¦</h2>

<h3>ãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨ã¨ã¯</h3>

<p><strong>ãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨ï¼ˆProcess Safetyï¼‰</strong>ã¨ã¯ã€åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹ã«ãŠã‘ã‚‹é‡å¤§äº‹æ•…ï¼ˆç«ç½ã€çˆ†ç™ºã€æœ‰æ¯’ã‚¬ã‚¹æ¼æ´©ãªã©ï¼‰ã‚’é˜²æ­¢ã™ã‚‹ãŸã‚ã®ä½“ç³»çš„ãªå®‰å…¨ç®¡ç†ã§ã™ã€‚åŠ´åƒå®‰å…¨ï¼ˆOccupational Safetyï¼‰ãŒå€‹äººã®æ€ªæˆ‘ã‚’é˜²ãã®ã«å¯¾ã—ã€ãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨ã¯è¨­å‚™ã®å®Œå…¨æ€§ï¼ˆEquipment Integrityï¼‰ã¨é‹è»¢ç®¡ç†ã«ç„¦ç‚¹ã‚’å½“ã¦ã¾ã™ã€‚</p>

<h3>é‡å¤§äº‹æ•…ã®æ­´å²</h3>

<table>
<thead>
<tr>
<th>äº‹æ•…å</th>
<th>å¹´</th>
<th>æ­»è€…æ•°</th>
<th>ä¸»ãªåŸå› </th>
<th>æ•™è¨“</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Flixborough</strong></td>
<td>1974</td>
<td>28</td>
<td>é…ç®¡è¨­è¨ˆä¸è‰¯ã«ã‚ˆã‚‹ã‚·ã‚¯ãƒ­ãƒ˜ã‚­ã‚µãƒ³æ¼æ´©</td>
<td>Change Managementã®é‡è¦æ€§</td>
</tr>
<tr>
<td><strong>Bhopal</strong></td>
<td>1984</td>
<td>3,787+</td>
<td>MICï¼ˆãƒ¡ãƒãƒ«ã‚¤ã‚½ã‚·ã‚¢ãƒãƒ¼ãƒˆï¼‰æ¼æ´©</td>
<td>å¤šé‡ä¿è­·å±¤ã®å¿…è¦æ€§</td>
</tr>
<tr>
<td><strong>Piper Alpha</strong></td>
<td>1988</td>
<td>167</td>
<td>ã‚¬ã‚¹æ¼æ´©â†’ç«ç½â†’çˆ†ç™º</td>
<td>Permit-to-Workã‚·ã‚¹ãƒ†ãƒ </td>
</tr>
<tr>
<td><strong>Texas City</strong></td>
<td>2005</td>
<td>15</td>
<td>è’¸ç•™å¡”ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼â†’çˆ†ç™º</td>
<td>å®‰å…¨æ–‡åŒ–ã®é‡è¦æ€§</td>
</tr>
</tbody>
</table>

<blockquote>
<p><strong>é‡è¦ãªæ´å¯Ÿ:</strong> ã“ã‚Œã‚‰ã®äº‹æ•…ã®å…±é€šç‚¹ã¯ã€æŠ€è¡“çš„ãªæ•…éšœã ã‘ã§ãªãã€ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®å¤±æ•—ï¼ˆManagement System Failureï¼‰ãŒæ ¹æœ¬åŸå› ã§ã‚ã‚‹ã“ã¨ã§ã™ã€‚</p>
</blockquote>

<hr />

<h2>1.2 ãƒã‚¶ãƒ¼ãƒ‰è­˜åˆ¥ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</h2>

<h3>Example 1: ãƒã‚¶ãƒ¼ãƒ‰è­˜åˆ¥ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…</h3>

<p>ãƒ—ãƒ­ã‚»ã‚¹ãƒã‚¶ãƒ¼ãƒ‰åˆ†æï¼ˆPHA: Process Hazard Analysisï¼‰ã®ç¬¬ä¸€æ­©ã¯ã€ä½“ç³»çš„ãªãƒã‚¶ãƒ¼ãƒ‰è­˜åˆ¥ã§ã™ã€‚</p>

<pre><code class="language-python"># ===================================
# Example 1: ãƒã‚¶ãƒ¼ãƒ‰è­˜åˆ¥ã‚·ã‚¹ãƒ†ãƒ 
# ===================================

import pandas as pd
from dataclasses import dataclass
from typing import List, Dict
from enum import Enum

class HazardCategory(Enum):
    """ãƒã‚¶ãƒ¼ãƒ‰ã‚«ãƒ†ã‚´ãƒªãƒ¼"""
    PHYSICAL = "ç‰©ç†çš„ãƒã‚¶ãƒ¼ãƒ‰"
    CHEMICAL = "åŒ–å­¦çš„ãƒã‚¶ãƒ¼ãƒ‰"
    BIOLOGICAL = "ç”Ÿç‰©å­¦çš„ãƒã‚¶ãƒ¼ãƒ‰"
    ERGONOMIC = "äººé–“å·¥å­¦çš„ãƒã‚¶ãƒ¼ãƒ‰"

class Severity(Enum):
    """å½±éŸ¿åº¦ãƒ¬ãƒ™ãƒ«"""
    CATASTROPHIC = 5  # å£Šæ»…çš„ï¼ˆè¤‡æ•°ã®æ­»äº¡ï¼‰
    CRITICAL = 4      # é‡å¤§ï¼ˆ1åä»¥ä¸Šã®æ­»äº¡ï¼‰
    MARGINAL = 3      # é™å®šçš„ï¼ˆé‡å‚·ï¼‰
    NEGLIGIBLE = 2    # è»½å¾®ï¼ˆè»½å‚·ï¼‰
    MINIMAL = 1       # æœ€å°ï¼ˆå¿œæ€¥å‡¦ç½®ã®ã¿ï¼‰

@dataclass
class Hazard:
    """ãƒã‚¶ãƒ¼ãƒ‰æƒ…å ±"""
    id: str
    name: str
    category: HazardCategory
    description: str
    potential_causes: List[str]
    potential_consequences: List[str]
    severity: Severity
    existing_safeguards: List[str]

class HazardIdentificationSystem:
    """ãƒã‚¶ãƒ¼ãƒ‰è­˜åˆ¥ã‚·ã‚¹ãƒ†ãƒ """

    def __init__(self):
        self.hazards: List[Hazard] = []
        self._initialize_common_hazards()

    def _initialize_common_hazards(self):
        """ä¸€èˆ¬çš„ãªåŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹ãƒã‚¶ãƒ¼ãƒ‰ã®åˆæœŸåŒ–"""

        # ãƒã‚¶ãƒ¼ãƒ‰1: é«˜åœ§ã‚¬ã‚¹æ¼æ´©
        self.add_hazard(Hazard(
            id="HAZ-001",
            name="é«˜åœ§ã‚¬ã‚¹æ¼æ´©",
            category=HazardCategory.PHYSICAL,
            description="åå¿œå™¨ã‹ã‚‰ã®é«˜åœ§æ°´ç´ ã‚¬ã‚¹æ¼æ´©",
            potential_causes=[
                "é…ç®¡ãƒ•ãƒ©ãƒ³ã‚¸ã®ã‚¬ã‚¹ã‚±ãƒƒãƒˆåŠ£åŒ–",
                "è…é£Ÿã«ã‚ˆã‚‹é…ç®¡ç©¿å­”",
                "ãƒãƒ«ãƒ–ã‚·ãƒ¼ãƒˆæ‘©è€—",
                "éåœ§ã«ã‚ˆã‚‹ãƒ©ãƒ—ãƒãƒ£ãƒ¼ãƒ‡ã‚£ã‚¹ã‚¯ç ´è£‚"
            ],
            potential_consequences=[
                "ç«ç½ãƒ»çˆ†ç™ºï¼ˆç€ç«æºãŒã‚ã‚‹å ´åˆï¼‰",
                "çª’æ¯ï¼ˆå¯†é–‰ç©ºé–“ã§ã®é…¸ç´ æ¬ ä¹ï¼‰",
                "ä½æ¸©ç«å‚·ï¼ˆLNGã®å ´åˆï¼‰",
                "ç’°å¢ƒæ±šæŸ“"
            ],
            severity=Severity.CATASTROPHIC,
            existing_safeguards=[
                "ã‚¬ã‚¹æ¤œçŸ¥å™¨ï¼ˆ0.4% LELè¨­å®šï¼‰",
                "ç·Šæ€¥é®æ–­å¼ï¼ˆESDï¼‰",
                "åœ§åŠ›é€ƒã—å¼ï¼ˆPRVï¼‰",
                "ãƒ™ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ "
            ]
        ))

        # ãƒã‚¶ãƒ¼ãƒ‰2: ç™ºç†±åå¿œæš´èµ°
        self.add_hazard(Hazard(
            id="HAZ-002",
            name="ç™ºç†±åå¿œæš´èµ°",
            category=HazardCategory.CHEMICAL,
            description="å†·å´ç³»çµ±æ•…éšœã«ã‚ˆã‚‹åå¿œæš´èµ°",
            potential_causes=[
                "å†·å´æ°´ãƒãƒ³ãƒ—æ•…éšœ",
                "æ¸©åº¦åˆ¶å¾¡ç³»ã®æ•…éšœ",
                "æ”ªæ‹Œæ©Ÿåœæ­¢ã«ã‚ˆã‚‹å±€æ‰€éç†±",
                "è§¦åª’éå‰°æŠ•å…¥"
            ],
            potential_consequences=[
                "åå¿œå™¨ç ´è£‚",
                "æœ‰æ¯’ã‚¬ã‚¹æ”¾å‡º",
                "ç«ç½ãƒ»çˆ†ç™º",
                "å‘¨è¾ºæ–½è¨­ã¸ã®é€£é–ç½å®³"
            ],
            severity=Severity.CRITICAL,
            existing_safeguards=[
                "ç‹¬ç«‹é«˜æ¸©ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ­ãƒƒã‚¯ï¼ˆ120Â°Cï¼‰",
                "ç·Šæ€¥å†·å´ã‚·ã‚¹ãƒ†ãƒ ",
                "ãƒ©ãƒ—ãƒãƒ£ãƒ¼ãƒ‡ã‚£ã‚¹ã‚¯ + ã‚¯ã‚¨ãƒ³ãƒãƒ£ãƒ¼",
                "åŸæ–™ä¾›çµ¦ç·Šæ€¥é®æ–­"
            ]
        ))

        # ãƒã‚¶ãƒ¼ãƒ‰3: å¯ç‡ƒæ€§æ¶²ä½“æ¼æ´©
        self.add_hazard(Hazard(
            id="HAZ-003",
            name="å¯ç‡ƒæ€§æ¶²ä½“æ¼æ´©",
            category=HazardCategory.CHEMICAL,
            description="ãƒˆãƒ«ã‚¨ãƒ³è²¯è”µã‚¿ãƒ³ã‚¯ã‹ã‚‰ã®æ¶²ä½“æ¼æ´©",
            potential_causes=[
                "ã‚¿ãƒ³ã‚¯åº•éƒ¨è…é£Ÿ",
                "ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ï¼ˆãƒ¬ãƒ™ãƒ«è¨ˆæ•…éšœï¼‰",
                "ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ›ãƒ¼ã‚¹ç ´æ",
                "åœ°éœ‡ã«ã‚ˆã‚‹é…ç®¡ç ´æ–­"
            ],
            potential_consequences=[
                "æ¶²é¢ç«ç½ï¼ˆãƒ—ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ã‚¢ï¼‰",
                "è’¸æ°—é›²çˆ†ç™ºï¼ˆVCEï¼‰",
                "åœŸå£Œãƒ»åœ°ä¸‹æ°´æ±šæŸ“",
                "è¿‘éš£ä½æ°‘ã¸ã®å¥åº·å½±éŸ¿"
            ],
            severity=Severity.CRITICAL,
            existing_safeguards=[
                "é˜²æ¶²å ¤ï¼ˆå®¹é‡110%ï¼‰",
                "é«˜ä½ãƒ¬ãƒ™ãƒ«ã‚¢ãƒ©ãƒ¼ãƒ  + ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ­ãƒƒã‚¯",
                "æ¼æ´©æ¤œçŸ¥ã‚·ã‚¹ãƒ†ãƒ ",
                "æ³¡æ¶ˆç«è¨­å‚™"
            ]
        ))

    def add_hazard(self, hazard: Hazard):
        """ãƒã‚¶ãƒ¼ãƒ‰ã‚’è¿½åŠ """
        self.hazards.append(hazard)

    def get_hazards_by_severity(self, min_severity: Severity) -&gt; List[Hazard]:
        """æŒ‡å®šã—ãŸå½±éŸ¿åº¦ä»¥ä¸Šã®ãƒã‚¶ãƒ¼ãƒ‰ã‚’å–å¾—"""
        return [h for h in self.hazards if h.severity.value &gt;= min_severity.value]

    def generate_hazard_register(self) -&gt; pd.DataFrame:
        """ãƒã‚¶ãƒ¼ãƒ‰ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ¼ï¼ˆä¸€è¦§è¡¨ï¼‰ã‚’ç”Ÿæˆ"""
        data = []
        for h in self.hazards:
            data.append({
                'ID': h.id,
                'ãƒã‚¶ãƒ¼ãƒ‰å': h.name,
                'ã‚«ãƒ†ã‚´ãƒªãƒ¼': h.category.value,
                'å½±éŸ¿åº¦': h.severity.name,
                'å½±éŸ¿åº¦ã‚¹ã‚³ã‚¢': h.severity.value,
                'ä¸»ãªåŸå› ': '; '.join(h.potential_causes[:2]),  # æœ€åˆã®2ã¤
                'ä¸»ãªçµæœ': '; '.join(h.potential_consequences[:2]),
                'æ—¢å­˜å®‰å…¨å¯¾ç­–æ•°': len(h.existing_safeguards)
            })

        df = pd.DataFrame(data)
        return df.sort_values('å½±éŸ¿åº¦ã‚¹ã‚³ã‚¢', ascending=False)


# ä½¿ç”¨ä¾‹
hazard_system = HazardIdentificationSystem()

# é«˜ãƒªã‚¹ã‚¯ãƒã‚¶ãƒ¼ãƒ‰ã‚’æŠ½å‡º
critical_hazards = hazard_system.get_hazards_by_severity(Severity.CRITICAL)
print(f"é‡å¤§ãƒã‚¶ãƒ¼ãƒ‰æ•°: {len(critical_hazards)}\n")

# ãƒã‚¶ãƒ¼ãƒ‰ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ¼ç”Ÿæˆ
hazard_register = hazard_system.generate_hazard_register()
print("=== ãƒã‚¶ãƒ¼ãƒ‰ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ¼ ===")
print(hazard_register.to_string(index=False))

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# é‡å¤§ãƒã‚¶ãƒ¼ãƒ‰æ•°: 2
#
# === ãƒã‚¶ãƒ¼ãƒ‰ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ¼ ===
#       ID    ãƒã‚¶ãƒ¼ãƒ‰å ã‚«ãƒ†ã‚´ãƒªãƒ¼      å½±éŸ¿åº¦  å½±éŸ¿åº¦ã‚¹ã‚³ã‚¢ ...
#  HAZ-001  é«˜åœ§ã‚¬ã‚¹æ¼æ´©  ç‰©ç†çš„ãƒã‚¶ãƒ¼ãƒ‰  CATASTROPHIC     5 ...
#  HAZ-002  ç™ºç†±åå¿œæš´èµ°  åŒ–å­¦çš„ãƒã‚¶ãƒ¼ãƒ‰  CRITICAL         4 ...
#  HAZ-003  å¯ç‡ƒæ€§æ¶²ä½“æ¼æ´© åŒ–å­¦çš„ãƒã‚¶ãƒ¼ãƒ‰  CRITICAL         4 ...
</code></pre>

<hr />

<h2>1.3 ãƒªã‚¹ã‚¯è©•ä¾¡ã®åŸºç¤</h2>

<h3>ãƒªã‚¹ã‚¯ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã®æ¦‚å¿µ</h3>

<p><strong>ãƒªã‚¹ã‚¯</strong>ã¯ã€ç™ºç”Ÿé »åº¦ï¼ˆLikelihoodï¼‰ã¨å½±éŸ¿åº¦ï¼ˆConsequenceï¼‰ã®çµ„ã¿åˆã‚ã›ã§è©•ä¾¡ã•ã‚Œã¾ã™ï¼š</p>

<p>$$
\text{Risk} = \text{Likelihood} \times \text{Consequence}
$$</p>

<h3>Example 2: ãƒªã‚¹ã‚¯ãƒãƒˆãƒªãƒƒã‚¯ã‚¹å®Ÿè£…</h3>

<pre><code class="language-python"># ===================================
# Example 2: ãƒªã‚¹ã‚¯ãƒãƒˆãƒªãƒƒã‚¯ã‚¹
# ===================================

import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from enum import Enum

class Likelihood(Enum):
    """ç™ºç”Ÿé »åº¦ãƒ¬ãƒ™ãƒ«"""
    FREQUENT = 5      # é »ç¹ï¼ˆå¹´1å›ä»¥ä¸Šï¼‰
    PROBABLE = 4      # èµ·ã“ã‚Šã†ã‚‹ï¼ˆ2-10å¹´ã«1å›ï¼‰
    OCCASIONAL = 3    # æ™‚ã€…ï¼ˆ10-100å¹´ã«1å›ï¼‰
    REMOTE = 2        # ç¨€ï¼ˆ100-1000å¹´ã«1å›ï¼‰
    IMPROBABLE = 1    # ã»ã¼èµ·ã“ã‚‰ãªã„ï¼ˆ1000å¹´ã«1å›ä»¥ä¸‹ï¼‰

class RiskLevel(Enum):
    """ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«"""
    EXTREME = "æ¥µã‚ã¦é«˜ã„"
    HIGH = "é«˜ã„"
    MEDIUM = "ä¸­ç¨‹åº¦"
    LOW = "ä½ã„"

class RiskMatrix:
    """ãƒªã‚¹ã‚¯ãƒãƒˆãƒªãƒƒã‚¯ã‚¹è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ """

    def __init__(self):
        # ãƒªã‚¹ã‚¯ãƒãƒˆãƒªãƒƒã‚¯ã‚¹å®šç¾©ï¼ˆ5x5ï¼‰
        # è¡Œ: Severity (1-5), åˆ—: Likelihood (1-5)
        self.matrix = np.array([
            [1,  2,  3,  5,  8 ],  # Severity 1 (MINIMAL)
            [2,  4,  6,  10, 15],  # Severity 2 (NEGLIGIBLE)
            [4,  8,  12, 18, 25],  # Severity 3 (MARGINAL)
            [8,  15, 20, 25, 30],  # Severity 4 (CRITICAL)
            [12, 20, 25, 30, 35]   # Severity 5 (CATASTROPHIC)
        ])

        # ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«é–¾å€¤
        self.thresholds = {
            RiskLevel.EXTREME: 25,  # â‰¥25
            RiskLevel.HIGH: 15,     # 15-24
            RiskLevel.MEDIUM: 8,    # 8-14
            RiskLevel.LOW: 0        # <8
        }

    def calculate_risk_score(self, severity: Severity, likelihood: Likelihood) -&gt; int:
        """ãƒªã‚¹ã‚¯ã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—"""
        return self.matrix[severity.value - 1, likelihood.value - 1]

    def determine_risk_level(self, risk_score: int) -&gt; RiskLevel:
        """ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«ã‚’åˆ¤å®š"""
        if risk_score &gt;= self.thresholds[RiskLevel.EXTREME]:
            return RiskLevel.EXTREME
        elif risk_score &gt;= self.thresholds[RiskLevel.HIGH]:
            return RiskLevel.HIGH
        elif risk_score &gt;= self.thresholds[RiskLevel.MEDIUM]:
            return RiskLevel.MEDIUM
        else:
            return RiskLevel.LOW

    def assess_risk(self, hazard_name: str, severity: Severity,
                    likelihood: Likelihood) -&gt; Dict:
        """åŒ…æ‹¬çš„ãƒªã‚¹ã‚¯è©•ä¾¡"""
        risk_score = self.calculate_risk_score(severity, likelihood)
        risk_level = self.determine_risk_level(risk_score)

        # å¯¾å¿œã‚¢ã‚¯ã‚·ãƒ§ãƒ³
        if risk_level == RiskLevel.EXTREME:
            action = "å³åº§ã®å¯¾å¿œå¿…è¦ã€‚æ“æ¥­åœæ­¢ã‚’æ¤œè¨ã€‚"
        elif risk_level == RiskLevel.HIGH:
            action = "å„ªå…ˆçš„ã«ãƒªã‚¹ã‚¯ä½æ¸›ç­–ã‚’å®Ÿæ–½ï¼ˆ3ãƒ¶æœˆä»¥å†…ï¼‰ã€‚"
        elif risk_level == RiskLevel.MEDIUM:
            action = "ãƒªã‚¹ã‚¯ä½æ¸›ç­–ã‚’è¨ˆç”»ï¼ˆ1å¹´ä»¥å†…ï¼‰ã€‚"
        else:
            action = "ç¾çŠ¶ã®å®‰å…¨å¯¾ç­–ã‚’ç¶­æŒã€‚"

        return {
            'ãƒã‚¶ãƒ¼ãƒ‰': hazard_name,
            'å½±éŸ¿åº¦': severity.name,
            'ç™ºç”Ÿé »åº¦': likelihood.name,
            'ãƒªã‚¹ã‚¯ã‚¹ã‚³ã‚¢': risk_score,
            'ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«': risk_level.value,
            'æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³': action
        }

    def visualize_matrix(self, assessments: List[Dict] = None):
        """ãƒªã‚¹ã‚¯ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã‚’å¯è¦–åŒ–"""
        fig, ax = plt.subplots(figsize=(10, 8))

        # ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ä½œæˆ
        sns.heatmap(self.matrix, annot=True, fmt='d', cmap='YlOrRd',
                    cbar_kws={'label': 'Risk Score'},
                    xticklabels=['Improbable\n(1)', 'Remote\n(2)', 'Occasional\n(3)',
                                 'Probable\n(4)', 'Frequent\n(5)'],
                    yticklabels=['Minimal\n(1)', 'Negligible\n(2)', 'Marginal\n(3)',
                                 'Critical\n(4)', 'Catastrophic\n(5)'],
                    ax=ax)

        ax.set_xlabel('Likelihood (ç™ºç”Ÿé »åº¦)', fontsize=12, fontweight='bold')
        ax.set_ylabel('Severity (å½±éŸ¿åº¦)', fontsize=12, fontweight='bold')
        ax.set_title('Process Safety Risk Matrix', fontsize=14, fontweight='bold')

        # è©•ä¾¡çµæœã‚’ãƒ—ãƒ­ãƒƒãƒˆ
        if assessments:
            for assess in assessments:
                sev_map = {'MINIMAL': 1, 'NEGLIGIBLE': 2, 'MARGINAL': 3,
                           'CRITICAL': 4, 'CATASTROPHIC': 5}
                like_map = {'IMPROBABLE': 1, 'REMOTE': 2, 'OCCASIONAL': 3,
                            'PROBABLE': 4, 'FREQUENT': 5}

                sev_idx = sev_map[assess['å½±éŸ¿åº¦']] - 1
                like_idx = like_map[assess['ç™ºç”Ÿé »åº¦']] - 1

                ax.plot(like_idx + 0.5, sev_idx + 0.5, 'bo', markersize=15,
                        markeredgecolor='white', markeredgewidth=2)

        plt.tight_layout()
        return fig


# ä½¿ç”¨ä¾‹
risk_matrix = RiskMatrix()

# è¤‡æ•°ã®ãƒã‚¶ãƒ¼ãƒ‰ã‚’è©•ä¾¡
assessments = [
    risk_matrix.assess_risk("é«˜åœ§ã‚¬ã‚¹æ¼æ´©", Severity.CATASTROPHIC, Likelihood.OCCASIONAL),
    risk_matrix.assess_risk("ç™ºç†±åå¿œæš´èµ°", Severity.CRITICAL, Likelihood.REMOTE),
    risk_matrix.assess_risk("å¯ç‡ƒæ€§æ¶²ä½“æ¼æ´©", Severity.CRITICAL, Likelihood.OCCASIONAL)
]

# çµæœè¡¨ç¤º
print("=== ãƒªã‚¹ã‚¯è©•ä¾¡çµæœ ===\n")
for assess in assessments:
    print(f"ãƒã‚¶ãƒ¼ãƒ‰: {assess['ãƒã‚¶ãƒ¼ãƒ‰']}")
    print(f"  ãƒªã‚¹ã‚¯ã‚¹ã‚³ã‚¢: {assess['ãƒªã‚¹ã‚¯ã‚¹ã‚³ã‚¢']} ({assess['ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«']})")
    print(f"  æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³: {assess['æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³']}\n")

# å¯è¦–åŒ–
fig = risk_matrix.visualize_matrix(assessments)
# plt.show()  # Jupyterç’°å¢ƒã§ã¯è‡ªå‹•è¡¨ç¤º

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# === ãƒªã‚¹ã‚¯è©•ä¾¡çµæœ ===
#
# ãƒã‚¶ãƒ¼ãƒ‰: é«˜åœ§ã‚¬ã‚¹æ¼æ´©
#   ãƒªã‚¹ã‚¯ã‚¹ã‚³ã‚¢: 25 (æ¥µã‚ã¦é«˜ã„)
#   æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³: å³åº§ã®å¯¾å¿œå¿…è¦ã€‚æ“æ¥­åœæ­¢ã‚’æ¤œè¨ã€‚
#
# ãƒã‚¶ãƒ¼ãƒ‰: ç™ºç†±åå¿œæš´èµ°
#   ãƒªã‚¹ã‚¯ã‚¹ã‚³ã‚¢: 15 (é«˜ã„)
#   æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³: å„ªå…ˆçš„ã«ãƒªã‚¹ã‚¯ä½æ¸›ç­–ã‚’å®Ÿæ–½ï¼ˆ3ãƒ¶æœˆä»¥å†…ï¼‰ã€‚
</code></pre>

<hr />

<h2>1.4 ä¿è­·å±¤åˆ†æï¼ˆLOPAï¼‰</h2>

<h3>LOPAã®æ¦‚å¿µ</h3>

<p><strong>LOPAï¼ˆLayer of Protection Analysisï¼‰</strong>ã¯ã€ãƒªã‚¹ã‚¯ã‚·ãƒŠãƒªã‚ªã«å¯¾ã™ã‚‹ç‹¬ç«‹ä¿è­·å±¤ï¼ˆIPL: Independent Protection Layerï¼‰ã®æœ‰åŠ¹æ€§ã‚’å®šé‡çš„ã«è©•ä¾¡ã™ã‚‹æ‰‹æ³•ã§ã™ã€‚</p>

<h3>Example 3: LOPAå®Ÿè£…ã¨SILè¨ˆç®—</h3>

<pre><code class="language-python"># ===================================
# Example 3: ä¿è­·å±¤åˆ†æï¼ˆLOPAï¼‰ã¨SILè¨ˆç®—
# ===================================

from dataclasses import dataclass
from typing import List
import math

@dataclass
class ProtectionLayer:
    """ä¿è­·å±¤ï¼ˆIPLï¼‰"""
    name: str
    pfd: float  # Probability of Failure on Demandï¼ˆè¦æ±‚æ™‚æ•…éšœç¢ºç‡ï¼‰

    @property
    def risk_reduction_factor(self) -&gt; float:
        """ãƒªã‚¹ã‚¯ä½æ¸›ä¿‚æ•°ï¼ˆRRFï¼‰"""
        return 1.0 / self.pfd if self.pfd &gt; 0 else float('inf')

class SIL(Enum):
    """Safety Integrity Levelï¼ˆå®‰å…¨åº¦æ°´æº–ï¼‰"""
    SIL_4 = (1e-5, 1e-4, "10^-5 to 10^-4")
    SIL_3 = (1e-4, 1e-3, "10^-4 to 10^-3")
    SIL_2 = (1e-3, 1e-2, "10^-3 to 10^-2")
    SIL_1 = (1e-2, 1e-1, "10^-2 to 10^-1")
    NO_SIL = (1e-1, 1.0, "> 10^-1")

    def __init__(self, lower, upper, range_str):
        self.lower = lower
        self.upper = upper
        self.range_str = range_str

class LOPAAnalysis:
    """ä¿è­·å±¤åˆ†æã‚·ã‚¹ãƒ†ãƒ """

    def __init__(self, scenario_name: str, initiating_event_frequency: float,
                 consequence_severity: Severity):
        """
        Args:
            scenario_name: ã‚·ãƒŠãƒªã‚ªå
            initiating_event_frequency: èµ·å› äº‹è±¡é »åº¦ï¼ˆå›/å¹´ï¼‰
            consequence_severity: å½±éŸ¿åº¦
        """
        self.scenario_name = scenario_name
        self.initiating_event_frequency = initiating_event_frequency
        self.consequence_severity = consequence_severity
        self.protection_layers: List[ProtectionLayer] = []

    def add_protection_layer(self, layer: ProtectionLayer):
        """ä¿è­·å±¤ã‚’è¿½åŠ """
        self.protection_layers.append(layer)

    def calculate_mitigated_frequency(self) -&gt; float:
        """ä½æ¸›å¾Œäº‹è±¡é »åº¦ã‚’è¨ˆç®—"""
        total_pfd = self.initiating_event_frequency

        for layer in self.protection_layers:
            total_pfd *= layer.pfd

        return total_pfd

    def determine_required_sil(self, tolerable_frequency: float = 1e-4) -&gt; SIL:
        """å¿…è¦ãªSILãƒ¬ãƒ™ãƒ«ã‚’æ±ºå®š

        Args:
            tolerable_frequency: è¨±å®¹å¯èƒ½ãªäº‹è±¡é »åº¦ï¼ˆå›/å¹´ï¼‰
        """
        current_frequency = self.calculate_mitigated_frequency()

        if current_frequency &lt;= tolerable_frequency:
            return SIL.NO_SIL

        # è¿½åŠ ã®ãƒªã‚¹ã‚¯ä½æ¸›ãŒå¿…è¦
        required_pfd = tolerable_frequency / self.initiating_event_frequency

        # æ—¢å­˜ä¿è­·å±¤ã®PFDã‚’è€ƒæ…®
        for layer in self.protection_layers:
            required_pfd /= layer.pfd

        # SILåˆ¤å®š
        for sil in [SIL.SIL_4, SIL.SIL_3, SIL.SIL_2, SIL.SIL_1]:
            if sil.lower &lt;= required_pfd &lt; sil.upper:
                return sil

        return SIL.NO_SIL

    def generate_lopa_report(self, tolerable_frequency: float = 1e-4) -&gt; str:
        """LOPAãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ"""
        mitigated_freq = self.calculate_mitigated_frequency()
        required_sil = self.determine_required_sil(tolerable_frequency)

        report = f"""
{'='*60}
LOPA Analysis Report
{'='*60}

Scenario: {self.scenario_name}
Consequence Severity: {self.consequence_severity.name}

--- Initiating Event ---
Frequency: {self.initiating_event_frequency:.2e} events/year

--- Independent Protection Layers (IPL) ---
"""

        total_rrf = 1.0
        for i, layer in enumerate(self.protection_layers, 1):
            rrf = layer.risk_reduction_factor
            total_rrf *= rrf
            report += f"{i}. {layer.name}\n"
            report += f"   PFD: {layer.pfd:.2e}\n"
            report += f"   RRF: {rrf:.0f}\n\n"

        report += f"""--- Risk Assessment ---
Total Risk Reduction Factor: {total_rrf:.0f}
Mitigated Event Frequency: {mitigated_freq:.2e} events/year
Tolerable Frequency Target: {tolerable_frequency:.2e} events/year

Risk Status: {'ACCEPTABLE' if mitigated_freq &lt;= tolerable_frequency else 'UNACCEPTABLE'}

--- SIL Requirement ---
"""

        if required_sil == SIL.NO_SIL:
            report += "Required SIL: None (existing IPLs are sufficient)\n"
        else:
            report += f"Required SIL: {required_sil.name}\n"
            report += f"Target PFD Range: {required_sil.range_str}\n"
            report += f"\nRecommendation: Implement SIF (Safety Instrumented Function) with {required_sil.name}\n"

        report += f"\n{'='*60}\n"

        return report


# ä½¿ç”¨ä¾‹: åå¿œå™¨éåœ§ã‚·ãƒŠãƒªã‚ªã®LOPAåˆ†æ
lopa = LOPAAnalysis(
    scenario_name="åå¿œå™¨éåœ§ã«ã‚ˆã‚‹ç ´è£‚",
    initiating_event_frequency=1e-2,  # 0.01å›/å¹´ï¼ˆ100å¹´ã«1å›ï¼‰
    consequence_severity=Severity.CATASTROPHIC
)

# ä¿è­·å±¤ã‚’è¿½åŠ 
lopa.add_protection_layer(ProtectionLayer(
    name="Basic Process Control System (BPCS)",
    pfd=1e-1  # 90%æœ‰åŠ¹æ€§
))

lopa.add_protection_layer(ProtectionLayer(
    name="High Pressure Alarm (operator response)",
    pfd=1e-1  # 90%æœ‰åŠ¹æ€§
))

lopa.add_protection_layer(ProtectionLayer(
    name="Pressure Relief Valve (PRV)",
    pfd=1e-2  # 99%æœ‰åŠ¹æ€§
))

# LOPAãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
report = lopa.generate_lopa_report(tolerable_frequency=1e-5)
print(report)

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# ============================================================
# LOPA Analysis Report
# ============================================================
#
# Scenario: åå¿œå™¨éåœ§ã«ã‚ˆã‚‹ç ´è£‚
# Consequence Severity: CATASTROPHIC
#
# --- Initiating Event ---
# Frequency: 1.00e-02 events/year
#
# --- Independent Protection Layers (IPL) ---
# 1. Basic Process Control System (BPCS)
#    PFD: 1.00e-01
#    RRF: 10
#
# 2. High Pressure Alarm (operator response)
#    PFD: 1.00e-01
#    RRF: 10
#
# 3. Pressure Relief Valve (PRV)
#    PFD: 1.00e-02
#    RRF: 100
#
# --- Risk Assessment ---
# Total Risk Reduction Factor: 10000
# Mitigated Event Frequency: 1.00e-06 events/year
# Tolerable Frequency Target: 1.00e-05 events/year
#
# Risk Status: ACCEPTABLE
#
# --- SIL Requirement ---
# Required SIL: None (existing IPLs are sufficient)
</code></pre>

<hr />

<h2>1.5 å½±éŸ¿åº¦è¨ˆç®—ï¼ˆConsequence Modelingï¼‰</h2>

<h3>Example 4: ã‚¬ã‚¹æ‹¡æ•£ãƒ¢ãƒ‡ãƒ«ï¼ˆGaussian Plumeï¼‰</h3>

<p>æœ‰æ¯’ã‚¬ã‚¹æ¼æ´©æ™‚ã®å½±éŸ¿ç¯„å›²ã‚’äºˆæ¸¬ã™ã‚‹Gaussian Plumeãƒ¢ãƒ‡ãƒ«ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</p>

<pre><code class="language-python"># ===================================
# Example 4: ã‚¬ã‚¹æ‹¡æ•£ãƒ¢ãƒ‡ãƒ«ï¼ˆGaussian Plumeï¼‰
# ===================================

import numpy as np
import matplotlib.pyplot as plt
from scipy.special import erf

class GaussianPlumeModel:
    """Gaussian Plumeæ‹¡æ•£ãƒ¢ãƒ‡ãƒ«ï¼ˆå®šå¸¸çŠ¶æ…‹ï¼‰"""

    def __init__(self, emission_rate: float, wind_speed: float,
                 stack_height: float = 0.0, stability_class: str = 'D'):
        """
        Args:
            emission_rate: æ”¾å‡ºé€Ÿåº¦ [g/s]
            wind_speed: é¢¨é€Ÿ [m/s]
            stack_height: æ”¾å‡ºé«˜ã• [m]
            stability_class: å¤§æ°—å®‰å®šåº¦ã‚¯ãƒ©ã‚¹ï¼ˆA-F, Pasquillåˆ†é¡ï¼‰
        """
        self.Q = emission_rate
        self.u = wind_speed
        self.H = stack_height
        self.stability_class = stability_class

    def _pasquill_gifford_sigma(self, x: float) -&gt; tuple:
        """Pasquill-Giffordæ‹¡æ•£ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

        Args:
            x: é¢¨ä¸‹è·é›¢ [m]

        Returns:
            (sigma_y, sigma_z): æ¨ªæ–¹å‘ãƒ»é‰›ç›´æ–¹å‘æ‹¡æ•£ä¿‚æ•° [m]
        """
        # ç°¡ç•¥åŒ–ã•ã‚ŒãŸPasquill-Giffordå¼ï¼ˆstability class D: neutralï¼‰
        # å®Ÿéš›ã®å®Ÿè£…ã§ã¯ stability_class ã«å¿œã˜ã¦ä¿‚æ•°ã‚’å¤‰ãˆã‚‹

        coefficients = {
            'A': (0.22, 0.20),  # Very unstable
            'B': (0.16, 0.12),  # Unstable
            'C': (0.11, 0.08),  # Slightly unstable
            'D': (0.08, 0.06),  # Neutralï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
            'E': (0.06, 0.03),  # Slightly stable
            'F': (0.04, 0.016)  # Stable
        }

        a_y, a_z = coefficients.get(self.stability_class, (0.08, 0.06))

        # æ‹¡æ•£ä¿‚æ•°è¨ˆç®—ï¼ˆçµŒé¨“å¼ï¼‰
        sigma_y = a_y * x * (1 + 0.0001 * x)**(-0.5)
        sigma_z = a_z * x

        return sigma_y, sigma_z

    def concentration(self, x: float, y: float, z: float) -&gt; float:
        """ç‰¹å®šä½ç½®ã§ã®æ¿ƒåº¦ã‚’è¨ˆç®—

        Args:
            x: é¢¨ä¸‹è·é›¢ [m]
            y: æ¨ªé¢¨æ–¹å‘è·é›¢ [m]
            z: åœ°ä¸Šé«˜ã• [m]

        Returns:
            æ¿ƒåº¦ [g/m^3]
        """
        if x &lt;= 0:
            return 0.0

        sigma_y, sigma_z = self._pasquill_gifford_sigma(x)

        # Gaussian Plumeå¼
        C = (self.Q / (2 * np.pi * self.u * sigma_y * sigma_z)) * \
            np.exp(-0.5 * (y / sigma_y)**2) * \
            (np.exp(-0.5 * ((z - self.H) / sigma_z)**2) +
             np.exp(-0.5 * ((z + self.H) / sigma_z)**2))  # åœ°è¡¨åå°„é …

        return C

    def ground_level_centerline_concentration(self, x: float) -&gt; float:
        """é¢¨ä¸‹ä¸­å¿ƒè»¸ãƒ»åœ°è¡¨ãƒ¬ãƒ™ãƒ«æ¿ƒåº¦ï¼ˆy=0, z=0ï¼‰"""
        return self.concentration(x, 0, 0)

    def calculate_impact_zone(self, threshold: float, max_distance: float = 5000) -&gt; float:
        """å½±éŸ¿ç¯„å›²ï¼ˆé–¾å€¤æ¿ƒåº¦ã«é”ã™ã‚‹æœ€å¤§è·é›¢ï¼‰ã‚’è¨ˆç®—

        Args:
            threshold: é–¾å€¤æ¿ƒåº¦ [g/m^3]
            max_distance: æœ€å¤§è©•ä¾¡è·é›¢ [m]

        Returns:
            å½±éŸ¿ç¯„å›²è·é›¢ [m]
        """
        distances = np.linspace(10, max_distance, 1000)
        concentrations = [self.ground_level_centerline_concentration(d)
                          for d in distances]

        # é–¾å€¤ä»¥ä¸Šã®æœ€é è·é›¢
        impact_distances = distances[np.array(concentrations) &gt;= threshold]

        if len(impact_distances) &gt; 0:
            return impact_distances[-1]
        else:
            return 0.0

    def visualize_concentration_profile(self, max_distance: float = 2000):
        """æ¿ƒåº¦ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¯è¦–åŒ–"""
        distances = np.linspace(10, max_distance, 500)
        concentrations = [self.ground_level_centerline_concentration(d)
                          for d in distances]

        fig, ax = plt.subplots(figsize=(10, 6))
        ax.plot(distances, np.array(concentrations) * 1e6, 'b-', linewidth=2)
        ax.set_xlabel('Distance Downwind (m)', fontsize=12)
        ax.set_ylabel('Concentration (mg/mÂ³)', fontsize=12)
        ax.set_title(f'Gaussian Plume Dispersion Model\n'
                     f'Q={self.Q} g/s, u={self.u} m/s, Class {self.stability_class}',
                     fontsize=14, fontweight='bold')
        ax.grid(True, alpha=0.3)
        ax.set_yscale('log')

        # ERPG/AEGLé–¾å€¤ä¾‹ï¼ˆå¡©ç´ ã‚¬ã‚¹ã®å ´åˆï¼‰
        aegl_2 = 2.8  # mg/m^3ï¼ˆ60åˆ†æš´éœ²ã§ä¸å¯é€†çš„å¥åº·å½±éŸ¿ï¼‰
        aegl_3 = 20   # mg/m^3ï¼ˆ60åˆ†æš´éœ²ã§ç”Ÿå‘½å±é™ºï¼‰

        ax.axhline(y=aegl_2, color='orange', linestyle='--',
                   label=f'AEGL-2: {aegl_2} mg/mÂ³')
        ax.axhline(y=aegl_3, color='red', linestyle='--',
                   label=f'AEGL-3: {aegl_3} mg/mÂ³')
        ax.legend()

        plt.tight_layout()
        return fig


# ä½¿ç”¨ä¾‹: å¡©ç´ ã‚¬ã‚¹ï¼ˆCl2ï¼‰æ¼æ´©ã‚·ãƒŠãƒªã‚ª
plume_model = GaussianPlumeModel(
    emission_rate=100,      # 100 g/sï¼ˆ360 kg/hrï¼‰
    wind_speed=3.0,         # 3 m/sï¼ˆã‚„ã‚„å¼±ã„é¢¨ï¼‰
    stack_height=2.0,       # 2mé«˜ã•ã‹ã‚‰æ”¾å‡º
    stability_class='D'     # ä¸­ç«‹å¤§æ°—
)

# åœ°è¡¨ä¸­å¿ƒè»¸ã§ã®æ¿ƒåº¦è¨ˆç®—
distances = [100, 500, 1000, 2000]
print("=== åœ°è¡¨ä¸­å¿ƒè»¸æ¿ƒåº¦ ===\n")
for d in distances:
    conc = plume_model.ground_level_centerline_concentration(d)
    print(f"Distance: {d:4d} m â†’ Concentration: {conc*1e6:.2f} mg/mÂ³")

# å½±éŸ¿ç¯„å›²è¨ˆç®—ï¼ˆAEGL-2: 2.8 mg/m^3ï¼‰
impact_distance_aegl2 = plume_model.calculate_impact_zone(
    threshold=2.8e-3  # 2.8 mg/m^3 = 2.8e-3 g/m^3
)
print(f"\nAEGL-2å½±éŸ¿ç¯„å›²: {impact_distance_aegl2:.0f} m")

# å¯è¦–åŒ–
fig = plume_model.visualize_concentration_profile()
# plt.show()

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# === åœ°è¡¨ä¸­å¿ƒè»¸æ¿ƒåº¦ ===
#
# Distance:  100 m â†’ Concentration: 127.45 mg/mÂ³
# Distance:  500 m â†’ Concentration: 8.73 mg/mÂ³
# Distance: 1000 m â†’ Concentration: 2.51 mg/mÂ³
# Distance: 2000 m â†’ Concentration: 0.73 mg/mÂ³
#
# AEGL-2å½±éŸ¿ç¯„å›²: 1245 m
</code></pre>

<blockquote>
<p><strong>å®Ÿå‹™ã¸ã®é©ç”¨:</strong> å®Ÿéš›ã®Consequence Modelingã§ã¯ã€ALOHAï¼ˆNOAAï¼‰ã€PHASTï¼ˆDNVï¼‰ã€EFFECTSï¼ˆTNOï¼‰ãªã©ã®å°‚é–€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚æœ¬ä¾‹ã¯æ•™è‚²ç›®çš„ã®ç°¡ç•¥åŒ–ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚</p>
</blockquote>

<hr />

<h2>1.6 Bow-tieåˆ†æ</h2>

<h3>Example 5: Bow-tieå›³ã®æ§‹ç¯‰</h3>

<p>Bow-tieåˆ†æã¯ã€ãƒã‚¶ãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã®åŸå› ï¼ˆå·¦å´ï¼‰ã¨çµæœï¼ˆå³å´ï¼‰ã‚’è¦–è¦šåŒ–ã—ã€äºˆé˜²çš„ä¿è­·å±¤ã¨ä½æ¸›çš„ä¿è­·å±¤ã‚’æ•´ç†ã—ã¾ã™ã€‚</p>

<pre><code class="language-python"># ===================================
# Example 5: Bow-tieåˆ†æ
# ===================================

from dataclasses import dataclass
from typing import List

@dataclass
class Threat:
    """è„…å¨ï¼ˆåŸå› ï¼‰"""
    name: str
    barriers: List[str]  # äºˆé˜²çš„ä¿è­·å±¤

@dataclass
class Consequence:
    """çµæœ"""
    name: str
    barriers: List[str]  # ä½æ¸›çš„ä¿è­·å±¤

class BowtieAnalysis:
    """Bow-tieåˆ†æã‚·ã‚¹ãƒ†ãƒ """

    def __init__(self, hazard_event: str):
        self.hazard_event = hazard_event
        self.threats: List[Threat] = []
        self.consequences: List[Consequence] = []

    def add_threat(self, threat: Threat):
        """è„…å¨ã‚’è¿½åŠ """
        self.threats.append(threat)

    def add_consequence(self, consequence: Consequence):
        """çµæœã‚’è¿½åŠ """
        self.consequences.append(consequence)

    def generate_bowtie_report(self) -&gt; str:
        """Bow-tieãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼ˆãƒ†ã‚­ã‚¹ãƒˆå½¢å¼ï¼‰"""
        report = f"""
{'='*70}
Bow-tie Analysis Report
{'='*70}

Hazard Event: {self.hazard_event}

{'='*70}
LEFT SIDE: Threats (Causes) and Preventive Barriers
{'='*70}

"""

        for i, threat in enumerate(self.threats, 1):
            report += f"\nThreat {i}: {threat.name}\n"
            report += "  Preventive Barriers:\n"
            for j, barrier in enumerate(threat.barriers, 1):
                report += f"    {j}. {barrier}\n"

        report += f"""
{'='*70}
RIGHT SIDE: Consequences and Mitigative Barriers
{'='*70}

"""

        for i, consequence in enumerate(self.consequences, 1):
            report += f"\nConsequence {i}: {consequence.name}\n"
            report += "  Mitigative Barriers:\n"
            for j, barrier in enumerate(consequence.barriers, 1):
                report += f"    {j}. {barrier}\n"

        report += f"\n{'='*70}\n"

        # çµ±è¨ˆæƒ…å ±
        total_preventive = sum(len(t.barriers) for t in self.threats)
        total_mitigative = sum(len(c.barriers) for c in self.consequences)

        report += f"""
Summary Statistics:
  - Total Threats: {len(self.threats)}
  - Total Preventive Barriers: {total_preventive}
  - Total Consequences: {len(self.consequences)}
  - Total Mitigative Barriers: {total_mitigative}
  - Defense-in-Depth Layers: {total_preventive + total_mitigative}
"""

        return report

    def identify_critical_barriers(self) -&gt; List[str]:
        """å˜ä¸€éšœå£ã‚·ãƒŠãƒªã‚ªï¼ˆCritical Single Points of Failureï¼‰ã‚’è­˜åˆ¥"""
        critical = []

        for threat in self.threats:
            if len(threat.barriers) == 1:
                critical.append(f"Threat '{threat.name}' has only 1 barrier: {threat.barriers[0]}")

        for consequence in self.consequences:
            if len(consequence.barriers) == 1:
                critical.append(f"Consequence '{consequence.name}' has only 1 barrier: {consequence.barriers[0]}")

        return critical


# ä½¿ç”¨ä¾‹: å¯ç‡ƒæ€§æ¶²ä½“è²¯è”µã‚¿ãƒ³ã‚¯ç«ç½ã®Bow-tieåˆ†æ
bowtie = BowtieAnalysis(hazard_event="å¯ç‡ƒæ€§æ¶²ä½“è²¯è”µã‚¿ãƒ³ã‚¯ç«ç½")

# è„…å¨ï¼ˆåŸå› ï¼‰ã¨äºˆé˜²çš„ä¿è­·å±¤
bowtie.add_threat(Threat(
    name="é™é›»æ°—æ”¾é›»ã«ã‚ˆã‚‹ç€ç«",
    barriers=[
        "ã‚¿ãƒ³ã‚¯æ¥åœ°ãƒ»ãƒœãƒ³ãƒ‡ã‚£ãƒ³ã‚°",
        "å¸¯é›»é˜²æ­¢å‰¤æ·»åŠ ",
        "æµé€Ÿåˆ¶é™ï¼ˆ<1 m/sï¼‰",
        "ä¸æ´»æ€§ã‚¬ã‚¹ï¼ˆN2ï¼‰ãƒ‘ãƒ¼ã‚¸"
    ]
))

bowtie.add_threat(Threat(
    name="é›·ã«ã‚ˆã‚‹ç€ç«",
    barriers=[
        "é¿é›·é‡è¨­ç½®",
        "ã‚µãƒ¼ã‚¸ãƒ—ãƒ­ãƒ†ã‚¯ã‚¿ãƒ¼",
        "æ¥åœ°ã‚·ã‚¹ãƒ†ãƒ "
    ]
))

bowtie.add_threat(Threat(
    name="é«˜æ¸©è¡¨é¢ã¨ã®æ¥è§¦",
    barriers=[
        "Hot Workè¨±å¯ã‚·ã‚¹ãƒ†ãƒ ",
        "æ¸©åº¦ç›£è¦–",
        "æ–­ç†±æè¨­ç½®",
        "ç«æ°—ä½œæ¥­ç¦æ­¢åŒºåŸŸè¨­å®š"
    ]
))

# çµæœã¨ä½æ¸›çš„ä¿è­·å±¤
bowtie.add_consequence(Consequence(
    name="ã‚¿ãƒ³ã‚¯ç«ç½ï¼ˆãƒ—ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ã‚¢ï¼‰",
    barriers=[
        "æ³¡æ¶ˆç«è¨­å‚™ï¼ˆå›ºå®šå¼ï¼‰",
        "æ¶ˆç«å™¨é…ç½®",
        "ç·Šæ€¥é®æ–­å¼ï¼ˆè‡ªå‹•ï¼‰",
        "é˜²æ¶²å ¤ï¼ˆäºŒæ¬¡æ ¼ç´ï¼‰",
        "å†·å´æ°´ã‚¹ãƒ—ãƒ¬ãƒ¼"
    ]
))

bowtie.add_consequence(Consequence(
    name="BLEVEï¼ˆæ²¸é¨°æ¶²ä½“è†¨å¼µè’¸æ°—çˆ†ç™ºï¼‰",
    barriers=[
        "åœ§åŠ›é€ƒã—å¼",
        "å†·å´æ°´ã‚¹ãƒ—ãƒ¬ãƒ¼ï¼ˆã‚¿ãƒ³ã‚¯ä¸Šéƒ¨ï¼‰",
        "ç†±é®è”½",
        "ç·Šæ€¥é›¢éš”è·é›¢ç¢ºä¿"
    ]
))

bowtie.add_consequence(Consequence(
    name="è¿‘éš£æ–½è¨­ã¸ã®å»¶ç„¼",
    barriers=[
        "é˜²ç«å£",
        "ã‚¹ãƒ—ãƒªãƒ³ã‚¯ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ",
        "æ¶ˆé˜²éšŠé€šå ±ã‚·ã‚¹ãƒ†ãƒ ",
        "ç·Šæ€¥é¿é›£è¨ˆç”»"
    ]
))

# ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
report = bowtie.generate_bowtie_report()
print(report)

# Critical Single Pointsã‚’è­˜åˆ¥
critical_barriers = bowtie.identify_critical_barriers()
if critical_barriers:
    print("\nâš ï¸ Critical Single Points of Failure:")
    for cb in critical_barriers:
        print(f"  - {cb}")
else:
    print("\nâœ… No critical single points of failure identified.")

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# ======================================================================
# Bow-tie Analysis Report
# ======================================================================
#
# Hazard Event: å¯ç‡ƒæ€§æ¶²ä½“è²¯è”µã‚¿ãƒ³ã‚¯ç«ç½
#
# ======================================================================
# LEFT SIDE: Threats (Causes) and Preventive Barriers
# ======================================================================
#
# Threat 1: é™é›»æ°—æ”¾é›»ã«ã‚ˆã‚‹ç€ç«
#   Preventive Barriers:
#     1. ã‚¿ãƒ³ã‚¯æ¥åœ°ãƒ»ãƒœãƒ³ãƒ‡ã‚£ãƒ³ã‚°
#     2. å¸¯é›»é˜²æ­¢å‰¤æ·»åŠ 
#     3. æµé€Ÿåˆ¶é™ï¼ˆ<1 m/sï¼‰
#     4. ä¸æ´»æ€§ã‚¬ã‚¹ï¼ˆN2ï¼‰ãƒ‘ãƒ¼ã‚¸
# ...
#
# Summary Statistics:
#   - Total Threats: 3
#   - Total Preventive Barriers: 11
#   - Total Consequences: 3
#   - Total Mitigative Barriers: 14
#   - Defense-in-Depth Layers: 25
</code></pre>

<hr />

<h2>1.7 ãƒªã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹æ¤œæŸ»ï¼ˆRBIï¼‰</h2>

<h3>Example 6: API 580 RBIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</h3>

<p>API 580ï¼ˆRisk-Based Inspectionï¼‰ã«åŸºã¥ãã€è¨­å‚™æ¤œæŸ»å„ªå…ˆé †ä½ä»˜ã‘ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</p>

<pre><code class="language-python"># ===================================
# Example 6: ãƒªã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹æ¤œæŸ»ï¼ˆRBIï¼‰
# ===================================

from dataclasses import dataclass
from typing import List, Dict
import pandas as pd

class CorrosionMechanism(Enum):
    """è…é£Ÿãƒ¡ã‚«ãƒ‹ã‚ºãƒ """
    GENERAL_CORROSION = "å…¨é¢è…é£Ÿ"
    PITTING = "å­”é£Ÿ"
    SCC = "å¿œåŠ›è…é£Ÿå‰²ã‚Œ"
    EROSION = "ã‚¨ãƒ­ãƒ¼ã‚¸ãƒ§ãƒ³"
    FATIGUE = "ç–²åŠ´"

@dataclass
class Equipment:
    """è¨­å‚™æƒ…å ±"""
    id: str
    name: str
    equipment_type: str
    fluid: str
    temperature: float  # Â°C
    pressure: float     # MPa
    age: float          # years
    last_inspection: float  # years ago
    corrosion_mechanism: CorrosionMechanism
    corrosion_rate: float  # mm/year
    thickness_remaining: float  # mm
    design_thickness: float  # mm

class RBIAnalysis:
    """ãƒªã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹æ¤œæŸ»åˆ†æ"""

    def calculate_pof(self, equipment: Equipment) -&gt; float:
        """Probability of Failureï¼ˆæ•…éšœç¢ºç‡ï¼‰ã‚’è¨ˆç®—

        ç°¡ç•¥åŒ–ã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«:
          PoF = f(corrosion_damage, time_since_inspection, operating_severity)

        Returns:
            PoF score (0-100)
        """
        # è…é£Ÿãƒ€ãƒ¡ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼
        damage_factor = equipment.corrosion_rate * equipment.age
        thickness_ratio = equipment.thickness_remaining / equipment.design_thickness

        if thickness_ratio &lt; 0.5:
            corrosion_score = 90
        elif thickness_ratio &lt; 0.7:
            corrosion_score = 60
        elif thickness_ratio &lt; 0.9:
            corrosion_score = 30
        else:
            corrosion_score = 10

        # æ¤œæŸ»é–“éš”ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼
        if equipment.last_inspection &gt; 10:
            inspection_score = 80
        elif equipment.last_inspection &gt; 5:
            inspection_score = 50
        elif equipment.last_inspection &gt; 2:
            inspection_score = 20
        else:
            inspection_score = 5

        # é‹è»¢è‹›é…·åº¦ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼
        if equipment.temperature &gt; 200 or equipment.pressure &gt; 5.0:
            severity_score = 70
        elif equipment.temperature &gt; 100 or equipment.pressure &gt; 2.0:
            severity_score = 40
        else:
            severity_score = 10

        # è…é£Ÿãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼
        mechanism_multiplier = {
            CorrosionMechanism.SCC: 1.5,
            CorrosionMechanism.PITTING: 1.3,
            CorrosionMechanism.FATIGUE: 1.4,
            CorrosionMechanism.EROSION: 1.2,
            CorrosionMechanism.GENERAL_CORROSION: 1.0
        }

        multiplier = mechanism_multiplier[equipment.corrosion_mechanism]

        # ç·åˆPoFè¨ˆç®—ï¼ˆåŠ é‡å¹³å‡ï¼‰
        pof = (corrosion_score * 0.4 + inspection_score * 0.3 +
               severity_score * 0.3) * multiplier

        return min(pof, 100)

    def calculate_cof(self, equipment: Equipment) -&gt; float:
        """Consequence of Failureï¼ˆæ•…éšœå½±éŸ¿åº¦ï¼‰ã‚’è¨ˆç®—

        ç°¡ç•¥åŒ–ã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«:
          CoF = f(fluid_hazard, inventory, pressure)

        Returns:
            CoF score (0-100)
        """
        # æµä½“ãƒã‚¶ãƒ¼ãƒ‰ã‚¹ã‚³ã‚¢
        high_hazard_fluids = ['H2', 'Cl2', 'HF', 'NH3', 'C2H4', 'LPG']
        medium_hazard_fluids = ['methanol', 'ethanol', 'benzene', 'toluene']

        if equipment.fluid in high_hazard_fluids:
            fluid_score = 90
        elif equipment.fluid in medium_hazard_fluids:
            fluid_score = 60
        else:
            fluid_score = 30

        # åœ§åŠ›å½±éŸ¿ã‚¹ã‚³ã‚¢
        if equipment.pressure &gt; 5.0:
            pressure_score = 80
        elif equipment.pressure &gt; 2.0:
            pressure_score = 50
        else:
            pressure_score = 20

        # è¨­å‚™ã‚¿ã‚¤ãƒ—å½±éŸ¿ã‚¹ã‚³ã‚¢
        if equipment.equipment_type in ['Reactor', 'Distillation Column']:
            equipment_score = 70
        elif equipment.equipment_type in ['Heat Exchanger', 'Pump']:
            equipment_score = 40
        else:
            equipment_score = 20

        # ç·åˆCoFè¨ˆç®—
        cof = fluid_score * 0.5 + pressure_score * 0.3 + equipment_score * 0.2

        return min(cof, 100)

    def calculate_risk_score(self, pof: float, cof: float) -&gt; float:
        """ãƒªã‚¹ã‚¯ã‚¹ã‚³ã‚¢ = PoF Ã— CoF"""
        return (pof * cof) / 100  # 0-100ã‚¹ã‚±ãƒ¼ãƒ«ã«æ­£è¦åŒ–

    def determine_inspection_priority(self, risk_score: float) -&gt; str:
        """æ¤œæŸ»å„ªå…ˆé †ä½ã‚’æ±ºå®š"""
        if risk_score &gt;= 70:
            return "Priority 1 (Immediate - within 1 month)"
        elif risk_score &gt;= 50:
            return "Priority 2 (High - within 3 months)"
        elif risk_score &gt;= 30:
            return "Priority 3 (Medium - within 1 year)"
        else:
            return "Priority 4 (Low - routine inspection)"

    def analyze_equipment_portfolio(self, equipment_list: List[Equipment]) -&gt; pd.DataFrame:
        """è¨­å‚™ç¾¤ã®RBIåˆ†æ"""
        results = []

        for eq in equipment_list:
            pof = self.calculate_pof(eq)
            cof = self.calculate_cof(eq)
            risk = self.calculate_risk_score(pof, cof)
            priority = self.determine_inspection_priority(risk)

            results.append({
                'Equipment ID': eq.id,
                'Equipment Name': eq.name,
                'Type': eq.equipment_type,
                'Fluid': eq.fluid,
                'PoF': f"{pof:.1f}",
                'CoF': f"{cof:.1f}",
                'Risk Score': f"{risk:.1f}",
                'Priority': priority,
                'Last Inspection': f"{eq.last_inspection:.1f} years ago",
                'Thickness Ratio': f"{eq.thickness_remaining/eq.design_thickness:.2f}"
            })

        df = pd.DataFrame(results)
        df = df.sort_values('Risk Score', ascending=False,
                            key=lambda x: x.astype(float))

        return df


# ä½¿ç”¨ä¾‹
rbi = RBIAnalysis()

# è¨­å‚™ãƒªã‚¹ãƒˆä½œæˆ
equipment_portfolio = [
    Equipment(
        id="V-101", name="åå¿œå™¨", equipment_type="Reactor",
        fluid="H2", temperature=350, pressure=8.0, age=15,
        last_inspection=6.0, corrosion_mechanism=CorrosionMechanism.GENERAL_CORROSION,
        corrosion_rate=0.15, thickness_remaining=8.5, design_thickness=12.0
    ),
    Equipment(
        id="T-201", name="è’¸ç•™å¡”", equipment_type="Distillation Column",
        fluid="toluene", temperature=120, pressure=0.5, age=20,
        last_inspection=3.0, corrosion_mechanism=CorrosionMechanism.PITTING,
        corrosion_rate=0.3, thickness_remaining=5.2, design_thickness=10.0
    ),
    Equipment(
        id="E-301", name="ç†±äº¤æ›å™¨", equipment_type="Heat Exchanger",
        fluid="water", temperature=80, pressure=1.5, age=10,
        last_inspection=2.0, corrosion_mechanism=CorrosionMechanism.GENERAL_CORROSION,
        corrosion_rate=0.05, thickness_remaining=9.5, design_thickness=10.0
    ),
    Equipment(
        id="P-401", name="ãƒ—ãƒ­ã‚»ã‚¹ãƒãƒ³ãƒ—", equipment_type="Pump",
        fluid="methanol", temperature=40, pressure=3.0, age=8,
        last_inspection=1.5, corrosion_mechanism=CorrosionMechanism.EROSION,
        corrosion_rate=0.2, thickness_remaining=7.0, design_thickness=8.0
    ),
    Equipment(
        id="V-501", name="åœ§åŠ›å®¹å™¨", equipment_type="Pressure Vessel",
        fluid="NH3", temperature=25, pressure=10.0, age=25,
        last_inspection=12.0, corrosion_mechanism=CorrosionMechanism.SCC,
        corrosion_rate=0.1, thickness_remaining=6.0, design_thickness=15.0
    )
]

# RBIåˆ†æå®Ÿè¡Œ
rbi_results = rbi.analyze_equipment_portfolio(equipment_portfolio)

print("=== ãƒªã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹æ¤œæŸ»ï¼ˆRBIï¼‰åˆ†æçµæœ ===\n")
print(rbi_results.to_string(index=False))

# Priority 1è¨­å‚™ã‚’æŠ½å‡º
priority_1 = rbi_results[rbi_results['Priority'].str.contains('Priority 1')]
print(f"\nâš ï¸ ç·Šæ€¥å¯¾å¿œãŒå¿…è¦ãªè¨­å‚™æ•°: {len(priority_1)}")

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# === ãƒªã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹æ¤œæŸ»ï¼ˆRBIï¼‰åˆ†æçµæœ ===
#
# Equipment ID Equipment Name                  Type   Fluid   PoF   CoF  Risk Score ...
#        V-501        åœ§åŠ›å®¹å™¨      Pressure Vessel    NH3  84.0  82.0        68.9 ...
#        V-101          åå¿œå™¨              Reactor     H2  67.5  80.0        54.0 ...
#        T-201        è’¸ç•™å¡”   Distillation Column toluene  70.2  64.0        44.9 ...
# ...
</code></pre>

<hr />

<h2>1.8 å®‰å…¨ãƒãƒªã‚¢æœ‰åŠ¹æ€§åˆ†æ</h2>

<h3>Example 7: å®‰å…¨ãƒãƒªã‚¢ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</h3>

<pre><code class="language-python"># ===================================
# Example 7: å®‰å…¨ãƒãƒªã‚¢æœ‰åŠ¹æ€§åˆ†æ
# ===================================

from dataclasses import dataclass
from datetime import datetime, timedelta
import random

@dataclass
class BarrierTest:
    """ãƒãƒªã‚¢ãƒ†ã‚¹ãƒˆè¨˜éŒ²"""
    date: datetime
    passed: bool
    response_time: float  # seconds (for active barriers)

class SafetyBarrier:
    """å®‰å…¨ãƒãƒªã‚¢"""

    def __init__(self, name: str, barrier_type: str, target_pfd: float):
        """
        Args:
            name: ãƒãƒªã‚¢å
            barrier_type: ã‚¿ã‚¤ãƒ—ï¼ˆPassive/Activeï¼‰
            target_pfd: ç›®æ¨™PFDï¼ˆProbability of Failure on Demandï¼‰
        """
        self.name = name
        self.barrier_type = barrier_type
        self.target_pfd = target_pfd
        self.test_history: List[BarrierTest] = []

    def add_test_result(self, test: BarrierTest):
        """ãƒ†ã‚¹ãƒˆçµæœã‚’è¿½åŠ """
        self.test_history.append(test)

    def calculate_actual_pfd(self, lookback_period: int = 365) -&gt; float:
        """å®Ÿéš›ã®PFDã‚’è¨ˆç®—

        Args:
            lookback_period: è©•ä¾¡æœŸé–“ï¼ˆæ—¥æ•°ï¼‰

        Returns:
            å®Ÿæ¸¬PFD
        """
        if not self.test_history:
            return 1.0  # ãƒ‡ãƒ¼ã‚¿ãªã— = æœ€æ‚ªã‚±ãƒ¼ã‚¹

        cutoff_date = datetime.now() - timedelta(days=lookback_period)
        recent_tests = [t for t in self.test_history if t.date &gt; cutoff_date]

        if not recent_tests:
            return 1.0

        failures = sum(1 for t in recent_tests if not t.passed)
        pfd = failures / len(recent_tests)

        return pfd

    def assess_performance(self) -&gt; Dict:
        """ãƒãƒªã‚¢ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è©•ä¾¡"""
        actual_pfd = self.calculate_actual_pfd()

        # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ¤å®š
        if actual_pfd &lt;= self.target_pfd:
            status = "âœ… ACCEPTABLE"
            action = "Continue routine testing"
        elif actual_pfd &lt;= self.target_pfd * 1.5:
            status = "âš ï¸ DEGRADED"
            action = "Increase testing frequency, investigate root causes"
        else:
            status = "âŒ UNACCEPTABLE"
            action = "Immediate corrective action required, consider bypass"

        # å¹³å‡å¿œç­”æ™‚é–“ï¼ˆActive barriersã®å ´åˆï¼‰
        avg_response_time = None
        if self.barrier_type == "Active" and self.test_history:
            response_times = [t.response_time for t in self.test_history
                              if t.passed]
            if response_times:
                avg_response_time = sum(response_times) / len(response_times)

        return {
            'Barrier': self.name,
            'Type': self.barrier_type,
            'Target PFD': f"{self.target_pfd:.2e}",
            'Actual PFD': f"{actual_pfd:.2e}",
            'Status': status,
            'Test Count': len(self.test_history),
            'Avg Response Time': f"{avg_response_time:.2f}s" if avg_response_time else "N/A",
            'Recommended Action': action
        }

class BarrierManagementSystem:
    """å®‰å…¨ãƒãƒªã‚¢ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ """

    def __init__(self):
        self.barriers: List[SafetyBarrier] = []

    def add_barrier(self, barrier: SafetyBarrier):
        """ãƒãƒªã‚¢ã‚’è¿½åŠ """
        self.barriers.append(barrier)

    def generate_performance_report(self) -&gt; pd.DataFrame:
        """ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ"""
        results = [barrier.assess_performance() for barrier in self.barriers]
        df = pd.DataFrame(results)
        return df

    def identify_degraded_barriers(self) -&gt; List[str]:
        """åŠ£åŒ–ãƒãƒªã‚¢ã‚’è­˜åˆ¥"""
        degraded = []
        for barrier in self.barriers:
            assessment = barrier.assess_performance()
            if "DEGRADED" in assessment['Status'] or "UNACCEPTABLE" in assessment['Status']:
                degraded.append(barrier.name)
        return degraded


# ä½¿ç”¨ä¾‹: ãƒãƒªã‚¢ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…
bms = BarrierManagementSystem()

# ãƒãƒªã‚¢1: é«˜åœ§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ­ãƒƒã‚¯ï¼ˆSIL 2ï¼‰
interlock = SafetyBarrier(
    name="High Pressure Interlock (SIS-101)",
    barrier_type="Active",
    target_pfd=0.01  # SIL 2 target
)

# ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆéå»1å¹´åˆ†ï¼‰
random.seed(42)
for i in range(24):  # æœˆ2å›ãƒ†ã‚¹ãƒˆ
    test_date = datetime.now() - timedelta(days=i*15)
    passed = random.random() &gt; 0.008  # 99.2%æˆåŠŸç‡
    response_time = random.gauss(2.5, 0.5)  # å¹³å‡2.5ç§’ã€æ¨™æº–åå·®0.5ç§’

    interlock.add_test_result(BarrierTest(
        date=test_date,
        passed=passed,
        response_time=response_time
    ))

bms.add_barrier(interlock)

# ãƒãƒªã‚¢2: åœ§åŠ›é€ƒã—å¼ï¼ˆPassiveï¼‰
prv = SafetyBarrier(
    name="Pressure Relief Valve (PRV-201)",
    barrier_type="Passive",
    target_pfd=0.01
)

for i in range(4):  # å¹´4å›ãƒ†ã‚¹ãƒˆ
    test_date = datetime.now() - timedelta(days=i*90)
    passed = random.random() &gt; 0.02  # 98%æˆåŠŸç‡

    prv.add_test_result(BarrierTest(
        date=test_date,
        passed=passed,
        response_time=0  # Passive barrier
    ))

bms.add_barrier(prv)

# ãƒãƒªã‚¢3: ã‚¬ã‚¹æ¤œçŸ¥å™¨ï¼ˆåŠ£åŒ–ã—ã¦ã„ã‚‹ä¾‹ï¼‰
gas_detector = SafetyBarrier(
    name="H2 Gas Detector (GD-301)",
    barrier_type="Active",
    target_pfd=0.05
)

for i in range(52):  # é€±1å›ãƒ†ã‚¹ãƒˆ
    test_date = datetime.now() - timedelta(days=i*7)
    passed = random.random() &gt; 0.12  # 88%æˆåŠŸç‡ï¼ˆåŠ£åŒ–ï¼‰
    response_time = random.gauss(1.0, 0.3)

    gas_detector.add_test_result(BarrierTest(
        date=test_date,
        passed=passed,
        response_time=response_time
    ))

bms.add_barrier(gas_detector)

# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
report = bms.generate_performance_report()
print("=== å®‰å…¨ãƒãƒªã‚¢ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¬ãƒãƒ¼ãƒˆ ===\n")
print(report.to_string(index=False))

# åŠ£åŒ–ãƒãƒªã‚¢ã‚’è­˜åˆ¥
degraded = bms.identify_degraded_barriers()
if degraded:
    print(f"\nâš ï¸ æ³¨æ„ãŒå¿…è¦ãªãƒãƒªã‚¢:")
    for b in degraded:
        print(f"  - {b}")

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# === å®‰å…¨ãƒãƒªã‚¢ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¬ãƒãƒ¼ãƒˆ ===
#
#                           Barrier      Type Target PFD Actual PFD           Status  Test Count ...
#  High Pressure Interlock (SIS-101)    Active   1.00e-02   8.33e-03   âœ… ACCEPTABLE          24 ...
#  Pressure Relief Valve (PRV-201)    Passive   1.00e-02   0.00e+00   âœ… ACCEPTABLE           4 ...
#  H2 Gas Detector (GD-301)            Active   5.00e-02   1.15e-01  âŒ UNACCEPTABLE          52 ...
</code></pre>

<hr />

<h2>1.9 å®Ÿè·µæ¼”ç¿’</h2>

<h3>Example 8: çµ±åˆãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ </h3>

<p>ã“ã‚Œã¾ã§å­¦ã‚“ã æ‰‹æ³•ã‚’çµ±åˆã—ãŸã€åŒ…æ‹¬çš„ãªãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚</p>

<pre><code class="language-python"># ===================================
# Example 8: çµ±åˆãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ 
# ===================================

class IntegratedProcessSafetyAssessment:
    """çµ±åˆãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ """

    def __init__(self, process_name: str):
        self.process_name = process_name
        self.hazard_system = HazardIdentificationSystem()
        self.risk_matrix = RiskMatrix()
        self.lopa_analyses: List[LOPAAnalysis] = []
        self.barrier_management = BarrierManagementSystem()

    def perform_comprehensive_assessment(self) -&gt; Dict:
        """åŒ…æ‹¬çš„å®‰å…¨æ€§è©•ä¾¡ã‚’å®Ÿæ–½"""

        # 1. ãƒã‚¶ãƒ¼ãƒ‰è­˜åˆ¥
        hazard_register = self.hazard_system.generate_hazard_register()
        critical_hazards = self.hazard_system.get_hazards_by_severity(Severity.CRITICAL)

        # 2. ãƒªã‚¹ã‚¯è©•ä¾¡
        risk_assessments = []
        for hazard in self.hazard_system.hazards:
            # ç°¡ç•¥åŒ–: ç™ºç”Ÿé »åº¦ã¯ä»®å®š
            likelihood = Likelihood.OCCASIONAL if hazard.severity.value &gt;= 4 else Likelihood.REMOTE

            risk_assess = self.risk_matrix.assess_risk(
                hazard.name,
                hazard.severity,
                likelihood
            )
            risk_assessments.append(risk_assess)

        # é«˜ãƒªã‚¹ã‚¯ãƒã‚¶ãƒ¼ãƒ‰ã‚’æŠ½å‡º
        high_risk = [r for r in risk_assessments
                     if r['ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«'] in ['æ¥µã‚ã¦é«˜ã„', 'é«˜ã„']]

        # 3. LOPAåˆ†æï¼ˆé«˜ãƒªã‚¹ã‚¯ãƒã‚¶ãƒ¼ãƒ‰å¯¾è±¡ï¼‰
        lopa_results = []
        for lopa in self.lopa_analyses:
            lopa_report = lopa.generate_lopa_report()
            mitigated_freq = lopa.calculate_mitigated_frequency()
            lopa_results.append({
                'Scenario': lopa.scenario_name,
                'Mitigated Frequency': f"{mitigated_freq:.2e}",
                'SIL Required': lopa.determine_required_sil().name
            })

        # 4. ãƒãƒªã‚¢ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
        barrier_report = self.barrier_management.generate_performance_report()
        degraded_barriers = self.barrier_management.identify_degraded_barriers()

        # çµ±åˆçµæœ
        return {
            'total_hazards': len(self.hazard_system.hazards),
            'critical_hazards': len(critical_hazards),
            'high_risk_scenarios': len(high_risk),
            'lopa_analyses': len(lopa_results),
            'total_barriers': len(self.barrier_management.barriers),
            'degraded_barriers': len(degraded_barriers),
            'hazard_register': hazard_register,
            'risk_assessments': pd.DataFrame(risk_assessments),
            'lopa_results': pd.DataFrame(lopa_results) if lopa_results else None,
            'barrier_performance': barrier_report,
            'degraded_barrier_list': degraded_barriers
        }

    def generate_executive_summary(self, assessment: Dict) -&gt; str:
        """ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼ç”Ÿæˆ"""
        summary = f"""
{'='*70}
PROCESS SAFETY ASSESSMENT - EXECUTIVE SUMMARY
{'='*70}

Process: {self.process_name}
Assessment Date: {datetime.now().strftime('%Y-%m-%d')}

{'='*70}
KEY FINDINGS
{'='*70}

1. HAZARD IDENTIFICATION
   - Total Hazards Identified: {assessment['total_hazards']}
   - Critical/Catastrophic Hazards: {assessment['critical_hazards']}

2. RISK ASSESSMENT
   - High Risk Scenarios: {assessment['high_risk_scenarios']}
   - Immediate Action Required: {sum(1 for _ in assessment['risk_assessments'].itertuples() if 'æ¥µã‚ã¦é«˜ã„' in _.ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«)}

3. PROTECTION LAYERS (LOPA)
   - LOPA Studies Completed: {assessment['lopa_analyses']}
   - SIS Implementation Required: {sum(1 for _ in (assessment['lopa_results'].itertuples() if assessment['lopa_results'] is not None else []) if 'SIL' in _.SIL_Required and _.SIL_Required != 'NO_SIL')}

4. BARRIER INTEGRITY
   - Total Safety Barriers: {assessment['total_barriers']}
   - Degraded/Failing Barriers: {assessment['degraded_barriers']}

{'='*70}
CRITICAL ACTION ITEMS
{'='*70}
"""

        # å„ªå…ˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ 
        action_items = []

        if assessment['degraded_barriers'] &gt; 0:
            for barrier_name in assessment['degraded_barrier_list']:
                action_items.append(
                    f"âš ï¸ URGENT: Repair/Replace barrier: {barrier_name}"
                )

        if assessment['high_risk_scenarios'] &gt; 0:
            action_items.append(
                f"âš ï¸ HIGH PRIORITY: Implement risk reduction for {assessment['high_risk_scenarios']} scenarios"
            )

        if action_items:
            for i, item in enumerate(action_items, 1):
                summary += f"\n{i}. {item}"
        else:
            summary += "\nâœ… No critical action items identified."

        summary += f"\n\n{'='*70}\n"
        summary += "STATUS: "

        if assessment['degraded_barriers'] == 0 and assessment['high_risk_scenarios'] &lt;= 2:
            summary += "âœ… ACCEPTABLE - Continue routine monitoring\n"
        elif assessment['degraded_barriers'] &lt;= 2 and assessment['high_risk_scenarios'] &lt;= 5:
            summary += "âš ï¸ REQUIRES ATTENTION - Implement improvements within 3 months\n"
        else:
            summary += "âŒ UNACCEPTABLE - Immediate corrective action required\n"

        summary += f"{'='*70}\n"

        return summary


# ä½¿ç”¨ä¾‹: çµ±åˆè©•ä¾¡ã®å®Ÿæ–½
integrated_assessment = IntegratedProcessSafetyAssessment(
    process_name="Hydrogen Production Unit"
)

# LOPAã‚’è¿½åŠ ï¼ˆExample 3ã§ä½œæˆã—ãŸã‚‚ã®ï¼‰
integrated_assessment.lopa_analyses.append(lopa)

# ãƒãƒªã‚¢ã‚’è¿½åŠ ï¼ˆExample 7ã§ä½œæˆã—ãŸã‚‚ã®ï¼‰
integrated_assessment.barrier_management = bms

# åŒ…æ‹¬çš„è©•ä¾¡ã‚’å®Ÿæ–½
assessment_results = integrated_assessment.perform_comprehensive_assessment()

# ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼ç”Ÿæˆ
executive_summary = integrated_assessment.generate_executive_summary(assessment_results)
print(executive_summary)

# è©³ç´°çµæœ
print("\n=== ãƒã‚¶ãƒ¼ãƒ‰ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ¼ï¼ˆTop 3ï¼‰ ===")
print(assessment_results['hazard_register'].head(3).to_string(index=False))

print("\n=== ãƒªã‚¹ã‚¯è©•ä¾¡çµæœï¼ˆHigh Riskï¼‰ ===")
high_risk_df = assessment_results['risk_assessments'][
    assessment_results['risk_assessments']['ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«'].isin(['æ¥µã‚ã¦é«˜ã„', 'é«˜ã„'])
]
print(high_risk_df.to_string(index=False))

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# ======================================================================
# PROCESS SAFETY ASSESSMENT - EXECUTIVE SUMMARY
# ======================================================================
#
# Process: Hydrogen Production Unit
# Assessment Date: 2025-10-26
#
# ======================================================================
# KEY FINDINGS
# ======================================================================
#
# 1. HAZARD IDENTIFICATION
#    - Total Hazards Identified: 3
#    - Critical/Catastrophic Hazards: 3
#
# 2. RISK ASSESSMENT
#    - High Risk Scenarios: 2
#    - Immediate Action Required: 1
#
# 3. PROTECTION LAYERS (LOPA)
#    - LOPA Studies Completed: 1
#    - SIS Implementation Required: 0
#
# 4. BARRIER INTEGRITY
#    - Total Safety Barriers: 3
#    - Degraded/Failing Barriers: 1
#
# ======================================================================
# CRITICAL ACTION ITEMS
# ======================================================================
#
# 1. âš ï¸ URGENT: Repair/Replace barrier: H2 Gas Detector (GD-301)
# 2. âš ï¸ HIGH PRIORITY: Implement risk reduction for 2 scenarios
#
# ======================================================================
# STATUS: âš ï¸ REQUIRES ATTENTION - Implement improvements within 3 months
</code></pre>

<hr />

<h2>å­¦ç¿’ç›®æ¨™ã®ç¢ºèª</h2>

<p>ã“ã®chapterã‚’å®Œäº†ã™ã‚‹ã¨ã€ä»¥ä¸‹ã‚’èª¬æ˜ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š</p>

<h3>åŸºæœ¬ç†è§£</h3>

<ul>
<li>âœ… ãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨ã®æ¦‚å¿µã¨é‡å¤§äº‹æ•…ã®æ•™è¨“ã‚’ç†è§£ã—ã¦ã„ã‚‹</li>
<li>âœ… ãƒã‚¶ãƒ¼ãƒ‰ vs ãƒªã‚¹ã‚¯ã®é•ã„ã‚’èª¬æ˜ã§ãã‚‹</li>
<li>âœ… ãƒªã‚¹ã‚¯ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã®æ§‹é€ ã‚’ç†è§£ã—ã¦ã„ã‚‹</li>
<li>âœ… LOPAã®åŸç†ã¨SILãƒ¬ãƒ™ãƒ«ã‚’çŸ¥ã£ã¦ã„ã‚‹</li>
</ul>

<h3>å®Ÿè·µã‚¹ã‚­ãƒ«</h3>

<ul>
<li>âœ… ãƒã‚¶ãƒ¼ãƒ‰è­˜åˆ¥ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’å®Ÿè£…ã§ãã‚‹</li>
<li>âœ… ãƒªã‚¹ã‚¯ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã§ãƒªã‚¹ã‚¯è©•ä¾¡ãŒã§ãã‚‹</li>
<li>âœ… LOPAæ‰‹æ³•ã§SILã‚’è¨ˆç®—ã§ãã‚‹</li>
<li>âœ… Gaussian Plumeãƒ¢ãƒ‡ãƒ«ã§å½±éŸ¿ç¯„å›²ã‚’äºˆæ¸¬ã§ãã‚‹</li>
<li>âœ… Bow-tieåˆ†æã§ä¿è­·å±¤ã‚’æ•´ç†ã§ãã‚‹</li>
<li>âœ… RBIæ‰‹æ³•ã§æ¤œæŸ»å„ªå…ˆé †ä½ã‚’æ±ºå®šã§ãã‚‹</li>
</ul>

<h3>å¿œç”¨åŠ›</h3>

<ul>
<li>âœ… å®Ÿéš›ã®åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹ã®ãƒã‚¶ãƒ¼ãƒ‰è­˜åˆ¥ãŒã§ãã‚‹</li>
<li>âœ… åŒ…æ‹¬çš„ãªãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã§ãã‚‹</li>
<li>âœ… å®‰å…¨ãƒãƒªã‚¢ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç›£è¦–ãƒ»è©•ä¾¡ã§ãã‚‹</li>
<li>âœ… ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼ã‚’ä½œæˆã—æ„æ€æ±ºå®šã‚’æ”¯æ´ã§ãã‚‹</li>
</ul>

<hr />

<h2>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h2>

<p>ç¬¬1ç« ã§ã¯ã€ãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨ã®åŸºç¤ã€ãƒã‚¶ãƒ¼ãƒ‰è­˜åˆ¥ã€ãƒªã‚¹ã‚¯è©•ä¾¡ã€ä¿è­·å±¤åˆ†æã‚’å­¦ã³ã¾ã—ãŸã€‚</p>

<p><strong>ç¬¬2ç« ã§ã¯ï¼š</strong></p>

<ul>
<li>ğŸ“‹ HAZOPã‚¹ã‚¿ãƒ‡ã‚£ã®è©³ç´°æ‰‹æ³•</li>
<li>ğŸ“‹ ã‚¬ã‚¤ãƒ‰ãƒ¯ãƒ¼ãƒ‰ã‚’ç”¨ã„ãŸé€¸è„±åˆ†æ</li>
<li>ğŸ“‹ å®šé‡çš„ãƒªã‚¹ã‚¯ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆï¼ˆQRAï¼‰</li>
<li>ğŸ“‹ F-Næ›²ç·šã¨ãƒªã‚¹ã‚¯åŸºæº–</li>
</ul>

<p>ã‚’å­¦ã³ã¾ã™ã€‚</p>

        <div class="navigation">
            <a href="./index.html" class="nav-button">â† ã‚·ãƒªãƒ¼ã‚ºç›®æ¬¡</a>
            <a href="./chapter-2.html" class="nav-button">ç¬¬2ç« ã¸é€²ã‚€ â†’</a>
        </div>
    </main>

    <section class="disclaimer">
        <h3>å…è²¬äº‹é …</h3>
        <ul>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯æ•™è‚²ãƒ»ç ”ç©¶ãƒ»æƒ…å ±æä¾›ã®ã¿ã‚’ç›®çš„ã¨ã—ã¦ãŠã‚Šã€å°‚é–€çš„ãªåŠ©è¨€(æ³•å¾‹ãƒ»ä¼šè¨ˆãƒ»æŠ€è¡“çš„ä¿è¨¼ãªã©)ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŠã‚ˆã³ä»˜éšã™ã‚‹ã‚³ãƒ¼ãƒ‰ä¾‹ã¯ã€Œç¾çŠ¶æœ‰å§¿(AS IS)ã€ã§æä¾›ã•ã‚Œã€æ˜ç¤ºã¾ãŸã¯é»™ç¤ºã‚’å•ã‚ãšã€å•†å“æ€§ã€ç‰¹å®šç›®çš„é©åˆæ€§ã€æ¨©åˆ©éä¾µå®³ã€æ­£ç¢ºæ€§ãƒ»å®Œå…¨æ€§ã€å‹•ä½œãƒ»å®‰å…¨æ€§ç­‰ã„ã‹ãªã‚‹ä¿è¨¼ã‚‚ã—ã¾ã›ã‚“ã€‚</li>
            <li>ãƒ—ãƒ­ã‚»ã‚¹å®‰å…¨è©•ä¾¡ã¯å°‚é–€å®¶ã®æŒ‡å°ã®ã‚‚ã¨ã§å®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æƒ…å ±ã®ã¿ã«åŸºã¥ãå®‰å…¨æ€§åˆ¤æ–­ã¯å±é™ºã§ã™ã€‚</li>
            <li>å®Ÿéš›ã®ãƒ—ãƒ©ãƒ³ãƒˆé‹ç”¨ã«ã¯ã€è©²å½“ã™ã‚‹å®‰å…¨è¦æ ¼ï¼ˆIEC 61511, API 580ç­‰ï¼‰ã®æº–æ‹ ãŒå¿…è¦ã§ã™ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ©ç”¨ãƒ»å®Ÿè¡Œãƒ»è§£é‡ˆã«ã‚ˆã‚Šç›´æ¥çš„ãƒ»é–“æ¥çš„ãƒ»ä»˜éšçš„ãƒ»ç‰¹åˆ¥ãƒ»çµæœçš„ãƒ»æ‡²ç½°çš„æå®³ãŒç”Ÿã˜ãŸå ´åˆã§ã‚‚ã€é©ç”¨æ³•ã§è¨±å®¹ã•ã‚Œã‚‹æœ€å¤§é™ã®ç¯„å›²ã§ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
        </ul>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 PI Knowledge Hub - Dr. Yusuke Hashimoto, Tohoku University</p>
            <p>Licensed under CC BY 4.0</p>
        </div>
    </footer>
</body>
</html>
