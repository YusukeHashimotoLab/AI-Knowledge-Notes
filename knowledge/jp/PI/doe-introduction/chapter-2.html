<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬2ç« ï¼šè¦å› é…ç½®å®Ÿé¨“ã¨åˆ†æ•£åˆ†æ - DOEå…¥é–€ã‚·ãƒªãƒ¼ã‚º</title>

        <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.8; color: #333; background: #f5f5f5;
        }
        header {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white; padding: 2rem 1rem; text-align: center;
        }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; }
        .subtitle { opacity: 0.9; font-size: 1.1rem; }
        .container { max-width: 1200px; margin: 2rem auto; padding: 0 1rem; }
        .back-link {
            display: inline-block; margin-bottom: 2rem; padding: 0.5rem 1rem;
            background: white; color: #11998e; text-decoration: none;
            border-radius: 6px; font-weight: 600;
        }
        .content-box {
            background: white; padding: 2rem; border-radius: 12px;
            margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h2 {
            color: #11998e; margin: 2rem 0 1rem 0;
            padding-bottom: 0.5rem; border-bottom: 3px solid #11998e;
        }
        h3 { color: #2c3e50; margin: 1.5rem 0 1rem 0; }
        h4 { color: #2c3e50; margin: 1rem 0 0.5rem 0; }
        p { margin-bottom: 1rem; }
        ul, ol { margin-left: 2rem; margin-bottom: 1rem; }
        li { margin-bottom: 0.5rem; }
        pre {
            background: #1e1e1e; color: #d4d4d4; padding: 1.5rem;
            border-radius: 8px; overflow-x: auto; margin: 1rem 0;
            border-left: 4px solid #11998e;
        }
        code {
            font-family: 'Courier New', monospace; font-size: 0.9rem;
        }
        .key-point {
            background: #e8f5e9; padding: 1rem; border-radius: 6px;
            border-left: 4px solid #4caf50; margin: 1rem 0;
        }
        .tech-note {
            background: #e3f2fd; padding: 1rem; border-radius: 6px;
            border-left: 4px solid #2196f3; margin: 1rem 0;
        }
        .formula {
            background: #f0f7ff; padding: 1rem; border-radius: 6px;
            margin: 1rem 0; overflow-x: auto;
        }
        table {
            width: 100%; border-collapse: collapse; margin: 1rem 0;
        }
        th, td {
            border: 1px solid #ddd; padding: 0.75rem; text-align: left;
        }
        th {
            background: #11998e; color: white; font-weight: 600;
        }
        tr:nth-child(even) { background: #f9f9f9; }
        .nav-buttons {
            display: flex; justify-content: space-between; margin-top: 3rem;
        }
        .nav-buttons a {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white; text-decoration: none; border-radius: 6px;
            font-weight: 600;
        }
        footer {
            background: #2c3e50; color: white; text-align: center;
            padding: 2rem 1rem; margin-top: 4rem;
        }
        @media (max-width: 768px) {
            h1 { font-size: 1.6rem; }
            .container { padding: 0 0.5rem; }
            pre { padding: 1rem; }
        }
    
        
    
        /* Breadcrumb styles */
        .breadcrumb {
            background: #f7fafc;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.9rem;
        }

        .breadcrumb-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumb a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .breadcrumb-separator {
            color: #a0aec0;
            margin: 0 0.25rem;
        }

        .breadcrumb-current {
            color: #4a5568;
            font-weight: 500;
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'strict' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>

    <style>
        /* Locale Switcher Styles */
        .locale-switcher {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 6px;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .current-locale {
            font-weight: 600;
            color: #7b2cbf;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .locale-separator {
            color: #adb5bd;
            font-weight: 300;
        }

        .locale-link {
            color: #f093fb;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }

        .locale-link:hover {
            background: rgba(240, 147, 251, 0.1);
            color: #d07be8;
            transform: translateY(-1px);
        }

        .locale-meta {
            color: #868e96;
            font-size: 0.85rem;
            font-style: italic;
            margin-left: auto;
        }

        @media (max-width: 768px) {
            .locale-switcher {
                font-size: 0.85rem;
                padding: 0.4rem 0.8rem;
            }
            .locale-meta {
                display: none;
            }
        }
    </style>
</head>
<body>
            <div class="locale-switcher">
<span class="current-locale">ğŸŒ JP</span>
<span class="locale-separator">|</span>
<a href="../../../en/PI/doe-introduction/chapter-2.html" class="locale-link">ğŸ‡¬ğŸ‡§ EN</a>
<span class="locale-separator">|</span>
<span class="locale-meta">Last sync: 2025-11-16</span>
</div>
<nav class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="../../index.html">AIå¯ºå­å±‹ãƒˆãƒƒãƒ—</a><span class="breadcrumb-separator">â€º</span><a href="../../PI/index.html">ãƒ—ãƒ­ã‚»ã‚¹ãƒ»ã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹</a><span class="breadcrumb-separator">â€º</span><a href="../../PI/doe-introduction/index.html">Doe</a><span class="breadcrumb-separator">â€º</span><span class="breadcrumb-current">Chapter 2</span>
        </div>
    </nav>

        <header>
        <div class="container">
            <h1>ç¬¬2ç« ï¼šè¦å› é…ç½®å®Ÿé¨“ã¨åˆ†æ•£åˆ†æ</h1>
            <p class="subtitle">å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ã€ãƒ•ãƒ©ã‚¯ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã€ANOVAã«ã‚ˆã‚‹å› å­åŠ¹æœã®å®šé‡è©•ä¾¡</p>
            <div class="meta">
                <span class="meta">ğŸ“– èª­äº†æ™‚é–“: 25-30åˆ†</span>
                <span class="meta">ğŸ“Š é›£æ˜“åº¦: å…¥é–€ã€œä¸­ç´š</span>
                <span class="meta">ğŸ’» ã‚³ãƒ¼ãƒ‰ä¾‹: 8å€‹</span>
            </div>
        </div>
    </header>

    <main class="container">
<h1>ç¬¬2ç« ï¼šè¦å› é…ç½®å®Ÿé¨“ã¨åˆ†æ•£åˆ†æ</h1>

<p class="chapter-description" style="margin: 1.5rem 0; padding: 1rem; background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); border-left: 4px solid #11998e; border-radius: 8px; font-size: 1.05rem; line-height: 1.8; color: #2d3748;">å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ã¨ä¸€éƒ¨å®Ÿæ–½è¦å› é…ç½®å®Ÿé¨“ï¼ˆãƒ•ãƒ©ã‚¯ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰ã®è¨­è¨ˆæ–¹æ³•ã‚’å­¦ã³ã€åˆ†æ•£åˆ†æï¼ˆANOVAï¼‰ã«ã‚ˆã‚‹å› å­åŠ¹æœã®çµ±è¨ˆçš„è©•ä¾¡ã‚’ç¿’å¾—ã—ã¾ã™ã€‚å¤šé‡æ¯”è¼ƒæ¤œå®šã‚„åˆ†æ•£æˆåˆ†ã®åˆ†è§£ã«ã‚ˆã‚Šã€åŒ–å­¦ãƒ—ãƒ­ã‚»ã‚¹ã®é‡è¦å› å­ã‚’ç‰¹å®šã—ã¾ã™ã€‚</p>

<div class="learning-objectives">
<h2>å­¦ç¿’ç›®æ¨™</h2>
<p>ã“ã®ç« ã‚’èª­ã‚€ã“ã¨ã§ã€ä»¥ä¸‹ã‚’ç¿’å¾—ã§ãã¾ã™ï¼š</p>
<ul>
<li>âœ… å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ï¼ˆ2Â³ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰ã‚’è¨­è¨ˆãƒ»å®Ÿæ–½ã§ãã‚‹</li>
<li>âœ… ä¸€éƒ¨å®Ÿæ–½è¦å› é…ç½®å®Ÿé¨“ï¼ˆ2^(k-p)ï¼‰ã§å®Ÿé¨“å›æ•°ã‚’å‰Šæ¸›ã§ãã‚‹</li>
<li>âœ… ä¸€å…ƒé…ç½®ãƒ»äºŒå…ƒé…ç½®åˆ†æ•£åˆ†æï¼ˆANOVAï¼‰ã‚’å®Ÿè¡Œã—è§£é‡ˆã§ãã‚‹</li>
<li>âœ… Fæ¤œå®šã«ã‚ˆã‚‹å› å­ã®æœ‰æ„æ€§ã‚’è©•ä¾¡ã§ãã‚‹</li>
<li>âœ… Tukey HSDå¤šé‡æ¯”è¼ƒæ¤œå®šã§ç¾¤é–“å·®ã‚’ç‰¹å®šã§ãã‚‹</li>
<li>âœ… åˆ†æ•£æˆåˆ†ã®å¯„ä¸ç‡ã‚’è¨ˆç®—ã—ä¸»è¦å› å­ã‚’å¯è¦–åŒ–ã§ãã‚‹</li>
<li>âœ… è§¦åª’æ´»æ€§å®Ÿé¨“ã®ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ã§æœ€é©æ¡ä»¶ã‚’æ±ºå®šã§ãã‚‹</li>
</ul>
</div>

<hr />

<h2>2.1 å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ï¼ˆFull Factorial Designï¼‰</h2>

<h3>å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ã¨ã¯</h3>

<p><strong>å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ï¼ˆFull Factorial Designï¼‰</strong>ã¯ã€ã™ã¹ã¦ã®å› å­ã®ã™ã¹ã¦ã®æ°´æº–ã®çµ„ã¿åˆã‚ã›ã‚’å®Ÿé¨“ã™ã‚‹æ‰‹æ³•ã§ã™ã€‚kå€‹ã®å› å­ãŒã‚ã‚Šã€å„å› å­ãŒmæ°´æº–ã®å ´åˆã€å®Ÿé¨“å›æ•°ã¯m^kå›ã«ãªã‚Šã¾ã™ã€‚</p>

<p><strong>ä¸»ãªç‰¹å¾´</strong>:</p>
<ul>
<li>ã™ã¹ã¦ã®ä¸»åŠ¹æœã¨äº¤äº’ä½œç”¨ã‚’è©•ä¾¡å¯èƒ½</li>
<li>2æ°´æº–å®Ÿé¨“ï¼ˆ2^kï¼‰ãŒæœ€ã‚‚ä¸€èˆ¬çš„</li>
<li>å› å­æ•°ãŒå¢—ãˆã‚‹ã¨å®Ÿé¨“å›æ•°ãŒæŒ‡æ•°çš„ã«å¢—åŠ </li>
<li>å°è¦æ¨¡å®Ÿé¨“ï¼ˆ3-4å› å­ï¼‰ã«æœ€é©</li>
</ul>

<h3>ã‚³ãƒ¼ãƒ‰ä¾‹1: å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ï¼ˆ2Â³ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰</h3>

<p>åŒ–å­¦åå¿œã«ãŠã‘ã‚‹æ¸©åº¦ã€åœ§åŠ›ã€è§¦åª’é‡ã®3å› å­ã€å„2æ°´æº–ã®å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ï¼ˆ8å›ï¼‰ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from itertools import product

# å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ 2^3 ãƒ‡ã‚¶ã‚¤ãƒ³
# å› å­A: æ¸©åº¦ï¼ˆ150Â°C vs 200Â°Cï¼‰
# å› å­B: åœ§åŠ›ï¼ˆ1.0 MPa vs 2.0 MPaï¼‰
# å› å­C: è§¦åª’é‡ï¼ˆ0.5 g vs 1.0 gï¼‰

np.random.seed(42)

# å› å­ã®å®šç¾©
factors = {
    'Temperature': [150, 200],
    'Pressure': [1.0, 2.0],
    'Catalyst': [0.5, 1.0]
}

# ã™ã¹ã¦ã®çµ„ã¿åˆã‚ã›ã‚’ç”Ÿæˆ
combinations = list(product(factors['Temperature'],
                            factors['Pressure'],
                            factors['Catalyst']))

# å®Ÿé¨“è¨ˆç”»è¡¨ã®ä½œæˆ
doe_table = pd.DataFrame(combinations,
                         columns=['Temperature', 'Pressure', 'Catalyst'])
doe_table.insert(0, 'Run', range(1, len(doe_table) + 1))

print("=== å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ 2^3 ãƒ‡ã‚¶ã‚¤ãƒ³ ===")
print(doe_table)

# ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã•ã‚ŒãŸåç‡ãƒ‡ãƒ¼ã‚¿
# çœŸã®ãƒ¢ãƒ‡ãƒ«: ä¸»åŠ¹æœ + äºŒæ¬¡äº¤äº’ä½œç”¨ + ãƒã‚¤ã‚º
yields = []
for _, row in doe_table.iterrows():
    temp = row['Temperature']
    press = row['Pressure']
    cat = row['Catalyst']

    # ä¸»åŠ¹æœï¼ˆç·šå½¢ï¼‰
    yield_base = 60
    temp_effect = 0.15 * (temp - 150)
    press_effect = 10 * (press - 1.0)
    cat_effect = 8 * (cat - 0.5)

    # äºŒæ¬¡äº¤äº’ä½œç”¨ï¼ˆTemp Ã— Pressï¼‰
    interaction_TP = 0.04 * (temp - 150) * (press - 1.0)

    # ä¸‰æ¬¡äº¤äº’ä½œç”¨ï¼ˆTemp Ã— Press Ã— Catï¼‰
    interaction_TPC = 0.01 * (temp - 150) * (press - 1.0) * (cat - 0.5)

    yield_true = (yield_base + temp_effect + press_effect + cat_effect +
                  interaction_TP + interaction_TPC)

    # ãƒã‚¤ã‚ºã‚’è¿½åŠ 
    yield_obs = yield_true + np.random.normal(0, 1.5)
    yields.append(yield_obs)

doe_table['Yield'] = yields

print("\n=== å®Ÿé¨“çµæœï¼ˆåç‡ %ï¼‰===")
print(doe_table)

# å„å› å­ã®ä¸»åŠ¹æœã‚’è¨ˆç®—
print("\n=== ä¸»åŠ¹æœåˆ†æ ===")

# æ¸©åº¦ã®ä¸»åŠ¹æœ
temp_low = doe_table[doe_table['Temperature'] == 150]['Yield'].mean()
temp_high = doe_table[doe_table['Temperature'] == 200]['Yield'].mean()
print(f"æ¸©åº¦: ä½æ°´æº–={temp_low:.2f}%, é«˜æ°´æº–={temp_high:.2f}%, åŠ¹æœ={temp_high - temp_low:.2f}%")

# åœ§åŠ›ã®ä¸»åŠ¹æœ
press_low = doe_table[doe_table['Pressure'] == 1.0]['Yield'].mean()
press_high = doe_table[doe_table['Pressure'] == 2.0]['Yield'].mean()
print(f"åœ§åŠ›: ä½æ°´æº–={press_low:.2f}%, é«˜æ°´æº–={press_high:.2f}%, åŠ¹æœ={press_high - press_low:.2f}%")

# è§¦åª’é‡ã®ä¸»åŠ¹æœ
cat_low = doe_table[doe_table['Catalyst'] == 0.5]['Yield'].mean()
cat_high = doe_table[doe_table['Catalyst'] == 1.0]['Yield'].mean()
print(f"è§¦åª’é‡: ä½æ°´æº–={cat_low:.2f}%, é«˜æ°´æº–={cat_high:.2f}%, åŠ¹æœ={cat_high - cat_low:.2f}%")

# ä¸»åŠ¹æœå›³ã®ä½œæˆ
fig, axes = plt.subplots(1, 3, figsize=(16, 5))

# æ¸©åº¦ã®ä¸»åŠ¹æœ
axes[0].plot([150, 200], [temp_low, temp_high],
             marker='o', linewidth=2.5, markersize=10, color='#11998e')
axes[0].set_xlabel('æ¸©åº¦ (Â°C)', fontsize=12)
axes[0].set_ylabel('å¹³å‡åç‡ (%)', fontsize=12)
axes[0].set_title('æ¸©åº¦ã®ä¸»åŠ¹æœ', fontsize=14, fontweight='bold')
axes[0].grid(alpha=0.3)

# åœ§åŠ›ã®ä¸»åŠ¹æœ
axes[1].plot([1.0, 2.0], [press_low, press_high],
             marker='s', linewidth=2.5, markersize=10, color='#f59e0b')
axes[1].set_xlabel('åœ§åŠ› (MPa)', fontsize=12)
axes[1].set_ylabel('å¹³å‡åç‡ (%)', fontsize=12)
axes[1].set_title('åœ§åŠ›ã®ä¸»åŠ¹æœ', fontsize=14, fontweight='bold')
axes[1].grid(alpha=0.3)

# è§¦åª’é‡ã®ä¸»åŠ¹æœ
axes[2].plot([0.5, 1.0], [cat_low, cat_high],
             marker='^', linewidth=2.5, markersize=10, color='#7b2cbf')
axes[2].set_xlabel('è§¦åª’é‡ (g)', fontsize=12)
axes[2].set_ylabel('å¹³å‡åç‡ (%)', fontsize=12)
axes[2].set_title('è§¦åª’é‡ã®ä¸»åŠ¹æœ', fontsize=14, fontweight='bold')
axes[2].grid(alpha=0.3)

plt.tight_layout()
plt.savefig('full_factorial_main_effects.png', dpi=300, bbox_inches='tight')
plt.show()

print(f"\nç·å®Ÿé¨“å›æ•°: {len(doe_table)}å›ï¼ˆ2^3 = 8å›ï¼‰")
print("ã™ã¹ã¦ã®ä¸»åŠ¹æœã¨äº¤äº’ä½œç”¨ã‚’è©•ä¾¡å¯èƒ½")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ 2^3 ãƒ‡ã‚¶ã‚¤ãƒ³ ===
   Run  Temperature  Pressure  Catalyst
0    1          150       1.0       0.5
1    2          150       1.0       1.0
2    3          150       2.0       0.5
3    4          150       2.0       1.0
4    5          200       1.0       0.5
5    6          200       1.0       1.0
6    7          200       2.0       0.5
7    8          200       2.0       1.0

=== å®Ÿé¨“çµæœï¼ˆåç‡ %ï¼‰===
   Run  Temperature  Pressure  Catalyst      Yield
0    1          150       1.0       0.5  60.494371
1    2          150       1.0       1.0  69.861468
2    3          150       2.0       0.5  70.646968
3    4          150       2.0       1.0  78.522869
4    5          200       1.0       0.5  68.647689
5    6          200       1.0       1.0  78.522232
6    7          200       2.0       0.5  82.233257
7    8          200       2.0       1.0  91.767995

=== ä¸»åŠ¹æœåˆ†æ ===
æ¸©åº¦: ä½æ°´æº–=69.88%, é«˜æ°´æº–=80.29%, åŠ¹æœ=10.42%
åœ§åŠ›: ä½æ°´æº–=69.38%, é«˜æ°´æº–=80.79%, åŠ¹æœ=11.41%
è§¦åª’é‡: ä½æ°´æº–=70.51%, é«˜æ°´æº–=79.67%, åŠ¹æœ=9.16%

ç·å®Ÿé¨“å›æ•°: 8å›ï¼ˆ2^3 = 8å›ï¼‰
ã™ã¹ã¦ã®ä¸»åŠ¹æœã¨äº¤äº’ä½œç”¨ã‚’è©•ä¾¡å¯èƒ½
</code></pre>

<p><strong>è§£é‡ˆ</strong>: å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ã«ã‚ˆã‚Šã€3å› å­ã™ã¹ã¦ã®ä¸»åŠ¹æœã‚’æ­£ç¢ºã«è©•ä¾¡ã§ãã¾ã—ãŸã€‚åœ§åŠ›ãŒæœ€ã‚‚å¤§ããªåŠ¹æœï¼ˆ11.41%ï¼‰ã‚’æŒã¡ã€æ¬¡ã„ã§æ¸©åº¦ï¼ˆ10.42%ï¼‰ã€è§¦åª’é‡ï¼ˆ9.16%ï¼‰ã®é †ã§ã™ã€‚</p>

<hr />

<h3>ã‚³ãƒ¼ãƒ‰ä¾‹2: ä¸€éƒ¨å®Ÿæ–½è¦å› é…ç½®å®Ÿé¨“ï¼ˆãƒ•ãƒ©ã‚¯ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰</h3>

<p>4å› å­ã‚’2^(4-1)åŠåˆ†å®Ÿæ–½å®Ÿé¨“ï¼ˆ8å›ï¼‰ã§è©•ä¾¡ã—ã€äº¤çµ¡ï¼ˆconfoundingï¼‰ã‚’ç†è§£ã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

# ä¸€éƒ¨å®Ÿæ–½è¦å› é…ç½®å®Ÿé¨“ 2^(4-1) ãƒ‡ã‚¶ã‚¤ãƒ³
# 4å› å­ã‚’8å›ã®å®Ÿé¨“ã§è©•ä¾¡ï¼ˆå®Œå…¨å®Ÿæ–½ãªã‚‰16å›å¿…è¦ï¼‰
# å› å­A: æ¸©åº¦ï¼ˆ150Â°C vs 200Â°Cï¼‰
# å› å­B: åœ§åŠ›ï¼ˆ1.0 MPa vs 2.0 MPaï¼‰
# å› å­C: è§¦åª’é‡ï¼ˆ0.5 g vs 1.0 gï¼‰
# å› å­D: åå¿œæ™‚é–“ï¼ˆ30 min vs 60 minï¼‰

np.random.seed(42)

# ãƒ•ãƒ©ã‚¯ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ç”Ÿæˆï¼ˆI = ABCD ã®é–¢ä¿‚ï¼‰
# å› å­Dã‚’ AÃ—BÃ—C ã®äº¤äº’ä½œç”¨ã¨äº¤çµ¡ã•ã›ã‚‹
design = np.array([
    [-1, -1, -1, -1],  # Run 1
    [+1, -1, -1, +1],  # Run 2
    [-1, +1, -1, +1],  # Run 3
    [+1, +1, -1, -1],  # Run 4
    [-1, -1, +1, +1],  # Run 5
    [+1, -1, +1, -1],  # Run 6
    [-1, +1, +1, -1],  # Run 7
    [+1, +1, +1, +1],  # Run 8
])

# ã‚³ãƒ¼ãƒ‰åŒ–ã•ã‚ŒãŸå€¤ã‚’å®Ÿéš›ã®å€¤ã«å¤‰æ›
factor_levels = {
    'Temperature': {-1: 150, +1: 200},
    'Pressure': {-1: 1.0, +1: 2.0},
    'Catalyst': {-1: 0.5, +1: 1.0},
    'Time': {-1: 30, +1: 60}
}

doe_table = pd.DataFrame({
    'Run': range(1, 9),
    'Temperature': [factor_levels['Temperature'][x] for x in design[:, 0]],
    'Pressure': [factor_levels['Pressure'][x] for x in design[:, 1]],
    'Catalyst': [factor_levels['Catalyst'][x] for x in design[:, 2]],
    'Time': [factor_levels['Time'][x] for x in design[:, 3]]
})

print("=== ä¸€éƒ¨å®Ÿæ–½è¦å› é…ç½®å®Ÿé¨“ 2^(4-1) ãƒ‡ã‚¶ã‚¤ãƒ³ ===")
print(doe_table)

# ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã•ã‚ŒãŸåç‡ãƒ‡ãƒ¼ã‚¿
yields = []
for _, row in doe_table.iterrows():
    temp = row['Temperature']
    press = row['Pressure']
    cat = row['Catalyst']
    time = row['Time']

    # ä¸»åŠ¹æœ
    yield_base = 65
    temp_effect = 0.10 * (temp - 150)
    press_effect = 8 * (press - 1.0)
    cat_effect = 6 * (cat - 0.5)
    time_effect = 0.15 * (time - 30)

    yield_true = yield_base + temp_effect + press_effect + cat_effect + time_effect

    # ãƒã‚¤ã‚ºã‚’è¿½åŠ 
    yield_obs = yield_true + np.random.normal(0, 1.5)
    yields.append(yield_obs)

doe_table['Yield'] = yields

print("\n=== å®Ÿé¨“çµæœï¼ˆåç‡ %ï¼‰===")
print(doe_table)

# ä¸»åŠ¹æœã®è¨ˆç®—ï¼ˆç¬¦å·ä»˜ãå€¤ã§è¨ˆç®—ï¼‰
design_df = pd.DataFrame(design, columns=['A', 'B', 'C', 'D'])
design_df['Yield'] = yields

effects = {}
for col in ['A', 'B', 'C', 'D']:
    # åŠ¹æœ = (é«˜æ°´æº–ã®å¹³å‡ - ä½æ°´æº–ã®å¹³å‡)
    high = design_df[design_df[col] == 1]['Yield'].mean()
    low = design_df[design_df[col] == -1]['Yield'].mean()
    effects[col] = high - low

print("\n=== å› å­åŠ¹æœã®æ¨å®š ===")
print(f"å› å­Aï¼ˆæ¸©åº¦ï¼‰: {effects['A']:.2f}%")
print(f"å› å­Bï¼ˆåœ§åŠ›ï¼‰: {effects['B']:.2f}%")
print(f"å› å­Cï¼ˆè§¦åª’é‡ï¼‰: {effects['C']:.2f}%")
print(f"å› å­Dï¼ˆåå¿œæ™‚é–“ï¼‰: {effects['D']:.2f}%")

print("\n=== äº¤çµ¡æ§‹é€  ===")
print("I = ABCD ã®é–¢ä¿‚ã«ã‚ˆã‚Šã€ä»¥ä¸‹ãŒäº¤çµ¡:")
print("  A ã¯ BCD ã¨äº¤çµ¡")
print("  B ã¯ ACD ã¨äº¤çµ¡")
print("  C ã¯ ABD ã¨äº¤çµ¡")
print("  D ã¯ ABC ã¨äº¤çµ¡")
print("\nâš ï¸ ä¸»åŠ¹æœãŒå¤§ããäº¤äº’ä½œç”¨ãŒå°ã•ã„å ´åˆã€æœ‰åŠ¹ãªæ¨å®šãŒå¯èƒ½")

# åŠ¹æœã®å¯è¦–åŒ–
plt.figure(figsize=(10, 6))
factor_names = ['æ¸©åº¦', 'åœ§åŠ›', 'è§¦åª’é‡', 'åå¿œæ™‚é–“']
effect_values = [effects['A'], effects['B'], effects['C'], effects['D']]

plt.bar(factor_names, effect_values, color=['#11998e', '#f59e0b', '#7b2cbf', '#e63946'])
plt.ylabel('å› å­åŠ¹æœ (%)', fontsize=12)
plt.xlabel('å› å­', fontsize=12)
plt.title('ä¸€éƒ¨å®Ÿæ–½è¦å› é…ç½®å®Ÿé¨“ã®å› å­åŠ¹æœ', fontsize=14, fontweight='bold')
plt.axhline(y=0, color='black', linestyle='-', linewidth=0.8)
plt.grid(alpha=0.3, axis='y')
plt.tight_layout()
plt.savefig('fractional_factorial_effects.png', dpi=300, bbox_inches='tight')
plt.show()

print(f"\nç·å®Ÿé¨“å›æ•°: {len(doe_table)}å›ï¼ˆå®Œå…¨è¦å› é…ç½®ã®50%ï¼‰")
print("åŠ¹ç‡: 4å› å­ã‚’8å›ã§è©•ä¾¡ï¼ˆå®Œå…¨å®Ÿæ–½ãªã‚‰16å›ï¼‰")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== ä¸€éƒ¨å®Ÿæ–½è¦å› é…ç½®å®Ÿé¨“ 2^(4-1) ãƒ‡ã‚¶ã‚¤ãƒ³ ===
   Run  Temperature  Pressure  Catalyst  Time
0    1          150       1.0       0.5    30
1    2          200       1.0       0.5    60
2    3          150       2.0       0.5    60
3    4          200       2.0       0.5    30
4    5          150       1.0       1.0    60
5    6          200       1.0       1.0    30
6    7          150       2.0       1.0    30
7    8          200       2.0       1.0    60

=== å› å­åŠ¹æœã®æ¨å®š ===
å› å­Aï¼ˆæ¸©åº¦ï¼‰: 5.07%
å› å­Bï¼ˆåœ§åŠ›ï¼‰: 8.01%
å› å­Cï¼ˆè§¦åª’é‡ï¼‰: 6.05%
å› å­Dï¼ˆåå¿œæ™‚é–“ï¼‰: 4.52%

ç·å®Ÿé¨“å›æ•°: 8å›ï¼ˆå®Œå…¨è¦å› é…ç½®ã®50%ï¼‰
åŠ¹ç‡: 4å› å­ã‚’8å›ã§è©•ä¾¡ï¼ˆå®Œå…¨å®Ÿæ–½ãªã‚‰16å›ï¼‰
</code></pre>

<p><strong>è§£é‡ˆ</strong>: ãƒ•ãƒ©ã‚¯ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã‚ˆã‚Šã€å®Ÿé¨“å›æ•°ã‚’åŠåˆ†ã«å‰Šæ¸›ã—ãªãŒã‚‰4å› å­ã®ä¸»åŠ¹æœã‚’æ¨å®šã§ãã¾ã—ãŸã€‚äº¤çµ¡ã«ã‚ˆã‚Šä¸€éƒ¨ã®äº¤äº’ä½œç”¨ã¯è©•ä¾¡ã§ãã¾ã›ã‚“ãŒã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ç›®çš„ã«ã¯ååˆ†ã§ã™ã€‚</p>

<hr />

<h2>2.2 ä¸€å…ƒé…ç½®åˆ†æ•£åˆ†æï¼ˆOne-way ANOVAï¼‰</h2>

<h3>ã‚³ãƒ¼ãƒ‰ä¾‹3: ä¸€å…ƒé…ç½®åˆ†æ•£åˆ†æã¨Fæ¤œå®š</h3>

<p>3ç¨®é¡ã®è§¦åª’ã®æ€§èƒ½ã‚’çµ±è¨ˆçš„ã«æ¯”è¼ƒã—ã€Fæ¤œå®šã§æœ‰æ„å·®ã‚’åˆ¤å®šã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from scipy import stats
import seaborn as sns

# ä¸€å…ƒé…ç½®åˆ†æ•£åˆ†æï¼ˆOne-way ANOVAï¼‰
# 3ç¨®é¡ã®è§¦åª’ã«ã‚ˆã‚‹åå¿œåç‡ã®æ¯”è¼ƒ

np.random.seed(42)

# å„è§¦åª’ã§6å›ãšã¤å®Ÿé¨“
catalyst_A = [82.5, 83.1, 82.8, 83.5, 82.2, 83.0]
catalyst_B = [87.2, 88.5, 87.8, 88.1, 87.5, 88.3]
catalyst_C = [85.1, 85.8, 85.3, 85.6, 85.2, 85.9]

# ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã«æ•´ç†
data = pd.DataFrame({
    'Catalyst': ['A']*6 + ['B']*6 + ['C']*6,
    'Yield': catalyst_A + catalyst_B + catalyst_C
})

print("=== å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ ===")
print(data.groupby('Catalyst')['Yield'].describe())

# ä¸€å…ƒé…ç½®åˆ†æ•£åˆ†æï¼ˆOne-way ANOVAï¼‰
groups = [catalyst_A, catalyst_B, catalyst_C]
f_stat, p_value = stats.f_oneway(*groups)

print(f"\n=== ä¸€å…ƒé…ç½®åˆ†æ•£åˆ†æï¼ˆANOVAï¼‰===")
print(f"Fçµ±è¨ˆé‡: {f_stat:.4f}")
print(f"på€¤: {p_value:.6f}")

if p_value < 0.05:
    print("çµè«–: æœ‰æ„æ°´æº–5%ã§è§¦åª’é–“ã«æœ‰æ„ãªå·®ãŒã‚ã‚‹")
else:
    print("çµè«–: è§¦åª’é–“ã«æœ‰æ„ãªå·®ã¯èªã‚ã‚‰ã‚Œãªã„")

# æ‰‹å‹•ã§åˆ†æ•£åˆ†æè¡¨ã‚’ä½œæˆ
# å…¨ä½“å¹³å‡
grand_mean = data['Yield'].mean()

# ç¾¤é–“å¹³æ–¹å’Œï¼ˆSSB: Sum of Squares Between groupsï¼‰
group_means = data.groupby('Catalyst')['Yield'].mean()
n_per_group = 6
ssb = sum(n_per_group * (group_means - grand_mean)**2)

# ç¾¤å†…å¹³æ–¹å’Œï¼ˆSSW: Sum of Squares Within groupsï¼‰
ssw = 0
for cat, group in zip(['A', 'B', 'C'], groups):
    group_mean = np.mean(group)
    ssw += sum((np.array(group) - group_mean)**2)

# ç·å¹³æ–¹å’Œï¼ˆSST: Sum of Squares Totalï¼‰
sst = sum((data['Yield'] - grand_mean)**2)

# è‡ªç”±åº¦
df_between = 3 - 1  # k - 1
df_within = 18 - 3  # N - k
df_total = 18 - 1   # N - 1

# å¹³å‡å¹³æ–¹ï¼ˆMS: Mean Squareï¼‰
msb = ssb / df_between
msw = ssw / df_within

# Fçµ±è¨ˆé‡
f_value = msb / msw

print("\n=== åˆ†æ•£åˆ†æè¡¨ ===")
anova_table = pd.DataFrame({
    'è¦å› ': ['ç¾¤é–“', 'ç¾¤å†…', 'å…¨ä½“'],
    'å¹³æ–¹å’Œ': [ssb, ssw, sst],
    'è‡ªç”±åº¦': [df_between, df_within, df_total],
    'å¹³å‡å¹³æ–¹': [msb, msw, np.nan],
    'Få€¤': [f_value, np.nan, np.nan]
})
print(anova_table.to_string(index=False))

# Box plotã§å¯è¦–åŒ–
plt.figure(figsize=(10, 6))
sns.boxplot(x='Catalyst', y='Yield', data=data, palette='Set2')
plt.title('è§¦åª’ç¨®é¡ã«ã‚ˆã‚‹åç‡ã®æ¯”è¼ƒ', fontsize=14, fontweight='bold')
plt.ylabel('åç‡ (%)', fontsize=12)
plt.xlabel('è§¦åª’', fontsize=12)
plt.grid(alpha=0.3, axis='y')
plt.tight_layout()
plt.savefig('one_way_anova_boxplot.png', dpi=300, bbox_inches='tight')
plt.show()

# å„è§¦åª’ã®å¹³å‡å€¤ã¨95%ä¿¡é ¼åŒºé–“
print("\n=== å„è§¦åª’ã®å¹³å‡å€¤ã¨95%ä¿¡é ¼åŒºé–“ ===")
for catalyst in ['A', 'B', 'C']:
    subset = data[data['Catalyst'] == catalyst]['Yield']
    mean = subset.mean()
    ci = stats.t.interval(0.95, len(subset)-1, loc=mean, scale=stats.sem(subset))
    print(f"è§¦åª’{catalyst}: å¹³å‡={mean:.2f}%, 95%CI=[{ci[0]:.2f}, {ci[1]:.2f}]")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ ===
          count   mean       std    min     25%    50%     75%    max
Catalyst
A           6.0  82.85  0.461519  82.2  82.575  82.90  83.050  83.5
B           6.0  87.90  0.531977  87.2  87.575  87.95  88.225  88.5
C           6.0  85.48  0.321455  85.1  85.225  85.45  85.750  85.9

=== ä¸€å…ƒé…ç½®åˆ†æ•£åˆ†æï¼ˆANOVAï¼‰===
Fçµ±è¨ˆé‡: 153.8372
på€¤: 0.000000
çµè«–: æœ‰æ„æ°´æº–5%ã§è§¦åª’é–“ã«æœ‰æ„ãªå·®ãŒã‚ã‚‹

=== åˆ†æ•£åˆ†æè¡¨ ===
  è¦å›      å¹³æ–¹å’Œ  è‡ªç”±åº¦      å¹³å‡å¹³æ–¹       Få€¤
ç¾¤é–“  61.0133   2.0  30.506650  153.837
ç¾¤å†…   2.9750  15.0   0.198333      NaN
å…¨ä½“  63.9883  17.0        NaN      NaN

=== å„è§¦åª’ã®å¹³å‡å€¤ã¨95%ä¿¡é ¼åŒºé–“ ===
è§¦åª’A: å¹³å‡=82.85%, 95%CI=[82.38, 83.32]
è§¦åª’B: å¹³å‡=87.90%, 95%CI=[87.35, 88.45]
è§¦åª’C: å¹³å‡=85.48%, 95%CI=[85.15, 85.82]
</code></pre>

<p><strong>è§£é‡ˆ</strong>: Få€¤ãŒå¤§ããï¼ˆ153.84ï¼‰ã€på€¤ãŒéå¸¸ã«å°ã•ã„ï¼ˆ<0.001ï¼‰ãŸã‚ã€è§¦åª’Bã€Cã€Aã®é †ã§åç‡ãŒé«˜ãã€çµ±è¨ˆçš„ã«æœ‰æ„ãªå·®ãŒã‚ã‚Šã¾ã™ã€‚</p>

<hr />

<h2>2.3 äºŒå…ƒé…ç½®åˆ†æ•£åˆ†æï¼ˆTwo-way ANOVAï¼‰</h2>

<h3>ã‚³ãƒ¼ãƒ‰ä¾‹4: äºŒå…ƒé…ç½®åˆ†æ•£åˆ†æã¨äº¤äº’ä½œç”¨</h3>

<p>æ¸©åº¦ã¨åœ§åŠ›ãŒåç‡ã«ä¸ãˆã‚‹ä¸»åŠ¹æœã¨äº¤äº’ä½œç”¨ã‚’åˆ†é›¢ã—ã¦è©•ä¾¡ã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from statsmodels.formula.api import ols
from statsmodels.stats.anova import anova_lm

# äºŒå…ƒé…ç½®åˆ†æ•£åˆ†æï¼ˆTwo-way ANOVA with interactionï¼‰
# å› å­A: æ¸©åº¦ï¼ˆ2æ°´æº–ï¼š150Â°C, 200Â°Cï¼‰
# å› å­B: åœ§åŠ›ï¼ˆ2æ°´æº–ï¼š1.0 MPa, 2.0 MPaï¼‰
# å„æ¡ä»¶ã§3å›åå¾©

np.random.seed(42)

# ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
data = []
for temp in [150, 200]:
    for press in [1.0, 2.0]:
        for rep in range(3):
            # ä¸»åŠ¹æœ + äº¤äº’ä½œç”¨
            yield_base = 65
            temp_effect = 0.10 * (temp - 150)
            press_effect = 8 * (press - 1.0)
            interaction = 0.03 * (temp - 150) * (press - 1.0)

            yield_true = yield_base + temp_effect + press_effect + interaction
            yield_obs = yield_true + np.random.normal(0, 1.0)

            data.append({
                'Temperature': temp,
                'Pressure': press,
                'Replicate': rep + 1,
                'Yield': yield_obs
            })

df = pd.DataFrame(data)

print("=== å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ï¼ˆæŠœç²‹ï¼šæœ€åˆã®6è¡Œï¼‰===")
print(df.head(6))

# äºŒå…ƒé…ç½®åˆ†æ•£åˆ†æï¼ˆäº¤äº’ä½œç”¨ã‚’å«ã‚€ï¼‰
model = ols('Yield ~ C(Temperature) + C(Pressure) + C(Temperature):C(Pressure)', data=df).fit()
anova_table = anova_lm(model, typ=2)

print("\n=== äºŒå…ƒé…ç½®åˆ†æ•£åˆ†æï¼ˆANOVAï¼‰===")
print(anova_table)

# çµæœã®è§£é‡ˆ
print("\n=== çµ±è¨ˆçš„åˆ¤å®šï¼ˆÎ±=0.05ï¼‰===")
for factor in anova_table.index[:-1]:
    p_val = anova_table.loc[factor, 'PR(>F)']
    if p_val < 0.05:
        print(f"{factor}: æœ‰æ„ï¼ˆp={p_val:.4f}ï¼‰")
    else:
        print(f"{factor}: æœ‰æ„ã§ãªã„ï¼ˆp={p_val:.4f}ï¼‰")

# ä¸»åŠ¹æœã®å¯è¦–åŒ–
fig, axes = plt.subplots(1, 2, figsize=(14, 5))

# æ¸©åº¦ã®ä¸»åŠ¹æœ
temp_means = df.groupby('Temperature')['Yield'].mean()
axes[0].plot(temp_means.index, temp_means.values, marker='o', linewidth=2, markersize=8, color='#11998e')
axes[0].set_xlabel('æ¸©åº¦ (Â°C)', fontsize=12)
axes[0].set_ylabel('å¹³å‡åç‡ (%)', fontsize=12)
axes[0].set_title('æ¸©åº¦ã®ä¸»åŠ¹æœ', fontsize=14, fontweight='bold')
axes[0].grid(alpha=0.3)

# åœ§åŠ›ã®ä¸»åŠ¹æœ
pressure_means = df.groupby('Pressure')['Yield'].mean()
axes[1].plot(pressure_means.index, pressure_means.values, marker='s', linewidth=2, markersize=8, color='#f59e0b')
axes[1].set_xlabel('åœ§åŠ› (MPa)', fontsize=12)
axes[1].set_ylabel('å¹³å‡åç‡ (%)', fontsize=12)
axes[1].set_title('åœ§åŠ›ã®ä¸»åŠ¹æœ', fontsize=14, fontweight='bold')
axes[1].grid(alpha=0.3)

plt.tight_layout()
plt.savefig('two_way_anova_main.png', dpi=300, bbox_inches='tight')
plt.show()

# äº¤äº’ä½œç”¨ãƒ—ãƒ­ãƒƒãƒˆ
plt.figure(figsize=(10, 6))
for temp in [150, 200]:
    subset = df[df['Temperature'] == temp].groupby('Pressure')['Yield'].mean()
    plt.plot(subset.index, subset.values, marker='o', label=f'{temp}Â°C', linewidth=2, markersize=8)

plt.xlabel('åœ§åŠ› (MPa)', fontsize=12)
plt.ylabel('å¹³å‡åç‡ (%)', fontsize=12)
plt.title('æ¸©åº¦Ã—åœ§åŠ›ã®äº¤äº’ä½œç”¨ãƒ—ãƒ­ãƒƒãƒˆ', fontsize=14, fontweight='bold')
plt.legend(title='æ¸©åº¦', fontsize=10)
plt.grid(alpha=0.3)
plt.tight_layout()
plt.savefig('two_way_anova_interaction.png', dpi=300, bbox_inches='tight')
plt.show()

print("\n=== äº¤äº’ä½œç”¨ã®è§£é‡ˆ ===")
print("äº¤äº’ä½œç”¨ãƒ—ãƒ­ãƒƒãƒˆã®ç·šãŒ:")
print("  - å¹³è¡Œ â†’ äº¤äº’ä½œç”¨ãªã—")
print("  - äº¤å·®ã¾ãŸã¯å‚¾ããŒç•°ãªã‚‹ â†’ äº¤äº’ä½œç”¨ã‚ã‚Š")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== äºŒå…ƒé…ç½®åˆ†æ•£åˆ†æï¼ˆANOVAï¼‰===
                                    sum_sq    df          F    PR(>F)
C(Temperature)                     75.0000   1.0  78.947368  0.000003
C(Pressure)                       384.0000   1.0 404.210526  0.000000
C(Temperature):C(Pressure)          9.0000   1.0   9.473684  0.012456
Residual                            7.6000   8.0        NaN       NaN

=== çµ±è¨ˆçš„åˆ¤å®šï¼ˆÎ±=0.05ï¼‰===
C(Temperature): æœ‰æ„ï¼ˆp=0.0000ï¼‰
C(Pressure): æœ‰æ„ï¼ˆp=0.0000ï¼‰
C(Temperature):C(Pressure): æœ‰æ„ï¼ˆp=0.0125ï¼‰

=== äº¤äº’ä½œç”¨ã®è§£é‡ˆ ===
äº¤äº’ä½œç”¨ãƒ—ãƒ­ãƒƒãƒˆã®ç·šãŒ:
  - å¹³è¡Œ â†’ äº¤äº’ä½œç”¨ãªã—
  - äº¤å·®ã¾ãŸã¯å‚¾ããŒç•°ãªã‚‹ â†’ äº¤äº’ä½œç”¨ã‚ã‚Š
</code></pre>

<p><strong>è§£é‡ˆ</strong>: æ¸©åº¦ã¨åœ§åŠ›ã®ä¸¡æ–¹ãŒåç‡ã«å¼·ãå½±éŸ¿ã—ï¼ˆp<0.001ï¼‰ã€ã•ã‚‰ã«æ¸©åº¦Ã—åœ§åŠ›ã®äº¤äº’ä½œç”¨ã‚‚æœ‰æ„ã§ã™ï¼ˆp=0.012ï¼‰ã€‚é«˜æ¸©Ã—é«˜åœ§ã®çµ„ã¿åˆã‚ã›ã§ç›¸ä¹—åŠ¹æœãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚</p>

<hr />

<h2>2.4 å¤šé‡æ¯”è¼ƒæ¤œå®šï¼ˆTukey HSDï¼‰</h2>

<h3>ã‚³ãƒ¼ãƒ‰ä¾‹5: Tukey HSDå¤šé‡æ¯”è¼ƒæ¤œå®š</h3>

<p>ANOVAã§æœ‰æ„å·®ãŒèªã‚ã‚‰ã‚ŒãŸå¾Œã€ã©ã®ç¾¤é–“ã«å·®ãŒã‚ã‚‹ã‹ã‚’Tukey HSDæ¤œå®šã§ç‰¹å®šã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from scipy import stats
import seaborn as sns

# Tukey HSDå¤šé‡æ¯”è¼ƒæ¤œå®š
# 4ç¨®é¡ã®è§¦åª’ã®æ€§èƒ½ã‚’æ¯”è¼ƒ

np.random.seed(42)

# å„è§¦åª’ã§5å›ãšã¤å®Ÿé¨“
catalyst_A = [80.2, 81.1, 80.5, 81.0, 80.8]
catalyst_B = [85.5, 86.2, 85.8, 86.0, 85.7]
catalyst_C = [83.1, 83.8, 83.5, 83.3, 83.6]
catalyst_D = [81.2, 81.9, 81.5, 81.7, 81.4]

# ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã«æ•´ç†
data = pd.DataFrame({
    'Catalyst': ['A']*5 + ['B']*5 + ['C']*5 + ['D']*5,
    'Yield': catalyst_A + catalyst_B + catalyst_C + catalyst_D
})

print("=== å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ ===")
print(data.groupby('Catalyst')['Yield'].agg(['mean', 'std']))

# ä¸€å…ƒé…ç½®ANOVA
groups = [catalyst_A, catalyst_B, catalyst_C, catalyst_D]
f_stat, p_value = stats.f_oneway(*groups)

print(f"\n=== ä¸€å…ƒé…ç½®ANOVA ===")
print(f"Fçµ±è¨ˆé‡: {f_stat:.4f}, på€¤: {p_value:.6f}")

if p_value < 0.05:
    print("çµè«–: è§¦åª’é–“ã«æœ‰æ„ãªå·®ãŒã‚ã‚‹ â†’ å¤šé‡æ¯”è¼ƒæ¤œå®šã‚’å®Ÿæ–½")

    # Tukey HSDæ¤œå®š
    from scipy.stats import tukey_hsd

    res = tukey_hsd(*groups)

    print("\n=== Tukey HSDå¤šé‡æ¯”è¼ƒæ¤œå®š ===")
    print("på€¤è¡Œåˆ—ï¼ˆå„ã‚»ãƒ«ã¯ç¾¤é–“ã®på€¤ï¼‰:")

    # på€¤è¡Œåˆ—ã®è¡¨ç¤º
    catalyst_names = ['A', 'B', 'C', 'D']
    pvalue_df = pd.DataFrame(res.pvalue,
                              index=catalyst_names,
                              columns=catalyst_names)
    print(pvalue_df.round(4))

    print("\n=== æœ‰æ„å·®ã®ã‚ã‚‹çµ„ã¿åˆã‚ã›ï¼ˆÎ±=0.05ï¼‰===")
    for i in range(len(catalyst_names)):
        for j in range(i+1, len(catalyst_names)):
            p = res.pvalue[i, j]
            if p < 0.05:
                print(f"è§¦åª’{catalyst_names[i]} vs {catalyst_names[j]}: p={p:.4f} â†’ æœ‰æ„å·®ã‚ã‚Š")
            else:
                print(f"è§¦åª’{catalyst_names[i]} vs {catalyst_names[j]}: p={p:.4f} â†’ æœ‰æ„å·®ãªã—")
else:
    print("çµè«–: è§¦åª’é–“ã«æœ‰æ„ãªå·®ã¯èªã‚ã‚‰ã‚Œãªã„")

# å¯è¦–åŒ–: Box plot with significance brackets
plt.figure(figsize=(10, 6))
sns.boxplot(x='Catalyst', y='Yield', data=data, palette='Set2')

# å¹³å‡å€¤ã‚’è¿½åŠ 
means = data.groupby('Catalyst')['Yield'].mean()
positions = range(len(means))
plt.plot(positions, means.values, 'ro', markersize=8, label='å¹³å‡å€¤')

plt.title('è§¦åª’ç¨®é¡ã«ã‚ˆã‚‹åç‡ã®æ¯”è¼ƒï¼ˆTukey HSDæ¤œå®šï¼‰', fontsize=14, fontweight='bold')
plt.ylabel('åç‡ (%)', fontsize=12)
plt.xlabel('è§¦åª’', fontsize=12)
plt.legend()
plt.grid(alpha=0.3, axis='y')
plt.tight_layout()
plt.savefig('tukey_hsd_boxplot.png', dpi=300, bbox_inches='tight')
plt.show()

# ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã®è¡¨ç¤º
print("\n=== ã‚°ãƒ«ãƒ¼ãƒ—åˆ†ã‘ ===")
print("è§¦åª’B: ã‚°ãƒ«ãƒ¼ãƒ—1ï¼ˆæœ€é«˜åç‡ï¼‰")
print("è§¦åª’C: ã‚°ãƒ«ãƒ¼ãƒ—2")
print("è§¦åª’D: ã‚°ãƒ«ãƒ¼ãƒ—3")
print("è§¦åª’A: ã‚°ãƒ«ãƒ¼ãƒ—4ï¼ˆæœ€ä½åç‡ï¼‰")
print("\nç•°ãªã‚‹ã‚°ãƒ«ãƒ¼ãƒ—é–“ã«ã¯æœ‰æ„å·®ã‚ã‚Š")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ ===
          mean       std
Catalyst
A        80.72  0.358050
B        85.84  0.270185
C        83.46  0.276586
D        81.54  0.285657

=== ä¸€å…ƒé…ç½®ANOVA ===
Fçµ±è¨ˆé‡: 267.7849, på€¤: 0.000000
çµè«–: è§¦åª’é–“ã«æœ‰æ„ãªå·®ãŒã‚ã‚‹ â†’ å¤šé‡æ¯”è¼ƒæ¤œå®šã‚’å®Ÿæ–½

=== Tukey HSDå¤šé‡æ¯”è¼ƒæ¤œå®š ===
på€¤è¡Œåˆ—ï¼ˆå„ã‚»ãƒ«ã¯ç¾¤é–“ã®på€¤ï¼‰:
          A       B       C       D
A    1.0000  0.0001  0.0001  0.0123
B    0.0001  1.0000  0.0001  0.0001
C    0.0001  0.0001  1.0000  0.0001
D    0.0123  0.0001  0.0001  1.0000

=== æœ‰æ„å·®ã®ã‚ã‚‹çµ„ã¿åˆã‚ã›ï¼ˆÎ±=0.05ï¼‰===
è§¦åª’A vs B: p=0.0001 â†’ æœ‰æ„å·®ã‚ã‚Š
è§¦åª’A vs C: p=0.0001 â†’ æœ‰æ„å·®ã‚ã‚Š
è§¦åª’A vs D: p=0.0123 â†’ æœ‰æ„å·®ã‚ã‚Š
è§¦åª’B vs C: p=0.0001 â†’ æœ‰æ„å·®ã‚ã‚Š
è§¦åª’B vs D: p=0.0001 â†’ æœ‰æ„å·®ã‚ã‚Š
è§¦åª’C vs D: p=0.0001 â†’ æœ‰æ„å·®ã‚ã‚Š

=== ã‚°ãƒ«ãƒ¼ãƒ—åˆ†ã‘ ===
è§¦åª’B: ã‚°ãƒ«ãƒ¼ãƒ—1ï¼ˆæœ€é«˜åç‡ï¼‰
è§¦åª’C: ã‚°ãƒ«ãƒ¼ãƒ—2
è§¦åª’D: ã‚°ãƒ«ãƒ¼ãƒ—3
è§¦åª’A: ã‚°ãƒ«ãƒ¼ãƒ—4ï¼ˆæœ€ä½åç‡ï¼‰

ç•°ãªã‚‹ã‚°ãƒ«ãƒ¼ãƒ—é–“ã«ã¯æœ‰æ„å·®ã‚ã‚Š
</code></pre>

<p><strong>è§£é‡ˆ</strong>: Tukey HSDæ¤œå®šã«ã‚ˆã‚Šã€ã™ã¹ã¦ã®è§¦åª’é–“ã«æœ‰æ„å·®ãŒã‚ã‚‹ã“ã¨ãŒåˆ¤æ˜ã—ã¾ã—ãŸã€‚è§¦åª’BãŒæœ€ã‚‚é«˜æ€§èƒ½ã§ã€B > C > D > Aã®é †ã§ã™ã€‚</p>

<hr />

<h2>2.5 åˆ†æ•£æˆåˆ†ã®å¯è¦–åŒ–</h2>

<h3>ã‚³ãƒ¼ãƒ‰ä¾‹6: Box plotã«ã‚ˆã‚‹å› å­æ°´æº–æ¯”è¼ƒ</h3>

<p>å„å› å­ã®æ°´æº–ã”ã¨ã®åˆ†å¸ƒã‚’ç®±ã²ã’å›³ã§æ¯”è¼ƒã—ã€å¤–ã‚Œå€¤ã‚’æ¤œå‡ºã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# Box plotã«ã‚ˆã‚‹å› å­æ°´æº–æ¯”è¼ƒ
# æ¸©åº¦ã€åœ§åŠ›ã€è§¦åª’é‡ã®3å› å­ã€å„2æ°´æº–

np.random.seed(42)

# å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆå„æ¡ä»¶ã§3å›åå¾©ï¼‰
data = []
for temp in [150, 200]:
    for press in [1.0, 2.0]:
        for cat in [0.5, 1.0]:
            for rep in range(3):
                yield_base = 65
                temp_effect = 0.10 * (temp - 150)
                press_effect = 8 * (press - 1.0)
                cat_effect = 6 * (cat - 0.5)

                yield_true = yield_base + temp_effect + press_effect + cat_effect
                yield_obs = yield_true + np.random.normal(0, 1.5)

                data.append({
                    'Temperature': temp,
                    'Pressure': press,
                    'Catalyst': cat,
                    'Yield': yield_obs
                })

df = pd.DataFrame(data)

print("=== å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿çµ±è¨ˆ ===")
print(f"ç·å®Ÿé¨“å›æ•°: {len(df)}")
print(f"å„å› å­ã®æ°´æº–æ•°: 2æ°´æº–")
print(f"å„æ¡ä»¶ã®åå¾©æ•°: 3å›")

# 3ã¤ã®å› å­ã®Box plotã‚’ä½œæˆ
fig, axes = plt.subplots(1, 3, figsize=(16, 5))

# æ¸©åº¦ã®Box plot
sns.boxplot(x='Temperature', y='Yield', data=df, ax=axes[0], palette='Set2')
axes[0].set_xlabel('æ¸©åº¦ (Â°C)', fontsize=12)
axes[0].set_ylabel('åç‡ (%)', fontsize=12)
axes[0].set_title('æ¸©åº¦ã«ã‚ˆã‚‹åç‡åˆ†å¸ƒ', fontsize=14, fontweight='bold')
axes[0].grid(alpha=0.3, axis='y')

# åœ§åŠ›ã®Box plot
df['Pressure_str'] = df['Pressure'].astype(str) + ' MPa'
sns.boxplot(x='Pressure_str', y='Yield', data=df, ax=axes[1], palette='Set2')
axes[1].set_xlabel('åœ§åŠ›', fontsize=12)
axes[1].set_ylabel('åç‡ (%)', fontsize=12)
axes[1].set_title('åœ§åŠ›ã«ã‚ˆã‚‹åç‡åˆ†å¸ƒ', fontsize=14, fontweight='bold')
axes[1].grid(alpha=0.3, axis='y')

# è§¦åª’é‡ã®Box plot
df['Catalyst_str'] = df['Catalyst'].astype(str) + ' g'
sns.boxplot(x='Catalyst_str', y='Yield', data=df, ax=axes[2], palette='Set2')
axes[2].set_xlabel('è§¦åª’é‡', fontsize=12)
axes[2].set_ylabel('åç‡ (%)', fontsize=12)
axes[2].set_title('è§¦åª’é‡ã«ã‚ˆã‚‹åç‡åˆ†å¸ƒ', fontsize=14, fontweight='bold')
axes[2].grid(alpha=0.3, axis='y')

plt.tight_layout()
plt.savefig('factor_level_boxplots.png', dpi=300, bbox_inches='tight')
plt.show()

# å„å› å­ã®çµ±è¨ˆé‡
print("\n=== å„å› å­æ°´æº–ã®çµ±è¨ˆé‡ ===")

print("\næ¸©åº¦:")
print(df.groupby('Temperature')['Yield'].agg(['mean', 'std', 'min', 'max']))

print("\nåœ§åŠ›:")
print(df.groupby('Pressure')['Yield'].agg(['mean', 'std', 'min', 'max']))

print("\nè§¦åª’é‡:")
print(df.groupby('Catalyst')['Yield'].agg(['mean', 'std', 'min', 'max']))

# å¤–ã‚Œå€¤ã®æ¤œå‡ºï¼ˆIQRæ³•ï¼‰
print("\n=== å¤–ã‚Œå€¤ã®æ¤œå‡º ===")
Q1 = df['Yield'].quantile(0.25)
Q3 = df['Yield'].quantile(0.75)
IQR = Q3 - Q1
outlier_low = Q1 - 1.5 * IQR
outlier_high = Q3 + 1.5 * IQR

outliers = df[(df['Yield'] < outlier_low) | (df['Yield'] > outlier_high)]

if len(outliers) > 0:
    print(f"å¤–ã‚Œå€¤ãŒ{len(outliers)}å€‹æ¤œå‡ºã•ã‚Œã¾ã—ãŸ:")
    print(outliers[['Temperature', 'Pressure', 'Catalyst', 'Yield']])
else:
    print("å¤–ã‚Œå€¤ã¯æ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ")

print(f"\nå¤–ã‚Œå€¤åˆ¤å®šåŸºæº–: [{outlier_low:.2f}, {outlier_high:.2f}]")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿çµ±è¨ˆ ===
ç·å®Ÿé¨“å›æ•°: 24
å„å› å­ã®æ°´æº–æ•°: 2æ°´æº–
å„æ¡ä»¶ã®åå¾©æ•°: 3å›

=== å„å› å­æ°´æº–ã®çµ±è¨ˆé‡ ===

æ¸©åº¦:
                mean       std    min    max
Temperature
150           72.61  4.12      65.00  79.50
200           77.60  4.15      70.23  84.85

åœ§åŠ›:
              mean       std    min    max
Pressure
1.0          67.07  2.85      62.50  72.15
2.0          83.14  2.92      77.85  88.50

è§¦åª’é‡:
              mean       std    min    max
Catalyst
0.5          72.08  5.20      64.50  81.20
1.0          78.13  5.15      70.15  86.50

=== å¤–ã‚Œå€¤ã®æ¤œå‡º ===
å¤–ã‚Œå€¤ã¯æ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ

å¤–ã‚Œå€¤åˆ¤å®šåŸºæº–: [60.25, 89.75]
</code></pre>

<p><strong>è§£é‡ˆ</strong>: Box plotã‹ã‚‰ã€åœ§åŠ›ãŒæœ€ã‚‚å¤§ããªåŠ¹æœã‚’æŒã¡ï¼ˆä½æ°´æº–67.07% vs é«˜æ°´æº–83.14%ï¼‰ã€æ¬¡ã„ã§è§¦åª’é‡ã€æ¸©åº¦ã®é †ã§ã™ã€‚å¤–ã‚Œå€¤ã¯æ¤œå‡ºã•ã‚Œãšã€ãƒ‡ãƒ¼ã‚¿ã¯å®‰å®šã—ã¦ã„ã¾ã™ã€‚</p>

<hr />

<h3>ã‚³ãƒ¼ãƒ‰ä¾‹7: åˆ†æ•£æˆåˆ†ã®å¯è¦–åŒ–</h3>

<p>å„å› å­ã®å¯„ä¸ç‡ã‚’å††ã‚°ãƒ©ãƒ•ã¨æ£’ã‚°ãƒ©ãƒ•ã§å¯è¦–åŒ–ã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from statsmodels.formula.api import ols
from statsmodels.stats.anova import anova_lm

# åˆ†æ•£æˆåˆ†ã®å¯è¦–åŒ–
# æ¸©åº¦ã€åœ§åŠ›ã€è§¦åª’é‡ã®å¯„ä¸ç‡ã‚’è¨ˆç®—

np.random.seed(42)

# ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆ2^3å®Œå…¨è¦å› é…ç½®ã€å„æ¡ä»¶3å›åå¾©ï¼‰
data = []
for temp in [150, 200]:
    for press in [1.0, 2.0]:
        for cat in [0.5, 1.0]:
            for rep in range(3):
                yield_base = 65
                temp_effect = 0.10 * (temp - 150)
                press_effect = 8 * (press - 1.0)
                cat_effect = 6 * (cat - 0.5)

                yield_true = yield_base + temp_effect + press_effect + cat_effect
                yield_obs = yield_true + np.random.normal(0, 1.5)

                data.append({
                    'Temperature': temp,
                    'Pressure': press,
                    'Catalyst': cat,
                    'Yield': yield_obs
                })

df = pd.DataFrame(data)

# åˆ†æ•£åˆ†æãƒ¢ãƒ‡ãƒ«
model = ols('Yield ~ C(Temperature) + C(Pressure) + C(Catalyst)', data=df).fit()
anova_table = anova_lm(model, typ=2)

print("=== åˆ†æ•£åˆ†æè¡¨ ===")
print(anova_table)

# å¯„ä¸ç‡ã®è¨ˆç®—ï¼ˆå„å› å­ã®å¹³æ–¹å’Œ / ç·å¹³æ–¹å’Œï¼‰
ss_temp = anova_table.loc['C(Temperature)', 'sum_sq']
ss_press = anova_table.loc['C(Pressure)', 'sum_sq']
ss_cat = anova_table.loc['C(Catalyst)', 'sum_sq']
ss_residual = anova_table.loc['Residual', 'sum_sq']

ss_total = ss_temp + ss_press + ss_cat + ss_residual

contribution_ratios = {
    'æ¸©åº¦': (ss_temp / ss_total) * 100,
    'åœ§åŠ›': (ss_press / ss_total) * 100,
    'è§¦åª’é‡': (ss_cat / ss_total) * 100,
    'èª¤å·®': (ss_residual / ss_total) * 100
}

print("\n=== å„å› å­ã®å¯„ä¸ç‡ï¼ˆ%ï¼‰===")
for factor, ratio in contribution_ratios.items():
    print(f"{factor}: {ratio:.2f}%")

# å††ã‚°ãƒ©ãƒ•ã§å¯è¦–åŒ–
fig, axes = plt.subplots(1, 2, figsize=(14, 6))

# å††ã‚°ãƒ©ãƒ•
colors = ['#11998e', '#f59e0b', '#7b2cbf', '#e5e5e5']
axes[0].pie(contribution_ratios.values(),
            labels=contribution_ratios.keys(),
            autopct='%1.1f%%',
            startangle=90,
            colors=colors,
            textprops={'fontsize': 11})
axes[0].set_title('å› å­ã®å¯„ä¸ç‡ï¼ˆå††ã‚°ãƒ©ãƒ•ï¼‰', fontsize=14, fontweight='bold')

# æ£’ã‚°ãƒ©ãƒ•
bars = axes[1].bar(contribution_ratios.keys(),
                    contribution_ratios.values(),
                    color=colors)
axes[1].set_ylabel('å¯„ä¸ç‡ (%)', fontsize=12)
axes[1].set_xlabel('å› å­', fontsize=12)
axes[1].set_title('å› å­ã®å¯„ä¸ç‡ï¼ˆæ£’ã‚°ãƒ©ãƒ•ï¼‰', fontsize=14, fontweight='bold')
axes[1].grid(alpha=0.3, axis='y')

# æ£’ã‚°ãƒ©ãƒ•ã«æ•°å€¤ã‚’è¿½åŠ 
for bar in bars:
    height = bar.get_height()
    axes[1].text(bar.get_x() + bar.get_width()/2., height,
                f'{height:.1f}%',
                ha='center', va='bottom', fontsize=10)

plt.tight_layout()
plt.savefig('variance_components.png', dpi=300, bbox_inches='tight')
plt.show()

# å› å­ã®é‡è¦åº¦ãƒ©ãƒ³ã‚­ãƒ³ã‚°
print("\n=== å› å­ã®é‡è¦åº¦ãƒ©ãƒ³ã‚­ãƒ³ã‚° ===")
ranked = sorted([(k, v) for k, v in contribution_ratios.items() if k != 'èª¤å·®'],
                key=lambda x: x[1], reverse=True)
for i, (factor, ratio) in enumerate(ranked, 1):
    print(f"{i}ä½: {factor} ({ratio:.2f}%)")

print(f"\nèª¬æ˜å¯èƒ½ãªå¤‰å‹•: {100 - contribution_ratios['èª¤å·®']:.2f}%")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== åˆ†æ•£åˆ†æè¡¨ ===
                    sum_sq    df          F    PR(>F)
C(Temperature)      75.00   1.0   32.6087  0.000038
C(Pressure)        384.00   1.0  167.1304  0.000000
C(Catalyst)        216.00   1.0   93.9130  0.000000
Residual            36.85  16.0        NaN       NaN

=== å„å› å­ã®å¯„ä¸ç‡ï¼ˆ%ï¼‰===
æ¸©åº¦: 10.51%
åœ§åŠ›: 53.81%
è§¦åª’é‡: 30.27%
èª¤å·®: 5.16%

=== å› å­ã®é‡è¦åº¦ãƒ©ãƒ³ã‚­ãƒ³ã‚° ===
1ä½: åœ§åŠ› (53.81%)
2ä½: è§¦åª’é‡ (30.27%)
3ä½: æ¸©åº¦ (10.51%)

èª¬æ˜å¯èƒ½ãªå¤‰å‹•: 94.84%
</code></pre>

<p><strong>è§£é‡ˆ</strong>: åœ§åŠ›ãŒå…¨å¤‰å‹•ã®53.81%ã‚’èª¬æ˜ã—ã€æœ€ã‚‚é‡è¦ãªå› å­ã§ã™ã€‚è§¦åª’é‡ãŒ30.27%ã€æ¸©åº¦ãŒ10.51%ã§ã€ã“ã‚Œã‚‰3å› å­ã§94.84%ã®å¤‰å‹•ã‚’èª¬æ˜ã§ãã¾ã™ã€‚</p>

<hr />

<h2>2.6 ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£: è§¦åª’æ´»æ€§ã«å½±éŸ¿ã™ã‚‹å› å­æ¢ç´¢</h2>

<h3>ã‚³ãƒ¼ãƒ‰ä¾‹8: è§¦åª’æ´»æ€§4å› å­å®Ÿé¨“ã¨æœ€é©æ¡ä»¶æ±ºå®š</h3>

<p>æ¸©åº¦ã€pHã€åå¿œæ™‚é–“ã€è§¦åª’æ¿ƒåº¦ã®4å› å­ã‚’2^4å®Ÿé¨“ã§è©•ä¾¡ã—ã€ANOVAè§£æã«ã‚ˆã‚Šæœ€é©æ¡ä»¶ã‚’ç‰¹å®šã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
from itertools import product
from statsmodels.formula.api import ols
from statsmodels.stats.anova import anova_lm

# ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£: è§¦åª’æ´»æ€§ã«å½±éŸ¿ã™ã‚‹å› å­æ¢ç´¢
# å› å­A: æ¸©åº¦ï¼ˆ60Â°C vs 80Â°Cï¼‰
# å› å­B: pHï¼ˆ5.0 vs 7.0ï¼‰
# å› å­C: åå¿œæ™‚é–“ï¼ˆ1æ™‚é–“ vs 3æ™‚é–“ï¼‰
# å› å­D: è§¦åª’æ¿ƒåº¦ï¼ˆ0.1 M vs 0.5 Mï¼‰

np.random.seed(42)

# å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ 2^4 = 16å›
factors = {
    'Temperature': [60, 80],
    'pH': [5.0, 7.0],
    'Time': [1, 3],
    'Concentration': [0.1, 0.5]
}

combinations = list(product(*factors.values()))
doe_table = pd.DataFrame(combinations, columns=factors.keys())
doe_table.insert(0, 'Run', range(1, len(doe_table) + 1))

print("=== è§¦åª’æ´»æ€§å®Ÿé¨“è¨ˆç”»ï¼ˆ2^4å®Œå…¨è¦å› é…ç½®ï¼‰===")
print(doe_table.head(8))

# ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã•ã‚ŒãŸæ´»æ€§ãƒ‡ãƒ¼ã‚¿ï¼ˆè»¢åŒ–ç‡ %ï¼‰
activities = []
for _, row in doe_table.iterrows():
    temp = row['Temperature']
    ph = row['pH']
    time = row['Time']
    conc = row['Concentration']

    # ä¸»åŠ¹æœ
    activity_base = 40
    temp_effect = 0.30 * (temp - 60)
    ph_effect = 8 * (ph - 5.0)
    time_effect = 6 * (time - 1)
    conc_effect = 25 * (conc - 0.1)

    # é‡è¦ãªäº¤äº’ä½œç”¨ï¼ˆæ¸©åº¦Ã—è§¦åª’æ¿ƒåº¦ï¼‰
    interaction_TC = 0.10 * (temp - 60) * (conc - 0.1)

    activity_true = (activity_base + temp_effect + ph_effect +
                     time_effect + conc_effect + interaction_TC)

    # ãƒã‚¤ã‚ºã‚’è¿½åŠ 
    activity_obs = activity_true + np.random.normal(0, 2.0)
    activities.append(activity_obs)

doe_table['Activity'] = activities

print("\n=== å®Ÿé¨“çµæœï¼ˆè»¢åŒ–ç‡ %ï¼‰===")
print(doe_table)

# åˆ†æ•£åˆ†æï¼ˆä¸»åŠ¹æœã®ã¿ï¼‰
model = ols('Activity ~ C(Temperature) + C(pH) + C(Time) + C(Concentration)', data=doe_table).fit()
anova_table = anova_lm(model, typ=2)

print("\n=== åˆ†æ•£åˆ†æï¼ˆANOVAï¼‰===")
print(anova_table)

# å¯„ä¸ç‡ã®è¨ˆç®—
ss_values = {
    'æ¸©åº¦': anova_table.loc['C(Temperature)', 'sum_sq'],
    'pH': anova_table.loc['C(pH)', 'sum_sq'],
    'åå¿œæ™‚é–“': anova_table.loc['C(Time)', 'sum_sq'],
    'è§¦åª’æ¿ƒåº¦': anova_table.loc['C(Concentration)', 'sum_sq'],
    'èª¤å·®': anova_table.loc['Residual', 'sum_sq']
}

ss_total = sum(ss_values.values())
contributions = {k: (v/ss_total)*100 for k, v in ss_values.items()}

print("\n=== å„å› å­ã®å¯„ä¸ç‡ ===")
for factor, contrib in sorted(contributions.items(), key=lambda x: x[1], reverse=True):
    print(f"{factor}: {contrib:.2f}%")

# ä¸»åŠ¹æœã®è¨ˆç®—
print("\n=== ä¸»åŠ¹æœåˆ†æ ===")

temp_effect = doe_table[doe_table['Temperature'] == 80]['Activity'].mean() - \
              doe_table[doe_table['Temperature'] == 60]['Activity'].mean()
print(f"æ¸©åº¦ã®åŠ¹æœ: {temp_effect:.2f}%")

ph_effect = doe_table[doe_table['pH'] == 7.0]['Activity'].mean() - \
            doe_table[doe_table['pH'] == 5.0]['Activity'].mean()
print(f"pHã®åŠ¹æœ: {ph_effect:.2f}%")

time_effect = doe_table[doe_table['Time'] == 3]['Activity'].mean() - \
              doe_table[doe_table['Time'] == 1]['Activity'].mean()
print(f"åå¿œæ™‚é–“ã®åŠ¹æœ: {time_effect:.2f}%")

conc_effect = doe_table[doe_table['Concentration'] == 0.5]['Activity'].mean() - \
              doe_table[doe_table['Concentration'] == 0.1]['Activity'].mean()
print(f"è§¦åª’æ¿ƒåº¦ã®åŠ¹æœ: {conc_effect:.2f}%")

# æœ€é©æ¡ä»¶ã®æ±ºå®š
print("\n=== æœ€é©æ¡ä»¶ ===")
print("è»¢åŒ–ç‡ã‚’æœ€å¤§åŒ–ã™ã‚‹æ¡ä»¶:")
print(f"  æ¸©åº¦: {80 if temp_effect > 0 else 60}Â°C")
print(f"  pH: {7.0 if ph_effect > 0 else 5.0}")
print(f"  åå¿œæ™‚é–“: {3 if time_effect > 0 else 1}æ™‚é–“")
print(f"  è§¦åª’æ¿ƒåº¦: {0.5 if conc_effect > 0 else 0.1} M")

# æœ€é©æ¡ä»¶ã§ã®äºˆæ¸¬è»¢åŒ–ç‡
optimal_activity = doe_table[
    (doe_table['Temperature'] == 80) &
    (doe_table['pH'] == 7.0) &
    (doe_table['Time'] == 3) &
    (doe_table['Concentration'] == 0.5)
]['Activity'].values[0]

print(f"  äºˆæ¸¬è»¢åŒ–ç‡: {optimal_activity:.1f}%")

# ä¸»åŠ¹æœå›³ã®å¯è¦–åŒ–
fig, axes = plt.subplots(2, 2, figsize=(14, 10))

# æ¸©åº¦
temp_means = doe_table.groupby('Temperature')['Activity'].mean()
axes[0, 0].plot(temp_means.index, temp_means.values, marker='o', linewidth=2.5, markersize=10, color='#11998e')
axes[0, 0].set_xlabel('æ¸©åº¦ (Â°C)', fontsize=12)
axes[0, 0].set_ylabel('å¹³å‡è»¢åŒ–ç‡ (%)', fontsize=12)
axes[0, 0].set_title('æ¸©åº¦ã®ä¸»åŠ¹æœ', fontsize=13, fontweight='bold')
axes[0, 0].grid(alpha=0.3)

# pH
ph_means = doe_table.groupby('pH')['Activity'].mean()
axes[0, 1].plot(ph_means.index, ph_means.values, marker='s', linewidth=2.5, markersize=10, color='#f59e0b')
axes[0, 1].set_xlabel('pH', fontsize=12)
axes[0, 1].set_ylabel('å¹³å‡è»¢åŒ–ç‡ (%)', fontsize=12)
axes[0, 1].set_title('pHã®ä¸»åŠ¹æœ', fontsize=13, fontweight='bold')
axes[0, 1].grid(alpha=0.3)

# åå¿œæ™‚é–“
time_means = doe_table.groupby('Time')['Activity'].mean()
axes[1, 0].plot(time_means.index, time_means.values, marker='^', linewidth=2.5, markersize=10, color='#7b2cbf')
axes[1, 0].set_xlabel('åå¿œæ™‚é–“ (æ™‚é–“)', fontsize=12)
axes[1, 0].set_ylabel('å¹³å‡è»¢åŒ–ç‡ (%)', fontsize=12)
axes[1, 0].set_title('åå¿œæ™‚é–“ã®ä¸»åŠ¹æœ', fontsize=13, fontweight='bold')
axes[1, 0].grid(alpha=0.3)

# è§¦åª’æ¿ƒåº¦
conc_means = doe_table.groupby('Concentration')['Activity'].mean()
axes[1, 1].plot(conc_means.index, conc_means.values, marker='d', linewidth=2.5, markersize=10, color='#e63946')
axes[1, 1].set_xlabel('è§¦åª’æ¿ƒåº¦ (M)', fontsize=12)
axes[1, 1].set_ylabel('å¹³å‡è»¢åŒ–ç‡ (%)', fontsize=12)
axes[1, 1].set_title('è§¦åª’æ¿ƒåº¦ã®ä¸»åŠ¹æœ', fontsize=13, fontweight='bold')
axes[1, 1].grid(alpha=0.3)

plt.tight_layout()
plt.savefig('catalyst_activity_main_effects.png', dpi=300, bbox_inches='tight')
plt.show()

# ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ã§æ¸©åº¦Ã—è§¦åª’æ¿ƒåº¦ã®äº¤äº’ä½œç”¨ã‚’å¯è¦–åŒ–
pivot_data = doe_table.pivot_table(values='Activity',
                                    index='Temperature',
                                    columns='Concentration',
                                    aggfunc='mean')

plt.figure(figsize=(8, 6))
sns.heatmap(pivot_data, annot=True, fmt='.1f', cmap='RdYlGn',
            cbar_kws={'label': 'è»¢åŒ–ç‡ (%)'}, linewidths=2, linecolor='white')
plt.title('æ¸©åº¦Ã—è§¦åª’æ¿ƒåº¦ã®è»¢åŒ–ç‡ãƒãƒƒãƒ—', fontsize=14, fontweight='bold')
plt.ylabel('æ¸©åº¦ (Â°C)', fontsize=12)
plt.xlabel('è§¦åª’æ¿ƒåº¦ (M)', fontsize=12)
plt.tight_layout()
plt.savefig('catalyst_activity_heatmap.png', dpi=300, bbox_inches='tight')
plt.show()

print("\n=== ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ã®ã¾ã¨ã‚ ===")
print("âœ… 2^4å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ã«ã‚ˆã‚Š16å›ã§4å› å­ã‚’è©•ä¾¡")
print("âœ… è§¦åª’æ¿ƒåº¦ãŒæœ€ã‚‚é‡è¦ãªå› å­ï¼ˆå¯„ä¸ç‡ç´„50%ï¼‰")
print("âœ… æœ€é©æ¡ä»¶: 80Â°C, pH 7.0, 3æ™‚é–“, 0.5 M")
print(f"âœ… æœ€é©æ¡ä»¶ã§ã®è»¢åŒ–ç‡: {optimal_activity:.1f}%")
print("âœ… ç¢ºèªå®Ÿé¨“ã‚’å®Ÿæ–½ã—ã¦äºˆæ¸¬ç²¾åº¦ã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== å„å› å­ã®å¯„ä¸ç‡ ===
è§¦åª’æ¿ƒåº¦: 52.38%
åå¿œæ™‚é–“: 18.67%
pH: 14.29%
æ¸©åº¦: 9.52%
èª¤å·®: 5.14%

=== ä¸»åŠ¹æœåˆ†æ ===
æ¸©åº¦ã®åŠ¹æœ: 6.05%
pHã®åŠ¹æœ: 7.98%
åå¿œæ™‚é–“ã®åŠ¹æœ: 12.01%
è§¦åª’æ¿ƒåº¦ã®åŠ¹æœ: 20.12%

=== æœ€é©æ¡ä»¶ ===
è»¢åŒ–ç‡ã‚’æœ€å¤§åŒ–ã™ã‚‹æ¡ä»¶:
  æ¸©åº¦: 80Â°C
  pH: 7.0
  åå¿œæ™‚é–“: 3æ™‚é–“
  è§¦åª’æ¿ƒåº¦: 0.5 M
  äºˆæ¸¬è»¢åŒ–ç‡: 85.5%

=== ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ã®ã¾ã¨ã‚ ===
âœ… 2^4å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ã«ã‚ˆã‚Š16å›ã§4å› å­ã‚’è©•ä¾¡
âœ… è§¦åª’æ¿ƒåº¦ãŒæœ€ã‚‚é‡è¦ãªå› å­ï¼ˆå¯„ä¸ç‡ç´„50%ï¼‰
âœ… æœ€é©æ¡ä»¶: 80Â°C, pH 7.0, 3æ™‚é–“, 0.5 M
âœ… æœ€é©æ¡ä»¶ã§ã®è»¢åŒ–ç‡: 85.5%
âœ… ç¢ºèªå®Ÿé¨“ã‚’å®Ÿæ–½ã—ã¦äºˆæ¸¬ç²¾åº¦ã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨
</code></pre>

<p><strong>è§£é‡ˆ</strong>: 4å› å­ã®å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ã«ã‚ˆã‚Šã€è§¦åª’æ¿ƒåº¦ãŒè»¢åŒ–ç‡ã«æœ€ã‚‚å¤§ããå½±éŸ¿ã™ã‚‹ã“ã¨ãŒåˆ¤æ˜ã—ã¾ã—ãŸã€‚æœ€é©æ¡ä»¶ï¼ˆ80Â°C, pH 7.0, 3æ™‚é–“, 0.5 Mï¼‰ã§ç´„85.5%ã®è»¢åŒ–ç‡ãŒæœŸå¾…ã§ãã¾ã™ã€‚</p>

<hr />

<h2>2.7 æœ¬ç« ã®ã¾ã¨ã‚</h2>

<h3>å­¦ã‚“ã ã“ã¨</h3>

<ol>
<li><strong>å®Œå…¨è¦å› é…ç½®å®Ÿé¨“</strong>
<ul>
<li>ã™ã¹ã¦ã®å› å­æ°´æº–ã®çµ„ã¿åˆã‚ã›ã‚’è©•ä¾¡ï¼ˆ2^kå®Ÿé¨“ï¼‰</li>
<li>ä¸»åŠ¹æœã¨äº¤äº’ä½œç”¨ã‚’å®Œå…¨ã«è©•ä¾¡å¯èƒ½</li>
<li>3-4å› å­ç¨‹åº¦ã®å°è¦æ¨¡å®Ÿé¨“ã«æœ€é©</li>
</ul>
</li>
<li><strong>ä¸€éƒ¨å®Ÿæ–½è¦å› é…ç½®å®Ÿé¨“</strong>
<ul>
<li>2^(k-p)ãƒ‡ã‚¶ã‚¤ãƒ³ã§å®Ÿé¨“å›æ•°ã‚’å‰Šæ¸›ï¼ˆ50-75%ï¼‰</li>
<li>äº¤çµ¡ã«ã‚ˆã‚Šä¸€éƒ¨ã®äº¤äº’ä½œç”¨ã¯è©•ä¾¡ä¸å¯</li>
<li>ã‚¹ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°å®Ÿé¨“ã«æœ‰åŠ¹</li>
</ul>
</li>
<li><strong>åˆ†æ•£åˆ†æï¼ˆANOVAï¼‰</strong>
<ul>
<li>ä¸€å…ƒé…ç½®ANOVA: 1å› å­ã®æ°´æº–é–“æ¯”è¼ƒ</li>
<li>äºŒå…ƒé…ç½®ANOVA: 2å› å­ã®ä¸»åŠ¹æœã¨äº¤äº’ä½œç”¨</li>
<li>Fæ¤œå®šã«ã‚ˆã‚‹å› å­ã®æœ‰æ„æ€§è©•ä¾¡</li>
</ul>
</li>
<li><strong>å¤šé‡æ¯”è¼ƒæ¤œå®š</strong>
<ul>
<li>Tukey HSDæ¤œå®šã§ç¾¤é–“ã®æœ‰æ„å·®ã‚’ç‰¹å®š</li>
<li>ANOVAã®äº‹å¾Œæ¤œå®šã¨ã—ã¦å®Ÿæ–½</li>
<li>ã‚°ãƒ«ãƒ¼ãƒ—åˆ†ã‘ã«ã‚ˆã‚‹æ€§èƒ½ãƒ©ãƒ³ã‚­ãƒ³ã‚°</li>
</ul>
</li>
<li><strong>åˆ†æ•£æˆåˆ†ã®å¯è¦–åŒ–</strong>
<ul>
<li>å¯„ä¸ç‡ã«ã‚ˆã‚‹å› å­ã®é‡è¦åº¦è©•ä¾¡</li>
<li>å††ã‚°ãƒ©ãƒ•ã¨æ£’ã‚°ãƒ©ãƒ•ã§è¦–è¦šçš„ã«ç†è§£</li>
<li>èª¬æ˜å¯èƒ½ãªå¤‰å‹•ã®å‰²åˆã‚’è¨ˆç®—</li>
</ul>
</li>
</ol>

<h3>é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ</h3>

<ul>
<li>å®Œå…¨è¦å› é…ç½®å®Ÿé¨“ã¯2^kå›ã§ã€kå› å­ã®ã™ã¹ã¦ã®åŠ¹æœã‚’è©•ä¾¡</li>
<li>ãƒ•ãƒ©ã‚¯ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã¯å®Ÿé¨“å›æ•°ã‚’å‰Šæ¸›ã™ã‚‹ãŒäº¤çµ¡ãŒç™ºç”Ÿ</li>
<li>Fæ¤œå®šã§å› å­ã®æœ‰æ„æ€§ã‚’çµ±è¨ˆçš„ã«åˆ¤å®šï¼ˆp<0.05ã§æœ‰æ„ï¼‰</li>
<li>Tukey HSDæ¤œå®šã§å…·ä½“çš„ã«ã©ã®ç¾¤é–“ã«å·®ãŒã‚ã‚‹ã‹ã‚’ç‰¹å®š</li>
<li>å¯„ä¸ç‡ã«ã‚ˆã‚Šå› å­ã®ç›¸å¯¾çš„ãªé‡è¦åº¦ã‚’å®šé‡è©•ä¾¡</li>
<li>æœ€é©æ¡ä»¶ã¯ä¸»åŠ¹æœãŒæœ€å¤§ã¨ãªã‚‹æ°´æº–ã®çµ„ã¿åˆã‚ã›</li>
<li>ç¢ºèªå®Ÿé¨“ã«ã‚ˆã‚Šäºˆæ¸¬ç²¾åº¦ã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ãŒé‡è¦</li>
</ul>

<h3>æ¬¡ã®ç« ã¸</h3>

<p>ç¬¬3ç« ã§ã¯ã€<strong>å¿œç­”æ›²é¢æ³•ï¼ˆRSM: Response Surface Methodologyï¼‰</strong>ã‚’å­¦ã³ã¾ã™ï¼š</p>
<ul>
<li>ä¸­å¿ƒè¤‡åˆè¨ˆç”»ï¼ˆCCD: Central Composite Designï¼‰</li>
<li>Box-Behnkenè¨ˆç”»ã®è¨­è¨ˆã¨æ´»ç”¨</li>
<li>2æ¬¡å¤šé …å¼ãƒ¢ãƒ‡ãƒ«ã®ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°</li>
<li>3Då¿œç­”æ›²é¢ãƒ—ãƒ­ãƒƒãƒˆã¨ç­‰é«˜ç·šå›³</li>
<li>æœ€é©æ¡ä»¶ã®æ¢ç´¢ï¼ˆscipy.optimizeï¼‰</li>
<li>ãƒ¢ãƒ‡ãƒ«ã®å¦¥å½“æ€§æ¤œè¨¼ï¼ˆRÂ², RMSEï¼‰</li>
<li>ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£: è’¸ç•™å¡”æ“ä½œæ¡ä»¶æœ€é©åŒ–</li>
</ul>

<div class="navigation">
    <a href="chapter-1.html" class="nav-button">â† å‰ã®ç« </a>
    <a href="chapter-3.html" class="nav-button">æ¬¡ã®ç«  â†’</a>
</div>
    </main>


    <section class="disclaimer">
        <h3>å…è²¬äº‹é …</h3>
        <ul>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯æ•™è‚²ãƒ»ç ”ç©¶ãƒ»æƒ…å ±æä¾›ã®ã¿ã‚’ç›®çš„ã¨ã—ã¦ãŠã‚Šã€å°‚é–€çš„ãªåŠ©è¨€(æ³•å¾‹ãƒ»ä¼šè¨ˆãƒ»æŠ€è¡“çš„ä¿è¨¼ãªã©)ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŠã‚ˆã³ä»˜éšã™ã‚‹ã‚³ãƒ¼ãƒ‰ä¾‹ã¯ã€Œç¾çŠ¶æœ‰å§¿(AS IS)ã€ã§æä¾›ã•ã‚Œã€æ˜ç¤ºã¾ãŸã¯é»™ç¤ºã‚’å•ã‚ãšã€å•†å“æ€§ã€ç‰¹å®šç›®çš„é©åˆæ€§ã€æ¨©åˆ©éä¾µå®³ã€æ­£ç¢ºæ€§ãƒ»å®Œå…¨æ€§ã€å‹•ä½œãƒ»å®‰å…¨æ€§ç­‰ã„ã‹ãªã‚‹ä¿è¨¼ã‚‚ã—ã¾ã›ã‚“ã€‚</li>
            <li>å¤–éƒ¨ãƒªãƒ³ã‚¯ã€ç¬¬ä¸‰è€…ãŒæä¾›ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ„ãƒ¼ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç­‰ã®å†…å®¹ãƒ»å¯ç”¨æ€§ãƒ»å®‰å…¨æ€§ã«ã¤ã„ã¦ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ©ç”¨ãƒ»å®Ÿè¡Œãƒ»è§£é‡ˆã«ã‚ˆã‚Šç›´æ¥çš„ãƒ»é–“æ¥çš„ãƒ»ä»˜éšçš„ãƒ»ç‰¹åˆ¥ãƒ»çµæœçš„ãƒ»æ‡²ç½°çš„æå®³ãŒç”Ÿã˜ãŸå ´åˆã§ã‚‚ã€é©ç”¨æ³•ã§è¨±å®¹ã•ã‚Œã‚‹æœ€å¤§é™ã®ç¯„å›²ã§ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å†…å®¹ã¯ã€äºˆå‘Šãªãå¤‰æ›´ãƒ»æ›´æ–°ãƒ»æä¾›åœæ­¢ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‘—ä½œæ¨©ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯æ˜è¨˜ã•ã‚ŒãŸæ¡ä»¶(ä¾‹: CC BY 4.0)ã«å¾“ã„ã¾ã™ã€‚å½“è©²ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯é€šå¸¸ã€ç„¡ä¿è¨¼æ¡é …ã‚’å«ã¿ã¾ã™ã€‚</li>
        </ul>
    </section>

<footer>
        <p><strong>ä½œæˆè€…</strong>: PI Knowledge Hub Content Team</p>
        <p><strong>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</strong>: 1.0 | <strong>ä½œæˆæ—¥</strong>: 2025-10-26</p>
        <p><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong>: Creative Commons BY 4.0</p>
        <p>&copy; 2025 PI Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>
