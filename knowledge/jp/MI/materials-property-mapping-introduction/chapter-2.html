<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter - AI Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #7b2cbf;
            --color-accent-light: #9d4edd;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #3182ce;
            --color-link-hover: #2c5aa0;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .mermaid {
            text-align: center;
            margin: var(--spacing-lg) 0;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        details {
            background-color: var(--color-bg-alt);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            color: var(--color-primary);
            user-select: none;
            padding: var(--spacing-xs);
            margin: calc(-1 * var(--spacing-md));
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        summary:hover {
            background-color: rgba(123, 44, 191, 0.1);
        }

        details[open] summary {
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-border);
        }

        .learning-objectives {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--color-accent);
            margin-bottom: var(--spacing-xl);
        }

        .learning-objectives h2 {
            margin-top: 0;
            border-bottom: none;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'strict' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\(', '\)']],
                displayMath: [['$$', '$$'], ['\[', '\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Chapter</h1>
            <p class="subtitle"></p>
            <div class="meta">
                <span class="meta-item">üìñ Ë™≠‰∫ÜÊôÇÈñì: 20-25ÂàÜ</span>
                <span class="meta-item">üìä Èõ£ÊòìÂ∫¶: ÂàùÁ¥ö</span>
                <span class="meta-item">üíª „Ç≥„Éº„Éâ‰æã: 0ÂÄã</span>
                <span class="meta-item">üìù ÊºîÁøíÂïèÈ°å: 0Âïè</span>
            </div>
        </div>
    </header>

    <main class="container">
<h1>Á¨¨2Á´†ÔºöÊ¨°ÂÖÉÂâäÊ∏õÊâãÊ≥ï„Å´„Çà„ÇãÊùêÊñôÁ©∫Èñì„ÅÆ„Éû„ÉÉ„Éî„É≥„Ç∞</h1>
<h2>Ê¶ÇË¶Å</h2>
<p>È´òÊ¨°ÂÖÉ„ÅÆÊùêÊñôÁâπÊÄß„Éá„Éº„Çø„Çí2Ê¨°ÂÖÉ„Éª3Ê¨°ÂÖÉ„Å´Â∞ÑÂΩ±„Åô„Çã„Åì„Å®„Åß„ÄÅÊùêÊñôÈñì„ÅÆÈ°û‰ººÊÄß„ÇÑÊßãÈÄ†„ÇíË¶ñË¶öÁöÑ„Å´ÊääÊè°„Åß„Åç„Åæ„Åô„ÄÇÊú¨Á´†„Åß„ÅØ„ÄÅ‰∏ªÊàêÂàÜÂàÜÊûêÔºàPCAÔºâ„ÄÅt-SNE„ÄÅUMAP„Å™„Å©„ÅÆÊ¨°ÂÖÉÂâäÊ∏õÊâãÊ≥ï„ÇíÊùêÊñô„Éá„Éº„Çø„Å´ÈÅ©Áî®„Åó„ÄÅÂäπÊûúÁöÑ„Å™ÊùêÊñôÁ©∫Èñì„Éû„ÉÉ„Éî„É≥„Ç∞„ÇíÂÆüÁèæ„Åó„Åæ„Åô„ÄÇ</p>
<h3>Â≠¶ÁøíÁõÆÊ®ô</h3>
<ul>
<li>PCA„ÄÅt-SNE„ÄÅUMAP„ÅÆÂéüÁêÜ„Å®ÁâπÂæ¥„ÇíÁêÜËß£„Åô„Çã</li>
<li>ÂêÑÊâãÊ≥ï„ÇíÊùêÊñô„Éá„Éº„Çø„Å´ÈÅ©Áî®„Åó„ÄÅÁµêÊûú„ÇíÊØîËºÉ„Åß„Åç„Çã</li>
<li>Ê¨°ÂÖÉÂâäÊ∏õÁµêÊûú„ÅÆÂìÅË≥™„ÇíË©ï‰æ°„Åß„Åç„Çã</li>
<li>„Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„Éñ„Å™ÂèØË¶ñÂåñ„ÇíÂÆüË£Ö„Åß„Åç„Çã</li>
</ul>
<h2>2.1 ‰∏ªÊàêÂàÜÂàÜÊûêÔºàPCAÔºâ</h2>
<p>PCA„ÅØ„ÄÅ„Éá„Éº„Çø„ÅÆÂàÜÊï£„ÇíÊúÄÂ§ßÂåñ„Åô„ÇãÊñπÂêë„Å´Êñ∞„Åó„ÅÑËª∏Ôºà‰∏ªÊàêÂàÜÔºâ„ÇíË®≠ÂÆö„Åô„ÇãÁ∑öÂΩ¢Ê¨°ÂÖÉÂâäÊ∏õÊâãÊ≥ï„Åß„Åô„ÄÇÊùêÊñôÁâπÊÄßÈñì„ÅÆÁõ∏Èñ¢ÊßãÈÄ†„Çí‰øùÊåÅ„Åó„Å™„Åå„ÇâÊ¨°ÂÖÉ„ÇíÂâäÊ∏õ„Åß„Åç„Åæ„Åô„ÄÇ</p>
<h3>2.1.1 PCA„ÅÆÂü∫Êú¨ÂÆüË£Ö</h3>
<h3>„Ç≥„Éº„Éâ‰æã1: PCA„Å´„Çà„ÇãÊ¨°ÂÖÉÂâäÊ∏õ</h3>
<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from sklearn.decomposition import PCA
from sklearn.preprocessing import StandardScaler

# ÊùêÊñô„Éá„Éº„Çø„ÅÆË™≠„ÅøËæº„ÅøÔºàÁ¨¨1Á´†„Åß‰ΩúÊàê„Åó„Åü„Éá„Éº„ÇøÔºâ
materials_data = pd.read_csv('materials_properties.csv')

# ÁâπÊÄßÂàó„ÅÆÊäΩÂá∫
feature_cols = ['band_gap', 'formation_energy', 'density',
                'bulk_modulus', 'shear_modulus', 'melting_point']
X = materials_data[feature_cols].values

# Ê®ôÊ∫ñÂåñÔºàPCA„ÅØÁâπÊÄß„ÅÆ„Çπ„Ç±„Éº„É´„Å´ÊïèÊÑüÔºâ
scaler = StandardScaler()
X_scaled = scaler.fit_transform(X)

# PCA„ÅÆÂÆüË°åÔºà2Ê¨°ÂÖÉ„Å´ÂâäÊ∏õÔºâ
pca = PCA(n_components=2)
X_pca = pca.fit_transform(X_scaled)

# ÁµêÊûú„ÇíDataFrame„Å´Ê†ºÁ¥ç
materials_data['PC1'] = X_pca[:, 0]
materials_data['PC2'] = X_pca[:, 1]

# ‰∏ªÊàêÂàÜ„ÅÆÂØÑ‰∏éÁéá
explained_variance = pca.explained_variance_ratio_
print(&quot;‰∏ªÊàêÂàÜÂàÜÊûê„ÅÆÁµêÊûú:&quot;)
print(f&quot;PC1„ÅÆÂØÑ‰∏éÁéá: {explained_variance[0]:.3f}&quot;)
print(f&quot;PC2„ÅÆÂØÑ‰∏éÁéá: {explained_variance[1]:.3f}&quot;)
print(f&quot;Á¥ØÁ©çÂØÑ‰∏éÁéá: {sum(explained_variance):.3f}&quot;)

# ‰∏ªÊàêÂàÜ„ÅÆÊàêÂàÜÔºàÂêÑÁâπÊÄß„ÅÆÈáç„ÅøÔºâ
components_df = pd.DataFrame(
    pca.components_.T,
    columns=['PC1', 'PC2'],
    index=feature_cols
)
print(&quot;\n‰∏ªÊàêÂàÜ„ÅÆÊàêÂàÜÔºàÂêÑÁâπÊÄß„ÅÆÂØÑ‰∏éÔºâ:&quot;)
print(components_df.round(3))
</code></pre>
<p><strong>Âá∫Âäõ‰æã</strong>:</p>
<pre><code>‰∏ªÊàêÂàÜÂàÜÊûê„ÅÆÁµêÊûú:
PC1„ÅÆÂØÑ‰∏éÁéá: 0.342
PC2„ÅÆÂØÑ‰∏éÁéá: 0.234
Á¥ØÁ©çÂØÑ‰∏éÁéá: 0.576

‰∏ªÊàêÂàÜ„ÅÆÊàêÂàÜÔºàÂêÑÁâπÊÄß„ÅÆÂØÑ‰∏éÔºâ:
                       PC1     PC2
band_gap            -0.245   0.512
formation_energy     0.387  -0.298
density              0.456   0.321
bulk_modulus         0.498   0.145
shear_modulus        0.445   0.087
melting_point        0.312   -0.687
</code></pre>
<h3>„Ç≥„Éº„Éâ‰æã2: PCAÁµêÊûú„ÅÆÂèØË¶ñÂåñ</h3>
<pre><code class="language-python">import matplotlib.pyplot as plt
import numpy as np

# PCA„Çπ„Ç≥„Ç¢„Éó„É≠„ÉÉ„Éà
fig, ax = plt.subplots(figsize=(12, 9))

# ÂÆâÂÆöÊÄß„Åß„Ç´„ÉÜ„Ç¥„É™ÂàÜ„Åë
colors = materials_data['formation_energy'].apply(
    lambda x: 'green' if x &lt; -1.0 else 'orange' if x &lt; 0 else 'red'
)

scatter = ax.scatter(materials_data['PC1'],
                     materials_data['PC2'],
                     c=colors,
                     s=50,
                     alpha=0.6,
                     edgecolors='black',
                     linewidth=0.5)

# Ëª∏„É©„Éô„É´ÔºàÂØÑ‰∏éÁéá„ÇíÂê´„ÇÄÔºâ
ax.set_xlabel(f'PC1 ({explained_variance[0]*100:.1f}% variance)',
              fontsize=14, fontweight='bold')
ax.set_ylabel(f'PC2 ({explained_variance[1]*100:.1f}% variance)',
              fontsize=14, fontweight='bold')
ax.set_title('PCA: Materials Space Visualization',
             fontsize=16, fontweight='bold')

# „Ç∞„É™„ÉÉ„Éâ
ax.grid(True, alpha=0.3, linestyle='--')
ax.axhline(y=0, color='k', linestyle='-', linewidth=0.5, alpha=0.5)
ax.axvline(x=0, color='k', linestyle='-', linewidth=0.5, alpha=0.5)

# Âá°‰æã
from matplotlib.patches import Patch
legend_elements = [
    Patch(facecolor='green', edgecolor='black', label='Stable (E &lt; -1 eV)'),
    Patch(facecolor='orange', edgecolor='black', label='Metastable (-1 &lt; E &lt; 0 eV)'),
    Patch(facecolor='red', edgecolor='black', label='Unstable (E &gt; 0 eV)')
]
ax.legend(handles=legend_elements, loc='best', fontsize=12)

plt.tight_layout()
plt.savefig('pca_materials_space.png', dpi=300, bbox_inches='tight')
print(&quot;PCA„Çπ„Ç≥„Ç¢„Éó„É≠„ÉÉ„Éà„Çí pca_materials_space.png „Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;)
plt.show()
</code></pre>
<h3>„Ç≥„Éº„Éâ‰æã3: PCAÂØÑ‰∏éÁéá„ÅÆ„Çπ„ÇØ„É™„Éº„Éó„É≠„ÉÉ„Éà</h3>
<pre><code class="language-python">import matplotlib.pyplot as plt
from sklearn.decomposition import PCA

# ÂÖ®‰∏ªÊàêÂàÜ„ÇíË®àÁÆó
pca_full = PCA()
pca_full.fit(X_scaled)

# „Çπ„ÇØ„É™„Éº„Éó„É≠„ÉÉ„Éà
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(15, 6))

# Â∑¶: ÂêÑ‰∏ªÊàêÂàÜ„ÅÆÂØÑ‰∏éÁéá
n_components = len(pca_full.explained_variance_ratio_)
ax1.bar(range(1, n_components + 1),
        pca_full.explained_variance_ratio_,
        alpha=0.7,
        edgecolor='black',
        color='steelblue')
ax1.set_xlabel('Principal Component', fontsize=14, fontweight='bold')
ax1.set_ylabel('Explained Variance Ratio', fontsize=14, fontweight='bold')
ax1.set_title('Scree Plot: Individual Variance', fontsize=16, fontweight='bold')
ax1.grid(True, alpha=0.3, axis='y')

# Âè≥: Á¥ØÁ©çÂØÑ‰∏éÁéá
cumsum_variance = np.cumsum(pca_full.explained_variance_ratio_)
ax2.plot(range(1, n_components + 1),
         cumsum_variance,
         marker='o',
         linewidth=2,
         markersize=8,
         color='darkred')
ax2.axhline(y=0.95, color='green', linestyle='--', linewidth=2,
            label='95% variance threshold', alpha=0.7)
ax2.set_xlabel('Number of Components', fontsize=14, fontweight='bold')
ax2.set_ylabel('Cumulative Explained Variance', fontsize=14, fontweight='bold')
ax2.set_title('Cumulative Variance Explained', fontsize=16, fontweight='bold')
ax2.grid(True, alpha=0.3)
ax2.legend(fontsize=12)

plt.tight_layout()
plt.savefig('pca_scree_plot.png', dpi=300, bbox_inches='tight')
print(f&quot;„Çπ„ÇØ„É™„Éº„Éó„É≠„ÉÉ„Éà„Çí pca_scree_plot.png „Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;)
print(f&quot;\n95%„ÅÆÂàÜÊï£„ÇíË™¨Êòé„Åô„Çã„Åü„ÇÅ„Å´ÂøÖË¶Å„Å™‰∏ªÊàêÂàÜÊï∞: {np.argmax(cumsum_variance &gt;= 0.95) + 1}&quot;)
plt.show()
</code></pre>
<h3>„Ç≥„Éº„Éâ‰æã4: PCA„É≠„Éº„Éá„Ç£„É≥„Ç∞„Éó„É≠„ÉÉ„ÉàÔºà„Éê„Ç§„Éó„É≠„ÉÉ„ÉàÔºâ</h3>
<pre><code class="language-python">import matplotlib.pyplot as plt
import numpy as np

# „Éê„Ç§„Éó„É≠„ÉÉ„Éà
fig, ax = plt.subplots(figsize=(12, 10))

# „Çπ„Ç≥„Ç¢„Éó„É≠„ÉÉ„ÉàÔºà„Çµ„É≥„Éó„É´Ôºâ
ax.scatter(materials_data['PC1'],
           materials_data['PC2'],
           alpha=0.3,
           s=20,
           color='lightblue',
           edgecolors='none',
           label='Materials')

# „É≠„Éº„Éá„Ç£„É≥„Ç∞„Éô„ÇØ„Éà„É´ÔºàÂ§âÊï∞Ôºâ
scale_factor = 3.0  # „Éô„ÇØ„Éà„É´„ÅÆ„Çπ„Ç±„Éº„É™„É≥„Ç∞
for i, feature in enumerate(feature_cols):
    ax.arrow(0, 0,
             pca.components_[0, i] * scale_factor,
             pca.components_[1, i] * scale_factor,
             head_width=0.15,
             head_length=0.15,
             fc='red',
             ec='darkred',
             linewidth=2,
             alpha=0.8)

    # „É©„Éô„É´
    ax.text(pca.components_[0, i] * scale_factor * 1.15,
            pca.components_[1, i] * scale_factor * 1.15,
            feature.replace('_', ' ').title(),
            fontsize=11,
            fontweight='bold',
            ha='center',
            va='center',
            bbox=dict(boxstyle='round,pad=0.5', facecolor='yellow', alpha=0.7))

ax.set_xlabel(f'PC1 ({explained_variance[0]*100:.1f}% variance)',
              fontsize=14, fontweight='bold')
ax.set_ylabel(f'PC2 ({explained_variance[1]*100:.1f}% variance)',
              fontsize=14, fontweight='bold')
ax.set_title('PCA Biplot: Materials and Features',
             fontsize=16, fontweight='bold')

ax.grid(True, alpha=0.3, linestyle='--')
ax.axhline(y=0, color='k', linestyle='-', linewidth=0.5)
ax.axvline(x=0, color='k', linestyle='-', linewidth=0.5)
ax.legend(fontsize=12, loc='upper right')

plt.tight_layout()
plt.savefig('pca_biplot.png', dpi=300, bbox_inches='tight')
print(&quot;PCA„Éê„Ç§„Éó„É≠„ÉÉ„Éà„Çí pca_biplot.png „Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;)
plt.show()
</code></pre>
<h2>2.2 t-SNEÔºàt-Distributed Stochastic Neighbor EmbeddingÔºâ</h2>
<p>t-SNE„ÅØ„ÄÅÈ´òÊ¨°ÂÖÉ„Éá„Éº„Çø„ÅÆÂ±ÄÊâÄÁöÑ„Å™ÊßãÈÄ†ÔºàËøëÂÇçÈñ¢‰øÇÔºâ„Çí‰øùÊåÅ„Åó„Å™„Åå„Çâ‰ΩéÊ¨°ÂÖÉ„Å´Â∞ÑÂΩ±„Åô„ÇãÈùûÁ∑öÂΩ¢Ê¨°ÂÖÉÂâäÊ∏õÊâãÊ≥ï„Åß„Åô„ÄÇ„ÇØ„É©„Çπ„ÇøÊßãÈÄ†„ÅÆÂèØË¶ñÂåñ„Å´ÂÑ™„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<h3>2.2.1 t-SNE„ÅÆÂü∫Êú¨ÂÆüË£Ö</h3>
<h3>„Ç≥„Éº„Éâ‰æã5: t-SNE„Å´„Çà„ÇãÊ¨°ÂÖÉÂâäÊ∏õ</h3>
<pre><code class="language-python">from sklearn.manifold import TSNE
import numpy as np
import time

# t-SNE„ÅÆÂÆüË°åÔºàË§áÊï∞„ÅÆperplexity„ÅßÂÆüÈ®ìÔºâ
perplexities = [5, 30, 50]
tsne_results = {}

for perplexity in perplexities:
    print(f&quot;\nt-SNE (perplexity={perplexity}) „ÇíÂÆüË°å‰∏≠...&quot;)
    start_time = time.time()

    tsne = TSNE(n_components=2,
                perplexity=perplexity,
                n_iter=1000,
                random_state=42,
                verbose=0)

    X_tsne = tsne.fit_transform(X_scaled)
    tsne_results[perplexity] = X_tsne

    elapsed_time = time.time() - start_time
    print(f&quot;ÂÆå‰∫Ü (ÊâÄË¶ÅÊôÇÈñì: {elapsed_time:.2f}Áßí)&quot;)
    print(f&quot;KL divergence: {tsne.kl_divergence_:.3f}&quot;)

# ÁµêÊûú„ÅÆ‰øùÂ≠òÔºàperplexity=30„ÅÆÂ†¥ÂêàÔºâ
materials_data['tsne1'] = tsne_results[30][:, 0]
materials_data['tsne2'] = tsne_results[30][:, 1]
</code></pre>
<p><strong>Âá∫Âäõ‰æã</strong>:</p>
<pre><code>t-SNE (perplexity=5) „ÇíÂÆüË°å‰∏≠...
ÂÆå‰∫Ü (ÊâÄË¶ÅÊôÇÈñì: 3.45Áßí)
KL divergence: 1.234

t-SNE (perplexity=30) „ÇíÂÆüË°å‰∏≠...
ÂÆå‰∫Ü (ÊâÄË¶ÅÊôÇÈñì: 3.67Áßí)
KL divergence: 0.987

t-SNE (perplexity=50) „ÇíÂÆüË°å‰∏≠...
ÂÆå‰∫Ü (ÊâÄË¶ÅÊôÇÈñì: 3.89Áßí)
KL divergence: 1.056
</code></pre>
<h3>„Ç≥„Éº„Éâ‰æã6: Áï∞„Å™„Çãperplexity„Åß„ÅÆÊØîËºÉ</h3>
<pre><code class="language-python">import matplotlib.pyplot as plt

# 3„Å§„ÅÆperplexity„Åß„ÅÆÁµêÊûú„Çí‰∏¶„Åπ„Å¶Ë°®Á§∫
fig, axes = plt.subplots(1, 3, figsize=(18, 6))

for idx, perplexity in enumerate(perplexities):
    ax = axes[idx]
    X_tsne = tsne_results[perplexity]

    scatter = ax.scatter(X_tsne[:, 0],
                         X_tsne[:, 1],
                         c=materials_data['band_gap'],
                         cmap='viridis',
                         s=50,
                         alpha=0.6,
                         edgecolors='black',
                         linewidth=0.5)

    ax.set_title(f't-SNE (perplexity={perplexity})',
                 fontsize=14, fontweight='bold')
    ax.set_xlabel('t-SNE 1', fontsize=12, fontweight='bold')
    ax.set_ylabel('t-SNE 2', fontsize=12, fontweight='bold')
    ax.grid(True, alpha=0.3, linestyle='--')

    # „Ç´„É©„Éº„Éê„Éº
    cbar = plt.colorbar(scatter, ax=ax)
    cbar.set_label('Band Gap (eV)', fontsize=10, fontweight='bold')

plt.tight_layout()
plt.savefig('tsne_perplexity_comparison.png', dpi=300, bbox_inches='tight')
print(&quot;t-SNE perplexityÊØîËºÉ„Çí tsne_perplexity_comparison.png „Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;)
plt.show()
</code></pre>
<h3>„Ç≥„Éº„Éâ‰æã7: t-SNE„ÇØ„É©„Çπ„Çø„É™„É≥„Ç∞ÁµêÊûú„ÅÆÂèØË¶ñÂåñ</h3>
<pre><code class="language-python">from sklearn.cluster import KMeans
import matplotlib.pyplot as plt

# t-SNEÁµêÊûú„Å´ÂØæ„Åó„Å¶„ÇØ„É©„Çπ„Çø„É™„É≥„Ç∞
n_clusters = 5
kmeans = KMeans(n_clusters=n_clusters, random_state=42, n_init=10)
cluster_labels = kmeans.fit_predict(tsne_results[30])

materials_data['cluster'] = cluster_labels

# „ÇØ„É©„Çπ„Çø„Åî„Å®„ÅÆÂèØË¶ñÂåñ
fig, ax = plt.subplots(figsize=(12, 9))

colors = plt.cm.Set3(np.linspace(0, 1, n_clusters))

for cluster_id in range(n_clusters):
    mask = cluster_labels == cluster_id
    ax.scatter(tsne_results[30][mask, 0],
               tsne_results[30][mask, 1],
               c=[colors[cluster_id]],
               label=f'Cluster {cluster_id}',
               s=60,
               alpha=0.7,
               edgecolors='black',
               linewidth=0.5)

# „ÇØ„É©„Çπ„Çø‰∏≠ÂøÉ
centers_tsne = kmeans.cluster_centers_
ax.scatter(centers_tsne[:, 0],
           centers_tsne[:, 1],
           c='red',
           marker='X',
           s=300,
           edgecolors='black',
           linewidth=2,
           label='Cluster Centers',
           zorder=10)

ax.set_xlabel('t-SNE 1', fontsize=14, fontweight='bold')
ax.set_ylabel('t-SNE 2', fontsize=14, fontweight='bold')
ax.set_title(f't-SNE with K-Means Clustering (k={n_clusters})',
             fontsize=16, fontweight='bold')
ax.legend(fontsize=11, loc='best')
ax.grid(True, alpha=0.3, linestyle='--')

plt.tight_layout()
plt.savefig('tsne_clustering.png', dpi=300, bbox_inches='tight')
print(f&quot;t-SNE„ÇØ„É©„Çπ„Çø„É™„É≥„Ç∞ÁµêÊûú„Çí tsne_clustering.png „Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;)
plt.show()

# ÂêÑ„ÇØ„É©„Çπ„Çø„ÅÆÁâπÊÄßÂπ≥ÂùáÂÄ§
print(&quot;\n„ÇØ„É©„Çπ„Çø„Åî„Å®„ÅÆÁâπÊÄßÂπ≥ÂùáÂÄ§:&quot;)
cluster_stats = materials_data.groupby('cluster')[feature_cols].mean()
print(cluster_stats.round(2))
</code></pre>
<h2>2.3 UMAPÔºàUniform Manifold Approximation and ProjectionÔºâ</h2>
<p>UMAP„ÅØ„ÄÅt-SNE„Çà„Çä„ÇÇÈ´òÈÄü„Åß„ÄÅÂ§ßÂüüÁöÑÊßãÈÄ†„ÇÇ‰øùÊåÅ„Åô„ÇãÊúÄÊñ∞„ÅÆÊ¨°ÂÖÉÂâäÊ∏õÊâãÊ≥ï„Åß„Åô„ÄÇÂ§ßË¶èÊ®°„Éá„Éº„Çø„Çª„ÉÉ„Éà„Åß„ÇÇÂäπÁéáÁöÑ„Å´Âãï‰Ωú„Åó„Åæ„Åô„ÄÇ</p>
<h3>2.3.1 UMAP„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´„Å®Âü∫Êú¨ÂÆüË£Ö</h3>
<h3>„Ç≥„Éº„Éâ‰æã8: UMAP„Å´„Çà„ÇãÊ¨°ÂÖÉÂâäÊ∏õ</h3>
<pre><code class="language-python"># UMAP„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´ÔºàÂàùÂõû„ÅÆ„ÅøÔºâ
# !pip install umap-learn

import umap
import numpy as np
import time

# UMAP„ÅÆÂÆüË°åÔºàË§áÊï∞„ÅÆn_neighbors„ÅßÂÆüÈ®ìÔºâ
n_neighbors_list = [5, 15, 50]
umap_results = {}

for n_neighbors in n_neighbors_list:
    print(f&quot;\nUMAP (n_neighbors={n_neighbors}) „ÇíÂÆüË°å‰∏≠...&quot;)
    start_time = time.time()

    reducer = umap.UMAP(n_components=2,
                        n_neighbors=n_neighbors,
                        min_dist=0.1,
                        metric='euclidean',
                        random_state=42)

    X_umap = reducer.fit_transform(X_scaled)
    umap_results[n_neighbors] = X_umap

    elapsed_time = time.time() - start_time
    print(f&quot;ÂÆå‰∫Ü (ÊâÄË¶ÅÊôÇÈñì: {elapsed_time:.2f}Áßí)&quot;)

# ÁµêÊûú„ÅÆ‰øùÂ≠òÔºàn_neighbors=15„ÅÆÂ†¥ÂêàÔºâ
materials_data['umap1'] = umap_results[15][:, 0]
materials_data['umap2'] = umap_results[15][:, 1]

print(&quot;\nUMAPÂÆüË°åÂÆå‰∫Ü„ÄÇÁµêÊûú„ÇíDataFrame„Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü„ÄÇ&quot;)
</code></pre>
<p><strong>Âá∫Âäõ‰æã</strong>:</p>
<pre><code>UMAP (n_neighbors=5) „ÇíÂÆüË°å‰∏≠...
ÂÆå‰∫Ü (ÊâÄË¶ÅÊôÇÈñì: 1.23Áßí)

UMAP (n_neighbors=15) „ÇíÂÆüË°å‰∏≠...
ÂÆå‰∫Ü (ÊâÄË¶ÅÊôÇÈñì: 1.34Áßí)

UMAP (n_neighbors=50) „ÇíÂÆüË°å‰∏≠...
ÂÆå‰∫Ü (ÊâÄË¶ÅÊôÇÈñì: 1.45Áßí)

UMAPÂÆüË°åÂÆå‰∫Ü„ÄÇÁµêÊûú„ÇíDataFrame„Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü„ÄÇ
</code></pre>
<h3>„Ç≥„Éº„Éâ‰æã9: Áï∞„Å™„Çãn_neighbors„Åß„ÅÆÊØîËºÉ</h3>
<pre><code class="language-python">import matplotlib.pyplot as plt

# 3„Å§„ÅÆn_neighbors„Åß„ÅÆÁµêÊûú„Çí‰∏¶„Åπ„Å¶Ë°®Á§∫
fig, axes = plt.subplots(1, 3, figsize=(18, 6))

for idx, n_neighbors in enumerate(n_neighbors_list):
    ax = axes[idx]
    X_umap = umap_results[n_neighbors]

    scatter = ax.scatter(X_umap[:, 0],
                         X_umap[:, 1],
                         c=materials_data['formation_energy'],
                         cmap='RdYlGn_r',
                         s=50,
                         alpha=0.6,
                         edgecolors='black',
                         linewidth=0.5)

    ax.set_title(f'UMAP (n_neighbors={n_neighbors})',
                 fontsize=14, fontweight='bold')
    ax.set_xlabel('UMAP 1', fontsize=12, fontweight='bold')
    ax.set_ylabel('UMAP 2', fontsize=12, fontweight='bold')
    ax.grid(True, alpha=0.3, linestyle='--')

    # „Ç´„É©„Éº„Éê„Éº
    cbar = plt.colorbar(scatter, ax=ax)
    cbar.set_label('Formation Energy (eV/atom)', fontsize=10, fontweight='bold')

plt.tight_layout()
plt.savefig('umap_neighbors_comparison.png', dpi=300, bbox_inches='tight')
print(&quot;UMAP n_neighborsÊØîËºÉ„Çí umap_neighbors_comparison.png „Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;)
plt.show()
</code></pre>
<h3>„Ç≥„Éº„Éâ‰æã10: UMAPÂØÜÂ∫¶„Éû„ÉÉ„Éó</h3>
<pre><code class="language-python">import matplotlib.pyplot as plt
from scipy.stats import gaussian_kde

# UMAPÁµêÊûú„ÅÆÂØÜÂ∫¶Êé®ÂÆö
X_umap = umap_results[15]

# KDEÔºà„Ç´„Éº„Éç„É´ÂØÜÂ∫¶Êé®ÂÆöÔºâ
xy = np.vstack([X_umap[:, 0], X_umap[:, 1]])
density = gaussian_kde(xy)(xy)

# ÂØÜÂ∫¶„Åß„ÇΩ„Éº„ÉàÔºàÈ´òÂØÜÂ∫¶ÁÇπ„Çí‰∏ä„Å´ÊèèÁîªÔºâ
idx = density.argsort()
x, y, z = X_umap[idx, 0], X_umap[idx, 1], density[idx]

# „Éó„É≠„ÉÉ„Éà
fig, ax = plt.subplots(figsize=(12, 9))

scatter = ax.scatter(x, y, c=z, cmap='hot', s=50, alpha=0.7,
                     edgecolors='black', linewidth=0.3)

ax.set_xlabel('UMAP 1', fontsize=14, fontweight='bold')
ax.set_ylabel('UMAP 2', fontsize=14, fontweight='bold')
ax.set_title('UMAP: Materials Space Density Map',
             fontsize=16, fontweight='bold')
ax.grid(True, alpha=0.3, linestyle='--')

cbar = plt.colorbar(scatter, ax=ax)
cbar.set_label('Point Density', fontsize=12, fontweight='bold')

plt.tight_layout()
plt.savefig('umap_density_map.png', dpi=300, bbox_inches='tight')
print(&quot;UMAPÂØÜÂ∫¶„Éû„ÉÉ„Éó„Çí umap_density_map.png „Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;)
plt.show()
</code></pre>
<h2>2.4 ÊâãÊ≥ï„ÅÆÊØîËºÉ</h2>
<h3>„Ç≥„Éº„Éâ‰æã11: PCA vs t-SNE vs UMAP„ÅÆ‰∏¶ÂàóÊØîËºÉ</h3>
<pre><code class="language-python">import matplotlib.pyplot as plt

# 3„Å§„ÅÆÊâãÊ≥ï„ÅÆÁµêÊûú„Çí‰∏¶„Åπ„Å¶Ë°®Á§∫
fig, axes = plt.subplots(1, 3, figsize=(18, 6))

# ÂÖ±ÈÄö„ÅÆ„Ç´„É©„Éº„Éû„ÉÉ„ÉóÔºà„Éê„É≥„Éâ„ÇÆ„É£„ÉÉ„Éó„ÅßËâ≤‰ªò„ÅëÔºâ
vmin = materials_data['band_gap'].min()
vmax = materials_data['band_gap'].max()

# PCA
ax = axes[0]
scatter = ax.scatter(materials_data['PC1'],
                     materials_data['PC2'],
                     c=materials_data['band_gap'],
                     cmap='viridis',
                     s=50,
                     alpha=0.6,
                     edgecolors='black',
                     linewidth=0.5,
                     vmin=vmin,
                     vmax=vmax)
ax.set_title('PCA', fontsize=16, fontweight='bold')
ax.set_xlabel('PC1', fontsize=12, fontweight='bold')
ax.set_ylabel('PC2', fontsize=12, fontweight='bold')
ax.grid(True, alpha=0.3, linestyle='--')

# t-SNE
ax = axes[1]
scatter = ax.scatter(materials_data['tsne1'],
                     materials_data['tsne2'],
                     c=materials_data['band_gap'],
                     cmap='viridis',
                     s=50,
                     alpha=0.6,
                     edgecolors='black',
                     linewidth=0.5,
                     vmin=vmin,
                     vmax=vmax)
ax.set_title('t-SNE', fontsize=16, fontweight='bold')
ax.set_xlabel('t-SNE 1', fontsize=12, fontweight='bold')
ax.set_ylabel('t-SNE 2', fontsize=12, fontweight='bold')
ax.grid(True, alpha=0.3, linestyle='--')

# UMAP
ax = axes[2]
scatter = ax.scatter(materials_data['umap1'],
                     materials_data['umap2'],
                     c=materials_data['band_gap'],
                     cmap='viridis',
                     s=50,
                     alpha=0.6,
                     edgecolors='black',
                     linewidth=0.5,
                     vmin=vmin,
                     vmax=vmax)
ax.set_title('UMAP', fontsize=16, fontweight='bold')
ax.set_xlabel('UMAP 1', fontsize=12, fontweight='bold')
ax.set_ylabel('UMAP 2', fontsize=12, fontweight='bold')
ax.grid(True, alpha=0.3, linestyle='--')

# ÂÖ±ÈÄö„Ç´„É©„Éº„Éê„Éº
fig.subplots_adjust(right=0.9)
cbar_ax = fig.add_axes([0.92, 0.15, 0.02, 0.7])
cbar = fig.colorbar(scatter, cax=cbar_ax)
cbar.set_label('Band Gap (eV)', fontsize=12, fontweight='bold')

plt.savefig('dimensionality_reduction_comparison.png', dpi=300, bbox_inches='tight')
print(&quot;Ê¨°ÂÖÉÂâäÊ∏õÊâãÊ≥ïÊØîËºÉ„Çí dimensionality_reduction_comparison.png „Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;)
plt.show()
</code></pre>
<h3>„Ç≥„Éº„Éâ‰æã12: ËøëÂÇç‰øùÂ≠òÁéá„ÅÆË©ï‰æ°</h3>
<pre><code class="language-python">from sklearn.neighbors import NearestNeighbors
import numpy as np

def calculate_neighborhood_preservation(X_high, X_low, k=10):
    &quot;&quot;&quot;
    È´òÊ¨°ÂÖÉÁ©∫Èñì„Å®‰ΩéÊ¨°ÂÖÉÁ©∫Èñì„Åß„ÅÆËøëÂÇç‰øùÂ≠òÁéá„ÇíË®àÁÆó

    Parameters:
    -----------
    X_high : array-like
        È´òÊ¨°ÂÖÉÁ©∫Èñì„ÅÆ„Éá„Éº„Çø
    X_low : array-like
        ‰ΩéÊ¨°ÂÖÉÁ©∫Èñì„ÅÆ„Éá„Éº„Çø
    k : int
        ËøëÂÇç„ÅÆÊï∞

    Returns:
    --------
    preservation_rate : float
        ËøëÂÇç‰øùÂ≠òÁéáÔºà0-1Ôºâ
    &quot;&quot;&quot;
    # È´òÊ¨°ÂÖÉÁ©∫Èñì„Åß„ÅÆkËøëÂÇç
    nbrs_high = NearestNeighbors(n_neighbors=k+1).fit(X_high)
    _, indices_high = nbrs_high.kneighbors(X_high)

    # ‰ΩéÊ¨°ÂÖÉÁ©∫Èñì„Åß„ÅÆkËøëÂÇç
    nbrs_low = NearestNeighbors(n_neighbors=k+1).fit(X_low)
    _, indices_low = nbrs_low.kneighbors(X_low)

    # ËøëÂÇç‰øùÂ≠òÁéá„ÅÆË®àÁÆó
    preservation_scores = []
    for i in range(len(X_high)):
        # Ëá™ÂàÜËá™Ë∫´„ÇíÈô§„Åè
        neighbors_high = set(indices_high[i, 1:])
        neighbors_low = set(indices_low[i, 1:])

        # ÂÖ±ÈÄö„Åô„ÇãËøëÂÇç„ÅÆÂâ≤Âêà
        intersection = len(neighbors_high &amp; neighbors_low)
        preservation_scores.append(intersection / k)

    return np.mean(preservation_scores)

# ÂêÑÊâãÊ≥ï„ÅÆËøëÂÇç‰øùÂ≠òÁéá„ÇíË©ï‰æ°
k_values = [5, 10, 20, 50]
results = {
    'PCA': [],
    't-SNE': [],
    'UMAP': []
}

for k in k_values:
    pca_preservation = calculate_neighborhood_preservation(
        X_scaled, X_pca, k=k
    )
    tsne_preservation = calculate_neighborhood_preservation(
        X_scaled, tsne_results[30], k=k
    )
    umap_preservation = calculate_neighborhood_preservation(
        X_scaled, umap_results[15], k=k
    )

    results['PCA'].append(pca_preservation)
    results['t-SNE'].append(tsne_preservation)
    results['UMAP'].append(umap_preservation)

    print(f&quot;k={k}„Åß„ÅÆËøëÂÇç‰øùÂ≠òÁéá:&quot;)
    print(f&quot;  PCA:   {pca_preservation:.3f}&quot;)
    print(f&quot;  t-SNE: {tsne_preservation:.3f}&quot;)
    print(f&quot;  UMAP:  {umap_preservation:.3f}&quot;)
    print()

# ÁµêÊûú„ÅÆ„Éó„É≠„ÉÉ„Éà
fig, ax = plt.subplots(figsize=(10, 7))

for method, scores in results.items():
    ax.plot(k_values, scores, marker='o', linewidth=2,
            markersize=8, label=method)

ax.set_xlabel('Number of Neighbors (k)', fontsize=14, fontweight='bold')
ax.set_ylabel('Neighborhood Preservation Rate', fontsize=14, fontweight='bold')
ax.set_title('Comparison of Neighborhood Preservation',
             fontsize=16, fontweight='bold')
ax.legend(fontsize=12)
ax.grid(True, alpha=0.3, linestyle='--')
ax.set_ylim([0, 1])

plt.tight_layout()
plt.savefig('neighborhood_preservation.png', dpi=300, bbox_inches='tight')
print(&quot;ËøëÂÇç‰øùÂ≠òÁéáÊØîËºÉ„Çí neighborhood_preservation.png „Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;)
plt.show()
</code></pre>
<h2>2.5 „Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„Éñ„Å™ÂèØË¶ñÂåñ</h2>
<h3>„Ç≥„Éº„Éâ‰æã13: Plotly„Å´„Çà„Çã3D UMAP</h3>
<pre><code class="language-python"># Plotly„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´ÔºàÂàùÂõû„ÅÆ„ÅøÔºâ
# !pip install plotly

import plotly.express as px
import plotly.graph_objects as go
import umap

# 3Ê¨°ÂÖÉUMAP„ÅÆÂÆüË°å
reducer_3d = umap.UMAP(n_components=3,
                       n_neighbors=15,
                       min_dist=0.1,
                       random_state=42)

X_umap_3d = reducer_3d.fit_transform(X_scaled)

materials_data['umap1_3d'] = X_umap_3d[:, 0]
materials_data['umap2_3d'] = X_umap_3d[:, 1]
materials_data['umap3_3d'] = X_umap_3d[:, 2]

# „Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„Éñ3D„Éó„É≠„ÉÉ„Éà
fig = px.scatter_3d(materials_data,
                    x='umap1_3d',
                    y='umap2_3d',
                    z='umap3_3d',
                    color='band_gap',
                    size='density',
                    hover_data=['formula', 'formation_energy', 'bulk_modulus'],
                    color_continuous_scale='Viridis',
                    title='Interactive 3D UMAP: Materials Space')

fig.update_traces(marker=dict(line=dict(width=0.5, color='black')))

fig.update_layout(
    scene=dict(
        xaxis_title='UMAP 1',
        yaxis_title='UMAP 2',
        zaxis_title='UMAP 3',
        xaxis=dict(backgroundcolor=&quot;rgb(230, 230,230)&quot;,
                   gridcolor=&quot;white&quot;),
        yaxis=dict(backgroundcolor=&quot;rgb(230, 230,230)&quot;,
                   gridcolor=&quot;white&quot;),
        zaxis=dict(backgroundcolor=&quot;rgb(230, 230,230)&quot;,
                   gridcolor=&quot;white&quot;),
    ),
    width=900,
    height=700,
    font=dict(size=12)
)

fig.write_html('umap_3d_interactive.html')
print(&quot;„Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„Éñ3D UMAP„Çí umap_3d_interactive.html „Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;)
fig.show()
</code></pre>
<h3>„Ç≥„Éº„Éâ‰æã14: Bokeh„Å´„Çà„Çã„Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„ÉñÊï£Â∏ÉÂõ≥</h3>
<pre><code class="language-python"># Bokeh„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´ÔºàÂàùÂõû„ÅÆ„ÅøÔºâ
# !pip install bokeh

from bokeh.plotting import figure, output_file, save
from bokeh.models import HoverTool, ColorBar, LinearColorMapper
from bokeh.palettes import Viridis256
from bokeh.io import show

# „Ç´„É©„Éº„Éû„ÉÉ„Éë„Éº
color_mapper = LinearColorMapper(palette=Viridis256,
                                 low=materials_data['band_gap'].min(),
                                 high=materials_data['band_gap'].max())

# „Éó„É≠„ÉÉ„Éà„ÅÆ‰ΩúÊàê
output_file('umap_interactive.html')

p = figure(width=900,
           height=700,
           title='Interactive UMAP: Materials Space',
           tools='pan,wheel_zoom,box_zoom,reset,save')

# „Éá„Éº„Çø„ÇΩ„Éº„Çπ
source_data = dict(
    x=materials_data['umap1'],
    y=materials_data['umap2'],
    formula=materials_data['formula'],
    band_gap=materials_data['band_gap'],
    formation_energy=materials_data['formation_energy'],
    density=materials_data['density'],
    bulk_modulus=materials_data['bulk_modulus']
)

# Êï£Â∏ÉÂõ≥
circles = p.circle('x', 'y',
                   size=8,
                   source=source_data,
                   fill_color={'field': 'band_gap', 'transform': color_mapper},
                   fill_alpha=0.7,
                   line_color='black',
                   line_width=0.5)

# „Éõ„Éê„Éº„ÉÑ„Éº„É´
hover = HoverTool(tooltips=[
    ('Formula', '@formula'),
    ('Band Gap', '@band_gap{0.00} eV'),
    ('Formation E', '@formation_energy{0.00} eV/atom'),
    ('Density', '@density{0.00} g/cm¬≥'),
    ('Bulk Modulus', '@bulk_modulus{0.0} GPa')
])
p.add_tools(hover)

# „Ç´„É©„Éº„Éê„Éº
color_bar = ColorBar(color_mapper=color_mapper,
                     label_standoff=12,
                     title='Band Gap (eV)',
                     location=(0, 0))
p.add_layout(color_bar, 'right')

# Ëª∏„É©„Éô„É´
p.xaxis.axis_label = 'UMAP 1'
p.yaxis.axis_label = 'UMAP 2'
p.title.text_font_size = '16pt'
p.xaxis.axis_label_text_font_size = '14pt'
p.yaxis.axis_label_text_font_size = '14pt'

save(p)
print(&quot;„Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„ÉñUMAP„Çí umap_interactive.html „Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;)
show(p)
</code></pre>
<h3>„Ç≥„Éº„Éâ‰æã15: „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Å´„Çà„ÇãÊ¨°ÂÖÉÂâäÊ∏õ„Éó„É≠„Çª„Çπ„ÅÆÂèØË¶ñÂåñ</h3>
<pre><code class="language-python">import matplotlib.pyplot as plt
import matplotlib.animation as animation
from sklearn.decomposition import PCA
import numpy as np

# Â§öÊÆµÈöéPCA„Å´„Çà„Çã„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
n_frames = 20
fig, ax = plt.subplots(figsize=(10, 8))

# ÂàùÊúü3D PCA
pca_3d = PCA(n_components=3)
X_pca_3d = pca_3d.fit_transform(X_scaled)

def update(frame):
    ax.clear()

    # ÂõûËª¢ËßíÂ∫¶
    angle = frame * (360 / n_frames)
    angle_rad = np.radians(angle)

    # ÂõûËª¢Ë°åÂàó„ÇíÈÅ©Áî®
    rotation_matrix = np.array([
        [np.cos(angle_rad), -np.sin(angle_rad), 0],
        [np.sin(angle_rad), np.cos(angle_rad), 0],
        [0, 0, 1]
    ])

    X_rotated = X_pca_3d @ rotation_matrix

    # 2DÊäïÂΩ±
    scatter = ax.scatter(X_rotated[:, 0],
                         X_rotated[:, 1],
                         c=materials_data['band_gap'],
                         cmap='viridis',
                         s=50,
                         alpha=0.6,
                         edgecolors='black',
                         linewidth=0.5)

    ax.set_xlabel('Dimension 1', fontsize=12, fontweight='bold')
    ax.set_ylabel('Dimension 2', fontsize=12, fontweight='bold')
    ax.set_title(f'3D PCA Rotation (angle={angle:.0f}¬∞)',
                 fontsize=14, fontweight='bold')
    ax.grid(True, alpha=0.3, linestyle='--')

    # Ëª∏„ÅÆÁØÑÂõ≤„ÇíÂõ∫ÂÆö
    ax.set_xlim(X_rotated[:, 0].min() - 1, X_rotated[:, 0].max() + 1)
    ax.set_ylim(X_rotated[:, 1].min() - 1, X_rotated[:, 1].max() + 1)

    return scatter,

# „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥‰ΩúÊàê
anim = animation.FuncAnimation(fig, update, frames=n_frames,
                               interval=200, blit=False)

# GIF„Å®„Åó„Å¶‰øùÂ≠ò
anim.save('pca_rotation_animation.gif', writer='pillow', fps=5)
print(&quot;PCAÂõûËª¢„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Çí pca_rotation_animation.gif „Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;)
plt.close()
</code></pre>
<h2>2.6 „Åæ„Å®„ÇÅ</h2>
<p>Êú¨Á´†„Åß„ÅØ„ÄÅÊ¨°ÂÖÉÂâäÊ∏õÊâãÊ≥ï„ÇíÁî®„ÅÑ„ÅüÊùêÊñôÁ©∫Èñì„ÅÆ„Éû„ÉÉ„Éî„É≥„Ç∞„Å´„Å§„ÅÑ„Å¶Â≠¶„Å≥„Åæ„Åó„ÅüÔºö</p>
<h3>‰∏ªË¶Å„Å™Ê¨°ÂÖÉÂâäÊ∏õÊâãÊ≥ï</h3>
<table>
<thead>
<tr>
<th>ÊâãÊ≥ï</th>
<th>ÁâπÂæ¥</th>
<th>Âà©ÁÇπ</th>
<th>Ê¨†ÁÇπ</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PCA</strong></td>
<td>Á∑öÂΩ¢„ÄÅÂàÜÊï£ÊúÄÂ§ßÂåñ</td>
<td>È´òÈÄü„ÄÅËß£ÈáàÊÄßÈ´ò„ÅÑ</td>
<td>ÈùûÁ∑öÂΩ¢ÊßãÈÄ†„Å´Âº±„ÅÑ</td>
</tr>
<tr>
<td><strong>t-SNE</strong></td>
<td>ÈùûÁ∑öÂΩ¢„ÄÅËøëÂÇç‰øùÂ≠ò</td>
<td>„ÇØ„É©„Çπ„ÇøÂèØË¶ñÂåñ„Å´ÂÑ™„Çå„Çã</td>
<td>ÈÅÖ„ÅÑ„ÄÅÂ§ßÂüüÊßãÈÄ†ÊêçÂ§±</td>
</tr>
<tr>
<td><strong>UMAP</strong></td>
<td>ÈùûÁ∑öÂΩ¢„ÄÅ„Éà„Éù„É≠„Ç∏„Éº‰øùÂ≠ò</td>
<td>È´òÈÄü„ÄÅÂ§ßÂüü„ÉªÂ±ÄÊâÄ‰∏°Á´ã</td>
<td>„Éë„É©„É°„Éº„ÇøË™øÊï¥ÂøÖË¶Å</td>
</tr>
</tbody>
</table>
<h3>ÂÆüË£Ö„Åó„Åü„Ç≥„Éº„Éâ</h3>
<table>
<thead>
<tr>
<th>„Ç≥„Éº„Éâ‰æã</th>
<th>ÂÜÖÂÆπ</th>
<th>ÊâãÊ≥ï</th>
</tr>
</thead>
<tbody>
<tr>
<td>‰æã1-4</td>
<td>PCAÂü∫Êú¨ÂÆüË£Ö„ÄÅÂèØË¶ñÂåñ</td>
<td>PCA</td>
</tr>
<tr>
<td>‰æã5-7</td>
<td>t-SNEÂÆüË£Ö„ÄÅ„Éë„É©„É°„Éº„ÇøÊØîËºÉ</td>
<td>t-SNE</td>
</tr>
<tr>
<td>‰æã8-10</td>
<td>UMAPÂÆüË£Ö„ÄÅÂØÜÂ∫¶„Éû„ÉÉ„Éó</td>
<td>UMAP</td>
</tr>
<tr>
<td>‰æã11-12</td>
<td>ÊâãÊ≥ïÊØîËºÉ„ÄÅË©ï‰æ°ÊåáÊ®ô</td>
<td>ÊØîËºÉ</td>
</tr>
<tr>
<td>‰æã13-15</td>
<td>„Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„ÉñÂèØË¶ñÂåñ</td>
<td>Plotly, Bokeh</td>
</tr>
</tbody>
</table>
<h3>„Éô„Çπ„Éà„Éó„É©„ÇØ„ÉÜ„Ç£„Çπ</h3>
<ol>
<li><strong>ÂâçÂá¶ÁêÜ</strong>: Ê®ôÊ∫ñÂåñÔºàStandardScalerÔºâ„ÅØÂøÖÈ†à</li>
<li><strong>ÊâãÊ≥ïÈÅ∏Êäû</strong>:
   - Ëß£ÈáàÊÄßÈáçË¶ñ ‚Üí PCA
   - „ÇØ„É©„Çπ„ÇøÁô∫Ë¶ã ‚Üí t-SNE
   - „Éê„É©„É≥„ÇπÈáçË¶ñ ‚Üí UMAP</li>
<li><strong>„Éë„É©„É°„Éº„ÇøË™øÊï¥</strong>: Ë§áÊï∞„ÅÆË®≠ÂÆö„ÅßÂÆüÈ®ì„Åó„ÄÅÊúÄÈÅ©ÂÄ§„ÇíÊé¢Á¥¢</li>
<li><strong>Ë©ï‰æ°</strong>: ËøëÂÇç‰øùÂ≠òÁéá„Å™„Å©ÂÆöÈáèÁöÑÊåáÊ®ô„ÅßÂìÅË≥™Ë©ï‰æ°</li>
</ol>
<h3>Ê¨°Á´†„Å∏„ÅÆÂ±ïÊúõ</h3>
<p>Á¨¨3Á´†„Åß„ÅØ„ÄÅGraph Neural NetworksÔºàGNNÔºâ„ÇíÁî®„ÅÑ„Å¶ÊùêÊñô„ÅÆÊßãÈÄ†ÊÉÖÂ†±„Åã„ÇâÁâπÂæ¥Ë°®Áèæ„ÇíÂ≠¶Áøí„Åó„ÄÅ„Çà„ÇäÈ´òÂ∫¶„Å™ÊùêÊñôÁ©∫Èñì„Éû„ÉÉ„Éî„É≥„Ç∞„ÇíÂÆüÁèæ„Åó„Åæ„Åô„ÄÇCGCNN„ÄÅMEGNet„ÄÅSchNet„Å™„Å©„ÅÆÊúÄÊñ∞GNN„É¢„Éá„É´„ÇíÂÆüË£Ö„Åó„ÄÅÁµêÊô∂ÊßãÈÄ†„ÇíÁõ¥Êé•ÂÖ•Âäõ„Å®„Åó„Å¶Ê¨°ÂÖÉÂâäÊ∏õ„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ</p>
<hr />
<p><strong>ÂâçÁ´†</strong>: <a href="chapter-1.html">Á¨¨1Á´†ÔºöÊùêÊñôÁ©∫ÈñìÂèØË¶ñÂåñ„ÅÆÂü∫Á§é</a></p>
<p><strong>Ê¨°Á´†</strong>: <a href="chapter-3.html">Á¨¨3Á´†ÔºöGNN„Å´„Çà„ÇãÊùêÊñôË°®ÁèæÂ≠¶Áøí</a></p>
<p><strong>„Ç∑„É™„Éº„Ç∫„Éà„ÉÉ„Éó</strong>: <a href="index.html">ÊùêÊñôÁâπÊÄß„Éû„ÉÉ„Éî„É≥„Ç∞ÂÖ•ÈñÄ</a></p><div class="navigation">
    <a href="index.html" class="nav-button">„Ç∑„É™„Éº„Ç∫ÁõÆÊ¨°„Å´Êàª„Çã</a>
    <a href="chapter-3.html" class="nav-button">Ê¨°„ÅÆÁ´† ‚Üí</a>
</div>
    </main>

    <footer>
        <p><strong>‰ΩúÊàêËÄÖ</strong>: AI Terakoya Content Team</p>
        <p><strong>„Éê„Éº„Ç∏„Éß„É≥</strong>: 1.0 | <strong>‰ΩúÊàêÊó•</strong>: 2025-10-17</p>
        <p><strong>„É©„Ç§„Çª„É≥„Çπ</strong>: Creative Commons BY 4.0</p>
        <p>¬© 2025 AI Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>
