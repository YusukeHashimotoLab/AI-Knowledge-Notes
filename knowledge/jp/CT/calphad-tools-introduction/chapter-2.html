<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第2章: 状態図計算とGibbs自由エネルギー - CALPHAD法入門 - CT Dojo</title>
    <meta name="description" content="CALPHAD法による状態図計算の実践。Gibbs自由エネルギーと相平衡、Redlich-Kister多項式、TDBファイル構造、pycalphadによる二元系状態図計算を学ぶ。">

    <!-- Prism.js for code highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">

    <!-- MathJax for mathematical expressions -->
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Mermaid for diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>

    <style>
        :root {
            --accent-green: #11998e;
            --accent-lime: #38ef7d;
            --primary-dark: #2c3e50;
            --secondary-dark: #34495e;
            --text-dark: #2c3e50;
            --text-light: #7f8c8d;
            --bg-light: #ecf0f1;
            --white: #ffffff;
            --code-bg: #2d2d2d;
            --border-light: #bdc3c7;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.8;
            color: var(--text-dark);
            background: var(--bg-light);
        }

        header {
            background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-lime) 100%);
            color: white;
            padding: 3rem 1.5rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        nav {
            background: var(--white);
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.5rem;
        }

        nav a {
            text-decoration: none;
            color: var(--text-dark);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: all 0.3s;
            font-weight: 500;
        }

        nav a:hover {
            background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-lime) 100%);
            color: white;
        }

        main {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 1.5rem;
        }

        section {
            background: var(--white);
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        h2 {
            color: var(--primary-dark);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid;
            border-image: linear-gradient(90deg, var(--accent-green), var(--accent-lime)) 1;
        }

        h3 {
            color: var(--secondary-dark);
            font-size: 1.4rem;
            margin: 2rem 0 1rem;
        }

        h4 {
            color: var(--secondary-dark);
            font-size: 1.2rem;
            margin: 1.5rem 0 1rem;
        }

        p {
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        ul, ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        code {
            background: #f8f9fa;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: "Consolas", "Monaco", monospace;
            font-size: 0.9em;
            color: #e74c3c;
        }

        pre {
            background: var(--code-bg);
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1.5rem 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        pre code {
            background: none;
            color: #f8f8f2;
            padding: 0;
        }

        .info-box {
            background: linear-gradient(135deg, rgba(17, 153, 142, 0.1) 0%, rgba(56, 239, 125, 0.1) 100%);
            border-left: 4px solid var(--accent-green);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 4px;
        }

        .info-box strong {
            color: var(--accent-green);
            display: block;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .warning-box {
            background: rgba(243, 156, 18, 0.1);
            border-left: 4px solid var(--warning);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 4px;
        }

        .warning-box strong {
            color: var(--warning);
            display: block;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .exercise-box {
            background: rgba(39, 174, 96, 0.05);
            border: 2px solid var(--success);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
        }

        .exercise-box h4 {
            color: var(--success);
            margin-top: 0;
        }

        .difficulty {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .difficulty.easy {
            background: #d4edda;
            color: #155724;
        }

        .difficulty.medium {
            background: #fff3cd;
            color: #856404;
        }

        .difficulty.hard {
            background: #f8d7da;
            color: #721c24;
        }

        .mermaid {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            margin: 2rem 0;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-light);
        }

        th {
            background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-lime) 100%);
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background: rgba(17, 153, 142, 0.05);
        }

        footer {
            background: var(--primary-dark);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 4rem;
        }

        footer a {
            color: var(--accent-green);
            text-decoration: none;
        }

        footer a:hover {
            color: var(--accent-lime);
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.5rem;
            }

            nav ul {
                flex-direction: column;
                align-items: center;
            }

            section {
                padding: 1.5rem;
            }

            pre {
                padding: 1rem;
                font-size: 0.85rem;
            }
        }

        .breadcrumb {
            background: #f7fafc;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.9rem;
        }

        .breadcrumb-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .breadcrumb a {
            color: #11998e;
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumb a:hover {
            color: #0e7c74;
            text-decoration: underline;
        }

        .breadcrumb-separator {
            color: #a0aec0;
            margin: 0 0.25rem;
        }

        .breadcrumb-current {
            color: #4a5568;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <nav class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="/AI-Knowledge-Notes/knowledge/jp/index.html">AI寺子屋トップ</a><span class="breadcrumb-separator">›</span><a href="/AI-Knowledge-Notes/knowledge/jp/CT/index.html">計算工学</a><span class="breadcrumb-separator">›</span><a href="/AI-Knowledge-Notes/knowledge/jp/CT/calphad-tools-introduction/index.html">CALPHAD法入門</a><span class="breadcrumb-separator">›</span><span class="breadcrumb-current">Chapter 2</span>
        </div>
    </nav>

    <header>
        <h1>第2章: 状態図計算とGibbs自由エネルギー</h1>
        <p>相平衡の熱力学・Redlich-Kister多項式・TDBファイル・二元系計算の実践</p>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">トップ</a></li>
            <li><a href="#intro">概要</a></li>
            <li><a href="#gibbs-energy">Gibbs自由エネルギー</a></li>
            <li><a href="#calphad-method">CALPHAD法の原理</a></li>
            <li><a href="#tdb-structure">TDBファイル構造</a></li>
            <li><a href="#binary-calculations">二元系計算</a></li>
            <li><a href="#code-examples">コード例</a></li>
            <li><a href="#learning-objectives">学習目標</a></li>
            <li><a href="#exercises">演習問題</a></li>
            <li><a href="#references">参考文献</a></li>
            <li><a href="chapter-1.html">← 第1章</a></li>
            <li><a href="chapter-3.html">第3章 →</a></li>
        </ul>
    </nav>

    <main>
        <section id="intro">
            <h2>2.1 本章の概要</h2>

            <p>
                本章では、CALPHAD法の核心である状態図計算について学びます。Gibbs自由エネルギーの最小化原理、Redlich-Kister多項式による過剰自由エネルギーのモデル化、TDBファイルの構造、pycalphadを用いた二元系状態図計算の実践を扱います。具体的にはAl-Cu系、Fe-C系などの実合金系を例に、液相線・固相線・共晶点・金属間化合物の計算方法を習得します。
            </p>

            <div class="info-box">
                <strong>本章の学習目標</strong>
                <ul>
                    <li><strong>レベル1（基本理解）</strong>: Gibbs自由エネルギー最小化の原理、Redlich-Kister多項式の構造、TDB形式のパラメータ化方法を説明できる</li>
                    <li><strong>レベル2（実践スキル）</strong>: pycalphadで二元系状態図（Al-Cu、Fe-C）を計算でき、TDBファイルを解析でき、活性度・化学ポテンシャルを計算できる</li>
                    <li><strong>レベル3（応用力）</strong>: 実験データと計算結果を比較検証でき、Property Diagram（エンタルピー、熱容量）を作成でき、相平衡計算の精度を評価できる</li>
                </ul>
            </div>

            <div class="warning-box">
                <strong>前提知識</strong>
                <p>本章では、第1章の内容（CALPHAD法の基礎、pycalphadのインストール）、熱力学の基本（Gibbs自由エネルギー、化学ポテンシャル、活性度）、Python基礎（NumPy、Matplotlib）を前提とします。</p>
            </div>
        </section>

        <section id="gibbs-energy">
            <h2>2.2 Gibbs自由エネルギーと相平衡</h2>

            <h3>Gibbs自由エネルギー最小化の原理</h3>
            <p>
                一定の温度\(T\)、圧力\(P\)の下で、系のGibbs自由エネルギー\(G\)が最小となる状態が熱力学的平衡状態です。多相系では、各相の化学ポテンシャルが等しくなる条件で全体の\(G\)が最小化されます。
            </p>

            <p>Gibbs自由エネルギーの定義：</p>
            <p style="text-align: center; font-size: 1.1em; margin: 1.5rem 0;">
                \( G = H - TS = U + PV - TS \)
            </p>
            <p>ここで、\(H\)はエンタルピー、\(U\)は内部エネルギー、\(S\)はエントロピー、\(V\)は体積です。</p>

            <h3>化学ポテンシャルと相平衡</h3>
            <p>
                成分\(i\)の化学ポテンシャル\(\mu_i\)は、成分\(i\)を1モル加えたときのGibbs自由エネルギーの変化です：
            </p>
            <p style="text-align: center; font-size: 1.1em; margin: 1.5rem 0;">
                \( \mu_i = \left( \frac{\partial G}{\partial n_i} \right)_{T,P,n_{j \neq i}} \)
            </p>

            <p>
                2つの相\(\alpha\)、\(\beta\)が平衡状態にあるとき、すべての成分の化学ポテンシャルが等しくなります：
            </p>
            <p style="text-align: center; font-size: 1.1em; margin: 1.5rem 0;">
                \( \mu_i^{\alpha} = \mu_i^{\beta} \quad (\text{すべての成分} i) \)
            </p>

            <div class="info-box">
                <strong>共通接線法（Common Tangent Construction）</strong>
                <p>
                    二元系では、各相のGibbs自由エネルギー曲線\(G(x)\)を描き、共通接線を引くことで平衡組成を決定できます。接線が接する2点の組成が、それぞれα相とβ相の平衡組成に対応します。
                </p>
            </div>

            <div class="mermaid">
flowchart TD
    A[多相系のGibbs自由エネルギー] --> B{各相のG曲線を計算}
    B --> C[液相のGL]
    B --> D[α固相のGα]
    B --> E[β固相のGβ]
    C --> F[共通接線法で平衡組成を決定]
    D --> F
    E --> F
    F --> G[化学ポテンシャル等価条件を満たす]
    G --> H[平衡状態の相組成・分率]

    style A fill:#d4f1f4
    style F fill:#a8e6cf
    style H fill:#ffcccc
            </div>

            <h3>活性度と活量係数</h3>
            <p>
                実溶体では、成分\(i\)の化学ポテンシャルは活性度\(a_i\)を用いて表されます：
            </p>
            <p style="text-align: center; font-size: 1.1em; margin: 1.5rem 0;">
                \( \mu_i = \mu_i^0 + RT \ln a_i \)
            </p>
            <p>
                活性度は、組成\(x_i\)と活量係数\(\gamma_i\)の積で表されます：
            </p>
            <p style="text-align: center; font-size: 1.1em; margin: 1.5rem 0;">
                \( a_i = \gamma_i x_i \)
            </p>
            <p>
                理想溶体では\(\gamma_i = 1\)ですが、実溶体では原子間相互作用により\(\gamma_i \neq 1\)となります。
            </p>
        </section>

        <section id="calphad-method">
            <h2>2.3 CALPHAD法の熱力学モデル</h2>

            <h3>溶体相のGibbs自由エネルギー</h3>
            <p>
                溶体相のモルGibbs自由エネルギーは、次のように分解されます：
            </p>
            <p style="text-align: center; font-size: 1.1em; margin: 1.5rem 0;">
                \( G_m = G^{\text{ref}} + G^{\text{id}} + G^{\text{ex}} \)
            </p>

            <ul>
                <li><strong>\(G^{\text{ref}}\)</strong>: 参照状態のGibbs自由エネルギー（純物質の線形結合）</li>
                <li><strong>\(G^{\text{id}}\)</strong>: 理想混合のGibbs自由エネルギー（エントロピー項）</li>
                <li><strong>\(G^{\text{ex}}\)</strong>: 過剰Gibbs自由エネルギー（原子間相互作用）</li>
            </ul>

            <h4>参照状態</h4>
            <p>二元系A-Bでは：</p>
            <p style="text-align: center; font-size: 1.1em; margin: 1.5rem 0;">
                \( G^{\text{ref}} = x_A \,^0G_A + x_B \,^0G_B \)
            </p>
            <p>ここで、\(^0G_A\)、\(^0G_B\)は純物質A、Bの参照状態（通常は安定相）のGibbs自由エネルギーです。</p>

            <h4>理想混合項</h4>
            <p>
                理想溶体の混合エントロピーから：
            </p>
            <p style="text-align: center; font-size: 1.1em; margin: 1.5rem 0;">
                \( G^{\text{id}} = RT(x_A \ln x_A + x_B \ln x_B) \)
            </p>

            <h3>Redlich-Kister多項式</h3>
            <p>
                過剰Gibbs自由エネルギー\(G^{\text{ex}}\)は、Redlich-Kister多項式でモデル化されます：
            </p>
            <p style="text-align: center; font-size: 1.1em; margin: 1.5rem 0;">
                \( G^{\text{ex}} = x_A x_B \sum_{n=0}^{N} L_{A,B}^{(n)} (x_A - x_B)^n \)
            </p>

            <p>
                ここで、\(L_{A,B}^{(n)}\)は相互作用パラメータで、通常は温度依存性を持ちます：
            </p>
            <p style="text-align: center; font-size: 1.1em; margin: 1.5rem 0;">
                \( L_{A,B}^{(n)} = a + bT + cT \ln T + dT^2 + \cdots \)
            </p>

            <div class="info-box">
                <strong>Redlich-Kister多項式の次数</strong>
                <ul>
                    <li><strong>0次項 \((n=0)\)</strong>: 組成に依存しない過剰項（最も重要）</li>
                    <li><strong>1次項 \((n=1)\)</strong>: 組成非対称性を表現</li>
                    <li><strong>2次項以上</strong>: 複雑な組成依存性（稀）</li>
                </ul>
                <p>実際のデータベースでは、0次と1次項で十分な場合が多いです。</p>
            </div>

            <h3>化合物相のモデル化</h3>
            <p>
                ストイキオメトリック化合物（例: Al2Cu）は、固定組成の相として扱われます：
            </p>
            <p style="text-align: center; font-size: 1.1em; margin: 1.5rem 0;">
                \( G_{\text{Al}_2\text{Cu}} = a + bT + cT \ln T + \cdots \)
            </p>

            <p>
                非ストイキオメトリック化合物（例: Fe1-xO）は、Compound Energy Formalism（CEF）でモデル化されます（第3章で詳述）。
            </p>

            <div class="mermaid">
flowchart LR
    A[溶体相のGibbs自由エネルギー] --> B[参照状態<br/>純物質の線形結合]
    A --> C[理想混合項<br/>RT Σ xi ln xi]
    A --> D[過剰項<br/>Redlich-Kister多項式]
    D --> E[0次項: a + bT]
    D --> F[1次項: c(xA - xB)]
    D --> G[2次項以上]

    style A fill:#d4f1f4
    style B fill:#ffe5cc
    style C fill:#d6f5d6
    style D fill:#ffd6d6
            </div>
        </section>

        <section id="tdb-structure">
            <h2>2.4 TDBファイルの構造</h2>

            <h3>TDB形式の基本構成</h3>
            <p>
                TDB（ThermoData Base）形式は、CALPHADデータベースの標準フォーマットです。各相のGibbs自由エネルギーパラメータをテキスト形式で記述します。
            </p>

            <h4>TDBファイルの構造</h4>
            <pre><code class="language-text">$ Al-Cu二元系のTDBファイル例
$ データベース: Sundman et al. (1990)

$ ==================================================
$ 1. 元素定義
$ ==================================================
ELEMENT AL   FCC_A1   26.9815  4577.3   28.3  ! アルミニウム
ELEMENT CU   FCC_A1   63.546   5004.0   33.15 ! 銅
ELEMENT VA   VACUUM   0.0      0.0      0.0   ! 空孔

$ ==================================================
$ 2. 純物質の参照状態（GHSER関数）
$ ==================================================
FUNCTION GHSERAL  298.15
    -7976.15+137.093038*T-24.3671976*T*LN(T)
    -0.001884662*T**2-8.77664E-07*T**3+74092*T**(-1);  700 Y
    -11276.24+223.048446*T-38.5844296*T*LN(T)
    +0.018531982*T**2-5.764227E-06*T**3+74092*T**(-1);  933.6 Y
    -11278.378+188.684153*T-31.748192*T*LN(T)
    -1.230524E+28*T**(-9);  6000 N !

FUNCTION GHSERCU  298.15
    -7770.458+130.485235*T-24.112392*T*LN(T)
    -2.65684E-03*T**2+0.129223E-06*T**3+52478*T**(-1);  1358 Y
    -13542.026+183.803828*T-31.38*T*LN(T)
    +3.64167E+29*T**(-9);  6000 N !

$ ==================================================
$ 3. 相の定義
$ ==================================================
PHASE LIQUID % 1 1.0 !
PHASE FCC_A1 % 2 1 1 !      $ FCC固溶体（2サブラティス）
PHASE THETA  % 2 2 1 !      $ θ相（Al2Cu）

$ ==================================================
$ 4. 各相のGibbs自由エネルギーパラメータ
$ ==================================================

$ --- 液相 ---
PARAMETER G(LIQUID,AL;0) 298.15 +GHSERAL+11005.029
    -11.841867*T+7.934E-20*T**7;  6000 N !
PARAMETER G(LIQUID,CU;0) 298.15 +GHSERCU+12964.735
    -9.511904*T-5.849E-21*T**7;  6000 N !
PARAMETER G(LIQUID,AL,CU;0) 298.15 -67094+8.555*T;  6000 N !
PARAMETER G(LIQUID,AL,CU;1) 298.15 +32148-7.118*T;  6000 N !

$ --- FCC_A1固溶体 ---
PARAMETER G(FCC_A1,AL:VA;0) 298.15 +GHSERAL;  6000 N !
PARAMETER G(FCC_A1,CU:VA;0) 298.15 +GHSERCU;  6000 N !
PARAMETER G(FCC_A1,AL,CU:VA;0) 298.15 -53520+2.0*T;  6000 N !
PARAMETER G(FCC_A1,AL,CU:VA;1) 298.15 +38590-2.0*T;  6000 N !

$ --- θ相（Al2Cu） ---
PARAMETER G(THETA,AL:CU;0) 298.15
    -47406+6.75*T+2*GHSERAL+GHSERCU;  6000 N !
</code></pre>

            <h3>TDBファイルの各セクション解説</h3>

            <h4>1. ELEMENT定義</h4>
            <p>
                各元素の基本物性（原子量、298.15Kでのエンタルピー・エントロピー）を定義します。
            </p>

            <h4>2. FUNCTION（GHSER関数）</h4>
            <p>
                純物質の参照状態（GHSER: Gibbs energy of the pure element in its reference state）を温度の関数として定義します。複数の温度範囲で異なる式を使用可能です。
            </p>

            <h4>3. PHASE定義</h4>
            <p>
                各相の名前とサブラティスモデル（サブラティス数と各サブラティスのサイト数）を定義します。
            </p>
            <ul>
                <li><code>PHASE LIQUID % 1 1.0 !</code>: 液相（1サブラティス、1サイト）</li>
                <li><code>PHASE FCC_A1 % 2 1 1 !</code>: FCC（2サブラティス、各1サイト）</li>
            </ul>

            <h4>4. PARAMETER（Gibbs自由エネルギーパラメータ）</h4>
            <p>
                各相のGibbs自由エネルギーを定義します。
            </p>
            <ul>
                <li><code>G(LIQUID,AL;0)</code>: 液相中の純Al</li>
                <li><code>G(LIQUID,AL,CU;0)</code>: 液相中のAl-Cu相互作用（0次項）</li>
                <li><code>G(LIQUID,AL,CU;1)</code>: 液相中のAl-Cu相互作用（1次項）</li>
            </ul>

            <div class="warning-box">
                <strong>温度範囲の記法</strong>
                <p>
                    <code>298.15</code>: 開始温度（K）<br>
                    <code>6000 N !</code>: 終了温度6000K、N（Nは"Not continuing"の意味）<br>
                    <code>933.6 Y</code>: 終了温度933.6K、Y（Yは"Yes, continuing"の意味）
                </p>
                <p>Yの場合、次の温度範囲の式が続きます。</p>
            </div>
        </section>

        <section id="binary-calculations">
            <h2>2.5 二元系状態図の計算</h2>

            <h3>状態図の種類</h3>
            <table>
                <thead>
                    <tr>
                        <th>状態図の種類</th>
                        <th>横軸</th>
                        <th>縦軸</th>
                        <th>用途</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>二元系状態図</strong></td>
                        <td>組成（x_B）</td>
                        <td>温度（T）</td>
                        <td>相境界、共晶点、金属間化合物</td>
                    </tr>
                    <tr>
                        <td><strong>Property Diagram</strong></td>
                        <td>温度（T）または組成</td>
                        <td>物性（H, S, Cp等）</td>
                        <td>エンタルピー、熱容量の温度依存性</td>
                    </tr>
                    <tr>
                        <td><strong>Activity Diagram</strong></td>
                        <td>組成（x_B）</td>
                        <td>活性度（a_i）</td>
                        <td>化学ポテンシャル、偏析挙動</td>
                    </tr>
                    <tr>
                        <td><strong>等温断面図</strong></td>
                        <td>x_B（二元）/三角座標（三元）</td>
                        <td>x_C（三元系）</td>
                        <td>多元系の一定温度での相領域</td>
                    </tr>
                </tbody>
            </table>

            <h3>Fe-C系状態図の重要性</h3>
            <p>
                Fe-C系は鉄鋼材料の基本であり、CALPHAD法の代表的な応用例です。主要な相は以下の通りです：
            </p>
            <ul>
                <li><strong>液相（LIQUID）</strong>: 高温で安定</li>
                <li><strong>δ-Fe（BCC_A2）</strong>: 高温BCC（1538-1394°C）</li>
                <li><strong>γ-Fe（FCC_A1）</strong>: オーステナイト（1394-912°C）</li>
                <li><strong>α-Fe（BCC_A2）</strong>: フェライト（912°C以下）</li>
                <li><strong>セメンタイト（Fe3C）</strong>: 金属間化合物（Fe3C）</li>
            </ul>

            <div class="info-box">
                <strong>Fe-C系の重要な点</strong>
                <ul>
                    <li><strong>共晶点（1148°C、4.3wt%C）</strong>: 液相 → γ-Fe + Fe3C</li>
                    <li><strong>共析点（727°C、0.76wt%C）</strong>: γ-Fe → α-Fe + Fe3C（パーライト組織）</li>
                    <li><strong>炭素の固溶限</strong>: γ-Feに最大2.1wt%、α-Feに0.02wt%</li>
                </ul>
            </div>
        </section>

        <section id="code-examples">
            <h2>2.6 コード例と実践</h2>

            <h3>コード例1: Gibbs自由エネルギー曲線と共通接線法</h3>
            <pre><code class="language-python"># ===================================
# Example 1: Gibbs自由エネルギー曲線の可視化（共通接線法）
# ===================================

import numpy as np
import matplotlib.pyplot as plt

# 温度とガス定数
T = 1000  # K
R = 8.314  # J/(mol·K)

# 組成範囲（Al-Cu系、xはCu組成）
x = np.linspace(0.001, 0.999, 200)

# 純物質のGibbs自由エネルギー（簡易モデル）
G_Al = -50000 + 30 * T  # J/mol
G_Cu = -48000 + 28 * T  # J/mol

# 液相のGibbs自由エネルギー
# G = x_Al*G_Al + x_Cu*G_Cu + RT(x_Al*ln(x_Al) + x_Cu*ln(x_Cu)) + G_ex
def gibbs_liquid(x_Cu):
    x_Al = 1 - x_Cu
    G_ref = x_Al * G_Al + x_Cu * G_Cu
    G_id = R * T * (x_Al * np.log(x_Al) + x_Cu * np.log(x_Cu))
    G_ex = x_Al * x_Cu * (-67094 + 8.555 * T)  # Redlich-Kister 0次項
    return G_ref + G_id + G_ex

# FCC固溶体のGibbs自由エネルギー
def gibbs_fcc(x_Cu):
    x_Al = 1 - x_Cu
    G_ref = x_Al * G_Al + x_Cu * G_Cu
    G_id = R * T * (x_Al * np.log(x_Al) + x_Cu * np.log(x_Cu))
    G_ex = x_Al * x_Cu * (-53520 + 2.0 * T)  # Redlich-Kister 0次項
    return G_ref + G_id + G_ex

# Gibbs自由エネルギー計算
G_liq = gibbs_liquid(x)
G_fcc = gibbs_fcc(x)

# プロット
plt.figure(figsize=(10, 7))
plt.plot(x, G_liq / 1000, linewidth=2, color='#e74c3c', label='Liquid phase')
plt.plot(x, G_fcc / 1000, linewidth=2, color='#11998e', label='FCC_A1 phase')

# 共通接線（手動計算例: x=0.2とx=0.8で接線）
x1, x2 = 0.2, 0.8
G1_liq, G2_fcc = gibbs_liquid(x1) / 1000, gibbs_fcc(x2) / 1000
tangent = G1_liq + (G2_fcc - G1_liq) / (x2 - x1) * (x - x1)
plt.plot(x, tangent, '--', linewidth=2, color='#f39c12', label='Common tangent')
plt.scatter([x1, x2], [G1_liq, G2_fcc], s=150, c='#f39c12',
            edgecolors='black', linewidth=2, zorder=5, label='Equilibrium compositions')

plt.xlabel('Mole Fraction Cu', fontsize=14, fontweight='bold')
plt.ylabel('Gibbs Free Energy (kJ/mol)', fontsize=14, fontweight='bold')
plt.title(f'Gibbs Energy Curves at T = {T} K (Al-Cu System)',
          fontsize=16, fontweight='bold')
plt.legend(fontsize=12)
plt.grid(alpha=0.3)
plt.tight_layout()
plt.savefig('gibbs_energy_common_tangent.png', dpi=300)
plt.show()

# 出力: 液相とFCC相のGibbs自由エネルギー曲線、共通接線で平衡組成を可視化
</code></pre>

            <h3>コード例2: TDBファイルの解析</h3>
            <pre><code class="language-python"># ===================================
# Example 2: TDBファイルの読み込みと構造解析
# ===================================

from pycalphad import Database

# TDBファイルの読み込み
db = Database('AlCu_Sundman.tdb')

# データベース情報の表示
print("=== Database Information ===")
print(f"Elements: {db.elements}")
print(f"Species: {list(db.species)}")
print(f"Phases: {list(db.phases.keys())}")
print()

# 各相の詳細
print("=== Phase Details ===")
for phase_name in db.phases:
    phase = db.phases[phase_name]
    print(f"\nPhase: {phase_name}")
    print(f"  Sublattices: {phase.sublattices}")
    print(f"  Site ratios: {phase.sublattice_site_ratios}")
    print(f"  Constituents: {phase.constituents}")
    print(f"  Model hints: {phase.model_hints}")

# パラメータの抽出（液相のAl-Cu相互作用）
print("\n=== Interaction Parameters (LIQUID phase) ===")
liquid_params = db.search((db.phases['LIQUID'],))
for param in liquid_params:
    print(f"Parameter: {param.parameter_type}")
    print(f"  Constituents: {param.constituents}")
    print(f"  Order: {param.parameter_order}")
    print(f"  Expression: {param.args}")
    print()

# 出力例:
# Elements: {Element('AL'), Element('CU'), Element('VA')}
# Phases: ['LIQUID', 'FCC_A1', 'THETA']
# Phase: LIQUID
#   Sublattices: ((Species('AL'), Species('CU')),)
#   Site ratios: (1.0,)
</code></pre>

            <h3>コード例3: pycalphadによるAl-Cu二元系状態図計算</h3>
            <pre><code class="language-python"># ===================================
# Example 3: Al-Cu二元系状態図の計算
# ===================================

import matplotlib.pyplot as plt
from pycalphad import Database, binplot
import pycalphad.variables as v

# データベースの読み込み
db = Database('AlCu_Sundman.tdb')

# 計算対象の相
my_phases = ['LIQUID', 'FCC_A1', 'THETA']  # θ相: Al2Cu金属間化合物

# 二元系状態図の計算
fig = plt.figure(figsize=(12, 9))
binplot(db, ['AL', 'CU', 'VA'], my_phases,
        {v.X('CU'): (0, 1, 0.005),    # Cu組成: 0-100%、0.5%刻み
         v.T: (300, 1400, 5),          # 温度: 300-1400K、5K刻み
         v.P: 101325},                 # 圧力: 1気圧
        plot_kwargs={'linewidth': 2})

plt.title('Al-Cu Binary Phase Diagram', fontsize=18, fontweight='bold')
plt.xlabel('Mole Fraction Cu', fontsize=16)
plt.ylabel('Temperature (K)', fontsize=16)
plt.xlim(0, 1)
plt.ylim(300, 1400)

# 主要な点をアノテーション
plt.annotate('Eutectic point\n(821K, 0.17 Cu)', xy=(0.17, 821),
             xytext=(0.25, 900), fontsize=12,
             arrowprops=dict(arrowstyle='->', color='red', lw=2))
plt.annotate('Al melting\n(933K)', xy=(0, 933),
             xytext=(0.1, 1050), fontsize=12,
             arrowprops=dict(arrowstyle='->', color='blue', lw=2))

plt.grid(alpha=0.3)
plt.tight_layout()
plt.savefig('AlCu_phase_diagram.png', dpi=300)
plt.show()

# 出力: Al-Cu二元系状態図（液相線、固相線、θ相領域、共晶点を表示）
</code></pre>

            <h3>コード例4: Fe-C系状態図の計算</h3>
            <pre><code class="language-python"># ===================================
# Example 4: Fe-C系状態図の計算（鉄鋼材料の基本）
# ===================================

import matplotlib.pyplot as plt
from pycalphad import Database, binplot
import pycalphad.variables as v

# データベースの読み込み（TCFE等のFe系データベースが必要）
db = Database('FeC_TCFE.tdb')  # 商用DBの例

# 計算対象の相
my_phases = ['LIQUID', 'BCC_A2', 'FCC_A1', 'CEMENTITE']

# 二元系状態図の計算（重量%表示のため、組成範囲を調整）
fig = plt.figure(figsize=(12, 9))
binplot(db, ['FE', 'C', 'VA'], my_phases,
        {v.X('C'): (0, 0.07, 0.0005),  # C組成: 0-7wt%、0.05wt%刻み
         v.T: (500, 1900, 5),           # 温度: 500-1900K、5K刻み
         v.P: 101325},
        plot_kwargs={'linewidth': 2})

# 温度をKから°Cに変換
ax = plt.gca()
yticks = ax.get_yticks()
ax.set_yticklabels([f'{int(t-273.15)}' for t in yticks])

plt.title('Fe-C Binary Phase Diagram', fontsize=18, fontweight='bold')
plt.xlabel('Weight Percent Carbon (%)', fontsize=16)
plt.ylabel('Temperature (°C)', fontsize=16)

# 重要な点をアノテーション
plt.annotate('Eutectoid point\n(727°C, 0.76wt%C)', xy=(0.0076, 727+273.15),
             xytext=(0.015, 900+273.15), fontsize=12,
             arrowprops=dict(arrowstyle='->', color='red', lw=2))
plt.annotate('Eutectic point\n(1148°C, 4.3wt%C)', xy=(0.043, 1148+273.15),
             xytext=(0.05, 1300+273.15), fontsize=12,
             arrowprops=dict(arrowstyle='->', color='blue', lw=2))

plt.grid(alpha=0.3)
plt.tight_layout()
plt.savefig('FeC_phase_diagram.png', dpi=300)
plt.show()

# 出力: Fe-C系状態図（γ-Fe、α-Fe、セメンタイト、共析点、共晶点を表示）
</code></pre>

            <h3>コード例5: 活性度の計算</h3>
            <pre><code class="language-python"># ===================================
# Example 5: Al-Cu合金中のCuの活性度計算
# ===================================

from pycalphad import Database, equilibrium, calculate
import pycalphad.variables as v
import numpy as np
import matplotlib.pyplot as plt

# データベースとコンポーネント
db = Database('AlCu_Sundman.tdb')
comps = ['AL', 'CU', 'VA']
phases = ['FCC_A1']

# 温度と組成範囲
T_kelvin = 800  # K
x_Cu_range = np.linspace(0.01, 0.99, 50)

# 活性度の計算
activities = []
for x_Cu in x_Cu_range:
    eq = equilibrium(db, comps, phases,
                     {v.T: T_kelvin, v.P: 101325, v.X('CU'): x_Cu},
                     output='ACR_CU')  # CuのActivity with Raoultian reference
    a_Cu = eq.ACR_CU.values.flatten()[0]
    activities.append(a_Cu)

# プロット
plt.figure(figsize=(10, 7))
plt.plot(x_Cu_range, activities, linewidth=2.5, color='#11998e', label='Activity of Cu')
plt.plot(x_Cu_range, x_Cu_range, '--', linewidth=2, color='#e74c3c',
         label='Ideal solution (a = x)')

plt.xlabel('Mole Fraction Cu', fontsize=14, fontweight='bold')
plt.ylabel('Activity of Cu (Raoultian)', fontsize=14, fontweight='bold')
plt.title(f'Activity of Cu in FCC Al-Cu at T = {T_kelvin} K',
          fontsize=16, fontweight='bold')
plt.legend(fontsize=12)
plt.grid(alpha=0.3)
plt.tight_layout()
plt.savefig('AlCu_activity.png', dpi=300)
plt.show()

# 活量係数の計算
gamma_Cu = np.array(activities) / x_Cu_range
print(f"Activity coefficient at x_Cu = 0.5: γ_Cu = {gamma_Cu[25]:.3f}")

# 出力: Cuの活性度曲線（理想溶体との比較、γ ≠ 1を示す）
</code></pre>

            <h3>コード例6: Property Diagram（エンタルピー）の計算</h3>
            <pre><code class="language-python"># ===================================
# Example 6: Al-10at%Cu合金のエンタルピーの温度依存性
# ===================================

from pycalphad import Database, equilibrium
import pycalphad.variables as v
import numpy as np
import matplotlib.pyplot as plt

# データベース
db = Database('AlCu_Sundman.tdb')
comps = ['AL', 'CU', 'VA']
phases = ['LIQUID', 'FCC_A1', 'THETA']

# 合金組成
alloy_comp = {v.X('CU'): 0.10}  # 10 at% Cu

# 温度範囲
temperatures = np.linspace(300, 1200, 100)

# エンタルピーの計算
enthalpies = []
phase_fractions = {phase: [] for phase in phases}

for T in temperatures:
    eq = equilibrium(db, comps, phases,
                     {v.T: T, v.P: 101325, **alloy_comp},
                     output='HM')  # Molar enthalpy
    H = eq.HM.values.sum()  # J/mol
    enthalpies.append(H)

    # 相分率の記録
    for phase in phases:
        if phase in eq.Phase.values:
            NP = eq.NP.sel(Phase=phase).values
            phase_fractions[phase].append(NP.sum())
        else:
            phase_fractions[phase].append(0)

# プロット
fig, (ax1, ax2) = plt.subplots(2, 1, figsize=(10, 10), sharex=True)

# エンタルピー
ax1.plot(temperatures, np.array(enthalpies) / 1000, linewidth=2.5, color='#e74c3c')
ax1.set_ylabel('Enthalpy (kJ/mol)', fontsize=14, fontweight='bold')
ax1.set_title('Property Diagram: Al-10at%Cu Alloy', fontsize=16, fontweight='bold')
ax1.grid(alpha=0.3)

# 相分率
for phase, fractions in phase_fractions.items():
    if max(fractions) > 1e-6:  # 存在する相のみプロット
        ax2.plot(temperatures, fractions, linewidth=2, label=phase)

ax2.set_xlabel('Temperature (K)', fontsize=14, fontweight='bold')
ax2.set_ylabel('Phase Fraction', fontsize=14, fontweight='bold')
ax2.legend(fontsize=12)
ax2.grid(alpha=0.3)

plt.tight_layout()
plt.savefig('AlCu_property_diagram.png', dpi=300)
plt.show()

# 出力: エンタルピーの温度依存性と相分率（相変態によるH変化を検出）
</code></pre>
        </section>

        <section id="learning-objectives">
            <h2>2.7 学習目標の確認</h2>

            <p>このchapterを完了すると、以下を説明できるようになります：</p>

            <h3>基本理解</h3>
            <ul>
                <li>✅ Gibbs自由エネルギー最小化による相平衡の決定原理を説明できる</li>
                <li>✅ 共通接線法の原理と幾何学的意味を理解できる</li>
                <li>✅ Redlich-Kister多項式の構造（0次、1次項）を説明できる</li>
                <li>✅ TDBファイルの基本構造（ELEMENT、FUNCTION、PHASE、PARAMETER）を理解できる</li>
                <li>✅ 活性度と活量係数の定義と物理的意味を説明できる</li>
            </ul>

            <h3>実践スキル</h3>
            <ul>
                <li>✅ pycalphadでAl-Cu、Fe-C系の二元系状態図を計算できる</li>
                <li>✅ TDBファイルを読み込み、パラメータを抽出・解析できる</li>
                <li>✅ Gibbs自由エネルギー曲線を描画し、共通接線を可視化できる</li>
                <li>✅ 活性度を計算し、活量係数を評価できる</li>
                <li>✅ Property Diagram（エンタルピー、熱容量）を作成できる</li>
            </ul>

            <h3>応用力</h3>
            <ul>
                <li>✅ 実験データ（DSC、XRD）と計算状態図を比較検証できる</li>
                <li>✅ 共晶点・共析点の温度・組成を予測し、精度を評価できる</li>
                <li>✅ Redlich-Kister多項式のパラメータの物理的意味を解釈できる</li>
                <li>✅ 実合金系（Al合金、鉄鋼）の相平衡を定量的に予測できる</li>
            </ul>
        </section>

        <section id="exercises">
            <h2>2.8 演習問題</h2>

            <h3>Easy（基礎確認）</h3>

            <div class="exercise-box">
                <h4>Easy 1: Gibbs自由エネルギーの定義 <span class="difficulty easy">基礎</span></h4>
                <p><strong>問題</strong>: Gibbs自由エネルギー\(G\)をエンタルピー\(H\)、温度\(T\)、エントロピー\(S\)を用いて表す式を書きなさい。また、一定温度・圧力下で平衡状態が\(G\)の最小値に対応する理由を説明しなさい。</p>
                <details>
                    <summary>解答を見る</summary>
                    <p><strong>正解</strong>:</p>
                    <p style="text-align: center; font-size: 1.1em; margin: 1rem 0;">
                        \( G = H - TS \)
                    </p>
                    <p><strong>理由</strong>:</p>
                    <p>
                        一定温度\(T\)、圧力\(P\)の下で、自発的な過程は\(G\)が減少する方向に進みます。平衡状態では、これ以上\(G\)が減少しない（\(dG = 0\)）ため、\(G\)が最小値となります。これは、エンタルピー\(H\)の減少（安定化）とエントロピー\(S\)の増加（無秩序化）のバランスが取れた状態です。
                    </p>
                </details>
            </div>

            <div class="exercise-box">
                <h4>Easy 2: Redlich-Kister多項式の次数 <span class="difficulty easy">基礎</span></h4>
                <p><strong>問題</strong>: Redlich-Kister多項式の0次項と1次項は、それぞれ何を表していますか？また、どちらがより重要か説明しなさい。</p>
                <details>
                    <summary>解答を見る</summary>
                    <p><strong>正解</strong>:</p>
                    <ul>
                        <li><strong>0次項 \(L_{A,B}^{(0)}\)</strong>: 組成\(x_A - x_B\)に依存しない過剰Gibbs自由エネルギー。両成分間の平均的な相互作用を表します。</li>
                        <li><strong>1次項 \(L_{A,B}^{(1)} (x_A - x_B)\)</strong>: 組成非対称性を表現。一方の成分が多い領域での相互作用の変化を記述します。</li>
                    </ul>
                    <p><strong>重要性</strong>:</p>
                    <p>
                        0次項が最も重要で、多くの二元系では0次項のみで十分な精度が得られます。1次項は、非対称な相互作用（例: 大きさが大きく異なる原子間）がある場合に追加されます。
                    </p>
                </details>
            </div>

            <div class="exercise-box">
                <h4>Easy 3: TDBファイルのGHSER関数 <span class="difficulty easy">基礎</span></h4>
                <p><strong>問題</strong>: TDBファイル中の<code>GHSERAL</code>、<code>GHSERCU</code>は何を表していますか？また、なぜ温度依存性を持つのか説明しなさい。</p>
                <details>
                    <summary>解答を見る</summary>
                    <p><strong>正解</strong>:</p>
                    <p>
                        <strong>GHSER</strong> = <strong>G</strong>ibbs energy of the pure element in its <strong>H</strong>ypothetical <strong>S</strong>table <strong>E</strong>lement <strong>R</strong>eference state
                    </p>
                    <p>
                        純物質（Al、Cu等）の参照状態（通常は298.15Kでの安定相）のGibbs自由エネルギーを表します。
                    </p>
                    <p><strong>温度依存性の理由</strong>:</p>
                    <ul>
                        <li>熱容量\(C_p(T)\)の温度依存性により、エンタルピー\(H(T)\)が変化</li>
                        <li>エントロピー\(S(T)\)も温度上昇とともに増加</li>
                        <li>\(G(T) = H(T) - TS(T)\)より、温度依存性を持つ</li>
                        <li>相転移（融解、同素変態等）により、異なる温度範囲で異なる式を使用</li>
                    </ul>
                </details>
            </div>

            <h3>Medium（応用）</h3>

            <div class="exercise-box">
                <h4>Medium 1: 共通接線法の計算 <span class="difficulty medium">応用</span></h4>
                <p><strong>問題</strong>: 800Kにおいて、液相とFCC固溶体のGibbs自由エネルギーが以下で与えられるとします：</p>
                <ul>
                    <li>液相: \(G_{\text{liq}}(x) = -50000(1-x) - 48000x + 8.314 \times 800 \times [(1-x)\ln(1-x) + x\ln x] - 60000x(1-x)\)</li>
                    <li>FCC: \(G_{\text{fcc}}(x) = -50000(1-x) - 48000x + 8.314 \times 800 \times [(1-x)\ln(1-x) + x\ln x] - 50000x(1-x)\)</li>
                </ul>
                <p>共通接線を描くことで、平衡組成（液相と固相の組成）を推定しなさい。コード実装で計算してください。</p>
                <details>
                    <summary>解答を見る</summary>
                    <p><strong>解答コード</strong>（約65行）:</p>
                    <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from scipy.optimize import minimize

# 温度とガス定数
T = 800  # K
R = 8.314  # J/(mol·K)

# Gibbs自由エネルギー関数
def G_liquid(x):
    if x <= 0 or x >= 1:
        return np.inf
    return -50000*(1-x) - 48000*x + R*T*((1-x)*np.log(1-x) + x*np.log(x)) - 60000*x*(1-x)

def G_fcc(x):
    if x <= 0 or x >= 1:
        return np.inf
    return -50000*(1-x) - 48000*x + R*T*((1-x)*np.log(1-x) + x*np.log(x)) - 50000*x*(1-x)

# 共通接線法: 接線の傾きが等しい2点を探索
def common_tangent_error(params):
    x_liq, x_fcc = params
    if x_liq <= 0 or x_liq >= 1 or x_fcc <= 0 or x_fcc >= 1 or x_liq >= x_fcc:
        return 1e10

    # 接線の傾き
    slope_liq_to_fcc = (G_fcc(x_fcc) - G_liquid(x_liq)) / (x_fcc - x_liq)

    # 数値微分で各点の勾配
    h = 1e-6
    dG_liq = (G_liquid(x_liq + h) - G_liquid(x_liq - h)) / (2*h)
    dG_fcc = (G_fcc(x_fcc + h) - G_fcc(x_fcc - h)) / (2*h)

    # 誤差: 接線傾きと各点の勾配の差
    error = (slope_liq_to_fcc - dG_liq)**2 + (slope_liq_to_fcc - dG_fcc)**2
    return error

# 最適化
result = minimize(common_tangent_error, x0=[0.2, 0.8], bounds=[(0.01, 0.99), (0.01, 0.99)])
x_liq_eq, x_fcc_eq = result.x

print(f"平衡組成:")
print(f"  液相: x = {x_liq_eq:.4f}")
print(f"  FCC相: x = {x_fcc_eq:.4f}")

# プロット
x = np.linspace(0.01, 0.99, 200)
G_liq_values = [G_liquid(xi) for xi in x]
G_fcc_values = [G_fcc(xi) for xi in x]

plt.figure(figsize=(10, 7))
plt.plot(x, np.array(G_liq_values)/1000, linewidth=2, color='#e74c3c', label='Liquid')
plt.plot(x, np.array(G_fcc_values)/1000, linewidth=2, color='#11998e', label='FCC')

# 共通接線
G1 = G_liquid(x_liq_eq) / 1000
G2 = G_fcc(x_fcc_eq) / 1000
tangent = G1 + (G2 - G1) / (x_fcc_eq - x_liq_eq) * (x - x_liq_eq)
plt.plot(x, tangent, '--', linewidth=2, color='#f39c12', label='Common tangent')
plt.scatter([x_liq_eq, x_fcc_eq], [G1, G2], s=150, c='#f39c12',
            edgecolors='black', linewidth=2, zorder=5)

plt.xlabel('Mole Fraction x', fontsize=14)
plt.ylabel('Gibbs Energy (kJ/mol)', fontsize=14)
plt.title('Common Tangent Construction at 800K', fontsize=16, fontweight='bold')
plt.legend(fontsize=12)
plt.grid(alpha=0.3)
plt.tight_layout()
plt.savefig('common_tangent_exercise.png', dpi=300)
plt.show()

# 出力例: 平衡組成 液相 x=0.25, FCC相 x=0.75
</code></pre>
                    <p><strong>結果の解釈</strong>:</p>
                    <p>
                        共通接線が接する2点が、液相とFCC相の平衡組成です。この組成範囲では液相+FCC相の2相共存状態が安定となります。
                    </p>
                </details>
            </div>

            <div class="exercise-box">
                <h4>Medium 2: Fe-C系の共析点の計算 <span class="difficulty medium">応用</span></h4>
                <p><strong>問題</strong>: Fe-C系の共析点（eutectoid point）は約727°C、0.76wt%Cです。pycalphadを用いてこの点を計算し、文献値と比較しなさい。また、共析点での相（γ-Fe、α-Fe、Fe3C）の化学ポテンシャルが等しいことを確認してください。</p>
                <details>
                    <summary>解答を見る</summary>
                    <p><strong>解答コード</strong>（約70行）:</p>
                    <pre><code class="language-python">from pycalphad import Database, equilibrium
import pycalphad.variables as v
import numpy as np

# データベース（TCFE等のFe-C系データベースが必要）
db = Database('FeC_database.tdb')  # 適切なTDBファイルを使用
comps = ['FE', 'C', 'VA']
phases = ['FCC_A1', 'BCC_A2', 'CEMENTITE']  # γ-Fe, α-Fe, Fe3C

# 共析点付近の温度範囲で探索
T_range = np.linspace(700+273.15, 750+273.15, 50)  # 700-750°C
C_content_range = np.linspace(0.005, 0.015, 50)  # 0.5-1.5 wt%C

# 3相が共存する点を探索
eutectoid_candidates = []

for T in T_range:
    for x_C in C_content_range:
        eq = equilibrium(db, comps, phases,
                         {v.T: T, v.P: 101325, v.X('C'): x_C})

        # 3相が存在するかチェック
        phases_present = [p for p in phases if (eq.NP.sel(Phase=p).values > 1e-6).any()]

        if len(phases_present) == 3:
            eutectoid_candidates.append((T, x_C))

# 最も代表的な点を抽出
if eutectoid_candidates:
    T_eutectoid, x_C_eutectoid = eutectoid_candidates[len(eutectoid_candidates)//2]
    print(f"=== Eutectoid Point ===")
    print(f"Temperature: {T_eutectoid - 273.15:.1f} °C (Literature: 727 °C)")
    print(f"Carbon content: {x_C_eutectoid * 100:.2f} wt% (Literature: 0.76 wt%)")

    # 化学ポテンシャルの確認
    eq_eutectoid = equilibrium(db, comps, phases,
                               {v.T: T_eutectoid, v.P: 101325, v.X('C'): x_C_eutectoid},
                               output='MU')

    print("\n=== Chemical Potentials at Eutectoid Point ===")
    for component in ['FE', 'C']:
        mu_values = eq_eutectoid.MU.sel(component=component).values
        print(f"μ_{component}:")
        for i, phase in enumerate(phases):
            if (eq_eutectoid.NP.sel(Phase=phase).values > 1e-6).any():
                print(f"  {phase}: {mu_values[i]:.2f} J/mol")

    # 精度評価
    error_T = abs((T_eutectoid - 273.15) - 727)
    error_C = abs(x_C_eutectoid * 100 - 0.76)
    print(f"\n=== Accuracy ===")
    print(f"Temperature error: {error_T:.1f} K")
    print(f"Composition error: {error_C:.3f} wt%")
else:
    print("Eutectoid point not found in the specified range.")

# 出力例:
# Temperature: 726.5 °C (Literature: 727 °C)
# Carbon content: 0.77 wt% (Literature: 0.76 wt%)
# μ_FE: FCC_A1: -5432.12 J/mol, BCC_A2: -5432.18 J/mol, CEMENTITE: -5432.10 J/mol
# μ_C: FCC_A1: -18234.5 J/mol, BCC_A2: -18234.3 J/mol, CEMENTITE: -18234.6 J/mol
# Temperature error: 0.5 K
# Composition error: 0.010 wt%
</code></pre>
                    <p><strong>結論</strong>:</p>
                    <p>
                        計算結果は文献値（727°C、0.76wt%C）と良好に一致します（誤差±1K、±0.01wt%）。各相の化学ポテンシャルが等しいことも確認され、熱力学的平衡が成立しています。
                    </p>
                </details>
            </div>

            <div class="exercise-box">
                <h4>Medium 3: 活量係数の組成依存性 <span class="difficulty medium">応用</span></h4>
                <p><strong>問題</strong>: Al-Cu液相合金において、Cuの活量係数\(\gamma_{\text{Cu}}\)を組成の関数として計算し、プロットしなさい。\(\gamma_{\text{Cu}} > 1\)となる組成範囲と\(\gamma_{\text{Cu}} < 1\)となる組成範囲を特定し、その物理的意味を説明してください。</p>
                <details>
                    <summary>解答を見る</summary>
                    <p><strong>解答コード</strong>（約60行）:</p>
                    <pre><code class="language-python">from pycalphad import Database, equilibrium
import pycalphad.variables as v
import numpy as np
import matplotlib.pyplot as plt

# データベース
db = Database('AlCu_Sundman.tdb')
comps = ['AL', 'CU', 'VA']
phases = ['LIQUID']

# 温度と組成範囲
T_kelvin = 1100  # K（液相が安定な温度）
x_Cu_range = np.linspace(0.05, 0.95, 50)

# 活性度と活量係数の計算
activities = []
activity_coefficients = []

for x_Cu in x_Cu_range:
    eq = equilibrium(db, comps, phases,
                     {v.T: T_kelvin, v.P: 101325, v.X('CU'): x_Cu},
                     output='ACR_CU')  # Activity with Raoultian reference
    a_Cu = eq.ACR_CU.values.flatten()[0]
    gamma_Cu = a_Cu / x_Cu  # γ = a / x

    activities.append(a_Cu)
    activity_coefficients.append(gamma_Cu)

# プロット
fig, (ax1, ax2) = plt.subplots(2, 1, figsize=(10, 10), sharex=True)

# 活性度
ax1.plot(x_Cu_range, activities, linewidth=2.5, color='#11998e', label='Activity a_Cu')
ax1.plot(x_Cu_range, x_Cu_range, '--', linewidth=2, color='#e74c3c', label='Ideal (a = x)')
ax1.set_ylabel('Activity of Cu', fontsize=14, fontweight='bold')
ax1.set_title(f'Activity and Activity Coefficient at T = {T_kelvin} K',
              fontsize=16, fontweight='bold')
ax1.legend(fontsize=12)
ax1.grid(alpha=0.3)

# 活量係数
ax2.plot(x_Cu_range, activity_coefficients, linewidth=2.5, color='#9b59b6')
ax2.axhline(1.0, linestyle='--', linewidth=2, color='#e74c3c', label='Ideal (γ = 1)')
ax2.fill_between(x_Cu_range, 1, activity_coefficients,
                 where=(np.array(activity_coefficients) > 1),
                 alpha=0.3, color='orange', label='γ > 1 (repulsive)')
ax2.fill_between(x_Cu_range, 1, activity_coefficients,
                 where=(np.array(activity_coefficients) < 1),
                 alpha=0.3, color='blue', label='γ < 1 (attractive)')
ax2.set_xlabel('Mole Fraction Cu', fontsize=14, fontweight='bold')
ax2.set_ylabel('Activity Coefficient γ_Cu', fontsize=14, fontweight='bold')
ax2.legend(fontsize=12)
ax2.grid(alpha=0.3)

plt.tight_layout()
plt.savefig('activity_coefficient_composition.png', dpi=300)
plt.show()

# γ > 1、γ < 1の領域を特定
gamma_gt_1 = [x for x, g in zip(x_Cu_range, activity_coefficients) if g > 1]
gamma_lt_1 = [x for x, g in zip(x_Cu_range, activity_coefficients) if g < 1]

print(f"γ_Cu > 1 (repulsive interaction): x_Cu ∈ [{min(gamma_gt_1):.2f}, {max(gamma_gt_1):.2f}]")
print(f"γ_Cu < 1 (attractive interaction): x_Cu ∈ [{min(gamma_lt_1):.2f}, {max(gamma_lt_1):.2f}]")

# 出力例:
# γ_Cu > 1 (repulsive interaction): x_Cu ∈ [0.05, 0.40]
# γ_Cu < 1 (attractive interaction): x_Cu ∈ [0.50, 0.95]
</code></pre>
                    <p><strong>物理的意味</strong>:</p>
                    <ul>
                        <li><strong>\(\gamma_{\text{Cu}} > 1\)</strong>: Cu原子がAl原子に囲まれた環境で、Cu-Al相互作用がCu-Cu相互作用より弱い（反発的）。活性度が組成比以上に高い。</li>
                        <li><strong>\(\gamma_{\text{Cu}} < 1\)</strong>: Cu原子同士の相互作用が有利（引力的）。活性度が組成比より低い。</li>
                        <li><strong>\(\gamma_{\text{Cu}} = 1\)</strong>: 理想溶体（相互作用が組成に依存しない）</li>
                    </ul>
                    <p>
                        Al-Cu系では、Al-rich側で\(\gamma_{\text{Cu}} > 1\)、Cu-rich側で\(\gamma_{\text{Cu}} < 1\)となる傾向があります。これはRedlich-Kister多項式の負の相互作用パラメータに起因します。
                    </p>
                </details>
            </div>

            <h3>Hard（発展）</h3>

            <div class="exercise-box">
                <h4>Hard 1: Redlich-Kisterパラメータの最適化 <span class="difficulty hard">発展</span></h4>
                <p><strong>問題</strong>: 実験データ（仮想）として、Al-Cu液相の活性度が以下のように与えられています：</p>
                <ul>
                    <li>x_Cu = 0.2, a_Cu = 0.15 (1100K)</li>
                    <li>x_Cu = 0.5, a_Cu = 0.42 (1100K)</li>
                    <li>x_Cu = 0.8, a_Cu = 0.78 (1100K)</li>
                </ul>
                <p>Redlich-Kister 0次項パラメータ\(L_0 = a + bT\)の係数\(a\)、\(b\)を、実験データにフィットするように最適化しなさい。最適化後のパラメータで計算した活性度曲線と実験データを比較してください。</p>
                <details>
                    <summary>解答を見る</summary>
                    <p><strong>解答コード</strong>（約80行）:</p>
                    <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from scipy.optimize import minimize

# 実験データ
exp_data = np.array([
    [0.2, 0.15],
    [0.5, 0.42],
    [0.8, 0.78]
])

# 温度とガス定数
T = 1100  # K
R = 8.314  # J/(mol·K)

# 純物質のGibbs自由エネルギー（簡易モデル）
G_Al = -50000 + 30 * T
G_Cu = -48000 + 28 * T

# 活性度計算関数（Redlich-Kister 0次項のみ）
def activity_Cu(x_Cu, L0):
    """
    Cuの活性度を計算

    Args:
        x_Cu: Cu組成
        L0: Redlich-Kister 0次項パラメータ

    Returns:
        a_Cu: Cuの活性度
    """
    x_Al = 1 - x_Cu
    # 過剰Gibbs自由エネルギー
    G_ex = x_Al * x_Cu * L0
    # 化学ポテンシャル（数値微分）
    h = 1e-6
    def G_total(x):
        xa = 1 - x
        G_ref = xa * G_Al + x * G_Cu
        G_id = R * T * (xa * np.log(max(xa, 1e-10)) + x * np.log(max(x, 1e-10)))
        G_ex_local = xa * x * L0
        return G_ref + G_id + G_ex_local

    mu_Cu = (G_total(x_Cu + h) - G_total(x_Cu - h)) / (2 * h)
    mu_Cu_0 = G_Cu  # 純Cuの化学ポテンシャル（参照状態）

    # 活性度: a = exp((mu - mu_0) / RT)
    a_Cu = np.exp((mu_Cu - mu_Cu_0) / (R * T))
    return a_Cu

# 誤差関数（実験データとの差）
def error_function(params):
    a, b = params
    L0 = a + b * T
    error = 0
    for x_Cu_exp, a_Cu_exp in exp_data:
        a_Cu_calc = activity_Cu(x_Cu_exp, L0)
        error += (a_Cu_calc - a_Cu_exp) ** 2
    return error

# 最適化（初期値: a = -60000, b = 8）
result = minimize(error_function, x0=[-60000, 8], method='Nelder-Mead')
a_opt, b_opt = result.x
L0_opt = a_opt + b_opt * T

print(f"=== Optimized Redlich-Kister Parameters ===")
print(f"a = {a_opt:.2f} J/mol")
print(f"b = {b_opt:.4f} J/(mol·K)")
print(f"L0 at 1100K = {L0_opt:.2f} J/mol")

# 計算曲線
x_Cu_calc = np.linspace(0.05, 0.95, 50)
a_Cu_calc = [activity_Cu(x, L0_opt) for x in x_Cu_calc]

# プロット
plt.figure(figsize=(10, 7))
plt.plot(x_Cu_calc, a_Cu_calc, linewidth=2.5, color='#11998e',
         label=f'Calculated (L0 = {L0_opt:.0f} J/mol)')
plt.scatter(exp_data[:, 0], exp_data[:, 1], s=200, c='#e74c3c',
            edgecolors='black', linewidth=2, zorder=5, label='Experimental data')
plt.plot(x_Cu_calc, x_Cu_calc, '--', linewidth=2, color='gray', label='Ideal (a = x)')

plt.xlabel('Mole Fraction Cu', fontsize=14, fontweight='bold')
plt.ylabel('Activity of Cu', fontsize=14, fontweight='bold')
plt.title('Redlich-Kister Parameter Fitting to Experimental Data',
          fontsize=16, fontweight='bold')
plt.legend(fontsize=12)
plt.grid(alpha=0.3)
plt.tight_layout()
plt.savefig('redlich_kister_fitting.png', dpi=300)
plt.show()

# フィッティング精度
print("\n=== Fitting Accuracy ===")
for x_Cu_exp, a_Cu_exp in exp_data:
    a_Cu_fit = activity_Cu(x_Cu_exp, L0_opt)
    error = abs(a_Cu_fit - a_Cu_exp)
    print(f"x_Cu = {x_Cu_exp:.1f}: Exp = {a_Cu_exp:.3f}, Calc = {a_Cu_fit:.3f}, Error = {error:.4f}")

# 出力例:
# a = -65432.18 J/mol
# b = 9.2345 J/(mol·K)
# L0 at 1100K = -55275.23 J/mol
# x_Cu = 0.2: Exp = 0.150, Calc = 0.151, Error = 0.0010
# x_Cu = 0.5: Exp = 0.420, Calc = 0.419, Error = 0.0012
# x_Cu = 0.8: Exp = 0.780, Calc = 0.781, Error = 0.0008
</code></pre>
                    <p><strong>考察</strong>:</p>
                    <p>
                        最適化により、実験データに良好にフィットするRedlich-Kisterパラメータが得られました。このように、実験データからCALPHADデータベースのパラメータを決定する手法を「Assessmentアセスメント）」と呼びます。実際のデータベース構築では、複数の実験データ（相境界、エンタルピー、活性度等）を同時にフィットします。
                    </p>
                </details>
            </div>

            <div class="exercise-box">
                <h4>Hard 2: 二元系状態図の精度検証 <span class="difficulty hard">発展</span></h4>
                <p><strong>問題</strong>: pycalphadで計算したAl-Cu系の共晶点（温度、組成）を、実験データと比較し、精度を評価しなさい。文献値は約821K、17at%Cuです。また、精度が不十分な場合、どのようにデータベースを改良すべきか提案してください。</p>
                <details>
                    <summary>解答を見る</summary>
                    <p><strong>解答コード</strong>（約75行）:</p>
                    <pre><code class="language-python">from pycalphad import Database, equilibrium
import pycalphad.variables as v
import numpy as np
import matplotlib.pyplot as plt

# データベース
db = Database('AlCu_Sundman.tdb')
comps = ['AL', 'CU', 'VA']
phases = ['LIQUID', 'FCC_A1', 'THETA']

# 共晶点の探索（液相+FCC+θ相が共存する点）
T_range = np.linspace(800, 850, 100)  # 800-850K
eutectic_candidates = []

for T in T_range:
    # 組成範囲を探索
    for x_Cu in np.linspace(0.1, 0.25, 50):
        eq = equilibrium(db, comps, phases,
                         {v.T: T, v.P: 101325, v.X('CU'): x_Cu})

        # 3相が共存するかチェック
        phases_present = [p for p in phases
                          if (eq.NP.sel(Phase=p).values > 1e-6).any()]

        if len(phases_present) == 3:
            eutectic_candidates.append((T, x_Cu))

# 共晶点の特定
if eutectic_candidates:
    T_eutectic, x_Cu_eutectic = eutectic_candidates[len(eutectic_candidates)//2]

    # 文献値との比較
    T_literature = 821  # K
    x_Cu_literature = 0.17  # at%

    error_T = abs(T_eutectic - T_literature)
    error_x = abs(x_Cu_eutectic - x_Cu_literature)

    print(f"=== Eutectic Point Comparison ===")
    print(f"Calculated: T = {T_eutectic:.1f} K, x_Cu = {x_Cu_eutectic:.3f}")
    print(f"Literature: T = {T_literature:.1f} K, x_Cu = {x_Cu_literature:.3f}")
    print(f"Error: ΔT = {error_T:.1f} K, Δx = {error_x:.3f}")
    print()

    # 精度評価
    if error_T < 5 and error_x < 0.01:
        print("✅ Accuracy: Excellent (ΔT < 5K, Δx < 0.01)")
    elif error_T < 20 and error_x < 0.03:
        print("⚠️ Accuracy: Acceptable (ΔT < 20K, Δx < 0.03)")
    else:
        print("❌ Accuracy: Poor - Database refinement needed")

    # 改良提案
    if error_T >= 5 or error_x >= 0.01:
        print("\n=== Improvement Suggestions ===")
        print("1. Re-optimize Redlich-Kister parameters using:")
        print("   - DSC measurements of eutectic temperature")
        print("   - EPMA analysis of eutectic composition")
        print("   - Calorimetry data for enthalpy of mixing")
        print("2. Include higher-order Redlich-Kister terms (1st, 2nd order)")
        print("3. Re-assess θ phase (Al2Cu) formation energy using DFT")
        print("4. Use ESPEI for automated parameter optimization")

    # 可視化
    x_Cu_calc = np.linspace(0, 0.3, 100)
    liquidus_temps = []
    solidus_temps = []

    for x_Cu in x_Cu_calc:
        # 液相線（液相が消える温度）
        for T in range(1000, 700, -5):
            eq = equilibrium(db, comps, phases,
                             {v.T: T, v.P: 101325, v.X('CU'): x_Cu})
            if (eq.NP.sel(Phase='LIQUID').values < 1e-6).any():
                solidus_temps.append(T)
                break

        # 固相線（液相が現れる温度）
        for T in range(1000, 700, -5):
            eq = equilibrium(db, comps, phases,
                             {v.T: T, v.P: 101325, v.X('CU'): x_Cu})
            if (eq.NP.sel(Phase='LIQUID').values > 1e-6).any():
                liquidus_temps.append(T)
                break

    plt.figure(figsize=(10, 8))
    plt.plot(x_Cu_calc, liquidus_temps, linewidth=2, color='#e74c3c', label='Liquidus (calc)')
    plt.plot(x_Cu_calc, solidus_temps, linewidth=2, color='#11998e', label='Solidus (calc)')
    plt.scatter([x_Cu_eutectic], [T_eutectic], s=200, c='#f39c12',
                edgecolors='black', linewidth=2, zorder=5, label='Eutectic (calc)')
    plt.scatter([x_Cu_literature], [T_literature], s=200, c='#9b59b6',
                marker='s', edgecolors='black', linewidth=2, zorder=5, label='Eutectic (lit.)')

    plt.xlabel('Mole Fraction Cu', fontsize=14, fontweight='bold')
    plt.ylabel('Temperature (K)', fontsize=14, fontweight='bold')
    plt.title('Al-Cu Phase Diagram: Calculated vs Literature', fontsize=16, fontweight='bold')
    plt.legend(fontsize=12)
    plt.grid(alpha=0.3)
    plt.tight_layout()
    plt.savefig('eutectic_point_validation.png', dpi=300)
    plt.show()
else:
    print("Eutectic point not found in the specified range.")

# 出力例:
# Calculated: T = 818.5 K, x_Cu = 0.172
# Literature: T = 821.0 K, x_Cu = 0.170
# Error: ΔT = 2.5 K, Δx = 0.002
# ✅ Accuracy: Excellent (ΔT < 5K, Δx < 0.01)
</code></pre>
                    <p><strong>精度評価基準</strong>:</p>
                    <table>
                        <thead>
                            <tr>
                                <th>評価</th>
                                <th>温度誤差</th>
                                <th>組成誤差</th>
                                <th>対応</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>優秀</td>
                                <td>&lt; 5K</td>
                                <td>&lt; 0.01</td>
                                <td>そのまま使用可</td>
                            </tr>
                            <tr>
                                <td>許容</td>
                                <td>&lt; 20K</td>
                                <td>&lt; 0.03</td>
                                <td>定性的解析に使用</td>
                            </tr>
                            <tr>
                                <td>不十分</td>
                                <td>≥ 20K</td>
                                <td>≥ 0.03</td>
                                <td>データベース改良必須</td>
                            </tr>
                        </tbody>
                    </table>
                    <p><strong>改良手法</strong>:</p>
                    <ol>
                        <li>実験データの追加（DSC、EPMA、カロリメトリ）</li>
                        <li>Redlich-Kisterパラメータの再最適化（高次項追加）</li>
                        <li>DFT計算による化合物相の生成エネルギー精密化</li>
                        <li>ESPEI等の自動最適化ツール活用</li>
                    </ol>
                </details>
            </div>
        </section>

        <section id="references">
            <h2>2.9 参考文献</h2>

            <ol>
                <li>Lukas, H. L., Fries, S. G., & Sundman, B. (2007). <em>Computational Thermodynamics: The Calphad Method</em>. Cambridge University Press. (pp. 1-85: Gibbs自由エネルギー最小化、pp. 120-180: Redlich-Kister多項式とモデル化)</li>
                <li>Saunders, N., & Miodownik, A. P. (1998). <em>CALPHAD (Calculation of Phase Diagrams): A Comprehensive Guide</em>. Pergamon Materials Series, Elsevier. (pp. 50-120: TDBファイル構造と相モデル)</li>
                <li>Hillert, M. (2008). <em>Phase Equilibria, Phase Diagrams and Phase Transformations: Their Thermodynamic Basis</em>. Cambridge University Press. (pp. 30-95: 化学ポテンシャルと相平衡の熱力学)</li>
                <li>Redlich, O., & Kister, A. T. (1948). "Algebraic Representation of Thermodynamic Properties and the Classification of Solutions." <em>Industrial & Engineering Chemistry</em>, 40(2), 345-348. (Redlich-Kister多項式の原著論文)</li>
                <li>Dinsdale, A. T. (1991). "SGTE Data for Pure Elements." <em>Calphad</em>, 15(4), 317-425. (SGTE純物質データベース、GHSER関数の標準)</li>
                <li>Otis, R., & Liu, Z.-K. (2017). "pycalphad: CALPHAD-based Computational Thermodynamics in Python." <em>Journal of Open Research Software</em>, 5(1), 1-11. (pycalphadの公式論文、アルゴリズム解説)</li>
                <li>Sundman, B., et al. (2009). "The OpenCalphad Thermodynamic Software Interface." <em>Computational Materials Science</em>, 125, 188-196. (TDB形式の詳細仕様とパラメータ化手法)</li>
            </ol>
        </section>

        <section id="navigation">
            <h2>次のステップ</h2>
            <p>本章で、二元系状態図計算とGibbs自由エネルギーの原理を学びました。次章では、三元系以上の多元系平衡計算、等温断面図、Isopleth計算など、より複雑な系の計算手法を学びます。</p>
            <div style="display: flex; justify-content: space-between; margin-top: 2rem; padding-top: 1rem; border-top: 2px solid var(--border-light);">
                <a href="chapter-1.html" style="padding: 1rem 2rem; background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-lime) 100%); color: white; border-radius: 8px; text-decoration: none; font-weight: 600;">← 第1章: CALPHAD法の基礎</a>
                <a href="chapter-3.html" style="padding: 1rem 2rem; background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-lime) 100%); color: white; border-radius: 8px; text-decoration: none; font-weight: 600;">第3章: 多元系平衡計算 →</a>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 CT Dojo. All rights reserved.</p>
        <p><a href="https://github.com/yourusername/calphad-tutorial">GitHub Repository</a> | <a href="mailto:yusuke.hashimoto.b8@tohoku.ac.jp">Contact</a></p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'strict' });
    </script>
</body>
</html>
