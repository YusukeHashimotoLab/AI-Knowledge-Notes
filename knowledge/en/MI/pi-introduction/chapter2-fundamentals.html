<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 2: Fundamentals of PI - Concepts, Methods, Ecosystem - AI Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #7b2cbf;
            --color-accent-light: #9d4edd;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #3182ce;
            --color-link-hover: #2c5aa0;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .mermaid {
            text-align: center;
            margin: var(--spacing-lg) 0;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        details {
            background-color: var(--color-bg-alt);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            color: var(--color-primary);
            user-select: none;
            padding: var(--spacing-xs);
            margin: calc(-1 * var(--spacing-md));
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        summary:hover {
            background-color: rgba(123, 44, 191, 0.1);
        }

        details[open] summary {
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-border);
        }

        .learning-objectives {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--color-accent);
            margin-bottom: var(--spacing-xl);
        }

        .learning-objectives h2 {
            margin-top: 0;
            border-bottom: none;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }
        .disclaimer {
            max-width: 900px;
            margin: 2rem auto;
            padding: 1.5rem;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 4px;
        }

        .disclaimer h3 {
            color: #495057;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .disclaimer ul {
            list-style: none;
            padding-left: 0;
        }

        .disclaimer li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
            font-size: 0.9rem;
            color: #6c757d;
            line-height: 1.6;
        }

        .disclaimer li::before {
            content: "‚ö†Ô∏è";
            position: absolute;
            left: 0;
        }


        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }



        /* Breadcrumb styles */
        .breadcrumb {
            background: #f7fafc;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.9rem;
        }

        .breadcrumb-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumb a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .breadcrumb-separator {
            color: #a0aec0;
            margin: 0 0.25rem;
        }

        .breadcrumb-current {
            color: #4a5568;
            font-weight: 500;
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'strict' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\(', '\)']],
                displayMath: [['$$', '$$'], ['\[', '\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</head>
<body>
            <nav class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="../../index.html">AI Terakoya Home</a><span class="breadcrumb-separator">‚Ä∫</span><a href="../../MI/index.html">Materials Informatics</a><span class="breadcrumb-separator">‚Ä∫</span><a href="../../MI/pi-introduction/index.html">PI</a><span class="breadcrumb-separator">‚Ä∫</span><span class="breadcrumb-current">Chapter 2</span>
        </div>
    </nav>

        <header>
        <div class="header-content">
            <h1>Chapter 2: Fundamentals of PI - Concepts, Methods, Ecosystem</h1>
            <p class="subtitle">Theory and Practice of Data-Driven Process Development</p>
            <div class="meta">
                <span class="meta-item">üìñ Reading time: 20-25 minutes</span>
                <span class="meta-item">üìä Difficulty: Beginner to Intermediate</span>
                <span class="meta-item">üíª Code examples: 0</span>
                <span class="meta-item">üìù Exercises: 0</span>
            </div>
        </div>
    </header>

    <main class="container">
<h1>Chapter 2: Fundamentals of PI - Concepts, Methods, Ecosystem</h1>
<p class="chapter-description" style="margin: 1.5rem 0; padding: 1rem; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-left: 4px solid #7b2cbf; border-radius: 8px; font-size: 1.05rem; line-height: 1.8; color: #2d3748;">This chapter organizes the characteristics of time-series-centered data such as temperature, pressure, and flow rate, and covers the fundamentals of preprocessing and feature engineering. We also overview anomaly detection and handling of seasonality.</p>
<p class="chapter-supplement" style="margin: 0.75rem 0 1.5rem 0; padding: 0.75rem 1rem; background: linear-gradient(135deg, #fff8e1 0%, #fff3cd 100%); border-left: 3px solid #f59e0b; border-radius: 6px; font-size: 0.95rem; line-height: 1.7; color: #4a5568;"><strong>üí° Note:</strong> Deciding how to handle missing values and outliers early stabilizes downstream processes. Lag features and moving averages are basic strategies to try first.</p>




<h2>Learning Objectives</h2>
<p>By reading this chapter, you will be able to:
- Explain the definition of PI and its differences from related fields (Quality Engineering, Design of Experiments, etc.)
- Understand the main data types in chemical processes (time series, batch, quality data)
- Explain in detail the 5-step basic workflow of PI (from problem formulation to implementation)
- Understand the types and importance of process descriptors (physicochemical parameters, equipment characteristics)
- Use correctly 20 frequently occurring specialized terms in the PI domain</p>
<hr />
<h2>2.1 What is PI: Definition and Related Fields</h2>
<h3>2.1.1 Etymology and History of Process Informatics</h3>
<p>The term <strong>Process Informatics (PI)</strong> began to be used from the early 2000s. It attracted particular attention in the context of <strong>Industry 4.0</strong> (the Fourth Industrial Revolution, proposed in Germany in 2011)[1].</p>
<p><strong>Four pillars of Industry 4.0:</strong>
1. <strong>IoT (Internet of Things)</strong>: Data collection through sensor networks
2. <strong>Big Data</strong>: Accumulation and management of large volumes of data
3. <strong>AI/Machine Learning</strong>: Knowledge extraction and prediction from data
4. <strong>Cyber-Physical Systems</strong>: Integration of digital space and physical world</p>
<p>PI can be said to be the <strong>application of these technologies to the chemical process industry</strong>.</p>
<h3>2.1.2 Definition</h3>
<p><strong>Process Informatics (PI)</strong> is an academic field that combines chemical process engineering with data science. It is a methodology that uses large amounts of process data and information science technologies such as machine learning to achieve process optimization, quality control, anomaly detection, and predictive maintenance.</p>
<p><strong>Concise definition:</strong></p>
<blockquote>
<p>"The science of optimizing and smartening chemical processes through the power of data and AI"</p>
</blockquote>
<p><strong>Core elements:</strong>
1. <strong>Data</strong>: Process data, quality data, operational data
2. <strong>Modeling</strong>: Machine learning, statistical models, physical models
3. <strong>Optimization</strong>: Bayesian optimization, multi-objective optimization, evolutionary computation
4. <strong>Implementation</strong>: Process control, real-time monitoring</p>
<h3>2.1.3 Comparison with Related Fields</h3>
<p>PI is related to multiple fields, but each has a different focus.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Subject</th>
<th>Main Methods</th>
<th>Objective</th>
<th>Relationship to PI</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Quality Engineering<br>(QE)</strong></td>
<td>Product quality stabilization</td>
<td>Taguchi method, SN ratio, robust design</td>
<td>Minimization of variability</td>
<td>PI enhances QE data analysis</td>
</tr>
<tr>
<td><strong>Design of Experiments<br>(DoE)</strong></td>
<td>Efficient experiment design</td>
<td>Orthogonal arrays, response surface methodology</td>
<td>Optimization with fewer experiments</td>
<td>PI combines DoE with machine learning</td>
</tr>
<tr>
<td><strong>Statistical Process Control<br>(SPC)</strong></td>
<td>Process stability monitoring</td>
<td>Control charts, Cp/Cpk</td>
<td>Early detection of anomalies</td>
<td>PI adds predictive capability to SPC</td>
</tr>
<tr>
<td><strong>Process Control</strong></td>
<td>Automatic process control</td>
<td>PID control, MPC</td>
<td>Tracking to target values</td>
<td>PI optimizes control parameters</td>
</tr>
<tr>
<td><strong>Process Informatics<br>(PI)</strong></td>
<td>Overall process optimization</td>
<td>Machine learning, optimization, real-time analysis</td>
<td>Simultaneous optimization of yield, quality, cost, environment</td>
<td>-</td>
</tr>
</tbody>
</table>
<p><strong>Uniqueness of PI:</strong>
- <strong>Integrated approach</strong>: Integrates quality, control, and optimization
- <strong>Data-driven</strong>: Learning from large amounts of measured data
- <strong>Real-time capability</strong>: Online analysis and feedback control
- <strong>Multi-objective optimization</strong>: Simultaneously considers yield, quality, cost, and environment</p>
<h3>2.1.4 Traditional Process Development vs PI</h3>
<div class="mermaid">
flowchart LR
    subgraph "Traditional Process Development"
        A1[Empirical rules] --> A2[Design of Experiments]
        A2 --> A3[Few experiments]
        A3 --> A4[Result analysis]
        A4 --> A5[Manual optimization]
    end

    subgraph "PI Approach"
        B1[Historical data] --> B2[Machine learning]
        B2 --> B3[Massive predictions]
        B3 --> B4[Bayesian optimization]
        B4 --> B5[Automatic feedback]
        B5 - Continuous learning .-> B2
    end

    A1 -.Comparison.- B1
</div>

<hr />
<h2>2.2 PI Glossary: 20 Essential Terms</h2>
<p>Frequently encountered specialized terms in learning PI, organized by category.</p>
<h3>Basic Terms (1-7)</h3>
<table>
<thead>
<tr>
<th>Term (English)</th>
<th>Abbreviation</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1. Process Variable</strong></td>
<td>PV</td>
<td>A measurable quantity representing the state of a process. Temperature, pressure, flow rate, pH, concentration, etc. Subject to control.</td>
</tr>
<tr>
<td><strong>2. Descriptor</strong></td>
<td>-</td>
<td>Numerical representation of process characteristics. Used as input to machine learning models. Examples: reaction temperature, catalyst amount, residence time.</td>
</tr>
<tr>
<td><strong>3. Objective Function</strong></td>
<td>-</td>
<td>Mathematical expression of optimization goals. Examples: maximizing yield, minimizing cost. Multi-objective optimization considers multiple objective functions simultaneously.</td>
</tr>
<tr>
<td><strong>4. Constraints</strong></td>
<td>-</td>
<td>Conditions that must be satisfied in optimization. Examples: temperature upper limit 200¬∞C, pressure lower limit 1 atm, quality specification ‚â•99%.</td>
</tr>
<tr>
<td><strong>5. Batch Process</strong></td>
<td>-</td>
<td>Process where raw materials are charged at once, and products are removed after reaction/processing. Common in pharmaceuticals, fine chemicals.</td>
</tr>
<tr>
<td><strong>6. Continuous Process</strong></td>
<td>-</td>
<td>Process where raw materials are continuously supplied and products continuously removed. Suitable for petrochemicals, mass production.</td>
</tr>
<tr>
<td><strong>7. Scale-up</strong></td>
<td>-</td>
<td>Process expansion from laboratory to commercial plant scale. Reactor size can increase by 1,000 times or more.</td>
</tr>
</tbody>
</table>
<h3>Methodology Terms (8-14)</h3>
<table>
<thead>
<tr>
<th>Term (English)</th>
<th>Abbreviation</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>8. Bayesian Optimization</strong></td>
<td>-</td>
<td>Method to search for optimal conditions while minimizing the number of experiments. Uses Gaussian processes to determine the next experimental candidate.</td>
</tr>
<tr>
<td><strong>9. Multi-objective Optimization</strong></td>
<td>-</td>
<td>Method to simultaneously optimize multiple objectives (e.g., yield and purity, cost and quality). Usually in a trade-off relationship.</td>
</tr>
<tr>
<td><strong>10. Response Surface Methodology</strong></td>
<td>RSM</td>
<td>Method to approximate the relationship between input variables and outputs with a surface (polynomial) and search for optimal conditions. Used in combination with Design of Experiments.</td>
</tr>
<tr>
<td><strong>11. Design of Experiments</strong></td>
<td>DoE</td>
<td>Method to design experiment combinations to efficiently obtain information. Orthogonal arrays, Box-Behnken design, etc.</td>
</tr>
<tr>
<td><strong>12. Anomaly Detection</strong></td>
<td>-</td>
<td>Method to automatically detect deviations from normal operation. Utilizes machine learning (One-Class SVM, Isolation Forest, etc.).</td>
</tr>
<tr>
<td><strong>13. Soft Sensor</strong></td>
<td>-</td>
<td>Technology to estimate difficult-to-measure variables from measurable variables. Example: online estimation of quality (alternative to GC measurement).</td>
</tr>
<tr>
<td><strong>14. Model Predictive Control</strong></td>
<td>MPC</td>
<td>Advanced control method that predicts future behavior based on process models while controlling. Effective for multivariable control.</td>
</tr>
</tbody>
</table>
<h3>Application Terms (15-20)</h3>
<table>
<thead>
<tr>
<th>Term (English)</th>
<th>Abbreviation</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>15. Digital Twin</strong></td>
<td>-</td>
<td>Simulation model that reproduces physical processes in digital space. Simulates the process in real-time like a mirror.</td>
</tr>
<tr>
<td><strong>16. Predictive Maintenance</strong></td>
<td>-</td>
<td>Method to predict equipment failures in advance and implement planned maintenance. Minimizes downtime.</td>
</tr>
<tr>
<td><strong>17. Distributed Control System</strong></td>
<td>DCS</td>
<td>System for distributed control of entire plant. Automatically controls temperature, pressure, flow rate, etc.</td>
</tr>
<tr>
<td><strong>18. Supervisory Control and Data Acquisition</strong></td>
<td>SCADA</td>
<td>System for process monitoring and control. Visualizes state for operators.</td>
</tr>
<tr>
<td><strong>19. Pareto Front</strong></td>
<td>-</td>
<td>In multi-objective optimization, the set of solutions where no objective can be improved. Shows optimal compromise points.</td>
</tr>
<tr>
<td><strong>20. Online Analysis</strong></td>
<td>-</td>
<td>Technology to perform compositional analysis in real-time during process operation. Examples: online GC, NIR spectroscopy.</td>
</tr>
</tbody>
</table>
<p><strong>Key points for term learning:</strong>
- Prioritize understanding 1-7 (basic terms)
- Study 8-14 (methodology terms) in detail at intermediate level
- Apply 15-20 (application terms) in practical projects</p>
<hr />
<h2>2.3 Types and Characteristics of Process Data</h2>
<p>In chemical processes, various types of data are generated. Understanding the characteristics of each is important for applying PI methods.</p>
<h3>2.3.1 Time Series Data</h3>
<p><strong>Characteristics:</strong>
- Data measured continuously along the time axis
- Sampling frequency: every 1 second to 1 minute
- Massive data volume (1 sensor √ó 1 day = 86,400 data points)</p>
<p><strong>Typical examples:</strong></p>
<table>
<thead>
<tr>
<th>Measurement item</th>
<th>Sampling frequency</th>
<th>Data volume/day</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reactor temperature</td>
<td>1 second</td>
<td>86,400 points</td>
<td>Real-time control</td>
</tr>
<tr>
<td>Pressure</td>
<td>1 second</td>
<td>86,400 points</td>
<td>Safety monitoring</td>
</tr>
<tr>
<td>Flow rate</td>
<td>5 seconds</td>
<td>17,280 points</td>
<td>Material balance calculation</td>
</tr>
<tr>
<td>pH</td>
<td>10 seconds</td>
<td>8,640 points</td>
<td>Reaction progress monitoring</td>
</tr>
</tbody>
</table>
<p><strong>Analysis methods:</strong>
- <strong>Time series prediction</strong>: ARIMA, Prophet, LSTM (deep learning)
- <strong>Anomaly detection</strong>: Control charts, One-Class SVM
- <strong>Trend analysis</strong>: Moving average, seasonal decomposition</p>
<p><strong>Challenges:</strong>
- High noise (sensor accuracy, external environmental effects)
- Missing values (sensor failures, communication errors)
- Massive data volume (1 plant √ó 1 year = several TB)</p>
<h3>2.3.2 Batch Data</h3>
<p><strong>Characteristics:</strong>
- One data point per batch
- Each batch is an independent production unit
- Conditions differ subtly between batches</p>
<p><strong>Typical example (pharmaceutical batch):</strong></p>
<table>
<thead>
<tr>
<th>Batch ID</th>
<th>Raw material lot</th>
<th>Reaction temp (¬∞C)</th>
<th>Reaction time (h)</th>
<th>Yield (%)</th>
<th>Purity (%)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Batch001</td>
<td>Lot-A</td>
<td>85</td>
<td>4.5</td>
<td>92.3</td>
<td>99.2</td>
</tr>
<tr>
<td>Batch002</td>
<td>Lot-A</td>
<td>87</td>
<td>4.3</td>
<td>91.8</td>
<td>99.1</td>
</tr>
<tr>
<td>Batch003</td>
<td>Lot-B</td>
<td>85</td>
<td>4.6</td>
<td>90.5</td>
<td>99.3</td>
</tr>
</tbody>
</table>
<p><strong>Analysis methods:</strong>
- <strong>Regression analysis</strong>: Linear regression, Random Forest
- <strong>Batch-to-batch variation analysis</strong>: ANOVA, Principal Component Analysis (PCA)
- <strong>Optimization</strong>: Bayesian optimization, response surface methodology</p>
<p><strong>Challenges:</strong>
- Small sample size (tens to hundreds of batches per year)
- Need to capture subtle differences between batches
- Dependence on raw material lots</p>
<h3>2.3.3 Quality Data</h3>
<p><strong>Characteristics:</strong>
- Data representing product quality
- Many offline measurements (GC, HPLC, NMR, etc.)
- Measurement takes time and cost</p>
<p><strong>Typical examples:</strong></p>
<table>
<thead>
<tr>
<th>Measurement item</th>
<th>Measurement method</th>
<th>Frequency</th>
<th>Cost/measurement</th>
<th>Measurement time</th>
</tr>
</thead>
<tbody>
<tr>
<td>Main component content</td>
<td>HPLC</td>
<td>Each batch</td>
<td>5,000 yen</td>
<td>30 minutes</td>
</tr>
<tr>
<td>Impurity profile</td>
<td>GC-MS</td>
<td>Each batch</td>
<td>10,000 yen</td>
<td>1 hour</td>
</tr>
<tr>
<td>Molecular weight distribution</td>
<td>GPC</td>
<td>Each batch</td>
<td>8,000 yen</td>
<td>45 minutes</td>
</tr>
<tr>
<td>Crystal structure</td>
<td>XRD</td>
<td>Sampling (10%)</td>
<td>20,000 yen</td>
<td>2 hours</td>
</tr>
</tbody>
</table>
<p><strong>Analysis methods:</strong>
- <strong>Quality prediction (soft sensor)</strong>: Estimate quality from process variables
- <strong>Quality control</strong>: Control charts, Cp/Cpk
- <strong>Out-of-specification judgment</strong>: Classification models (SVM, logistic regression)</p>
<p><strong>Challenges:</strong>
- Low measurement frequency (not real-time)
- Measurement errors exist
- High cost</p>
<h3>2.3.4 Operational Data</h3>
<p><strong>Characteristics:</strong>
- Data representing plant operation status
- Operator operation history, alarms, event logs</p>
<p><strong>Typical examples:</strong></p>
<pre><code>2025-10-16 09:15:32 | High temperature alarm | Reactor R-101 | Temperature 120¬∞C (limit 115¬∞C)
2025-10-16 09:16:05 | Operator action | Cooling water flow increased | 50 L/min ‚Üí 70 L/min
2025-10-16 09:18:20 | Alarm cleared | Reactor R-101 | Temperature 112¬∞C
</code></pre>
<p><strong>Analysis methods:</strong>
- <strong>Event log analysis</strong>: Extraction of anomaly occurrence patterns
- <strong>Alarm frequency analysis</strong>: Distinguishing true alarms vs false positives
- <strong>Root cause analysis</strong>: Tracking alarm chains</p>
<h3>2.3.5 Data Integration and Preprocessing</h3>
<p>In PI, these different types of data are <strong>integrated</strong> for utilization.</p>
<p><strong>Preprocessing steps:</strong></p>
<ol>
<li><strong>Data cleaning</strong>: Remove outliers and missing values</li>
<li><strong>Time axis unification</strong>: Synchronize data with different sampling frequencies</li>
<li><strong>Normalization</strong>: Scale different data to 0-1 or standardize</li>
<li><strong>Feature engineering</strong>: Derive new variables (e.g., temperature √ó time)</li>
</ol>
<pre><code class="language-python">import pandas as pd
import numpy as np

# Time series data preprocessing example
def preprocess_process_data(df):
    # 1. Outlier removal (3-sigma method)
    df = df[(np.abs(df['temperature'] - df['temperature'].mean())
             &lt;= 3 * df['temperature'].std())]

    # 2. Missing value interpolation (linear interpolation)
    df = df.interpolate(method='linear')

    # 3. Moving average (noise removal)
    df['temperature_smooth'] = df['temperature'].rolling(window=10).mean()

    # 4. Normalization (0-1)
    df['temperature_norm'] = (df['temperature'] - df['temperature'].min()) / \
                             (df['temperature'].max() - df['temperature'].min())

    return df
</code></pre>
<hr />
<h2>2.4 PI Ecosystem: Data Flow</h2>
<p>PI is not a standalone technology but an ecosystem where multiple elements collaborate. The following diagram shows the data flow in PI.</p>
<div class="mermaid">
flowchart TB
    subgraph "Data Collection Layer"
        A[Sensors\nTemperature, Pressure, Flow] --> D[DCS/SCADA]
        B[Online analyzers\nGC, NIR] --> D
        C[Operator input\nBatch information] --> D
    end

    subgraph "Data Management Layer"
        D --> E[Database\nTime-series DB, RDB]
        E --> F[Data cleaning\nOutlier removal, interpolation]
    end

    subgraph "Analysis Layer"
        F --> G[Descriptor generation\nFeature engineering]
        G --> H[Machine learning models\nRegression, classification, prediction]
        H --> I[Optimization engine\nBayesian optimization]
    end

    subgraph "Implementation Layer"
        I --> J[Control system\nProcess control]
        I --> K[Visualization\nDashboard]
        I --> L[Alerts\nAnomaly detection notifications]
    end

    subgraph "Feedback"
        J --> M[Measured data]
        K --> M
        L --> M
        M --> D
    end

    style D fill:#e3f2fd
    style E fill:#fff3e0
    style H fill:#f3e5f5
    style J fill:#e8f5e9
    style M fill:#fce4ec
</div>

<p><strong>How to read the diagram:</strong>
1. <strong>Data Collection Layer</strong>: Collect data from sensors, analyzers, and operators
2. <strong>Data Management Layer</strong>: Store data and perform preprocessing
3. <strong>Analysis Layer</strong>: Build machine learning models and execute optimization
4. <strong>Implementation Layer</strong>: Use prediction results for process control and visualization
5. <strong>Feedback</strong>: Return measured data to the system for continuous improvement</p>
<p><strong>Key points:</strong>
- Data <strong>circulates</strong> (feedback loop)
- Each layer plays a specialized role
- Real-time capability is important (seconds to minutes)</p>
<hr />
<h2>2.5 Basic PI Workflow: Detailed 5 Steps</h2>
<p>Chapter 1 introduced an overview; here we explain in detail the practical <strong>5-step workflow</strong>.</p>
<h3>2.5.1 Overall Picture</h3>
<div class="mermaid">
flowchart LR
    A[Step 0:\nProblem formulation] --> B[Step 1:\nData collection]
    B --> C[Step 2:\nModel building]
    C --> D[Step 3:\nOptimization]
    D --> E[Step 4:\nImplementation & validation]
    E --> F[Continuous improvement]
    F - Feedback .-> B

    style A fill:#ffebee
    style B fill:#e3f2fd
    style C fill:#fff3e0
    style D fill:#f3e5f5
    style E fill:#e8f5e9
    style F fill:#fce4ec
</div>

<h3>2.5.2 Step 0: Problem Formulation</h3>
<p><strong>What to do:</strong>
- Clearly define the problem to be solved
- Specify objective functions and constraints
- Set success criteria (KPI)</p>
<p><strong>Specific example: Yield improvement of chemical reaction process</strong></p>
<p><strong>Bad problem formulation:</strong></p>
<blockquote>
<p>"Want to increase yield"</p>
</blockquote>
<p><strong>Good problem formulation:</strong></p>
<blockquote>
<p>"Maximize the yield of chemical reaction process X under the following conditions:
- <strong>Objective</strong>: Improve yield from current 70% to 80% or more
- <strong>Constraints</strong>:
  - Temperature: 80-120¬∞C (safety range)
  - Pressure: 1-5 atm
  - Reaction time: ‚â§6 hours (maintain productivity)
  - Purity: ‚â•98% (quality specification)
  - Cost: Within current +10%
- <strong>KPI (Success criteria)</strong>:
  - Achieve yield‚â•80% for 10 consecutive batches
  - Batch-to-batch variation ‚â§2%
  - Deadline: Within 6 months"</p>
</blockquote>
<p><strong>Problem formulation checklist:</strong>
- [ ] Is the objective quantitatively defined?
- [ ] Are constraints clear?
- [ ] Are KPIs measurable?
- [ ] Is the deadline realistic?
- [ ] Do stakeholders agree?</p>
<p><strong>Time estimate:</strong> 1-2 weeks (including discussions with stakeholders)</p>
<h3>2.5.3 Step 1: Data Collection</h3>
<p><strong>What to do:</strong>
- Collect past operational data
- Check data quality (missing values, outliers)
- Conduct additional experiments as needed</p>
<p><strong>Data source priorities:</strong></p>
<ol>
<li>
<p><strong>Existing plant data</strong> (most efficient)
   - Export time series data from DCS/SCADA
   - Usually, data from several months to years is accumulated</p>
</li>
<li>
<p><strong>Laboratory data</strong> (supplementary)
   - Bench-scale experimental results
   - Detailed quality analysis data</p>
</li>
<li>
<p><strong>New experiments</strong> (as needed)
   - Add experiments for conditions lacking in existing data</p>
</li>
</ol>
<p><strong>Specific example: Data collection for reaction process</strong></p>
<pre><code class="language-python">import pandas as pd

# Example of data export from DCS
process_data = pd.read_csv('dcs_export.csv', parse_dates=['timestamp'])

print(f"Data period: {process_data['timestamp'].min()} - {process_data['timestamp'].max()}")
print(f"Number of data points: {len(process_data):,}")
print(f"Number of variables: {process_data.shape[1]}")

# Basic statistics
print("\nBasic statistics:")
print(process_data[['temperature', 'pressure', 'flow_rate', 'yield']].describe())

# Check missing values
print("\nMissing values:")
print(process_data.isnull().sum())
</code></pre>
<p><strong>Expected output:</strong></p>
<pre><code>Data period: 2023-01-01 - 2024-12-31
Number of data points: 31,536,000
Number of variables: 50

Basic statistics:
       temperature  pressure  flow_rate    yield
count    31536000  31536000   31536000  1200.0
mean         95.3      3.2       45.2    70.3
std           8.7      0.8       12.3     3.1
...

Missing values:
temperature        120
pressure            85
flow_rate          156
yield                0
</code></pre>
<p><strong>Time estimate:</strong> 1 week (identifying data, export, quality check)</p>
<h3>2.5.4 Step 2: Model Building</h3>
<p><strong>What to do:</strong>
- Train machine learning models using collected data
- Select appropriate descriptors (features)
- Evaluate and optimize model performance</p>
<p><strong>Sub-steps:</strong></p>
<p><strong>2.1 Descriptor design</strong></p>
<p>Convert process variables into formats suitable for machine learning models.</p>
<p><strong>Descriptor examples:</strong></p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Descriptor</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Direct measurement</strong></td>
<td>Temperature, pressure, flow rate</td>
<td>Obtained directly from sensors</td>
</tr>
<tr>
<td><strong>Derived variables</strong></td>
<td>Residence time = reactor volume / flow rate</td>
<td>Obtained by calculation</td>
</tr>
<tr>
<td><strong>Interaction terms</strong></td>
<td>Temperature √ó pressure</td>
<td>Capture nonlinear effects</td>
</tr>
<tr>
<td><strong>Time series features</strong></td>
<td>Moving average of temperature, rate of change</td>
<td>Capture dynamic behavior</td>
</tr>
</tbody>
</table>
<p><strong>2.2 Model selection</strong></p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Application</th>
<th>Advantages</th>
<th>Disadvantages</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Linear regression</strong></td>
<td>When linear relationship expected</td>
<td>Simple, easy to interpret</td>
<td>Cannot capture nonlinear relationships</td>
</tr>
<tr>
<td><strong>Random Forest</strong></td>
<td>Nonlinear, complex relationships</td>
<td>High accuracy, robust to overfitting</td>
<td>Black box</td>
</tr>
<tr>
<td><strong>Gradient Boosting</strong></td>
<td>Pursuit of highest accuracy</td>
<td>Very high accuracy</td>
<td>Requires tuning</td>
</tr>
<tr>
<td><strong>SVR</strong></td>
<td>Small-scale data</td>
<td>High generalization performance</td>
<td>High computational cost</td>
</tr>
</tbody>
</table>
<p><strong>2.3 Model training and evaluation</strong></p>
<pre><code class="language-python">from sklearn.ensemble import RandomForestRegressor
from sklearn.model_selection import train_test_split, cross_val_score
from sklearn.metrics import mean_absolute_error, r2_score

# Data splitting
X = df[['temperature', 'pressure', 'catalyst_conc', 'residence_time']]
y = df['yield']

X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42
)

# Model training
model = RandomForestRegressor(n_estimators=100, random_state=42)
model.fit(X_train, y_train)

# Prediction and evaluation
y_pred = model.predict(X_test)
mae = mean_absolute_error(y_test, y_pred)
r2 = r2_score(y_test, y_pred)

print(f"MAE: {mae:.2f}%")
print(f"R¬≤: {r2:.3f}")

# Cross-validation
cv_scores = cross_val_score(model, X, y, cv=5,
                            scoring='neg_mean_absolute_error')
print(f"CV MAE: {-cv_scores.mean():.2f} ¬± {cv_scores.std():.2f}%")
</code></pre>
<p><strong>Performance guidelines:</strong>
- <strong>R¬≤ > 0.8</strong>: Good
- <strong>R¬≤ > 0.9</strong>: Excellent
- <strong>R¬≤ < 0.7</strong>: Model needs review</p>
<p><strong>Time estimate:</strong> 2 weeks (descriptor design, model training, tuning)</p>
<h3>2.5.5 Step 3: Optimization</h3>
<p><strong>What to do:</strong>
- Search for optimal operating conditions using the trained model
- Apply methods such as Bayesian optimization and multi-objective optimization</p>
<p><strong>Bayesian optimization example:</strong></p>
<pre><code class="language-python">from skopt import gp_minimize
from skopt.space import Real

# Objective function (maximize yield = minimize negative yield)
def objective(params):
    temperature, pressure, catalyst_conc = params
    predicted_yield = model.predict([[temperature, pressure, catalyst_conc, 60]])
    return -predicted_yield[0]  # Convert to minimization problem

# Define search space
space = [
    Real(80, 120, name='temperature'),     # Temperature range
    Real(1, 5, name='pressure'),           # Pressure range
    Real(0.5, 3, name='catalyst_conc'),    # Catalyst concentration range
]

# Execute Bayesian optimization
result = gp_minimize(
    objective,
    space,
    n_calls=20,      # 20 evaluations
    random_state=42
)

print(f"Optimal conditions:")
print(f"  Temperature: {result.x[0]:.1f}¬∞C")
print(f"  Pressure: {result.x[1]:.2f} atm")
print(f"  Catalyst concentration: {result.x[2]:.2f}%")
print(f"  Predicted yield: {-result.fun:.1f}%")
</code></pre>
<p><strong>Multi-objective optimization example (yield vs cost):</strong></p>
<pre><code class="language-python">from pymoo.algorithms.moo.nsga2 import NSGA2
from pymoo.optimize import minimize
from pymoo.core.problem import Problem

class ProcessOptimizationProblem(Problem):
    def __init__(self):
        super().__init__(
            n_var=3,           # 3 variables
            n_obj=2,           # 2 objectives (yield, cost)
            n_constr=0,
            xl=[80, 1, 0.5],   # Lower bounds
            xu=[120, 5, 3]     # Upper bounds
        )

    def _evaluate(self, X, out, *args, **kwargs):
        # Objective 1: Maximize yield (‚Üí minimize negative yield)
        yield_pred = model_yield.predict(X)
        f1 = -yield_pred

        # Objective 2: Minimize cost
        cost = X[:, 0] * 0.1 + X[:, 1] * 5 + X[:, 2] * 20  # Simplified example
        f2 = cost

        out["F"] = np.column_stack([f1, f2])

# Optimize with NSGA-II algorithm
algorithm = NSGA2(pop_size=100)
problem = ProcessOptimizationProblem()

result = minimize(
    problem,
    algorithm,
    ('n_gen', 50),  # 50 generations
    verbose=False
)

print(f"Number of Pareto optimal solutions: {len(result.F)}")
</code></pre>
<p><strong>Time estimate:</strong> 1-2 weeks (selection of optimization method, execution, result analysis)</p>
<h3>2.5.6 Step 4: Implementation & Validation</h3>
<p><strong>What to do:</strong>
- Test conditions obtained from optimization in actual plant
- Analyze deviation between predictions and measurements
- Implement gradually (pilot ‚Üí commercial plant)</p>
<p><strong>Implementation steps:</strong></p>
<ol>
<li>
<p><strong>Pilot testing</strong> (1-2 batches)
   - Confirm safety
   - Verify agreement with predictions</p>
</li>
<li>
<p><strong>Small-scale introduction</strong> (10 batches)
   - Confirm reproducibility
   - Evaluate batch-to-batch variation</p>
</li>
<li>
<p><strong>Full deployment</strong> (continuous operation)
   - Adopt as standard operating conditions
   - Continuous monitoring</p>
</li>
</ol>
<p><strong>Validation checklist:</strong>
- [ ] Meets safety standards?
- [ ] Meets quality specifications?
- [ ] Measured values agree with predicted yield within ¬±5%?
- [ ] Batch-to-batch variation within acceptable range?
- [ ] Can operators run the process?</p>
<p><strong>Time estimate:</strong> 1-2 months (pilot testing, gradual introduction)</p>
<h3>2.5.7 Continuous Improvement</h3>
<p><strong>What to do:</strong>
- Collect data after implementation
- Periodically retrain models
- Explore further optimization opportunities</p>
<p><strong>Continuous improvement cycle:</strong></p>
<pre><code>Initial model (R¬≤ = 0.85)
  ‚Üì Add data from 10 batches
Retrain model (R¬≤ = 0.88)
  ‚Üì Add data from 20 batches
Retrain model (R¬≤ = 0.91)
  ‚Üì Discover new optimization opportunities
</code></pre>
<p><strong>Time estimate:</strong> Continuous (recommend retraining every 3 months)</p>
<hr />
<h2>2.6 Process Descriptors in Detail</h2>
<h3>2.6.1 Types of Descriptors</h3>
<p><strong>1. Physicochemical parameters</strong></p>
<table>
<thead>
<tr>
<th>Descriptor</th>
<th>Unit</th>
<th>Typical range</th>
<th>Importance</th>
</tr>
</thead>
<tbody>
<tr>
<td>Temperature</td>
<td>¬∞C</td>
<td>50-200</td>
<td>Directly affects reaction rate, equilibrium constant</td>
</tr>
<tr>
<td>Pressure</td>
<td>atm</td>
<td>1-10</td>
<td>Gas-phase reaction equilibrium, mass transfer</td>
</tr>
<tr>
<td>pH</td>
<td>-</td>
<td>0-14</td>
<td>Catalyst activity, side reactions</td>
</tr>
<tr>
<td>Concentration</td>
<td>mol/L</td>
<td>0.1-5</td>
<td>Reaction rate, selectivity</td>
</tr>
<tr>
<td>Flow rate</td>
<td>L/h</td>
<td>10-100</td>
<td>Residence time, mixing</td>
</tr>
</tbody>
</table>
<p><strong>2. Equipment characteristics</strong></p>
<table>
<thead>
<tr>
<th>Descriptor</th>
<th>Explanation</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reactor volume</td>
<td>Process scale</td>
<td>Heat removal, mixing efficiency</td>
</tr>
<tr>
<td>Stirring speed</td>
<td>rpm</td>
<td>Mass transfer, uniformity</td>
</tr>
<tr>
<td>Heat transfer area</td>
<td>m¬≤</td>
<td>Temperature control</td>
</tr>
</tbody>
</table>
<p><strong>3. Operating conditions</strong></p>
<table>
<thead>
<tr>
<th>Descriptor</th>
<th>Explanation</th>
<th>Controllability</th>
</tr>
</thead>
<tbody>
<tr>
<td>Heating rate</td>
<td>¬∞C/min</td>
<td>Easy to control</td>
</tr>
<tr>
<td>Raw material feed sequence</td>
<td>-</td>
<td>Easy to control</td>
</tr>
<tr>
<td>Cooling start time</td>
<td>Time from reaction start</td>
<td>Easy to control</td>
</tr>
</tbody>
</table>
<h3>2.6.2 Automatic Descriptor Generation</h3>
<pre><code class="language-python">import pandas as pd

# Calculate basic descriptors
def generate_descriptors(df):
    # Derived variables
    df['residence_time'] = df['reactor_volume'] / df['flow_rate']  # minutes

    # Interaction terms
    df['temp_pressure'] = df['temperature'] * df['pressure']

    # Time series features (moving average)
    df['temp_ma_10min'] = df['temperature'].rolling(window=10).mean()

    # Rate of change
    df['temp_change_rate'] = df['temperature'].diff()

    return df
</code></pre>
<hr />
<h2>2.7 Summary</h2>
<h3>What we learned in this chapter</h3>
<ol>
<li>
<p><strong>Definition and positioning of PI</strong>
   - Optimizing chemical processes with data and AI
   - Differences from related fields (QE, DoE, SPC, Process Control)</p>
</li>
<li>
<p><strong>20 PI terms</strong>
   - Basic terms, methodology terms, application terms
   - Understanding frequently occurring specialized terms in practice</p>
</li>
<li>
<p><strong>Types of process data</strong>
   - Time series data, batch data, quality data, operational data
   - Characteristics and analysis methods for each data type</p>
</li>
<li>
<p><strong>PI ecosystem</strong>
   - Data collection ‚Üí management ‚Üí analysis ‚Üí implementation ‚Üí feedback
   - Roles and collaboration of each layer</p>
</li>
<li>
<p><strong>5-step PI workflow</strong>
   - Step 0: Problem formulation
   - Step 1: Data collection
   - Step 2: Model building
   - Step 3: Optimization
   - Step 4: Implementation & validation
   - Continuous improvement cycle</p>
</li>
<li>
<p><strong>Process descriptors</strong>
   - Physicochemical parameters, equipment characteristics, operating conditions
   - Automatic descriptor generation methods</p>
</li>
</ol>
<h3>To the next chapter</h3>
<p>In Chapter 3, we will learn practical PI methods using Python:
- Environment setup (3 options)
- 35 executable code examples
- Chemical reactor optimization project</p>
<hr />
<h2>Exercises</h2>
<h3>Problem 1 (Difficulty: easy)</h3>
<p>Explain the differences between PI and related fields (Quality Engineering, Design of Experiments, Statistical Process Control).</p>
<details>
<summary>Sample answer</summary>

**Quality Engineering (QE)**:
- Objective: Product quality stabilization, minimization of variability
- Methods: Taguchi method, SN ratio
- Difference from PI: PI enhances QE data analysis with machine learning

**Design of Experiments (DoE)**:
- Objective: Efficient experiment design
- Methods: Orthogonal arrays, response surface methodology
- Difference from PI: PI combines DoE with machine learning for optimization with fewer experiments

**Statistical Process Control (SPC)**:
- Objective: Process stability monitoring
- Methods: Control charts, Cp/Cpk
- Difference from PI: PI adds predictive capability (machine learning) to SPC

**PI (Process Informatics)**:
- Objective: Overall process optimization (simultaneous optimization of yield, quality, cost, environment)
- Methods: Machine learning, Bayesian optimization, real-time analysis
- Feature: Integrates all of the above in a data-driven manner for optimization

</details>

<h3>Problem 2 (Difficulty: medium)</h3>
<p>Explain the characteristics of time series data, batch data, and quality data in chemical processes, along with suitable analysis methods for each.</p>
<details>
<summary>Sample answer</summary>

**Time series data**:
- Characteristics: Continuous measurement along time axis, high sampling frequency (1 second to 1 minute), massive data volume
- Typical examples: Temperature, pressure, flow rate, pH
- Analysis methods:
  - Time series prediction (ARIMA, Prophet, LSTM)
  - Anomaly detection (control charts, One-Class SVM)
  - Trend analysis (moving average)
- Challenges: Noise, missing values, massive data volume

**Batch data**:
- Characteristics: One data point per batch, small sample size, conditions differ subtly between batches
- Typical examples: Yield, purity, reaction time for each batch
- Analysis methods:
  - Regression analysis (linear regression, Random Forest)
  - Batch-to-batch variation analysis (ANOVA, PCA)
  - Optimization (Bayesian optimization, response surface methodology)
- Challenges: Small sample size, risk of overfitting

**Quality data**:
- Characteristics: Many offline measurements, measurement takes time and cost, low frequency
- Typical examples: HPLC, GC-MS, XRD
- Analysis methods:
  - Quality prediction (soft sensor, estimate from process variables)
  - Quality control (control charts, Cp/Cpk)
  - Out-of-specification judgment (classification models)
- Challenges: Not real-time, measurement errors, high cost

</details>

<h3>Problem 3 (Difficulty: medium)</h3>
<p>Explain why Step 0 (problem formulation) in the PI workflow is most important, with specific examples.</p>
<details>
<summary>Sample answer</summary>

**Importance:**

Insufficient problem formulation can adversely affect all subsequent steps and potentially lead to project failure.

**Bad example:**
> "Want to increase yield"

**Problems:**
- Goal is vague (increase to what percentage?)
- No constraints (temperature, pressure, cost limits?)
- No success criteria (by when? how many batches?)

**Result:**
1. Waste collecting unnecessary variables in data collection
2. Model optimizes wrong objective (e.g., increase yield only at the expense of purity)
3. At implementation stage, discover "purity was also important" and start over

**Good example:**
> "Improve yield of chemical reaction process X from current 70% to 80% or more, satisfying the following conditions:
> - Temperature: 80-120¬∞C (safety range)
> - Purity: ‚â•98% (quality specification)
> - Cost: Within current +10%
> - Deadline: Within 6 months
> - KPI: Achieve yield‚â•80% for 10 consecutive batches"

**Effects:**
1. Clear data collection (prioritize temperature, purity, cost data)
2. Model optimizes correct objective (multi-objective optimization: yield vs purity vs cost)
3. Success criteria are clear, making it easy to evaluate project progress

**Value of time investment:**
Spending 1-2 weeks on problem formulation greatly reduces the risk of wasting months of subsequent work.

</details>

<hr />
<h2>Data License and Access</h2>
<h3>Process Database (Common with Chapter 1)</h3>
<p><strong>Industrial Process Data</strong>:
- <strong>AIChE DIPPR Database</strong>: Thermophysical property data (see Chapter 1 for details)
- <strong>NIST Chemistry WebBook</strong>: Free thermochemical database</p>
<h3>Ensuring Code Reproducibility</h3>
<p><strong>Environment information</strong>:
- Python: 3.9 or later
- pandas >= 1.3.0, numpy >= 1.21.0, scikit-learn >= 1.0.0</p>
<p><strong>Libraries for PI workflow</strong>:
- skopt (scikit-optimize): >= 0.9.0
  - Installation: <code>pip install scikit-optimize</code>
  - Usage: Bayesian optimization (Gaussian Process)</p>
<ul>
<li>pymoo: >= 0.6.0</li>
<li>Installation: <code>pip install pymoo</code></li>
<li>Usage: Multi-objective optimization (NSGA-II, etc.)</li>
</ul>
<h3>Practical Pitfalls</h3>
<p><strong>Pitfall 1: Multicollinearity of descriptors</strong></p>
<p>Adding interaction terms causes multicollinearity:</p>
<pre><code class="language-python"># Problem example
df['temp_pressure'] = df['temperature'] * df['pressure']
df['temp_squared'] = df['temperature'] ** 2

# Multicollinearity check
from statsmodels.stats.outliers_influence import variance_inflation_factor
vif_data = pd.DataFrame()
vif_data["feature"] = X.columns
vif_data["VIF"] = [variance_inflation_factor(X.values, i) for i in range(len(X.columns))]
print(vif_data)
# VIF > 10 indicates multicollinearity

# Solution: Dimensionality reduction with PCA
from sklearn.decomposition import PCA
pca = PCA(n_components=0.95)  # Preserve 95% variance
X_reduced = pca.fit_transform(X)
</code></pre>
<p><strong>Pitfall 2: Autocorrelation in time series data</strong></p>
<p>Process data is temporally correlated:</p>
<pre><code class="language-python"># Check autocorrelation
from statsmodels.graphics.tsaplots import plot_acf
plot_acf(df['temperature'], lags=50)
plt.show()

# Solution: Use differenced series
df['temp_diff'] = df['temperature'].diff()
</code></pre>
<p><strong>Pitfall 3: Independence of batch data</strong></p>
<p>Batches are assumed independent but actually depend on raw material lots:</p>
<pre><code class="language-python"># Group by raw material lot
for lot_id, group in df.groupby('raw_material_lot'):
    # Train model per lot or add lot as feature
    pass
</code></pre>
<hr />
<h2>End-of-Chapter Checklist (45 items)</h2>
<h3>1. PI Definition and Related Fields (10 items)</h3>
<ul>
<li>[ ] 1.1 Can explain the concise definition of PI</li>
<li>[ ] 1.2 Can list the four pillars of Industry 4.0</li>
<li>[ ] 1.3 Can state the four core elements of PI (data, modeling, optimization, implementation)</li>
<li>[ ] 1.4 Can explain the difference from Quality Engineering (QE)</li>
<li>[ ] 1.5 Can state the relationship with Design of Experiments (DoE)</li>
<li>[ ] 1.6 Can explain the difference from Statistical Process Control (SPC)</li>
<li>[ ] 1.7 Understands collaboration with Process Control</li>
<li>[ ] 1.8 Can explain the uniqueness of PI (integrated approach, data-driven, etc.)</li>
<li>[ ] 1.9 Can draw the Mermaid diagram of traditional process development vs PI</li>
<li>[ ] 1.10 Understands the scope of PI application (yield, quality, cost, environment)</li>
</ul>
<h3>2. 20 PI Terms (10 items)</h3>
<ul>
<li>[ ] 2.1 Can define basic terms 1-7 (process variable, descriptor, etc.)</li>
<li>[ ] 2.2 Can explain methodology terms 8-14 (Bayesian optimization, multi-objective optimization, etc.)</li>
<li>[ ] 2.3 Can state application terms 15-20 (digital twin, predictive maintenance, etc.)</li>
<li>[ ] 2.4 Can explain the difference between batch process and continuous process</li>
<li>[ ] 2.5 Understands the mechanism of Bayesian optimization (Gaussian Process)</li>
<li>[ ] 2.6 Can explain the meaning of Pareto front</li>
<li>[ ] 2.7 Can list three uses of soft sensor</li>
<li>[ ] 2.8 Can state the difference between DCS and SCADA</li>
<li>[ ] 2.9 Can explain the definition of digital twin</li>
<li>[ ] 2.10 Understands the priority of term learning (basic ‚Üí methodology ‚Üí application)</li>
</ul>
<h3>3. Types of Process Data (10 items)</h3>
<ul>
<li>[ ] 3.1 Can explain characteristics of time series data (sampling frequency, data volume)</li>
<li>[ ] 3.2 Can list three typical analysis methods for time series data</li>
<li>[ ] 3.3 Can state characteristics of batch data (independence, sample size)</li>
<li>[ ] 3.4 Can list three causes of batch-to-batch variation</li>
<li>[ ] 3.5 Understands measurement methods for quality data (HPLC, GC-MS, etc.)</li>
<li>[ ] 3.6 Can explain challenges of quality data (frequency, cost)</li>
<li>[ ] 3.7 Can state how to utilize operational data (event logs)</li>
<li>[ ] 3.8 Can explain the four steps of data preprocessing</li>
<li>[ ] 3.9 Can implement outlier removal method (3-sigma method)</li>
<li>[ ] 3.10 Can use missing value interpolation methods (linear interpolation) appropriately</li>
</ul>
<h3>4. PI Workflow 5 Steps (10 items)</h3>
<ul>
<li>[ ] 4.1 Can explain the importance of Step 0 (problem formulation)</li>
<li>[ ] 4.2 Understands the difference between good and bad problem formulation</li>
<li>[ ] 4.3 Can list the 5 items in the problem formulation checklist</li>
<li>[ ] 4.4 Can state the priority of data sources in Step 1 (data collection)</li>
<li>[ ] 4.5 Understands the importance of descriptor design in Step 2 (model building)</li>
<li>[ ] 4.6 Remembers model performance guidelines (R¬≤ > 0.8 good, >0.9 excellent)</li>
<li>[ ] 4.7 Can write Bayesian optimization code example for Step 3 (optimization)</li>
<li>[ ] 4.8 Can explain the 3 stages of Step 4 (implementation & validation) (pilot ‚Üí small-scale ‚Üí full deployment)</li>
<li>[ ] 4.9 Can list the 5 items in the validation checklist</li>
<li>[ ] 4.10 Understands the continuous improvement cycle (retrain every 3 months)</li>
</ul>
<h3>5. Process Descriptors (5 items)</h3>
<ul>
<li>[ ] 5.1 Can explain the importance of five physicochemical parameters (temperature, pressure, etc.)</li>
<li>[ ] 5.2 Understands equipment characteristic descriptors (reactor volume, stirring speed, etc.)</li>
<li>[ ] 5.3 Can state operating condition descriptors (heating rate, feed sequence, etc.)</li>
<li>[ ] 5.4 Can write Python code for automatic descriptor generation</li>
<li>[ ] 5.5 Understands the physical meaning of interaction terms</li>
</ul>
<hr />
<h2>References</h2>
<ol>
<li>
<p>Venkatasubramanian, V. (2019). "The promise of artificial intelligence in chemical engineering: Is it here, finally?" <em>AIChE Journal</em>, 65(2), 466-478.
   DOI: <a href="https://doi.org/10.1002/aic.16489">10.1002/aic.16489</a></p>
</li>
<li>
<p>Lee, J. H., Shin, J., &amp; Realff, M. J. (2018). "Machine learning: Overview of the recent progresses and implications for the process systems engineering field." <em>Computers &amp; Chemical Engineering</em>, 114, 111-121.
   DOI: <a href="https://doi.org/10.1016/j.compchemeng.2017.10.008">10.1016/j.compchemeng.2017.10.008</a></p>
</li>
<li>
<p>Seborg, D. E., Edgar, T. F., Mellichamp, D. A., &amp; Doyle III, F. J. (2016). <em>Process Dynamics and Control</em> (4th ed.). Wiley.</p>
</li>
<li>
<p>The Society of Chemical Engineers, Japan. (2020). <em>Chemical Engineering Handbook, 8th Edition</em>. Maruzen Publishing.</p>
</li>
<li>
<p>scikit-optimize Documentation. (2024). "Bayesian Optimization."
   URL: https://scikit-optimize.github.io/stable/</p>
</li>
<li>
<p>pymoo Documentation. (2024). "Multi-objective Optimization."
   URL: https://pymoo.org/</p>
</li>
</ol>
<hr />
<p><strong>Author Information</strong></p>
<p>This article was created as part of the MI Knowledge Hub project under the supervision of Dr. Yusuke Hashimoto at Tohoku University.</p>
<p><strong>Version</strong>: 1.1</p>
<p><strong>Update History</strong>
- 2025-10-19: v1.1 Quality improvement
  - Added data license and access information
  - Ensured code reproducibility (skopt, pymoo)
  - Added 3 practical pitfalls (multicollinearity, autocorrelation, batch independence)
  - Added end-of-chapter checklist with 45 items (5 categories)
  - Added 2 references (scikit-optimize, pymoo)
- 2025-10-16: v1.0 Initial version</p>
<p><strong>License</strong>: CC BY 4.0</p><div class="navigation">
    <a href="chapter1-introduction.html" class="nav-button">‚Üê Previous Chapter</a>
    <a href="index.html" class="nav-button">Back to Series Index</a>
    <a href="chapter3-hands-on.html" class="nav-button">Next Chapter ‚Üí</a>
</div>
    </main>


    <section class="disclaimer">
        <h3>Disclaimer</h3>
        <ul>
            <li>This content is provided for educational, research, and informational purposes only and does not constitute professional advice (legal, accounting, technical guarantees, etc.).</li>
            <li>This content and accompanying code examples are provided "AS IS" without warranty of any kind, express or implied, including but not limited to warranties of merchantability, fitness for a particular purpose, non-infringement, accuracy, completeness, operation, or safety.</li>
            <li>The author and Tohoku University assume no responsibility for the content, availability, or safety of external links or third-party data, tools, libraries, etc.</li>
            <li>To the maximum extent permitted by applicable law, the author and Tohoku University shall not be liable for any direct, indirect, incidental, special, consequential, or punitive damages arising from the use, execution, or interpretation of this content.</li>
            <li>The content of this material may be changed, updated, or discontinued without notice.</li>
            <li>The copyright and license of this content follow the specified conditions (e.g., CC BY 4.0). Such licenses typically include no-warranty clauses.</li>
        </ul>
    </section>

<footer>
        <p><strong>Author</strong>: AI Terakoya Content Team</p>
        <p><strong>Version</strong>: 1.0 | <strong>Created</strong>: 2025-10-16</p>
        <p><strong>License</strong>: Creative Commons BY 4.0</p>
        <p>¬© 2025 AI Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>
