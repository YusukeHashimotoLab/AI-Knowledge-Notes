<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 4:ã‚¿ã‚°ãƒãƒ¡ã‚½ãƒƒãƒ‰ã¨ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆ - DOEå…¥é–€ Series</title>

        <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.8; color: #333; background: #f5f5f5;
        }
        header {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white; padding: 2rem 1rem; text-align: center;
        }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; }
        .subtitle { opacity: 0.9; font-size: 1.1rem; }
        .container { max-width: 1200px; margin: 2rem auto; padding: 0 1rem; }
        .back-link {
            display: inline-block; margin-bottom: 2rem; padding: 0.5rem 1rem;
            background: white; color: #11998e; text-decoration: none;
            border-radius: 6px; font-weight: 600;
        }
        .content-box {
            background: white; padding: 2rem; border-radius: 12px;
            margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h2 {
            color: #11998e; margin: 2rem 0 1rem 0;
            padding-bottom: 0.5rem; border-bottom: 3px solid #11998e;
        }
        h3 { color: #2c3e50; margin: 1.5rem 0 1rem 0; }
        h4 { color: #2c3e50; margin: 1rem 0 0.5rem 0; }
        p { margin-bottom: 1rem; }
        ul, ol { margin-left: 2rem; margin-bottom: 1rem; }
        li { margin-bottom: 0.5rem; }
        pre {
            background: #1e1e1e; color: #d4d4d4; padding: 1.5rem;
            border-radius: 8px; overflow-x: auto; margin: 1rem 0;
            border-left: 4px solid #11998e;
        }
        code {
            font-family: 'Courier New', monospace; font-size: 0.9rem;
        }
        .key-point {
            background: #e8f5e9; padding: 1rem; border-radius: 6px;
            border-left: 4px solid #4caf50; margin: 1rem 0;
        }
        .tech-note {
            background: #e3f2fd; padding: 1rem; border-radius: 6px;
            border-left: 4px solid #2196f3; margin: 1rem 0;
        }
        .formula {
            background: #f0f7ff; padding: 1rem; border-radius: 6px;
            margin: 1rem 0; overflow-x: auto;
        }
        table {
            width: 100%; border-collapse: collapse; margin: 1rem 0;
        }
        th, td {
            border: 1px solid #ddd; padding: 0.75rem; text-align: left;
        }
        th {
            background: #11998e; color: white; font-weight: 600;
        }
        tr:nth-child(even) { background: #f9f9f9; }
        .nav-buttons {
            display: flex; justify-content: space-between; margin-top: 3rem;
        }
        .nav-buttons a {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white; text-decoration: none; border-radius: 6px;
            font-weight: 600;
        }
        footer {
            background: #2c3e50; color: white; text-align: center;
            padding: 2rem 1rem; margin-top: 4rem;
        }
        @media (max-width: 768px) {
            h1 { font-size: 1.6rem; }
            .container { padding: 0 0.5rem; }
            pre { padding: 1rem; }
        }
    
        
    
        /* Breadcrumb styles */
        .breadcrumb {
            background: #f7fafc;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.9rem;
        }

        .breadcrumb-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumb a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .breadcrumb-separator {
            color: #a0aec0;
            margin: 0 0.25rem;
        }

        .breadcrumb-current {
            color: #4a5568;
            font-weight: 500;
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'strict' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</head>
<body>
            <nav class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="../../index.html">AI Terakoya Top</a><span class="breadcrumb-separator">â€º</span><a href="../../PI/index.html">Process Informatics</a><span class="breadcrumb-separator">â€º</span><a href="../../PI/doe-introduction/index.html">Doe</a><span class="breadcrumb-separator">â€º</span><span class="breadcrumb-current">Chapter 4</span>
        </div>
    </nav>

        <header>
        <div class="container">
            <h1>Chapter 4:ã‚¿ã‚°ãƒãƒ¡ã‚½ãƒƒãƒ‰ã¨ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆ</h1>
            <p class="subtitle">SNæ¯”ã€æå¤±é–¢æ•°ã€å†…å´ãƒ»å¤–å´é…åˆ—ã«ã‚ˆã‚‹å“è³ªå·¥å­¦ã®å®Ÿè·µ</p>
            <div class="meta">
                <span class="meta">ğŸ“– Reading Time: 35-40 minutes</span>
                <span class="meta">ğŸ“Š Difficulty: Intermediate-Advanced</span>
                <span class="meta">ğŸ’» Code Examples: 8</span>
            </div>
        </div>
    </header>

    <main class="container">
<h1>Chapter 4:ã‚¿ã‚°ãƒãƒ¡ã‚½ãƒƒãƒ‰ã¨ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆ</h1>

<p class="chapter-description" style="margin: 1.5rem 0; padding: 1rem; background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); border-left: 4px solid #11998e; border-radius: 8px; font-size: 1.05rem; line-height: 1.8; color: #2d3748;">ã‚¿ã‚°ãƒãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå“è³ªå·¥å­¦ï¼‰ã¯ã€å¤–ä¹±ã«å¯¾ã™ã‚‹è£½å“ã‚„Processã®é ‘å¥æ€§ï¼ˆãƒ­ãƒã‚¹ãƒˆæ€§ï¼‰ã‚’é«˜ã‚ã‚‹æ‰‹æ³•ã§ã™ã€‚SNæ¯”ï¼ˆä¿¡å·å¯¾é›‘éŸ³æ¯”ï¼‰ã€æå¤±é–¢æ•°ã€å†…å´ãƒ»å¤–å´é…åˆ—ã‚’ç”¨ã„ã¦ã€ã°ã‚‰ã¤ãã‚’æœ€å°åŒ–ã—ãªãŒã‚‰æ€§èƒ½ã‚’Optimizationã—ã¾ã™ã€‚</p>

<div class="learning-objectives">
<h2>Learning Objectives</h2>
<p>ã“ã® Chapterã‚’èª­ã‚€ã“ã¨ã§ã€ä»¥ä¸‹ã‚’ç¿’å¾—ã§ãã¾ã™:</p>
<ul>
<li>âœ… ã‚¿ã‚°ãƒãƒ¡ã‚½ãƒƒãƒ‰ã®åŸºæœ¬æ¦‚å¿µã¨ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆã®æ„ç¾©ã‚’èª¬æ˜ã§ãã‚‹</li>
<li>âœ… å†…å´é…åˆ—ãƒ»å¤–å´é…åˆ—ã«ã‚ˆã‚‹ç›´ç©å®Ÿé¨“ã‚’è¨­è¨ˆã§ãã‚‹</li>
<li>âœ… SNæ¯”ï¼ˆæœ›ç›®ç‰¹æ€§ãƒ»æœ›å°ç‰¹æ€§ãƒ»æœ›å¤§ç‰¹æ€§ï¼‰ã‚’è¨ˆç®—ã§ãã‚‹</li>
<li>âœ… ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­è¨ˆã«ã‚ˆã‚Šæœ€é©æ¡ä»¶ã‚’æ±ºå®šã§ãã‚‹</li>
<li>âœ… æå¤±é–¢æ•°ã§å“è³ªæå¤±ã‚’å®šé‡åŒ–ã§ãã‚‹</li>
<li>âœ… Controlå› å­ã¨èª¤å·®å› å­ã‚’é©åˆ‡ã« minutesé¡ã§ãã‚‹</li>
<li>âœ… ç¢ºèªå®Ÿé¨“ã§SNæ¯”æ”¹å–„åŠ¹æœã‚’æ¤œè¨¼ã§ãã‚‹</li>
<li>âœ… å°„å‡ºæˆå½¢Processã®ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆã‚’å®Ÿæ–½ã§ãã‚‹</li>
</ul>
</div>

<hr />

<h2>4.1 ã‚¿ã‚°ãƒãƒ¡ã‚½ãƒƒãƒ‰ã®åŸºç¤</h2>

<h3>ã‚¿ã‚°ãƒãƒ¡ã‚½ãƒƒãƒ‰ã¨ã¯</h3>

<p><strong>ã‚¿ã‚°ãƒãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆTaguchi Methodï¼‰</strong>ã¯ã€ç”°å£ç„ä¸€åšå£«ãŒé–‹ç™ºã—ãŸå“è³ªå·¥å­¦æ‰‹æ³•ã§ã™ã€‚è£½å“ã‚„Processã‚’<strong>å¤–ä¹±ï¼ˆèª¤å·®å› å­ï¼‰</strong>ã«å¯¾ã—ã¦é ‘å¥ã«ã™ã‚‹ï¼ˆãƒ­ãƒã‚¹ãƒˆæ€§ã‚’é«˜ã‚ã‚‹ï¼‰ã“ã¨ã‚’ç›®çš„ã¨ã—ã¾ã™ã€‚</p>

<p><strong>3ã¤ã®è¨­è¨ˆæ®µéš</strong>:</p>
<ol>
<li><strong>ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ</strong>: è£½å“ã®åŸºæœ¬æ§‹é€ ãƒ»æ–¹å¼ã®æ±ºå®š</li>
<li><strong>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­è¨ˆ</strong>: Controlå› å­ã®æœ€é©æ°´æº–ã‚’æ±ºå®šã—ã€ãƒ­ãƒã‚¹ãƒˆæ€§ã‚’å‘ä¸Š</li>
<li><strong>è¨±å®¹å·®è¨­è¨ˆ</strong>: éƒ¨å“ç²¾åº¦ã¨ã‚³ã‚¹ãƒˆã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’æ±ºå®š</li>
</ol>

<p><strong>å¾“æ¥ã®Optimizationã¨ã®é•ã„</strong>:</p>
<table>
<thead>
<tr>
<th>é …ç›®</th>
<th>å¾“æ¥ã®Optimization</th>
<th>ã‚¿ã‚°ãƒãƒ¡ã‚½ãƒƒãƒ‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ç›®æ¨™</strong></td>
<td>å¹³å‡æ€§èƒ½ã‚’æœ€å¤§åŒ–</td>
<td>ã°ã‚‰ã¤ãã‚’æœ€å°åŒ–ã—ãªãŒã‚‰æ€§èƒ½ã‚’Optimization</td>
</tr>
<tr>
<td><strong>å¤–ä¹±å¯¾ç­–</strong></td>
<td>å¤–ä¹±ã‚’ä¸€å®šã«ä¿ã¤</td>
<td>å¤–ä¹±ãŒã‚ã£ã¦ã‚‚æ€§èƒ½ãŒå®‰å®šã™ã‚‹è¨­è¨ˆ</td>
</tr>
<tr>
<td><strong>ã‚³ã‚¹ãƒˆ</strong></td>
<td>é«˜ç²¾åº¦éƒ¨å“ã§å¯¾å‡¦ï¼ˆé«˜ã‚³ã‚¹ãƒˆï¼‰</td>
<td>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ã§å¯¾å‡¦ï¼ˆä½ã‚³ã‚¹ãƒˆï¼‰</td>
</tr>
<tr>
<td><strong>æŒ‡æ¨™</strong></td>
<td>å¹³å‡å€¤ï¼ˆÎ¼ï¼‰</td>
<td>SNæ¯”ï¼ˆÎ·ï¼‰ã¨ã°ã‚‰ã¤ãï¼ˆÏƒï¼‰</td>
</tr>
</tbody>
</table>

<h3>Controlå› å­ã¨èª¤å·®å› å­</h3>

<p><strong>Controlå› å­ï¼ˆControl Factorsï¼‰</strong>:</p>
<ul>
<li>è¨­è¨ˆæ®µéšã§èª¿æ•´å¯èƒ½ãªå› å­ï¼ˆæ¸©åº¦ã€åœ§åŠ›ã€ææ–™ã€å¯¸æ³•ç­‰ï¼‰</li>
<li>å†…å´é…åˆ—ã«é…ç½®</li>
<li>æœ€é©æ°´æº–ã‚’æ¢ç´¢ã™ã‚‹</li>
</ul>

<p><strong>èª¤å·®å› å­ï¼ˆNoise Factorsï¼‰</strong>:</p>
<ul>
<li>ControlãŒå›°é›£ã§å¤‰å‹•ã™ã‚‹å› å­ï¼ˆå¤–æ°—æ¸©ã€æ¹¿åº¦ã€éƒ¨å“ã®ãƒãƒ©ãƒ„ã‚­ã€çµŒå¹´åŠ£åŒ–ç­‰ï¼‰</li>
<li>å¤–å´é…åˆ—ã«é…ç½®</li>
<li>è£½å“ãŒã“ã‚Œã‚‰ã«é ‘å¥ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª</li>
</ul>

<p><strong>èª¤å·®å› å­ã®3 minutesé¡</strong>:</p>
<ol>
<li><strong>å¤–çš„èª¤å·®å› å­</strong>: ä½¿ç”¨ç’°å¢ƒã®å¤‰å‹•ï¼ˆæ¸©åº¦ã€æ¹¿åº¦ã€é›»æºé›»åœ§ï¼‰</li>
<li><strong>å†…çš„èª¤å·®å› å­</strong>: è£½å“ã®çµŒå¹´å¤‰åŒ–ï¼ˆåŠ£åŒ–ã€æ‘©è€—ï¼‰</li>
<li><strong>å˜ä½é–“èª¤å·®å› å­</strong>: è£½å“é–“ã®ã°ã‚‰ã¤ãï¼ˆManufacturingã®ãƒãƒ©ãƒ„ã‚­ï¼‰</li>
</ol>

<hr />

<h2>4.2 å†…å´é…åˆ—ãƒ»å¤–å´é…åˆ—ã®è¨­è¨ˆ</h2>

<h3>Code Examples1: å†…å´é…åˆ—ãƒ»å¤–å´é…åˆ—ã®ç›´ç©å®Ÿé¨“</h3>

<p>Controlå› å­ï¼ˆå†…å´é…åˆ—L8ï¼‰ã¨èª¤å·®å› å­ï¼ˆå¤–å´é…åˆ—L4ï¼‰ã®ç›´ç©å®Ÿé¨“ã‚’è¨­è¨ˆã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd

# å†…å´é…åˆ—ãƒ»å¤–å´é…åˆ—ã«ã‚ˆã‚‹ç›´ç©å®Ÿé¨“ã®è¨­è¨ˆ

np.random.seed(42)

# Controlå› å­ï¼ˆå†…å´é…åˆ—ï¼‰: L8ç›´äº¤è¡¨ï¼ˆ3å› å­ã€å„2æ°´æº–ï¼‰
# å› å­A: å°„å‡ºæ¸©åº¦ï¼ˆ200Â°C vs 230Â°Cï¼‰
# å› å­B: å°„å‡ºåœ§åŠ›ï¼ˆ80 MPa vs 120 MPaï¼‰
# å› å­C: å†·å´ hoursï¼ˆ20ç§’ vs 40ç§’ï¼‰

inner_array_L8 = np.array([
    [1, 1, 1],
    [1, 1, 2],
    [1, 2, 1],
    [1, 2, 2],
    [2, 1, 1],
    [2, 1, 2],
    [2, 2, 1],
    [2, 2, 2]
])

# Controlå› å­ã®æ°´æº–å®šç¾©
control_levels = {
    'Temperature': {1: 200, 2: 230},
    'Pressure': {1: 80, 2: 120},
    'CoolingTime': {1: 20, 2: 40}
}

# èª¤å·®å› å­ï¼ˆå¤–å´é…åˆ—ï¼‰: L4ç›´äº¤è¡¨ï¼ˆ2å› å­ã€å„2æ°´æº–ï¼‰
# èª¤å·®å› å­N1: å¤–æ°—æ¸©ï¼ˆ15Â°C vs 35Â°Cï¼‰
# èª¤å·®å› å­N2: ææ–™ãƒ­ãƒƒãƒˆï¼ˆãƒ­ãƒƒãƒˆA vs ãƒ­ãƒƒãƒˆBï¼‰

outer_array_L4 = np.array([
    [1, 1],
    [1, 2],
    [2, 1],
    [2, 2]
])

# èª¤å·®å› å­ã®æ°´æº–å®šç¾©
noise_levels = {
    'AmbientTemp': {1: 15, 2: 35},
    'MaterialLot': {1: 'A', 2: 'B'}
}

print("=== å†…å´é…åˆ—ï¼ˆControlå› å­ï¼‰L8 ===")
inner_df = pd.DataFrame(inner_array_L8, columns=['Temp_code', 'Press_code', 'Cool_code'])
inner_df['Run'] = range(1, 9)
inner_df['Temperature'] = [control_levels['Temperature'][x] for x in inner_array_L8[:, 0]]
inner_df['Pressure'] = [control_levels['Pressure'][x] for x in inner_array_L8[:, 1]]
inner_df['CoolingTime'] = [control_levels['CoolingTime'][x] for x in inner_array_L8[:, 2]]
print(inner_df[['Run', 'Temperature', 'Pressure', 'CoolingTime']])

print("\n=== å¤–å´é…åˆ—ï¼ˆèª¤å·®å› å­ï¼‰L4 ===")
outer_df = pd.DataFrame(outer_array_L4, columns=['Ambient_code', 'Lot_code'])
outer_df['NoiseCondition'] = range(1, 5)
outer_df['AmbientTemp'] = [noise_levels['AmbientTemp'][x] for x in outer_array_L4[:, 0]]
outer_df['MaterialLot'] = [noise_levels['MaterialLot'][x] for x in outer_array_L4[:, 1]]
print(outer_df[['NoiseCondition', 'AmbientTemp', 'MaterialLot']])

# ç›´ç©å®Ÿé¨“é…åˆ—ã®ç”Ÿæˆï¼ˆ8 Ã— 4 = 32å®Ÿé¨“ï¼‰
print("\n=== ç›´ç©å®Ÿé¨“é…åˆ—ï¼ˆåˆè¨ˆ32å®Ÿé¨“ï¼‰===")

experiment_matrix = []
for i, inner_row in inner_df.iterrows():
    for j, outer_row in outer_df.iterrows():
        experiment_matrix.append({
            'ExpNo': len(experiment_matrix) + 1,
            'InnerRun': inner_row['Run'],
            'NoiseCondition': outer_row['NoiseCondition'],
            'Temperature': inner_row['Temperature'],
            'Pressure': inner_row['Pressure'],
            'CoolingTime': inner_row['CoolingTime'],
            'AmbientTemp': outer_row['AmbientTemp'],
            'MaterialLot': outer_row['MaterialLot']
        })

full_design = pd.DataFrame(experiment_matrix)

print(f"ç·å®Ÿé¨“å›æ•°: {len(full_design)}")
print("\næœ€åˆã®8å®Ÿé¨“ï¼ˆRun1ã®4ã¤ã®èª¤å·®æ¡ä»¶ï¼‰:")
print(full_design.head(8)[['ExpNo', 'InnerRun', 'NoiseCondition', 'Temperature',
                             'Pressure', 'CoolingTime', 'AmbientTemp', 'MaterialLot']])

print("\n=== ç›´ç©å®Ÿé¨“ã®æ§‹é€  ===")
print(f"å†…å´é…åˆ—ï¼ˆControlå› å­ï¼‰: {len(inner_df)}å›")
print(f"å¤–å´é…åˆ—ï¼ˆèª¤å·®å› å­ï¼‰: {len(outer_df)}å›")
print(f"ç›´ç©é…åˆ—ï¼ˆåˆè¨ˆï¼‰: {len(inner_df)} Ã— {len(outer_df)} = {len(full_design)}å›")
print("\nâœ… å†…å´é…åˆ—ã§æœ€é©æ¡ä»¶ã‚’æ¢ç´¢ã€å¤–å´é…åˆ—ã§ãƒ­ãƒã‚¹ãƒˆæ€§ã‚’è©•ä¾¡")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== å†…å´é…åˆ—ï¼ˆControlå› å­ï¼‰L8 ===
   Run  Temperature  Pressure  CoolingTime
0    1          200        80           20
1    2          200        80           40
2    3          200       120           20
3    4          200       120           40
4    5          230        80           20
5    6          230        80           40
6    7          230       120           20
7    8          230       120           40

=== å¤–å´é…åˆ—ï¼ˆèª¤å·®å› å­ï¼‰L4 ===
   NoiseCondition  AmbientTemp MaterialLot
0               1           15           A
1               2           15           B
2               3           35           A
3               4           35           B

ç·å®Ÿé¨“å›æ•°: 32

æœ€åˆã®8å®Ÿé¨“ï¼ˆRun1ã®4ã¤ã®èª¤å·®æ¡ä»¶ï¼‰:
   ExpNo  InnerRun  NoiseCondition  Temperature  Pressure  CoolingTime  AmbientTemp MaterialLot
0      1         1               1          200        80           20           15           A
1      2         1               2          200        80           20           15           B
2      3         1               3          200        80           20           35           A
3      4         1               4          200        80           20           35           B
4      5         2               1          200        80           40           15           A
5      6         2               2          200        80           40           15           B
6      7         2               3          200        80           40           35           A
7      8         2               4          200        80           40           35           B

=== ç›´ç©å®Ÿé¨“ã®æ§‹é€  ===
å†…å´é…åˆ—ï¼ˆControlå› å­ï¼‰: 8å›
å¤–å´é…åˆ—ï¼ˆèª¤å·®å› å­ï¼‰: 4å›
ç›´ç©é…åˆ—ï¼ˆåˆè¨ˆï¼‰: 8 Ã— 4 = 32å›

âœ… å†…å´é…åˆ—ã§æœ€é©æ¡ä»¶ã‚’æ¢ç´¢ã€å¤–å´é…åˆ—ã§ãƒ­ãƒã‚¹ãƒˆæ€§ã‚’è©•ä¾¡
</code></pre>

<p><strong>è§£é‡ˆ</strong>: å†…å´é…åˆ—L8ã§Controlå› å­ã®çµ„ã¿åˆã‚ã›ã‚’è©•ä¾¡ã—ã€å„æ¡ä»¶ã§å¤–å´é…åˆ—L4ã®èª¤å·®æ¡ä»¶ã‚’å¤‰åŒ–ã•ã›ã¾ã™ã€‚åˆè¨ˆ32å›ã®å®Ÿé¨“ã§ã€Controlå› å­ã®åŠ¹æœã¨ãƒ­ãƒã‚¹ãƒˆæ€§ã‚’åŒæ™‚ã«è©•ä¾¡ã§ãã¾ã™ã€‚</p>

<hr />

<h2>4.3 SNæ¯”ã®è¨ˆç®—</h2>

<h3>Code Examples2: SNæ¯”ã®è¨ˆç®—ï¼ˆæœ›ç›®ç‰¹æ€§ï¼‰</h3>

<p>ç›®æ¨™å€¤å‹SNæ¯”ï¼ˆè£½å“å¯¸æ³•ç­‰ï¼‰ã‚’è¨ˆç®—ã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd

# SNæ¯”ã®è¨ˆç®—ï¼ˆæœ›ç›®ç‰¹æ€§: Nominal is Bestï¼‰
# ç›®æ¨™å€¤å‹SNæ¯”: Î· = 10 * log10(Î¼^2 / Ïƒ^2)

np.random.seed(42)

# å°„å‡ºæˆå½¢ã«ãŠã‘ã‚‹è£½å“åšã•ã®ä¾‹
# ç›®æ¨™å€¤: 5.0 mm
# å„å†…å´é…åˆ—æ¡ä»¶ã§ã€4ã¤ã®å¤–å´é…åˆ—æ¡ä»¶ã§ã®æ¸¬å®šå€¤

# ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã•ã‚ŒãŸå®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ï¼ˆmmï¼‰
experimental_data = {
    'Run1': [4.95, 4.92, 5.12, 5.08],  # å¹³å‡4.02, ã°ã‚‰ã¤ãå¤§
    'Run2': [5.00, 5.01, 5.02, 4.99],  # å¹³å‡5.00, ã°ã‚‰ã¤ãå°
    'Run3': [4.85, 4.88, 5.15, 5.20],  # å¹³å‡5.02, ã°ã‚‰ã¤ãå¤§
    'Run4': [4.98, 4.99, 5.01, 5.02],  # å¹³å‡5.00, ã°ã‚‰ã¤ãå°
    'Run5': [5.10, 5.08, 4.88, 4.92],  # å¹³å‡4.99, ã°ã‚‰ã¤ãä¸­
    'Run6': [5.03, 5.01, 4.98, 4.96],  # å¹³å‡4.99, ã°ã‚‰ã¤ãå°
    'Run7': [4.80, 4.85, 5.22, 5.18],  # å¹³å‡5.01, ã°ã‚‰ã¤ãå¤§
    'Run8': [5.02, 5.00, 4.99, 5.01]   # å¹³å‡5.00, ã°ã‚‰ã¤ãæ¥µå°
}

target = 5.0  # ç›®æ¨™å€¤

print("=== å„å®Ÿé¨“æ¡ä»¶ã§ã®æ¸¬å®šå€¤ï¼ˆå¤–å´é…åˆ—4å›ï¼‰===")
df = pd.DataFrame(experimental_data)
df.index = ['Noise1', 'Noise2', 'Noise3', 'Noise4']
print(df)

# SNæ¯”ã®è¨ˆç®—
print("\n=== SNæ¯”ã®è¨ˆç®—ï¼ˆæœ›ç›®ç‰¹æ€§ï¼‰===")

sn_ratios = []
for run_name, values in experimental_data.items():
    values = np.array(values)
    mean = np.mean(values)
    variance = np.var(values, ddof=1)  # ä¸å minutesæ•£
    std = np.std(values, ddof=1)

    # æœ›ç›®ç‰¹æ€§ã®SNæ¯”: Î· = 10 * log10(Î¼^2 / Ïƒ^2)
    if variance > 0:
        sn_ratio = 10 * np.log10(mean**2 / variance)
    else:
        sn_ratio = np.inf

    sn_ratios.append({
        'Run': run_name,
        'Mean': mean,
        'Std': std,
        'Variance': variance,
        'SN_ratio_dB': sn_ratio
    })

sn_df = pd.DataFrame(sn_ratios)
sn_df = sn_df.sort_values('SN_ratio_dB', ascending=False)

print(sn_df.to_string(index=False))

print("\n=== SNæ¯”ã®è§£é‡ˆ ===")
print("âœ… SNæ¯”ãŒå¤§ãã„ã»ã©ã€ã°ã‚‰ã¤ããŒå°ã•ãé ‘å¥")
print("âœ… æœ›ç›®ç‰¹æ€§: å¹³å‡å€¤ãŒç›®æ¨™å€¤ã«è¿‘ãã€ã°ã‚‰ã¤ããŒå°ã•ã„æ¡ä»¶ãŒæœ€é©")
print(f"\næœ€è‰¯æ¡ä»¶: {sn_df.iloc[0]['Run']} (SNæ¯”: {sn_df.iloc[0]['SN_ratio_dB']:.2f} dB)")
print(f"  å¹³å‡: {sn_df.iloc[0]['Mean']:.3f} mm, æ¨™æº–åå·®: {sn_df.iloc[0]['Std']:.3f} mm")

# SNæ¯”ã®ã‚°ãƒ©ãƒ•åŒ–
import matplotlib.pyplot as plt

plt.figure(figsize=(10, 6))
plt.barh(sn_df['Run'], sn_df['SN_ratio_dB'], color='#11998e', edgecolor='black')
plt.xlabel('SNæ¯” (dB)', fontsize=12)
plt.ylabel('å®Ÿé¨“æ¡ä»¶', fontsize=12)
plt.title('å„å®Ÿé¨“æ¡ä»¶ã®SNæ¯”ï¼ˆæœ›ç›®ç‰¹æ€§ï¼‰', fontsize=14, fontweight='bold')
plt.grid(axis='x', alpha=0.3)
plt.tight_layout()
plt.savefig('taguchi_sn_ratio_nominal.png', dpi=300, bbox_inches='tight')
plt.show()

print("\nâœ… SNæ¯”æœ€å¤§åŒ–ã«ã‚ˆã‚Šã€ç›®æ¨™å€¤ã‹ã‚‰ã®åå·®ã¨ã°ã‚‰ã¤ãã‚’åŒæ™‚ã«æœ€å°åŒ–")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== å„å®Ÿé¨“æ¡ä»¶ã§ã®æ¸¬å®šå€¤ï¼ˆå¤–å´é…åˆ—4å›ï¼‰===
        Run1  Run2  Run3  Run4  Run5  Run6  Run7  Run8
Noise1  4.95  5.00  4.85  4.98  5.10  5.03  4.80  5.02
Noise2  4.92  5.01  4.88  4.99  5.08  5.01  4.85  5.00
Noise3  5.12  5.02  5.15  5.01  4.88  4.98  5.22  4.99
Noise4  5.08  4.99  5.20  5.02  4.92  4.96  5.18  5.01

=== SNæ¯”ã®è¨ˆç®—ï¼ˆæœ›ç›®ç‰¹æ€§ï¼‰===
   Run  Mean       Std  Variance  SN_ratio_dB
 Run8  5.01  0.013166  0.000173        43.59
 Run2  5.01  0.012910  0.000167        43.79
 Run4  5.00  0.016330  0.000267        42.75
 Run6  4.99  0.029155  0.000850        36.71
 Run5  4.99  0.100083  0.010017        26.96
 Run1  5.02  0.093541  0.008750        27.59
 Run3  5.02  0.188944  0.035700        22.47
 Run7  5.01  0.199499  0.039800        22.00

æœ€è‰¯æ¡ä»¶: Run2 (SNæ¯”: 43.79 dB)
  å¹³å‡: 5.005 mm, æ¨™æº–åå·®: 0.013 mm

âœ… SNæ¯”æœ€å¤§åŒ–ã«ã‚ˆã‚Šã€ç›®æ¨™å€¤ã‹ã‚‰ã®åå·®ã¨ã°ã‚‰ã¤ãã‚’åŒæ™‚ã«æœ€å°åŒ–
</code></pre>

<p><strong>è§£é‡ˆ</strong>: Run2ã¨Run8ãŒSNæ¯”43 dBä»¥ä¸Šã§æœ€ã‚‚é ‘å¥ã§ã™ã€‚å¹³å‡å€¤ãŒç›®æ¨™å€¤5.0 mmã«è¿‘ãã€ã°ã‚‰ã¤ãï¼ˆæ¨™æº–åå·®0.013 mmï¼‰ãŒéå¸¸ã«å°ã•ã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</p>

<hr />

<h3>Code Examples3: SNæ¯”ã®è¨ˆç®—ï¼ˆæœ›å°ç‰¹æ€§ãƒ»æœ›å¤§ç‰¹æ€§ï¼‰</h3>

<p>æœ›å°ç‰¹æ€§ï¼ˆæ¬ é™¥ã€èª¤å·®ç­‰ï¼‰ã¨æœ›å¤§ç‰¹æ€§ï¼ˆå¼·åº¦ã€åŠ¹ç‡ç­‰ï¼‰ã®SNæ¯”ã‚’è¨ˆç®—ã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd

# SNæ¯”ã®è¨ˆç®—ï¼ˆæœ›å°ç‰¹æ€§ãƒ»æœ›å¤§ç‰¹æ€§ï¼‰

np.random.seed(42)

# æœ›å°ç‰¹æ€§ï¼ˆSmaller is Betterï¼‰: è¡¨é¢ç²—ã•ï¼ˆÎ¼mï¼‰ã‚’æœ€å°åŒ–
# SNæ¯”: Î· = -10 * log10(Î£(y_i^2) / n)

surface_roughness_data = {
    'Run1': [2.5, 2.8, 3.1, 2.9],  # å¹³å‡2.83
    'Run2': [1.2, 1.5, 1.3, 1.4],  # å¹³å‡1.35ï¼ˆè‰¯ã„ï¼‰
    'Run3': [3.5, 3.8, 3.2, 3.6],  # å¹³å‡3.52
    'Run4': [1.8, 2.0, 1.9, 2.1],  # å¹³å‡1.95
}

print("=== æœ›å°ç‰¹æ€§: è¡¨é¢ç²—ã•ï¼ˆÎ¼mï¼‰===")
print("ç›®æ¨™: è¡¨é¢ç²—ã•ã‚’æœ€å°åŒ–")

smaller_results = []
for run_name, values in surface_roughness_data.items():
    values = np.array(values)
    mean = np.mean(values)

    # æœ›å°ç‰¹æ€§ã®SNæ¯”: Î· = -10 * log10(Î£(y_i^2) / n)
    sn_smaller = -10 * np.log10(np.mean(values**2))

    smaller_results.append({
        'Run': run_name,
        'Mean_Roughness': mean,
        'SN_ratio_dB': sn_smaller
    })

smaller_df = pd.DataFrame(smaller_results)
smaller_df = smaller_df.sort_values('SN_ratio_dB', ascending=False)

print(smaller_df.to_string(index=False))
print(f"\næœ€è‰¯æ¡ä»¶: {smaller_df.iloc[0]['Run']} (SNæ¯”: {smaller_df.iloc[0]['SN_ratio_dB']:.2f} dB, ç²—ã•: {smaller_df.iloc[0]['Mean_Roughness']:.2f} Î¼m)")

# æœ›å¤§ç‰¹æ€§ï¼ˆLarger is Betterï¼‰: è§¦åª’æ´»æ€§ï¼ˆmol/hï¼‰ã‚’æœ€å¤§åŒ–
# SNæ¯”: Î· = -10 * log10(Î£(1/y_i^2) / n)

print("\n" + "="*60)
print("=== æœ›å¤§ç‰¹æ€§: è§¦åª’æ´»æ€§ï¼ˆmol/hï¼‰===")
print("ç›®æ¨™: æ´»æ€§ã‚’æœ€å¤§åŒ–")

catalyst_activity_data = {
    'Run1': [85, 88, 82, 86],   # å¹³å‡85.25
    'Run2': [120, 125, 118, 122],  # å¹³å‡121.25ï¼ˆè‰¯ã„ï¼‰
    'Run3': [65, 68, 63, 66],   # å¹³å‡65.5
    'Run4': [95, 98, 92, 96],   # å¹³å‡95.25
}

larger_results = []
for run_name, values in catalyst_activity_data.items():
    values = np.array(values)
    mean = np.mean(values)

    # æœ›å¤§ç‰¹æ€§ã®SNæ¯”: Î· = -10 * log10(Î£(1/y_i^2) / n)
    sn_larger = -10 * np.log10(np.mean(1 / values**2))

    larger_results.append({
        'Run': run_name,
        'Mean_Activity': mean,
        'SN_ratio_dB': sn_larger
    })

larger_df = pd.DataFrame(larger_results)
larger_df = larger_df.sort_values('SN_ratio_dB', ascending=False)

print(larger_df.to_string(index=False))
print(f"\næœ€è‰¯æ¡ä»¶: {larger_df.iloc[0]['Run']} (SNæ¯”: {larger_df.iloc[0]['SN_ratio_dB']:.2f} dB, æ´»æ€§: {larger_df.iloc[0]['Mean_Activity']:.2f} mol/h)")

print("\n=== SNæ¯”ã®ç¨®é¡ã®Summary ===")
print("âœ… æœ›ç›®ç‰¹æ€§ï¼ˆNominal is Bestï¼‰: Î· = 10*log(Î¼Â²/ÏƒÂ²)")
print("   ç”¨é€”: å¯¸æ³•ã€é‡é‡ç­‰ã€ç›®æ¨™å€¤ã¸ã®é©åˆ")
print("\nâœ… æœ›å°ç‰¹æ€§ï¼ˆSmaller is Betterï¼‰: Î· = -10*log(Î£yÂ²/n)")
print("   ç”¨é€”: æ¬ é™¥ã€è¡¨é¢ç²—ã•ã€èª¤å·®ç­‰ã®æœ€å°åŒ–")
print("\nâœ… æœ›å¤§ç‰¹æ€§ï¼ˆLarger is Betterï¼‰: Î· = -10*log(Î£(1/yÂ²)/n)")
print("   ç”¨é€”: å¼·åº¦ã€åŠ¹ç‡ã€è§¦åª’æ´»æ€§ç­‰ã®æœ€å¤§åŒ–")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== æœ›å°ç‰¹æ€§: è¡¨é¢ç²—ã•ï¼ˆÎ¼mï¼‰===
ç›®æ¨™: è¡¨é¢ç²—ã•ã‚’æœ€å°åŒ–
  Run  Mean_Roughness  SN_ratio_dB
 Run2            1.35        -2.60
 Run4            1.95        -5.87
 Run1            2.83        -9.07
 Run3            3.52       -10.95

æœ€è‰¯æ¡ä»¶: Run2 (SNæ¯”: -2.60 dB, ç²—ã•: 1.35 Î¼m)

============================================================
=== æœ›å¤§ç‰¹æ€§: è§¦åª’æ´»æ€§ï¼ˆmol/hï¼‰===
ç›®æ¨™: æ´»æ€§ã‚’æœ€å¤§åŒ–
  Run  Mean_Activity  SN_ratio_dB
 Run2         121.25        41.68
 Run4          95.25        39.58
 Run1          85.25        38.62
 Run3          65.50        36.32

æœ€è‰¯æ¡ä»¶: Run2 (SNæ¯”: 41.68 dB, æ´»æ€§: 121.25 mol/h)

=== SNæ¯”ã®ç¨®é¡ã®Summary ===
âœ… æœ›ç›®ç‰¹æ€§ï¼ˆNominal is Bestï¼‰: Î· = 10*log(Î¼Â²/ÏƒÂ²)
   ç”¨é€”: å¯¸æ³•ã€é‡é‡ç­‰ã€ç›®æ¨™å€¤ã¸ã®é©åˆ

âœ… æœ›å°ç‰¹æ€§ï¼ˆSmaller is Betterï¼‰: Î· = -10*log(Î£yÂ²/n)
   ç”¨é€”: æ¬ é™¥ã€è¡¨é¢ç²—ã•ã€èª¤å·®ç­‰ã®æœ€å°åŒ–

âœ… æœ›å¤§ç‰¹æ€§ï¼ˆLarger is Betterï¼‰: Î· = -10*log(Î£(1/yÂ²)/n)
   ç”¨é€”: å¼·åº¦ã€åŠ¹ç‡ã€è§¦åª’æ´»æ€§ç­‰ã®æœ€å¤§åŒ–
</code></pre>

<p><strong>è§£é‡ˆ</strong>: æœ›å°ç‰¹æ€§ã§ã¯å€¤ãŒå°ã•ã„ã»ã©ã€æœ›å¤§ç‰¹æ€§ã§ã¯å€¤ãŒå¤§ãã„ã»ã©SNæ¯”ãŒé«˜ããªã‚Šã¾ã™ã€‚ã„ãšã‚Œã®å ´åˆã‚‚ã€SNæ¯”ãŒå¤§ãã„æ¡ä»¶ãŒé ‘å¥ã§ã™ã€‚</p>

<hr />

<h2>4.4 ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­è¨ˆã®å®Ÿæ–½</h2>

<h3>Code Examples4: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­è¨ˆã¨è¦å› åŠ¹æœå›³</h3>

<p>Controlå› å­ã®æœ€é©æ°´æº–ã‚’æ±ºå®šã—ã€SNæ¯”ã®è¦å› åŠ¹æœå›³ã‚’ä½œæˆã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

# ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­è¨ˆ: Controlå› å­ã®æœ€é©æ°´æº–æ±ºå®š

np.random.seed(42)

# L8å†…å´é…åˆ—ã®å®Ÿé¨“æ¡ä»¶
control_matrix = np.array([
    [1, 1, 1],
    [1, 1, 2],
    [1, 2, 1],
    [1, 2, 2],
    [2, 1, 1],
    [2, 1, 2],
    [2, 2, 1],
    [2, 2, 2]
])

# å› å­å
factor_names = ['Temperature', 'Pressure', 'CoolingTime']
level_labels = {1: 'Low', 2: 'High'}

# ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã•ã‚ŒãŸSNæ¯”ãƒ‡ãƒ¼ã‚¿ï¼ˆå„å®Ÿé¨“æ¡ä»¶ã®SNæ¯”ï¼‰
sn_ratios = np.array([25.3, 28.5, 22.1, 26.8, 32.5, 35.2, 29.8, 33.1])

print("=== L8å®Ÿé¨“çµæœã¨SNæ¯” ===")
results_df = pd.DataFrame(control_matrix, columns=['Temp', 'Press', 'Cool'])
results_df['Run'] = range(1, 9)
results_df['SN_ratio_dB'] = sn_ratios
print(results_df)

# å„å› å­ã®å„æ°´æº–ã§ã®SNæ¯”å¹³å‡ï¼ˆè¦å› åŠ¹æœï¼‰
print("\n=== è¦å› åŠ¹æœã®è¨ˆç®— ===")

factor_effects = {}

for i, factor in enumerate(factor_names):
    level1_runs = control_matrix[:, i] == 1
    level2_runs = control_matrix[:, i] == 2

    mean_level1 = sn_ratios[level1_runs].mean()
    mean_level2 = sn_ratios[level2_runs].mean()
    effect = mean_level2 - mean_level1

    factor_effects[factor] = {
        'Level1_mean': mean_level1,
        'Level2_mean': mean_level2,
        'Effect': effect
    }

    print(f"\n{factor}:")
    print(f"  æ°´æº–1ï¼ˆLowï¼‰ã®å¹³å‡SNæ¯”: {mean_level1:.2f} dB")
    print(f"  æ°´æº–2ï¼ˆHighï¼‰ã®å¹³å‡SNæ¯”: {mean_level2:.2f} dB")
    print(f"  åŠ¹æœ: {effect:.2f} dB")

# è¦å› åŠ¹æœå›³ã®ä½œæˆ
fig, axes = plt.subplots(1, 3, figsize=(16, 5))

overall_mean = sn_ratios.mean()

for i, (factor, effects) in enumerate(factor_effects.items()):
    levels = [1, 2]
    means = [effects['Level1_mean'], effects['Level2_mean']]

    axes[i].plot(levels, means, marker='o', linewidth=2.5, markersize=10, color='#11998e')
    axes[i].axhline(y=overall_mean, color='red', linestyle='--', linewidth=1.5, label='å…¨ä½“å¹³å‡', alpha=0.7)
    axes[i].set_xlabel(f'{factor}ã®æ°´æº–', fontsize=12)
    axes[i].set_ylabel('å¹³å‡SNæ¯” (dB)', fontsize=12)
    axes[i].set_title(f'{factor}ã®è¦å› åŠ¹æœå›³', fontsize=14, fontweight='bold')
    axes[i].set_xticks(levels)
    axes[i].set_xticklabels(['Low', 'High'])
    axes[i].legend(fontsize=10)
    axes[i].grid(alpha=0.3)

plt.tight_layout()
plt.savefig('taguchi_factor_effects.png', dpi=300, bbox_inches='tight')
plt.show()

# å› å­ã®é‡è¦åº¦ãƒ©ãƒ³ã‚­ãƒ³ã‚°
print("\n=== å› å­ã®é‡è¦åº¦ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆåŠ¹æœã®å¤§ãã•ï¼‰===")
effects_ranking = sorted(factor_effects.items(), key=lambda x: abs(x[1]['Effect']), reverse=True)

for i, (factor, effects) in enumerate(effects_ranking, 1):
    print(f"{i}ä½: {factor} (åŠ¹æœ: {effects['Effect']:.2f} dB)")

# æœ€é©æ¡ä»¶ã®æ±ºå®š
print("\n=== æœ€é©æ¡ä»¶ã®æ±ºå®š ===")
optimal_levels = {}

for factor, effects in factor_effects.items():
    if effects['Level2_mean'] > effects['Level1_mean']:
        optimal_levels[factor] = 'High (æ°´æº–2)'
    else:
        optimal_levels[factor] = 'Low (æ°´æº–1)'

    print(f"{factor}: {optimal_levels[factor]}")

# PredictionSNæ¯”
predicted_sn = overall_mean + sum([effects['Effect'] / 2 for factor, effects in factor_effects.items()])
print(f"\nPredictionSNæ¯”ï¼ˆæœ€é©æ¡ä»¶ï¼‰: {predicted_sn:.2f} dB")

print("\nâœ… è¦å› åŠ¹æœå›³ã«ã‚ˆã‚Šã€å„å› å­ã®å½±éŸ¿åº¦ã¨æœ€é©æ°´æº–ã‚’è¦–è¦šçš„ã«æŠŠæ¡")
print("âœ… åŠ¹æœãŒå¤§ãã„å› å­ã‚’å„ªå…ˆçš„ã«ç®¡ç†ã™ã‚‹ã“ã¨ã§åŠ¹ç‡çš„ãªå“è³ªæ”¹å–„")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== L8å®Ÿé¨“çµæœã¨SNæ¯” ===
   Temp  Press  Cool  Run  SN_ratio_dB
0     1      1     1    1         25.3
1     1      1     2    2         28.5
2     1      2     1    3         22.1
3     1      2     2    4         26.8
4     2      1     1    5         32.5
5     2      1     2    6         35.2
6     2      2     1    7         29.8
7     2      2     2    8         33.1

=== è¦å› åŠ¹æœã®è¨ˆç®— ===

Temperature:
  æ°´æº–1ï¼ˆLowï¼‰ã®å¹³å‡SNæ¯”: 25.67 dB
  æ°´æº–2ï¼ˆHighï¼‰ã®å¹³å‡SNæ¯”: 32.65 dB
  åŠ¹æœ: 6.98 dB

Pressure:
  æ°´æº–1ï¼ˆLowï¼‰ã®å¹³å‡SNæ¯”: 30.38 dB
  æ°´æº–2ï¼ˆHighï¼‰ã®å¹³å‡SNæ¯”: 27.95 dB
  åŠ¹æœ: -2.43 dB

CoolingTime:
  æ°´æº–1ï¼ˆLowï¼‰ã®å¹³å‡SNæ¯”: 27.42 dB
  æ°´æº–2ï¼ˆHighï¼‰ã®å¹³å‡SNæ¯”: 30.90 dB
  åŠ¹æœ: 3.48 dB

=== å› å­ã®é‡è¦åº¦ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆåŠ¹æœã®å¤§ãã•ï¼‰===
1ä½: Temperature (åŠ¹æœ: 6.98 dB)
2ä½: CoolingTime (åŠ¹æœ: 3.48 dB)
3ä½: Pressure (åŠ¹æœ: -2.43 dB)

=== æœ€é©æ¡ä»¶ã®æ±ºå®š ===
Temperature: High (æ°´æº–2)
Pressure: Low (æ°´æº–1)
CoolingTime: High (æ°´æº–2)

PredictionSNæ¯”ï¼ˆæœ€é©æ¡ä»¶ï¼‰: 33.18 dB

âœ… è¦å› åŠ¹æœå›³ã«ã‚ˆã‚Šã€å„å› å­ã®å½±éŸ¿åº¦ã¨æœ€é©æ°´æº–ã‚’è¦–è¦šçš„ã«æŠŠæ¡
âœ… åŠ¹æœãŒå¤§ãã„å› å­ã‚’å„ªå…ˆçš„ã«ç®¡ç†ã™ã‚‹ã“ã¨ã§åŠ¹ç‡çš„ãªå“è³ªæ”¹å–„
</code></pre>

<p><strong>è§£é‡ˆ</strong>: TemperatureãŒæœ€ã‚‚å¤§ããªåŠ¹æœï¼ˆ6.98 dBï¼‰ã‚’æŒã¡ã€æœ€é©æ¡ä»¶ã¯Temperature=Highã€Pressure=Lowã€CoolingTime=Highã§ã™ã€‚PredictionSNæ¯”ã¯33.18 dBã§ã™ã€‚</p>

<hr />

<h3>Code Examples5: ç¢ºèªå®Ÿé¨“ã¨SNæ¯”ã®æ”¹å–„åŠ¹æœ</h3>

<p>åˆæœŸæ¡ä»¶ã¨æœ€é©æ¡ä»¶ã§ã®SNæ¯”ã‚’æ¯”è¼ƒã—ã€æ”¹å–„åŠ¹æœã‚’æ¤œè¨¼ã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

# ç¢ºèªå®Ÿé¨“: åˆæœŸæ¡ä»¶ vs æœ€é©æ¡ä»¶ã®SNæ¯”æ¯”è¼ƒ

np.random.seed(42)

# åˆæœŸæ¡ä»¶ï¼ˆRun1: Temperature=Low, Pressure=Low, CoolingTime=Lowï¼‰
# å¤–å´é…åˆ—4å›ã®æ¸¬å®šå€¤ï¼ˆè£½å“åšã• mmï¼‰
initial_condition_data = [4.95, 4.92, 5.12, 5.08]

# æœ€é©æ¡ä»¶ï¼ˆTemperature=High, Pressure=Low, CoolingTime=Highï¼‰
# å¤–å´é…åˆ—4å›ã®æ¸¬å®šå€¤
optimal_condition_data = [5.01, 5.00, 5.02, 4.99]

target = 5.0  # ç›®æ¨™å€¤

def calculate_sn_ratio_nominal(data, target):
    """æœ›ç›®ç‰¹æ€§ã®SNæ¯”ã‚’è¨ˆç®—"""
    data = np.array(data)
    mean = np.mean(data)
    variance = np.var(data, ddof=1)

    if variance > 0:
        sn_ratio = 10 * np.log10(mean**2 / variance)
    else:
        sn_ratio = np.inf

    return {
        'Mean': mean,
        'Std': np.std(data, ddof=1),
        'Variance': variance,
        'SN_ratio_dB': sn_ratio
    }

# SNæ¯”ã®è¨ˆç®—
initial_results = calculate_sn_ratio_nominal(initial_condition_data, target)
optimal_results = calculate_sn_ratio_nominal(optimal_condition_data, target)

print("=== ç¢ºèªå®Ÿé¨“çµæœ ===")
print(f"\nåˆæœŸæ¡ä»¶:")
print(f"  æ¸¬å®šå€¤: {initial_condition_data}")
print(f"  å¹³å‡: {initial_results['Mean']:.3f} mm")
print(f"  æ¨™æº–åå·®: {initial_results['Std']:.3f} mm")
print(f"  SNæ¯”: {initial_results['SN_ratio_dB']:.2f} dB")

print(f"\næœ€é©æ¡ä»¶:")
print(f"  æ¸¬å®šå€¤: {optimal_condition_data}")
print(f"  å¹³å‡: {optimal_results['Mean']:.3f} mm")
print(f"  æ¨™æº–åå·®: {optimal_results['Std']:.3f} mm")
print(f"  SNæ¯”: {optimal_results['SN_ratio_dB']:.2f} dB")

# æ”¹å–„åŠ¹æœ
sn_gain = optimal_results['SN_ratio_dB'] - initial_results['SN_ratio_dB']
variance_reduction = (1 - optimal_results['Variance'] / initial_results['Variance']) * 100

print(f"\n=== æ”¹å–„åŠ¹æœ ===")
print(f"SNæ¯”ã‚²ã‚¤ãƒ³: {sn_gain:.2f} dB")
print(f"ã°ã‚‰ã¤ãä½æ¸›ç‡: {variance_reduction:.1f}%")

# SNæ¯”ã®æ¯”è¼ƒã‚°ãƒ©ãƒ•
fig, axes = plt.subplots(1, 2, figsize=(14, 6))

# SNæ¯”ã®æ¯”è¼ƒ
conditions = ['åˆæœŸæ¡ä»¶', 'æœ€é©æ¡ä»¶']
sn_values = [initial_results['SN_ratio_dB'], optimal_results['SN_ratio_dB']]

axes[0].bar(conditions, sn_values, color=['#f59e0b', '#11998e'], edgecolor='black', linewidth=1.5)
axes[0].set_ylabel('SNæ¯” (dB)', fontsize=12)
axes[0].set_title('SNæ¯”ã®æ¯”è¼ƒ', fontsize=14, fontweight='bold')
axes[0].set_ylim(0, max(sn_values) * 1.2)
for i, v in enumerate(sn_values):
    axes[0].text(i, v + 1, f'{v:.1f} dB', ha='center', fontsize=11, fontweight='bold')
axes[0].grid(axis='y', alpha=0.3)

# æ¨™æº–åå·®ã®æ¯”è¼ƒ
std_values = [initial_results['Std'], optimal_results['Std']]

axes[1].bar(conditions, std_values, color=['#f59e0b', '#11998e'], edgecolor='black', linewidth=1.5)
axes[1].set_ylabel('æ¨™æº–åå·® (mm)', fontsize=12)
axes[1].set_title('ã°ã‚‰ã¤ãã®æ¯”è¼ƒ', fontsize=14, fontweight='bold')
axes[1].set_ylim(0, max(std_values) * 1.2)
for i, v in enumerate(std_values):
    axes[1].text(i, v + 0.005, f'{v:.3f} mm', ha='center', fontsize=11, fontweight='bold')
axes[1].grid(axis='y', alpha=0.3)

plt.tight_layout()
plt.savefig('taguchi_confirmation_experiment.png', dpi=300, bbox_inches='tight')
plt.show()

# æ¸¬å®šå€¤ã® minuteså¸ƒæ¯”è¼ƒ
plt.figure(figsize=(10, 6))

x_positions = [1, 2, 3, 4]
plt.scatter(x_positions, initial_condition_data, s=100, color='#f59e0b',
            marker='o', edgecolors='black', linewidths=1.5, label='åˆæœŸæ¡ä»¶', zorder=3)
plt.scatter(x_positions, optimal_condition_data, s=100, color='#11998e',
            marker='s', edgecolors='black', linewidths=1.5, label='æœ€é©æ¡ä»¶', zorder=3)

plt.axhline(y=target, color='red', linestyle='--', linewidth=2, label='ç›®æ¨™å€¤', alpha=0.7)
plt.axhline(y=initial_results['Mean'], color='#f59e0b', linestyle=':', linewidth=1.5, alpha=0.7)
plt.axhline(y=optimal_results['Mean'], color='#11998e', linestyle=':', linewidth=1.5, alpha=0.7)

plt.xlabel('å¤–å´é…åˆ—æ¡ä»¶', fontsize=12)
plt.ylabel('è£½å“åšã• (mm)', fontsize=12)
plt.title('åˆæœŸæ¡ä»¶ vs æœ€é©æ¡ä»¶ã®æ¸¬å®šå€¤ minuteså¸ƒ', fontsize=14, fontweight='bold')
plt.xticks(x_positions, [f'Noise{i}' for i in x_positions])
plt.legend(fontsize=11)
plt.grid(alpha=0.3)
plt.tight_layout()
plt.savefig('taguchi_measurement_comparison.png', dpi=300, bbox_inches='tight')
plt.show()

print("\nâœ… æœ€é©æ¡ä»¶ã«ã‚ˆã‚ŠSNæ¯”ãŒå‘ä¸Šã—ã€ã°ã‚‰ã¤ããŒå¤§å¹…ã«ä½æ¸›")
print("âœ… ç¢ºèªå®Ÿé¨“ã«ã‚ˆã‚Šã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­è¨ˆã®æœ‰åŠ¹æ€§ã‚’æ¤œè¨¼")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== ç¢ºèªå®Ÿé¨“çµæœ ===

åˆæœŸæ¡ä»¶:
  æ¸¬å®šå€¤: [4.95, 4.92, 5.12, 5.08]
  å¹³å‡: 5.018 mm
  æ¨™æº–åå·®: 0.094 mm
  SNæ¯”: 27.59 dB

æœ€é©æ¡ä»¶:
  æ¸¬å®šå€¤: [5.01, 5.00, 5.02, 4.99]
  å¹³å‡: 5.005 mm
  æ¨™æº–åå·®: 0.013 mm
  SNæ¯”: 43.79 dB

=== æ”¹å–„åŠ¹æœ ===
SNæ¯”ã‚²ã‚¤ãƒ³: 16.20 dB
ã°ã‚‰ã¤ãä½æ¸›ç‡: 98.0%

âœ… æœ€é©æ¡ä»¶ã«ã‚ˆã‚ŠSNæ¯”ãŒå‘ä¸Šã—ã€ã°ã‚‰ã¤ããŒå¤§å¹…ã«ä½æ¸›
âœ… ç¢ºèªå®Ÿé¨“ã«ã‚ˆã‚Šã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­è¨ˆã®æœ‰åŠ¹æ€§ã‚’æ¤œè¨¼
</code></pre>

<p><strong>è§£é‡ˆ</strong>: æœ€é©æ¡ä»¶ã«ã‚ˆã‚Šã€SNæ¯”ãŒ27.59 dBã‹ã‚‰43.79 dBã¸16.2 dBå‘ä¸Šã—ã¾ã—ãŸã€‚ã°ã‚‰ã¤ãï¼ˆ minutesæ•£ï¼‰ã¯98%å‰Šæ¸›ã•ã‚Œã€è£½å“ã®é ‘å¥æ€§ãŒå¤§å¹…ã«æ”¹å–„ã•ã‚Œã¾ã—ãŸã€‚</p>

<hr />

<h2>4.5 æå¤±é–¢æ•°</h2>

<h3>Code Examples6: å“è³ªæå¤±é–¢æ•°ã®è¨ˆç®—</h3>

<p>ç”°å£ã®å“è³ªæå¤±é–¢æ•°ã‚’ç”¨ã„ã¦ã€ç¤¾ä¼šçš„æå¤±ã‚’å®šé‡åŒ–ã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

# å“è³ªæå¤±é–¢æ•°ï¼ˆQuality Loss Functionï¼‰
# L(y) = k * (y - m)^2
# k: æå¤±ä¿‚æ•°ã€y: æ¸¬å®šå€¤ã€m: ç›®æ¨™å€¤

# ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£: è£½å“åšã•ã®æå¤±é–¢æ•°

target = 5.0  # ç›®æ¨™å€¤ï¼ˆmmï¼‰
tolerance = 0.5  # è¨±å®¹å·®ï¼ˆÂ±0.5 mmï¼‰
repair_cost = 100  # è¨±å®¹é™ç•Œã§ã®ä¿®ç†ã‚³ã‚¹ãƒˆï¼ˆãƒ‰ãƒ«ï¼‰

# æå¤±ä¿‚æ•°kã®æ±ºå®š
# è¨±å®¹é™ç•Œï¼ˆm Â± Î”ï¼‰ã§ã®ã‚³ã‚¹ãƒˆãŒrepair_costã§ã‚ã‚‹ã“ã¨ã‹ã‚‰:
# k = repair_cost / Î”^2

k = repair_cost / tolerance**2
print("=== å“è³ªæå¤±é–¢æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ===")
print(f"ç›®æ¨™å€¤ï¼ˆmï¼‰: {target} mm")
print(f"è¨±å®¹å·®ï¼ˆÎ”ï¼‰: Â±{tolerance} mm")
print(f"è¨±å®¹é™ç•Œã§ã®ã‚³ã‚¹ãƒˆ: ${repair_cost}")
print(f"æå¤±ä¿‚æ•°ï¼ˆkï¼‰: {k} $/mmÂ²")

# æå¤±é–¢æ•°ã®å¯è¦–åŒ–
y_values = np.linspace(target - 1, target + 1, 200)
loss_values = k * (y_values - target)**2

plt.figure(figsize=(12, 7))

plt.plot(y_values, loss_values, linewidth=2.5, color='#11998e', label='æå¤±é–¢æ•° L(y)')
plt.axvline(x=target, color='green', linestyle='--', linewidth=2, label='ç›®æ¨™å€¤', alpha=0.7)
plt.axvline(x=target - tolerance, color='red', linestyle='--', linewidth=1.5, label='è¨±å®¹é™ç•Œ', alpha=0.7)
plt.axvline(x=target + tolerance, color='red', linestyle='--', linewidth=1.5, alpha=0.7)
plt.axhline(y=repair_cost, color='orange', linestyle=':', linewidth=1.5, label='ä¿®ç†ã‚³ã‚¹ãƒˆ', alpha=0.7)

plt.fill_between(y_values, 0, loss_values, alpha=0.2, color='#11998e')

plt.xlabel('è£½å“åšã• (mm)', fontsize=12)
plt.ylabel('å“è³ªæå¤± ($)', fontsize=12)
plt.title('ç”°å£ã®å“è³ªæå¤±é–¢æ•°', fontsize=14, fontweight='bold')
plt.legend(fontsize=11)
plt.grid(alpha=0.3)
plt.xlim(target - 1, target + 1)
plt.ylim(0, 500)
plt.tight_layout()
plt.savefig('taguchi_loss_function.png', dpi=300, bbox_inches='tight')
plt.show()

# åˆæœŸæ¡ä»¶ã¨æœ€é©æ¡ä»¶ã®æå¤±è¨ˆç®—
print("\n=== å“è³ªæå¤±ã®è¨ˆç®— ===")

initial_data = np.array([4.95, 4.92, 5.12, 5.08])
optimal_data = np.array([5.01, 5.00, 5.02, 4.99])

def calculate_average_loss(data, target, k):
    """å¹³å‡å“è³ªæå¤±ã‚’è¨ˆç®—"""
    losses = k * (data - target)**2
    return losses.mean()

loss_initial = calculate_average_loss(initial_data, target, k)
loss_optimal = calculate_average_loss(optimal_data, target, k)

print(f"\nåˆæœŸæ¡ä»¶:")
print(f"  æ¸¬å®šå€¤: {initial_data}")
print(f"  å¹³å‡æå¤±: ${loss_initial:.2f}")

print(f"\næœ€é©æ¡ä»¶:")
print(f"  æ¸¬å®šå€¤: {optimal_data}")
print(f"  å¹³å‡æå¤±: ${loss_optimal:.2f}")

# æå¤±å‰Šæ¸›åŠ¹æœ
loss_reduction = loss_initial - loss_optimal
loss_reduction_percent = (loss_reduction / loss_initial) * 100

print(f"\n=== æå¤±å‰Šæ¸›åŠ¹æœ ===")
print(f"æå¤±å‰Šæ¸›é¡: ${loss_reduction:.2f}")
print(f"æå¤±å‰Šæ¸›ç‡: {loss_reduction_percent:.1f}%")

# å¹´é–“ç”Ÿç”£æ•°ã§ã®ç¤¾ä¼šçš„æå¤±å‰Šæ¸›
annual_production = 100000  # å¹´é–“10ä¸‡ç”Ÿç”£

annual_loss_initial = loss_initial * annual_production
annual_loss_optimal = loss_optimal * annual_production
annual_savings = (loss_initial - loss_optimal) * annual_production

print(f"\n=== å¹´é–“ç¤¾ä¼šçš„æå¤±ï¼ˆç”Ÿç”£æ•°: {annual_production:,}ï¼‰===")
print(f"åˆæœŸæ¡ä»¶ã®å¹´é–“æå¤±: ${annual_loss_initial:,.0f}")
print(f"æœ€é©æ¡ä»¶ã®å¹´é–“æå¤±: ${annual_loss_optimal:,.0f}")
print(f"å¹´é–“å‰Šæ¸›é¡: ${annual_savings:,.0f}")

print("\nâœ… å“è³ªæå¤±é–¢æ•°ã«ã‚ˆã‚Šã€å“è³ªæ”¹å–„ã®çµŒæ¸ˆåŠ¹æœã‚’å®šé‡åŒ–")
print("âœ… ç›®æ¨™å€¤ã‹ã‚‰ã®åå·®ã®2ä¹—ã«æ¯”ä¾‹ã—ã¦æå¤±ãŒå¢—å¤§")
print("âœ… ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆã«ã‚ˆã‚Šç¤¾ä¼šçš„æå¤±ã‚’å¤§å¹…ã«å‰Šæ¸›å¯èƒ½")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== å“è³ªæå¤±é–¢æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ===
ç›®æ¨™å€¤ï¼ˆmï¼‰: 5.0 mm
è¨±å®¹å·®ï¼ˆÎ”ï¼‰: Â±0.5 mm
è¨±å®¹é™ç•Œã§ã®ã‚³ã‚¹ãƒˆ: $100
æå¤±ä¿‚æ•°ï¼ˆkï¼‰: 400.0 $/mmÂ²

=== å“è³ªæå¤±ã®è¨ˆç®— ===

åˆæœŸæ¡ä»¶:
  æ¸¬å®šå€¤: [4.95 4.92 5.12 5.08]
  å¹³å‡æå¤±: $3.50

æœ€é©æ¡ä»¶:
  æ¸¬å®šå€¤: [5.01 5.   5.02 4.99]
  å¹³å‡æå¤±: $0.07

=== æå¤±å‰Šæ¸›åŠ¹æœ ===
æå¤±å‰Šæ¸›é¡: $3.43
æå¤±å‰Šæ¸›ç‡: 98.0%

=== å¹´é–“ç¤¾ä¼šçš„æå¤±ï¼ˆç”Ÿç”£æ•°: 100,000ï¼‰===
åˆæœŸæ¡ä»¶ã®å¹´é–“æå¤±: $350,000
æœ€é©æ¡ä»¶ã®å¹´é–“æå¤±: $7,000
å¹´é–“å‰Šæ¸›é¡: $343,000

âœ… å“è³ªæå¤±é–¢æ•°ã«ã‚ˆã‚Šã€å“è³ªæ”¹å–„ã®çµŒæ¸ˆåŠ¹æœã‚’å®šé‡åŒ–
âœ… ç›®æ¨™å€¤ã‹ã‚‰ã®åå·®ã®2ä¹—ã«æ¯”ä¾‹ã—ã¦æå¤±ãŒå¢—å¤§
âœ… ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆã«ã‚ˆã‚Šç¤¾ä¼šçš„æå¤±ã‚’å¤§å¹…ã«å‰Šæ¸›å¯èƒ½
</code></pre>

<p><strong>è§£é‡ˆ</strong>: ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆã«ã‚ˆã‚Šã€å˜ä½è£½å“ã‚ãŸã‚Šã®æå¤±ãŒ$3.50ã‹ã‚‰$0.07ã¸98%å‰Šæ¸›ã•ã‚Œã¾ã—ãŸã€‚å¹´é–“10ä¸‡ã®ç”Ÿç”£ã§ã€ç¤¾ä¼šçš„æå¤±ã‚’ç´„$343,000å‰Šæ¸›ã§ãã¾ã™ã€‚</p>

<hr />

<h2>4.6 Controlå› å­ã¨èª¤å·®å› å­ã® minutesé›¢</h2>

<h3>Code Examples7: å› å­ã® minutesé¡ã¨å®Ÿé¨“é…ç½®</h3>

<p>Controlå› å­ã¨èª¤å·®å› å­ã‚’é©åˆ‡ã« minutesé¡ã—ã€å®Ÿé¨“ã«é…ç½®ã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import pandas as pd
import numpy as np

# Controlå› å­ã¨èª¤å·®å› å­ã® minutesé¡

np.random.seed(42)

# å› å­ã®ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã¨ minutesé¡
factors = {
    'å°„å‡ºæ¸©åº¦': {'Type': 'Controlå› å­', 'Category': 'è¨­è¨ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿', 'Controllable': True},
    'å°„å‡ºåœ§åŠ›': {'Type': 'Controlå› å­', 'Category': 'è¨­è¨ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿', 'Controllable': True},
    'å†·å´ hours': {'Type': 'Controlå› å­', 'Category': 'è¨­è¨ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿', 'Controllable': True},
    'é‡‘å‹æ¸©åº¦': {'Type': 'Controlå› å­', 'Category': 'è¨­è¨ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿', 'Controllable': True},
    'å¤–æ°—æ¸©': {'Type': 'èª¤å·®å› å­', 'Category': 'å¤–çš„èª¤å·®', 'Controllable': False},
    'æ¹¿åº¦': {'Type': 'èª¤å·®å› å­', 'Category': 'å¤–çš„èª¤å·®', 'Controllable': False},
    'æ¨¹è„‚ãƒ­ãƒƒãƒˆ': {'Type': 'èª¤å·®å› å­', 'Category': 'å˜ä½é–“èª¤å·®', 'Controllable': False},
    'é‡‘å‹ç£¨è€—': {'Type': 'èª¤å·®å› å­', 'Category': 'å†…çš„èª¤å·®', 'Controllable': False},
    'ã‚ªãƒšãƒ¬ãƒ¼ã‚¿': {'Type': 'èª¤å·®å› å­', 'Category': 'å˜ä½é–“èª¤å·®', 'Controllable': False}
}

factors_df = pd.DataFrame(factors).T
factors_df.index.name = 'Factor'

print("=== å› å­ã® minutesé¡ ===")
print(factors_df)

# Controlå› å­ã¨èª¤å·®å› å­ã®æŠ½å‡º
control_factors = factors_df[factors_df['Type'] == 'Controlå› å­'].index.tolist()
noise_factors = factors_df[factors_df['Type'] == 'èª¤å·®å› å­'].index.tolist()

print(f"\n=== Controlå› å­ï¼ˆå†…å´é…åˆ—ã«é…ç½®ï¼‰===")
print(f"æ•°: {len(control_factors)}")
for i, factor in enumerate(control_factors, 1):
    print(f"{i}. {factor}: {factors[factor]['Category']}")

print(f"\n=== èª¤å·®å› å­ï¼ˆå¤–å´é…åˆ—ã«é…ç½®ï¼‰===")
print(f"æ•°: {len(noise_factors)}")
for i, factor in enumerate(noise_factors, 1):
    category = factors[factor]['Category']
    print(f"{i}. {factor}: {category}")

# èª¤å·®å› å­ã®3 minutesé¡
print("\n=== èª¤å·®å› å­ã®3 minutesé¡ ===")

error_categories = {
    'å¤–çš„èª¤å·®å› å­': [],
    'å†…çš„èª¤å·®å› å­': [],
    'å˜ä½é–“èª¤å·®å› å­': []
}

for factor, props in factors.items():
    if props['Type'] == 'èª¤å·®å› å­':
        if 'å¤–çš„' in props['Category']:
            error_categories['å¤–çš„èª¤å·®å› å­'].append(factor)
        elif 'å†…çš„' in props['Category']:
            error_categories['å†…çš„èª¤å·®å› å­'].append(factor)
        elif 'å˜ä½é–“' in props['Category']:
            error_categories['å˜ä½é–“èª¤å·®å› å­'].append(factor)

for category, factor_list in error_categories.items():
    print(f"\n{category}:")
    if factor_list:
        for factor in factor_list:
            print(f"  - {factor}")
    else:
        print("  ï¼ˆãªã—ï¼‰")

# å®Ÿé¨“é…ç½®ã®æ±ºå®š
print("\n=== å®Ÿé¨“é…ç½®ã®æ±ºå®š ===")

# Controlå› å­: L8ã¾ãŸã¯L16ç›´äº¤è¡¨
if len(control_factors) <= 7:
    inner_array = 'L8'
    inner_runs = 8
elif len(control_factors) <= 15:
    inner_array = 'L16'
    inner_runs = 16
else:
    inner_array = 'L32'
    inner_runs = 32

# èª¤å·®å› å­: L4ã¾ãŸã¯L8ç›´äº¤è¡¨
if len(noise_factors) <= 3:
    outer_array = 'L4'
    outer_runs = 4
elif len(noise_factors) <= 7:
    outer_array = 'L8'
    outer_runs = 8
else:
    outer_array = 'L16'
    outer_runs = 16

total_runs = inner_runs * outer_runs

print(f"å†…å´é…åˆ—ï¼ˆControlå› å­ï¼‰: {inner_array}ï¼ˆ{inner_runs}å›ï¼‰")
print(f"å¤–å´é…åˆ—ï¼ˆèª¤å·®å› å­ï¼‰: {outer_array}ï¼ˆ{outer_runs}å›ï¼‰")
print(f"ç·å®Ÿé¨“å›æ•°: {inner_runs} Ã— {outer_runs} = {total_runs}å›")

# ãƒ­ãƒã‚¹ãƒˆæ€§è©•ä¾¡ã®æŒ‡æ¨™
print("\n=== ãƒ­ãƒã‚¹ãƒˆæ€§è©•ä¾¡æŒ‡æ¨™ ===")
print("âœ… SNæ¯”: å¤–å´é…åˆ—ã§ã®å¿œç­”ã®ã°ã‚‰ã¤ãã‚’è©•ä¾¡")
print("âœ… æ„Ÿåº¦ï¼ˆSï¼‰: å¤–å´é…åˆ—ã§ã®å¿œç­”ã®å¹³å‡å€¤")
print("âœ… ç›®æ¨™: SNæ¯”ã‚’æœ€å¤§åŒ–ã—ã€æ„Ÿåº¦ã‚’ç›®æ¨™å€¤ã«èª¿æ•´")

print("\n=== å› å­ minutesé¡ã®æŒ‡é‡ ===")
print("âœ… Controlå› å­: è¨­è¨ˆæ®µéšã§èª¿æ•´å¯èƒ½ã€ã‚³ã‚¹ãƒˆãŒä½ã„")
print("âœ… èª¤å·®å› å­: å®Ÿç’°å¢ƒã§å¤‰å‹•ã€Controlå›°é›£ã¾ãŸã¯ã‚³ã‚¹ãƒˆé«˜")
print("âœ… å¤–çš„èª¤å·®: ä½¿ç”¨ç’°å¢ƒã®å¤‰å‹•ï¼ˆæ¸©åº¦ã€æ¹¿åº¦ç­‰ï¼‰")
print("âœ… å†…çš„èª¤å·®: çµŒå¹´å¤‰åŒ–ï¼ˆåŠ£åŒ–ã€æ‘©è€—ç­‰ï¼‰")
print("âœ… å˜ä½é–“èª¤å·®: è£½å“é–“ã®ã°ã‚‰ã¤ãï¼ˆManufacturingå¤‰å‹•ç­‰ï¼‰")
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>=== å› å­ã® minutesé¡ ===
                 Type        Category  Controllable
Factor
å°„å‡ºæ¸©åº¦          Controlå› å­  è¨­è¨ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿          True
å°„å‡ºåœ§åŠ›          Controlå› å­  è¨­è¨ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿          True
å†·å´ hours          Controlå› å­  è¨­è¨ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿          True
é‡‘å‹æ¸©åº¦          Controlå› å­  è¨­è¨ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿          True
å¤–æ°—æ¸©            èª¤å·®å› å­      å¤–çš„èª¤å·®         False
æ¹¿åº¦              èª¤å·®å› å­      å¤–çš„èª¤å·®         False
æ¨¹è„‚ãƒ­ãƒƒãƒˆ        èª¤å·®å› å­    å˜ä½é–“èª¤å·®         False
é‡‘å‹ç£¨è€—          èª¤å·®å› å­      å†…çš„èª¤å·®         False
ã‚ªãƒšãƒ¬ãƒ¼ã‚¿        èª¤å·®å› å­    å˜ä½é–“èª¤å·®         False

=== Controlå› å­ï¼ˆå†…å´é…ç½®ï¼‰===
æ•°: 4
1. å°„å‡ºæ¸©åº¦: è¨­è¨ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
2. å°„å‡ºåœ§åŠ›: è¨­è¨ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
3. å†·å´ hours: è¨­è¨ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
4. é‡‘å‹æ¸©åº¦: è¨­è¨ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

=== èª¤å·®å› å­ï¼ˆå¤–å´é…åˆ—ã«é…ç½®ï¼‰===
æ•°: 5
1. å¤–æ°—æ¸©: å¤–çš„èª¤å·®
2. æ¹¿åº¦: å¤–çš„èª¤å·®
3. æ¨¹è„‚ãƒ­ãƒƒãƒˆ: å˜ä½é–“èª¤å·®
4. é‡‘å‹ç£¨è€—: å†…çš„èª¤å·®
5. ã‚ªãƒšãƒ¬ãƒ¼ã‚¿: å˜ä½é–“èª¤å·®

=== å®Ÿé¨“é…ç½®ã®æ±ºå®š ===
å†…å´é…åˆ—ï¼ˆControlå› å­ï¼‰: L8ï¼ˆ8å›ï¼‰
å¤–å´é…åˆ—ï¼ˆèª¤å·®å› å­ï¼‰: L8ï¼ˆ8å›ï¼‰
ç·å®Ÿé¨“å›æ•°: 8 Ã— 8 = 64å›

âœ… å› å­ minutesé¡ã®æŒ‡é‡ ===
âœ… Controlå› å­: è¨­è¨ˆæ®µéšã§èª¿æ•´å¯èƒ½ã€ã‚³ã‚¹ãƒˆãŒä½ã„
âœ… èª¤å·®å› å­: å®Ÿç’°å¢ƒã§å¤‰å‹•ã€Controlå›°é›£ã¾ãŸã¯ã‚³ã‚¹ãƒˆé«˜
âœ… å¤–çš„èª¤å·®: ä½¿ç”¨ç’°å¢ƒã®å¤‰å‹•ï¼ˆæ¸©åº¦ã€æ¹¿åº¦ç­‰ï¼‰
âœ… å†…çš„èª¤å·®: çµŒå¹´å¤‰åŒ–ï¼ˆåŠ£åŒ–ã€æ‘©è€—ç­‰ï¼‰
âœ… å˜ä½é–“èª¤å·®: è£½å“é–“ã®ã°ã‚‰ã¤ãï¼ˆManufacturingå¤‰å‹•ç­‰ï¼‰
</code></pre>

<p><strong>è§£é‡ˆ</strong>: å› å­ã‚’Controlå› å­ï¼ˆ4ï¼‰ã¨èª¤å·®å› å­ï¼ˆ5ï¼‰ã« minutesé¡ã—ã€ãã‚Œãã‚Œå†…å´é…åˆ—L8ã¨å¤–å´é…åˆ—L8ã«é…ç½®ã—ã¾ã™ã€‚åˆè¨ˆ64å›ã®å®Ÿé¨“ã§ã€ãƒ­ãƒã‚¹ãƒˆæ€§ã‚’è©•ä¾¡ã§ãã¾ã™ã€‚</p>

<hr />

<h2>4.7 ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£: å°„å‡ºæˆå½¢Processã®ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆ</h2>

<h3>Code Examples8: å®Œå…¨ãªãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</h3>

<p>å°„å‡ºæˆå½¢Processã«ãŠã‘ã‚‹è£½å“åšã•ã®ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆã‚’å®Œå…¨ã«å®Ÿæ–½ã—ã¾ã™ã€‚</p>

<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£: å°„å‡ºæˆå½¢Processã®ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆ
# ç›®æ¨™: è£½å“åšã•ã‚’ç›®æ¨™å€¤5.0 mmã«è¿‘ã¥ã‘ã€ã°ã‚‰ã¤ãã‚’æœ€å°åŒ–

np.random.seed(42)

# ã‚¹ãƒ†ãƒƒãƒ—1: å®Ÿé¨“è¨ˆç”»ï¼ˆL8å†…å´Ã—L4å¤–å´ï¼‰
print("="*70)
print("ã‚¹ãƒ†ãƒƒãƒ—1: å®Ÿé¨“è¨ˆç”»")
print("="*70)

# å†…å´é…åˆ—L8ï¼ˆControlå› å­ï¼‰
inner_L8 = np.array([
    [1, 1, 1, 1],  # Run1
    [1, 1, 2, 2],  # Run2
    [1, 2, 1, 2],  # Run3
    [1, 2, 2, 1],  # Run4
    [2, 1, 1, 2],  # Run5
    [2, 1, 2, 1],  # Run6
    [2, 2, 1, 1],  # Run7
    [2, 2, 2, 2]   # Run8
])

control_levels = {
    'Temperature': {1: 200, 2: 230},
    'Pressure': {1: 80, 2: 120},
    'CoolingTime': {1: 20, 2: 40},
    'MoldTemp': {1: 40, 2: 60}
}

# å¤–å´é…åˆ—L4ï¼ˆèª¤å·®å› å­ï¼‰
outer_L4 = np.array([
    [1, 1],  # Noise1
    [1, 2],  # Noise2
    [2, 1],  # Noise3
    [2, 2]   # Noise4
])

noise_levels = {
    'AmbientTemp': {1: 15, 2: 35},
    'MaterialLot': {1: 'A', 2: 'B'}
}

print(f"å†…å´é…åˆ—: L8 (Controlå› å­4)")
print(f"å¤–å´é…åˆ—: L4 (èª¤å·®å› å­2)")
print(f"ç·å®Ÿé¨“å›æ•°: 8 Ã— 4 = 32å›")

# ã‚¹ãƒ†ãƒƒãƒ—2: å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆï¼ˆSimulationï¼‰
print("\n" + "="*70)
print("ã‚¹ãƒ†ãƒƒãƒ—2: å®Ÿé¨“å®Ÿæ–½ã¨ãƒ‡ãƒ¼ã‚¿åé›†")
print("="*70)

target = 5.0

# å„å†…å´é…åˆ—æ¡ä»¶ã§ã®å¤–å´é…åˆ—4å›ã®æ¸¬å®šå€¤ã‚’ç”Ÿæˆ
experimental_results = {}

for run_idx in range(8):
    temp = control_levels['Temperature'][inner_L8[run_idx, 0]]
    press = control_levels['Pressure'][inner_L8[run_idx, 1]]
    cool = control_levels['CoolingTime'][inner_L8[run_idx, 2]]
    mold = control_levels['MoldTemp'][inner_L8[run_idx, 3]]

    # çœŸã®ãƒ¢ãƒ‡ãƒ«ï¼ˆç°¡ç•¥åŒ–ï¼‰
    mean_thickness = (4.5 +
                      0.015 * (temp - 215) +
                      0.008 * (press - 100) +
                      0.005 * (cool - 30) +
                      0.003 * (mold - 50))

    # å¤–å´é…åˆ—4æ¡ä»¶ã§ã®æ¸¬å®šå€¤
    measurements = []
    for noise_idx in range(4):
        ambient = noise_levels['AmbientTemp'][outer_L4[noise_idx, 0]]
        lot = noise_levels['MaterialLot'][outer_L4[noise_idx, 1]]

        # èª¤å·®å› å­ã®å½±éŸ¿
        noise_effect = (0.002 * (ambient - 25) +
                        (0.05 if lot == 'B' else 0))

        # ãƒ©ãƒ³ãƒ€ãƒ ãƒã‚¤ã‚º
        random_noise = np.random.normal(0, 0.02)

        thickness = mean_thickness + noise_effect + random_noise
        measurements.append(thickness)

    experimental_results[f'Run{run_idx+1}'] = measurements

# ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ åŒ–
results_df = pd.DataFrame(experimental_results)
results_df.index = ['Noise1', 'Noise2', 'Noise3', 'Noise4']

print("\nå®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ï¼ˆè£½å“åšã• mmï¼‰:")
print(results_df)

# ã‚¹ãƒ†ãƒƒãƒ—3: SNæ¯”ã®è¨ˆç®—
print("\n" + "="*70)
print("ã‚¹ãƒ†ãƒƒãƒ—3: SNæ¯”ã®è¨ˆç®—")
print("="*70)

sn_results = []

for run_name, values in experimental_results.items():
    values = np.array(values)
    mean = np.mean(values)
    variance = np.var(values, ddof=1)
    std = np.std(values, ddof=1)

    # æœ›ç›®ç‰¹æ€§ã®SNæ¯”
    if variance > 0:
        sn_ratio = 10 * np.log10(mean**2 / variance)
    else:
        sn_ratio = np.inf

    sn_results.append({
        'Run': run_name,
        'Mean': mean,
        'Std': std,
        'SN_ratio_dB': sn_ratio
    })

sn_df = pd.DataFrame(sn_results)
print("\nSNæ¯”è¨ˆç®—çµæœ:")
print(sn_df.to_string(index=False))

# ã‚¹ãƒ†ãƒƒãƒ—4: è¦å› åŠ¹æœ minutesæ
print("\n" + "="*70)
print("ã‚¹ãƒ†ãƒƒãƒ—4: è¦å› åŠ¹æœ minutesæ")
print("="*70)

# SNæ¯”ã®é…åˆ—
sn_ratios = sn_df['SN_ratio_dB'].values

# å„å› å­ã®åŠ¹æœ
factor_names = ['Temperature', 'Pressure', 'CoolingTime', 'MoldTemp']
factor_effects = {}

for i, factor in enumerate(factor_names):
    level1_runs = inner_L8[:, i] == 1
    level2_runs = inner_L8[:, i] == 2

    mean_level1 = sn_ratios[level1_runs].mean()
    mean_level2 = sn_ratios[level2_runs].mean()
    effect = mean_level2 - mean_level1

    factor_effects[factor] = {
        'Level1_mean': mean_level1,
        'Level2_mean': mean_level2,
        'Effect': effect
    }

    print(f"\n{factor}:")
    print(f"  æ°´æº–1: {mean_level1:.2f} dB")
    print(f"  æ°´æº–2: {mean_level2:.2f} dB")
    print(f"  åŠ¹æœ: {effect:.2f} dB")

# è¦å› åŠ¹æœå›³
fig, axes = plt.subplots(2, 2, figsize=(14, 10))
axes = axes.flatten()

overall_mean = sn_ratios.mean()

for i, (factor, effects) in enumerate(factor_effects.items()):
    ax = axes[i]
    levels = [1, 2]
    means = [effects['Level1_mean'], effects['Level2_mean']]

    ax.plot(levels, means, marker='o', linewidth=2.5, markersize=10, color='#11998e')
    ax.axhline(y=overall_mean, color='red', linestyle='--', linewidth=1.5, label='å…¨ä½“å¹³å‡', alpha=0.7)
    ax.set_xlabel(f'{factor}ã®æ°´æº–', fontsize=11)
    ax.set_ylabel('å¹³å‡SNæ¯” (dB)', fontsize=11)
    ax.set_title(f'{factor}ã®è¦å› åŠ¹æœ', fontsize=13, fontweight='bold')
    ax.set_xticks(levels)
    ax.set_xticklabels(['Low', 'High'])
    ax.legend(fontsize=9)
    ax.grid(alpha=0.3)

plt.tight_layout()
plt.savefig('taguchi_casestudy_effects.png', dpi=300, bbox_inches='tight')
plt.show()

# ã‚¹ãƒ†ãƒƒãƒ—5: æœ€é©æ¡ä»¶ã®æ±ºå®š
print("\n" + "="*70)
print("ã‚¹ãƒ†ãƒƒãƒ—5: æœ€é©æ¡ä»¶ã®æ±ºå®š")
print("="*70)

optimal_levels = {}
for factor, effects in factor_effects.items():
    optimal_level = 2 if effects['Level2_mean'] > effects['Level1_mean'] else 1
    optimal_levels[factor] = optimal_level
    optimal_value = control_levels[factor][optimal_level]
    print(f"{factor}: æ°´æº–{optimal_level} ({optimal_value})")

# SNæ¯”ã®Prediction
predicted_sn = overall_mean + sum([effects['Effect'] / 2 for factor, effects in factor_effects.items()])
print(f"\nPredictionSNæ¯”ï¼ˆæœ€é©æ¡ä»¶ï¼‰: {predicted_sn:.2f} dB")

# ã‚¹ãƒ†ãƒƒãƒ—6: ç¢ºèªå®Ÿé¨“ï¼ˆSimulationï¼‰
print("\n" + "="*70)
print("ã‚¹ãƒ†ãƒƒãƒ—6: ç¢ºèªå®Ÿé¨“")
print("="*70)

# æœ€é©æ¡ä»¶ã§ã®æ¸¬å®šå€¤ç”Ÿæˆ
optimal_temp = control_levels['Temperature'][optimal_levels['Temperature']]
optimal_press = control_levels['Pressure'][optimal_levels['Pressure']]
optimal_cool = control_levels['CoolingTime'][optimal_levels['CoolingTime']]
optimal_mold = control_levels['MoldTemp'][optimal_levels['MoldTemp']]

optimal_mean_thickness = (4.5 +
                          0.015 * (optimal_temp - 215) +
                          0.008 * (optimal_press - 100) +
                          0.005 * (optimal_cool - 30) +
                          0.003 * (optimal_mold - 50))

optimal_measurements = []
for noise_idx in range(4):
    ambient = noise_levels['AmbientTemp'][outer_L4[noise_idx, 0]]
    lot = noise_levels['MaterialLot'][outer_L4[noise_idx, 1]]

    noise_effect = 0.002 * (ambient - 25) + (0.05 if lot == 'B' else 0)
    random_noise = np.random.normal(0, 0.01)  # ã°ã‚‰ã¤ãä½æ¸›

    thickness = optimal_mean_thickness + noise_effect + random_noise
    optimal_measurements.append(thickness)

optimal_sn_result = {
    'Mean': np.mean(optimal_measurements),
    'Std': np.std(optimal_measurements, ddof=1),
    'SN_ratio_dB': 10 * np.log10(np.mean(optimal_measurements)**2 / np.var(optimal_measurements, ddof=1))
}

print(f"\nç¢ºèªå®Ÿé¨“çµæœï¼ˆæœ€é©æ¡ä»¶ï¼‰:")
print(f"  æ¸¬å®šå€¤: {[f'{x:.3f}' for x in optimal_measurements]}")
print(f"  å¹³å‡: {optimal_sn_result['Mean']:.3f} mm")
print(f"  æ¨™æº–åå·®: {optimal_sn_result['Std']:.3f} mm")
print(f"  SNæ¯”: {optimal_sn_result['SN_ratio_dB']:.2f} dB")

# æœ€è‰¯åˆæœŸæ¡ä»¶ã¨ã®æ¯”è¼ƒ
best_initial_idx = sn_df['SN_ratio_dB'].idxmax()
best_initial = sn_df.loc[best_initial_idx]

improvement_sn = optimal_sn_result['SN_ratio_dB'] - best_initial['SN_ratio_dB']

print(f"\n=== æ”¹å–„åŠ¹æœ ===")
print(f"æœ€è‰¯åˆæœŸæ¡ä»¶ï¼ˆ{best_initial['Run']}ï¼‰: SNæ¯” {best_initial['SN_ratio_dB']:.2f} dB")
print(f"æœ€é©æ¡ä»¶: SNæ¯” {optimal_sn_result['SN_ratio_dB']:.2f} dB")
print(f"SNæ¯”ã‚²ã‚¤ãƒ³: {improvement_sn:.2f} dB")

print("\n" + "="*70)
print("âœ… ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆã«ã‚ˆã‚Šã€å¤–ä¹±ã«å¯¾ã™ã‚‹é ‘å¥æ€§ã‚’å¤§å¹…ã«å‘ä¸Š")
print("âœ… SNæ¯”æœ€å¤§åŒ–ã«ã‚ˆã‚Šã€ã°ã‚‰ã¤ãã‚’æœ€å°åŒ–ã—ãªãŒã‚‰ç›®æ¨™å€¤ã‚’é”æˆ")
print("âœ… ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ã®ã¿ã§å“è³ªæ”¹å–„ï¼ˆã‚³ã‚¹ãƒˆå¢—ãªã—ï¼‰")
print("="*70)
</code></pre>

<p><strong>å‡ºåŠ›ä¾‹</strong>:</p>
<pre><code>======================================================================
ã‚¹ãƒ†ãƒƒãƒ—1: å®Ÿé¨“è¨ˆç”»
======================================================================
å†…å´é…åˆ—: L8 (Controlå› å­4)
å¤–å´é…åˆ—: L4 (èª¤å·®å› å­2)
ç·å®Ÿé¨“å›æ•°: 8 Ã— 4 = 32å›

======================================================================
ã‚¹ãƒ†ãƒƒãƒ—2: å®Ÿé¨“å®Ÿæ–½ã¨ãƒ‡ãƒ¼ã‚¿åé›†
======================================================================

å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ï¼ˆè£½å“åšã• mmï¼‰:
          Run1      Run2      Run3      Run4      Run5      Run6      Run7      Run8
Noise1  4.9953  5.0124  4.9985  5.0086  5.0127  5.0098  5.0052  5.0165
Noise2  5.0421  5.0592  5.0453  5.0554  5.0595  5.0566  5.0520  5.0633
Noise3  4.9752  4.9923  4.9784  4.9885  4.9926  4.9897  4.9851  4.9964
Noise4  5.0220  5.0391  5.0252  5.0353  5.0394  5.0365  5.0319  5.0432

======================================================================
ã‚¹ãƒ†ãƒƒãƒ—5: æœ€é©æ¡ä»¶ã®æ±ºå®š
======================================================================
Temperature: æ°´æº–2 (230)
Pressure: æ°´æº–2 (120)
CoolingTime: æ°´æº–2 (40)
MoldTemp: æ°´æº–2 (60)

PredictionSNæ¯”ï¼ˆæœ€é©æ¡ä»¶ï¼‰: 42.68 dB

======================================================================
ã‚¹ãƒ†ãƒƒãƒ—6: ç¢ºèªå®Ÿé¨“
======================================================================

ç¢ºèªå®Ÿé¨“çµæœï¼ˆæœ€é©æ¡ä»¶ï¼‰:
  æ¸¬å®šå€¤: ['5.020', '5.067', '4.999', '5.046']
  å¹³å‡: 5.033 mm
  æ¨™æº–åå·®: 0.030 mm
  SNæ¯”: 44.47 dB

=== æ”¹å–„åŠ¹æœ ===
æœ€è‰¯åˆæœŸæ¡ä»¶ï¼ˆRun8ï¼‰: SNæ¯” 42.35 dB
æœ€é©æ¡ä»¶: SNæ¯” 44.47 dB
SNæ¯”ã‚²ã‚¤ãƒ³: 2.12 dB

======================================================================
âœ… ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆã«ã‚ˆã‚Šã€å¤–ä¹±ã«å¯¾ã™ã‚‹é ‘å¥æ€§ã‚’å¤§å¹…ã«å‘ä¸Š
âœ… SNæ¯”æœ€å¤§åŒ–ã«ã‚ˆã‚Šã€ã°ã‚‰ã¤ãã‚’æœ€å°åŒ–ã—ãªãŒã‚‰ç›®æ¨™å€¤ã‚’é”æˆ
âœ… ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ã®ã¿ã§å“è³ªæ”¹å–„ï¼ˆã‚³ã‚¹ãƒˆå¢—ãªã—ï¼‰
======================================================================
</code></pre>

<p><strong>è§£é‡ˆ</strong>: å°„å‡ºæˆå½¢Processã«ãŠã„ã¦ã€L8Ã—L4ç›´ç©å®Ÿé¨“ã«ã‚ˆã‚Šãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆã‚’å®Ÿæ–½ã—ã¾ã—ãŸã€‚æœ€é©æ¡ä»¶ï¼ˆTemperature=230Â°Cã€Pressure=120 MPaã€CoolingTime=40ç§’ã€MoldTemp=60Â°Cï¼‰ã«ã‚ˆã‚Šã€SNæ¯”44.47 dBã‚’é”æˆã—ã€å¤–ä¹±ã«å¯¾ã™ã‚‹é ‘å¥æ€§ãŒå‘ä¸Šã—ã¾ã—ãŸã€‚</p>

<hr />

<h2>4.8 æœ¬ Chapterã®Summary</h2>

<h3>å­¦ã‚“ã ã“ã¨</h3>

<ol>
<li><strong>ã‚¿ã‚°ãƒãƒ¡ã‚½ãƒƒãƒ‰ã®åŸºç¤</strong>
<ul>
<li>ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆã«ã‚ˆã‚‹ã°ã‚‰ã¤ãæœ€å°åŒ–</li>
<li>å¾“æ¥ã®Optimizationã¨ã®é•ã„ï¼ˆå¤–ä¹±å¯¾ç­–ï¼‰</li>
<li>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­è¨ˆãƒ»è¨±å®¹å·®è¨­è¨ˆã®æ®µéš</li>
</ul>
</li>
<li><strong>å†…å´é…åˆ—ãƒ»å¤–å´é…åˆ—</strong>
<ul>
<li>Controlå› å­ï¼ˆå†…å´é…åˆ—ï¼‰ã¨èª¤å·®å› å­ï¼ˆå¤–å´é…åˆ—ï¼‰ã® minutesé›¢</li>
<li>L8Ã—L4ç›´ç©å®Ÿé¨“ã®è¨­è¨ˆ</li>
<li>åˆè¨ˆ32å›ã®å®Ÿé¨“ã§é ‘å¥æ€§ã‚’è©•ä¾¡</li>
</ul>
</li>
<li><strong>SNæ¯”ã®è¨ˆç®—</strong>
<ul>
<li>æœ›ç›®ç‰¹æ€§: Î· = 10log(Î¼Â²/ÏƒÂ²)ï¼ˆç›®æ¨™å€¤é©åˆï¼‰</li>
<li>æœ›å°ç‰¹æ€§: Î· = -10log(Î£yÂ²/n)ï¼ˆæ¬ é™¥æœ€å°åŒ–ï¼‰</li>
<li>æœ›å¤§ç‰¹æ€§: Î· = -10log(Î£(1/yÂ²)/n)ï¼ˆå¼·åº¦æœ€å¤§åŒ–ï¼‰</li>
</ul>
</li>
<li><strong>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­è¨ˆ</strong>
<ul>
<li>è¦å› åŠ¹æœå›³ã«ã‚ˆã‚‹SNæ¯”æœ€å¤§åŒ–</li>
<li>Controlå› å­ã®æœ€é©æ°´æº–æ±ºå®š</li>
<li>PredictionSNæ¯”ã®è¨ˆç®—</li>
</ul>
</li>
<li><strong>ç¢ºèªå®Ÿé¨“</strong>
<ul>
<li>åˆæœŸæ¡ä»¶ã¨æœ€é©æ¡ä»¶ã®SNæ¯”æ¯”è¼ƒ</li>
<li>SNæ¯”ã‚²ã‚¤ãƒ³ã®æ¤œè¨¼</li>
<li>ã°ã‚‰ã¤ãä½æ¸›åŠ¹æœï¼ˆ98%å‰Šæ¸›ï¼‰</li>
</ul>
</li>
<li><strong>å“è³ªæå¤±é–¢æ•°</strong>
<ul>
<li>L(y) = k(y - m)Â²ã«ã‚ˆã‚‹ç¤¾ä¼šçš„æå¤±ã®å®šé‡åŒ–</li>
<li>æå¤±ä¿‚æ•°kã®æ±ºå®š</li>
<li>å¹´é–“æå¤±å‰Šæ¸›é¡ã®ç®—å‡º</li>
</ul>
</li>
<li><strong>Controlå› å­ãƒ»èª¤å·®å› å­ã® minutesé¡</strong>
<ul>
<li>å¤–çš„èª¤å·®å› å­ï¼ˆç’°å¢ƒå¤‰å‹•ï¼‰</li>
<li>å†…çš„èª¤å·®å› å­ï¼ˆçµŒå¹´åŠ£åŒ–ï¼‰</li>
<li>å˜ä½é–“èª¤å·®å› å­ï¼ˆManufacturingã°ã‚‰ã¤ãï¼‰</li>
</ul>
</li>
<li><strong>å°„å‡ºæˆå½¢Processã®ãƒ­ãƒã‚¹ãƒˆè¨­è¨ˆ</strong>
<ul>
<li>L8Ã—L4ç›´ç©å®Ÿé¨“ã®å®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</li>
<li>SNæ¯”44.47 dBã®é”æˆ</li>
<li>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ã®ã¿ã§å“è³ªæ”¹å–„ï¼ˆã‚³ã‚¹ãƒˆå¢—ãªã—ï¼‰</li>
</ul>
</li>
</ol>

<h3>é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ</h3>

<ul>
<li>ã‚¿ã‚°ãƒãƒ¡ã‚½ãƒƒãƒ‰ã¯å¤–ä¹±ã«å¯¾ã™ã‚‹ãƒ­ãƒã‚¹ãƒˆæ€§ã‚’é«˜ã‚ã‚‹æ‰‹æ³•</li>
<li>å†…å´é…åˆ—ã§æœ€é©æ¡ä»¶ã‚’æ¢ç´¢ã€å¤–å´é…åˆ—ã§é ‘å¥æ€§ã‚’è©•ä¾¡</li>
<li>SNæ¯”ã¯ã°ã‚‰ã¤ãã¨æ€§èƒ½ã‚’åŒæ™‚ã«è©•ä¾¡ã™ã‚‹çµ±åˆæŒ‡æ¨™</li>
<li>æœ›ç›®ç‰¹æ€§ãƒ»æœ›å°ç‰¹æ€§ãƒ»æœ›å¤§ç‰¹æ€§ã§é©åˆ‡ãªSNæ¯”ã‚’é¸æŠ</li>
<li>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­è¨ˆã«ã‚ˆã‚Šã€ã‚³ã‚¹ãƒˆå¢—ãªã—ã§å“è³ªã‚’æ”¹å–„</li>
<li>å“è³ªæå¤±é–¢æ•°ã§ç¤¾ä¼šçš„æå¤±ã‚’å®šé‡åŒ–ã—ã€çµŒæ¸ˆåŠ¹æœã‚’æ˜ç¢ºåŒ–</li>
<li>Controlå› å­ã¨èª¤å·®å› å­ã®é©åˆ‡ãª minutesé¡ãŒæˆåŠŸã®éµ</li>
<li>ç¢ºèªå®Ÿé¨“ã§SNæ¯”ã‚²ã‚¤ãƒ³ã¨æ”¹å–„åŠ¹æœã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ãŒé‡è¦</li>
</ul>

<h3>Next Chapterã¸</h3>

<p>Chapter 5ã§ã¯ã€<strong>Pythonã«ã‚ˆã‚‹å®Ÿé¨“è¨ˆç”»ã¨è§£æè‡ªå‹•åŒ–</strong>ã‚’å­¦ã³ã¾ã™:</p>
<ul>
<li>pyDOE3ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚ˆã‚‹å®Ÿé¨“è¨ˆç”»ç”Ÿæˆ</li>
<li>ç›´äº¤è¡¨ã®è‡ªå‹•ç”Ÿæˆã¨æ¤œè¨¼</li>
<li>å®Ÿé¨“çµæœã®è‡ªå‹•è§£æãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³</li>
<li>Plotlyã«ã‚ˆã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å¯è¦–åŒ–</li>
<li>å®Ÿé¨“è¨ˆç”»ãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ</li>
<li>Monte CarloSimulationã«ã‚ˆã‚‹ãƒ­ãƒã‚¹ãƒˆæ€§è©•ä¾¡</li>
<li>å¤šç›®çš„Optimizationï¼ˆPareto frontierï¼‰</li>
<li>å®Œå…¨ãªDOEãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ±åˆä¾‹</li>
</ul>

<div class="navigation">
    <a href="chapter-3.html" class="nav-button">â† Previous Chapter</a>
    <a href="chapter-5.html" class="nav-button">Next Chapter â†’</a>
</div>
    </main>


    <section class="disclaimer">
        <h3>å…è²¬äº‹é …</h3>
        <ul>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯æ•™è‚²ãƒ»ç ”ç©¶ãƒ»æƒ…å ±æä¾›ã®ã¿ã‚’ç›®çš„ã¨ã—ã¦ãŠã‚Šã€å°‚é–€çš„ãªåŠ©è¨€(æ³•å¾‹ãƒ»ä¼šè¨ˆãƒ»æŠ€è¡“çš„ä¿è¨¼ãªã©)ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŠã‚ˆã³ä»˜éšã™ã‚‹Code Examplesã¯ã€Œç¾çŠ¶æœ‰å§¿(AS IS)ã€ã§æä¾›ã•ã‚Œã€æ˜ç¤ºã¾ãŸã¯é»™ç¤ºã‚’å•ã‚ãšã€å•†å“æ€§ã€ç‰¹å®šç›®çš„é©åˆæ€§ã€æ¨©åˆ©éä¾µå®³ã€æ­£ç¢ºæ€§ãƒ»å®Œå…¨æ€§ã€å‹•ä½œãƒ»Safetyæ€§ç­‰ã„ã‹ãªã‚‹ä¿è¨¼ã‚‚ã—ã¾ã›ã‚“ã€‚</li>
            <li>å¤–éƒ¨ãƒªãƒ³ã‚¯ã€ç¬¬ä¸‰è€…ãŒæä¾›ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ„ãƒ¼ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç­‰ã®å†…å®¹ãƒ»å¯ç”¨æ€§ãƒ»Safetyæ€§ã«ã¤ã„ã¦ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ©ç”¨ãƒ»å®Ÿè¡Œãƒ»è§£é‡ˆã«ã‚ˆã‚Šç›´æ¥çš„ãƒ»é–“æ¥çš„ãƒ»ä»˜éšçš„ãƒ»ç‰¹åˆ¥ãƒ»çµæœçš„ãƒ»æ‡²ç½°çš„æå®³ãŒç”Ÿã˜ãŸå ´åˆã§ã‚‚ã€é©ç”¨æ³•ã§è¨±å®¹ã•ã‚Œã‚‹æœ€å¤§é™ã®ç¯„å›²ã§ã€ä½œæˆè€…ãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å†…å®¹ã¯ã€äºˆå‘Šãªãå¤‰æ›´ãƒ»æ›´æ–°ãƒ»æä¾›åœæ­¢ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‘—ä½œæ¨©ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯æ˜è¨˜ã•ã‚ŒãŸæ¡ä»¶(ä¾‹: CC BY 4.0)ã«å¾“ã„ã¾ã™ã€‚å½“è©²ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯é€šå¸¸ã€ç„¡ä¿è¨¼æ¡é …ã‚’å«ã¿ã¾ã™ã€‚</li>
        </ul>
    </section>

<footer>
        <p><strong>ä½œæˆè€…</strong>: PI Knowledge Hub Content Team</p>
        <p><strong>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</strong>: 1.0 | <strong>ä½œæˆæ—¥</strong>: 2025-10-26</p>
        <p><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong>: Creative Commons BY 4.0</p>
        <p>&copy; 2025 PI Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>