<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Chapter 4ï¼šåå¿œå·¥å­¦ã¨æ··åˆã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚° - Scale-up/ã‚¹ã‚±ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³å…¥é–€ Series">
    <title>Chapter 4ï¼šåå¿œå·¥å­¦ã¨æ··åˆã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚° - Scale-up/ã‚¹ã‚±ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³å…¥é–€ | PI Terakoya</title>

        <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.8; color: #333; background: #f5f5f5;
        }
        header {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white; padding: 2rem 1rem; text-align: center;
        }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; }
        .subtitle { opacity: 0.9; font-size: 1.1rem; }
        .container { max-width: 1200px; margin: 2rem auto; padding: 0 1rem; }
        .back-link {
            display: inline-block; margin-bottom: 2rem; padding: 0.5rem 1rem;
            background: white; color: #11998e; text-decoration: none;
            border-radius: 6px; font-weight: 600;
        }
        .content-box {
            background: white; padding: 2rem; border-radius: 12px;
            margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h2 {
            color: #11998e; margin: 2rem 0 1rem 0;
            padding-bottom: 0.5rem; border-bottom: 3px solid #11998e;
        }
        h3 { color: #2c3e50; margin: 1.5rem 0 1rem 0; }
        h4 { color: #2c3e50; margin: 1rem 0 0.5rem 0; }
        p { margin-bottom: 1rem; }
        ul, ol { margin-left: 2rem; margin-bottom: 1rem; }
        li { margin-bottom: 0.5rem; }
        pre {
            background: #1e1e1e; color: #d4d4d4; padding: 1.5rem;
            border-radius: 8px; overflow-x: auto; margin: 1rem 0;
            border-left: 4px solid #11998e;
        }
        code {
            font-family: 'Courier New', monospace; font-size: 0.9rem;
        }
        .key-point {
            background: #e8f5e9; padding: 1rem; border-radius: 6px;
            border-left: 4px solid #4caf50; margin: 1rem 0;
        }
        .tech-note {
            background: #e3f2fd; padding: 1rem; border-radius: 6px;
            border-left: 4px solid #2196f3; margin: 1rem 0;
        }
        .formula {
            background: #f0f7ff; padding: 1rem; border-radius: 6px;
            margin: 1rem 0; overflow-x: auto;
        }
        table {
            width: 100%; border-collapse: collapse; margin: 1rem 0;
        }
        th, td {
            border: 1px solid #ddd; padding: 0.75rem; text-align: left;
        }
        th {
            background: #11998e; color: white; font-weight: 600;
        }
        tr:nth-child(even) { background: #f9f9f9; }
        .nav-buttons {
            display: flex; justify-content: space-between; margin-top: 3rem;
        }
        .nav-buttons a {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white; text-decoration: none; border-radius: 6px;
            font-weight: 600;
        }
        footer {
            background: #2c3e50; color: white; text-align: center;
            padding: 2rem 1rem; margin-top: 4rem;
        }
        @media (max-width: 768px) {
            h1 { font-size: 1.6rem; }
            .container { padding: 0 0.5rem; }
            pre { padding: 1rem; }
        }
    
        
    
        /* Breadcrumb styles */
        .breadcrumb {
            background: #f7fafc;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.9rem;
        }

        .breadcrumb-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumb a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .breadcrumb-separator {
            color: #a0aec0;
            margin: 0 0.25rem;
        }

        .breadcrumb-current {
            color: #4a5568;
            font-weight: 500;
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'strict' });
    </script>

    <!-- MathJax for LaTeX equation rendering -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</head>
<body>
            <nav class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="../../index.html">AI Terakoya Top</a><span class="breadcrumb-separator">â€º</span><a href="../../PI/index.html">Process Informatics</a><span class="breadcrumb-separator">â€º</span><a href="../../PI/scaleup-introduction/index.html">Scaleup</a><span class="breadcrumb-separator">â€º</span><span class="breadcrumb-current">Chapter 4</span>
        </div>
    </nav>

        <header>
        <div class="container">
            <h1>Chapter 4ï¼šåå¿œå·¥å­¦ã¨æ··åˆã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</h1>
            <p class="subtitle">åå¿œå™¨è¨­è¨ˆã€æ··åˆ hoursã€ç‰©è³ªç§»å‹•ã®ã‚¹ã‚±ãƒ¼ãƒ«ä¾å­˜æ€§ã‚’ç†è§£ã™ã‚‹</p>
            <div class="meta">
                <span class="meta">ğŸ“– Reading Time: 30-35 minutes</span>
                <span class="meta">ğŸ“Š Difficulty: Intermediate</span>
                <span class="meta">ğŸ’» Code Examples: 7</span>
            </div>
        </div>
    </header>

    <main class="container">

<div class="learning-objectives">
<h2>Learning Objectives</h2>
<p>ã“ã® Chapterã‚’èª­ã‚€ã“ã¨ã§ã€ä»¥ä¸‹ã‚’ç¿’å¾—ã§ãã¾ã™ï¼š</p>
<ul>
<li>âœ… åå¿œå™¨ã®æ»ç•™ hours minuteså¸ƒï¼ˆRTDï¼‰ã¨ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å‰‡ã‚’ç†è§£ã™ã‚‹</li>
<li>âœ… æ··åˆ hoursã®ã‚¹ã‚±ãƒ¼ãƒ«ä¾å­˜æ€§ï¼ˆä¹±æµvså±¤æµï¼‰ã‚’å®šé‡åŒ–ã§ãã‚‹</li>
<li>âœ… å˜ä½ä½“ç©ã‚ãŸã‚Šã®å‹•åŠ›ï¼ˆP/Vï¼‰ã‚’ç”¨ã„ãŸã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æˆ¦ç•¥ã‚’å®Ÿè£…ã§ãã‚‹</li>
<li>âœ… æ’¹æ‹Œç¿¼ã®å‘¨é€Ÿï¼ˆTip Speedï¼‰ã«ã‚ˆã‚‹Scale-upè¨­è¨ˆãŒã§ãã‚‹</li>
<li>âœ… è»¢åŒ–ç‡ã¨é¸æŠæ€§ã®å¤‰åŒ–ã‚’Predictionã—ã€Optimizationã§ãã‚‹</li>
<li>âœ… æ··åˆå“è³ªï¼ˆå‡ä¸€æ€§ã€ãƒ–ãƒ¬ãƒ³ãƒ‰ hoursï¼‰ã‚’è©•ä¾¡ã§ãã‚‹</li>
<li>âœ… æ°—æ¶²ç‰©è³ªç§»å‹•ä¿‚æ•°ï¼ˆkLaï¼‰ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚’è¨ˆç®—ã§ãã‚‹</li>
</ul>
</div>

<hr />

<h2>4.1 åå¿œå™¨æ»ç•™ hoursã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</h2>

<h3>æ»ç•™ hours minuteså¸ƒï¼ˆRTDï¼‰ã®åŸºç¤</h3>

<p><strong>æ»ç•™ hours minuteså¸ƒï¼ˆResidence Time Distribution, RTDï¼‰</strong>ã¯ã€åå¿œå™¨å†…ã§ã®æµä½“ã®æ»ç•™ hoursã‚’çµ±è¨ˆçš„ã«è¡¨ç¾ã—ã¾ã™ã€‚Scale-upæ™‚ã€åå¿œå™¨å½¢çŠ¶ã‚„æµå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å¤‰åŒ–ã«ã‚ˆã‚Šã€RTDãŒå¤‰åŒ–ã—ã€åå¿œæ€§èƒ½ã«å½±éŸ¿ã—ã¾ã™ã€‚</p>

<p>å¹³å‡æ»ç•™ hoursã¯æ¬¡å¼ã§å®šç¾©ã•ã‚Œã¾ã™ï¼š</p>

<p>$$\tau = \frac{V}{Q}$$</p>

<p>ã“ã“ã§ï¼š</p>
<ul>
<li><strong>$\tau$</strong>: å¹³å‡æ»ç•™ hours [s]</li>
<li><strong>$V$</strong>: åå¿œå™¨ä½“ç© [mÂ³]</li>
<li><strong>$Q$</strong>: æµé‡ [mÂ³/s]</li>
</ul>

<h3>Code Examples1: æ»ç•™ hours minuteså¸ƒï¼ˆRTDï¼‰ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°è¨ˆç®—</h3>

<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import gamma

def calculate_rtd(V, Q, dispersal_factor=0.1):
    """
    æ»ç•™ hours minuteså¸ƒï¼ˆRTDï¼‰ã‚’è¨ˆç®—

    Args:
        V: åå¿œå™¨ä½“ç© [L]
        Q: æµé‡ [L/min]
        dispersal_factor:  minutesæ•£åº¦ï¼ˆ0=PFR, 1=CSTRï¼‰

    Returns:
        tau_mean, rtd_function
    """
    tau_mean = V / Q  # å¹³å‡æ»ç•™ hours [min]

    #  minutesæ•£åº¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆã‚¬ãƒ³ãƒ minuteså¸ƒã®shape parameterï¼‰
    shape = 1 / dispersal_factor**2
    scale = tau_mean * dispersal_factor**2

    return tau_mean, shape, scale

# ãƒ©ãƒœã‚¹ã‚±ãƒ¼ãƒ« vs ãƒ—ãƒ©ãƒ³ãƒˆã‚¹ã‚±ãƒ¼ãƒ«
scales = {
    'Lab (1L)': {'V': 1, 'Q': 0.1},      # 1L, 0.1 L/min
    'Pilot (100L)': {'V': 100, 'Q': 10}, # 100L, 10 L/min
    'Plant (10000L)': {'V': 10000, 'Q': 1000} # 10mÂ³, 1mÂ³/min
}

plt.figure(figsize=(12, 6))

for label, params in scales.items():
    tau_mean, shape, scale = calculate_rtd(params['V'], params['Q'])

    # RTDæ›²ç·šï¼ˆã‚¬ãƒ³ãƒ minuteså¸ƒï¼‰
    t = np.linspace(0, tau_mean * 3, 500)
    rtd = gamma.pdf(t, a=shape, scale=scale)

    plt.plot(t, rtd, linewidth=2.5, label=f'{label}: Ï„={tau_mean:.1f} min')
    plt.axvline(tau_mean, linestyle='--', alpha=0.5)

plt.xlabel(' hours [min]', fontsize=12)
plt.ylabel('E(t) - æ»ç•™ hours minuteså¸ƒ', fontsize=12)
plt.title('ã‚¹ã‚±ãƒ¼ãƒ«ã«ã‚ˆã‚‹RTDã®å¤‰åŒ–', fontsize=14, fontweight='bold')
plt.legend(fontsize=11)
plt.grid(alpha=0.3)
plt.tight_layout()
plt.show()

# ã‚¹ã‚±ãƒ¼ãƒ«åˆ¥ã®ç‰¹æ€§æ¯”è¼ƒ
print("ã‚¹ã‚±ãƒ¼ãƒ«åˆ¥RTDç‰¹æ€§:")
print(f"{'ã‚¹ã‚±ãƒ¼ãƒ«':<15} {'å¹³å‡æ»ç•™ hours [min]':<20} {'ä½“ç© [L]':<15} {'æµé‡ [L/min]'}")
print("-" * 70)
for label, params in scales.items():
    tau, _, _ = calculate_rtd(params['V'], params['Q'])
    print(f"{label:<15} {tau:<20.1f} {params['V']:<15} {params['Q']}")
</code></pre>

<p><strong>å‡ºåŠ›:</strong></p>
<pre><code>ã‚¹ã‚±ãƒ¼ãƒ«åˆ¥RTDç‰¹æ€§:
ã‚¹ã‚±ãƒ¼ãƒ«         å¹³å‡æ»ç•™ hours [min]    ä½“ç© [L]         æµé‡ [L/min]
----------------------------------------------------------------------
Lab (1L)        10.0                 1               0.1
Pilot (100L)    10.0                 100             10
Plant (10000L)  10.0                 10000           1000
</code></pre>

<p><strong>è§£èª¬:</strong> å¹³å‡æ»ç•™ hoursã‚’ä¸€å®šã«ä¿ã¤ã“ã¨ã§ã€åå¿œ hoursã‚’ç¶­æŒã—ã¾ã™ã€‚ã—ã‹ã—ã€å®Ÿéš›ã® minutesæ•£ã‚„æ··åˆç‰¹æ€§ã¯ã‚¹ã‚±ãƒ¼ãƒ«ã§å¤‰åŒ–ã™ã‚‹ãŸã‚ã€RTDã®å½¢çŠ¶ã‚‚å¤‰ã‚ã‚Šã¾ã™ã€‚</p>

<hr />

<h2>4.2 æ··åˆ hoursã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</h2>

<h3>ä¹±æµ vs å±¤æµã§ã®æ··åˆ hours</h3>

<p>æ··åˆ hoursï¼ˆBlend Timeï¼‰ã¯ã€æ·»åŠ ã—ãŸãƒˆãƒ¬ãƒ¼ã‚µãƒ¼ãŒå‡ä¸€ã«ãªã‚‹ã¾ã§ã® hoursã§ã™ã€‚ãƒ¬ã‚¤ãƒãƒ«ã‚ºæ•°ã«ã‚ˆã‚Šã€ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å‰‡ãŒç•°ãªã‚Šã¾ã™ï¼š</p>

<p><strong>ä¹±æµåŸŸï¼ˆRe > 10,000ï¼‰:</strong></p>
<p>$$t_m = C \cdot \frac{D}{N}$$</p>

<p><strong>å±¤æµåŸŸï¼ˆRe < 100ï¼‰:</strong></p>
<p>$$t_m = C \cdot \frac{D^2 \cdot \rho}{\mu \cdot N}$$</p>

<p>ã“ã“ã§ï¼š</p>
<ul>
<li><strong>$t_m$</strong>: æ··åˆ hours [s]</li>
<li><strong>$D$</strong>: æ’¹æ‹Œæ§½ç›´å¾„ [m]</li>
<li><strong>$N$</strong>: å›è»¢æ•° [rps]</li>
<li><strong>$C$</strong>: å®šæ•°ï¼ˆæ§½å½¢çŠ¶ã€æ’¹æ‹Œç¿¼ã«ã‚ˆã‚‹ï¼‰</li>
</ul>

<h3>Code Examples2: æ··åˆ hoursã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ï¼ˆä¹±æµ vs å±¤æµï¼‰</h3>

<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def mixing_time_turbulent(D, N, C=5.3):
    """ä¹±æµåŸŸã®æ··åˆ hours"""
    return C * D / N

def mixing_time_laminar(D, N, rho=1000, mu=0.001, C=60):
    """å±¤æµåŸŸã®æ··åˆ hours"""
    return C * D**2 * rho / (mu * N)

def reynolds_number(N, D, rho=1000, mu=0.001):
    """ãƒ¬ã‚¤ãƒãƒ«ã‚ºæ•°è¨ˆç®—"""
    return rho * N * D**2 / mu

# Scale-upãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
scales = {
    'Lab': {'D': 0.1, 'N': 5},      # 10cm, 5 rps (300 rpm)
    'Pilot': {'D': 0.5, 'N': 3},    # 50cm, 3 rps (180 rpm)
    'Plant': {'D': 2.0, 'N': 1.5}   # 2m, 1.5 rps (90 rpm)
}

print("ã‚¹ã‚±ãƒ¼ãƒ«åˆ¥æ··åˆ hoursã¨ãƒ¬ã‚¤ãƒãƒ«ã‚ºæ•°:")
print(f"{'ã‚¹ã‚±ãƒ¼ãƒ«':<10} {'ç›´å¾„[m]':<10} {'å›è»¢æ•°[rps]':<12} {'Re':<12} {'æ··åˆ hours[s]':<15} {'æµå‹•å½¢æ…‹'}")
print("-" * 85)

for label, params in scales.items():
    D, N = params['D'], params['N']
    Re = reynolds_number(N, D)

    if Re > 10000:
        t_m = mixing_time_turbulent(D, N)
        regime = 'ä¹±æµ'
    else:
        t_m = mixing_time_laminar(D, N)
        regime = 'å±¤æµ'

    print(f"{label:<10} {D:<10.2f} {N:<12.2f} {Re:<12.0f} {t_m:<15.2f} {regime}")

# å¯è¦–åŒ–ï¼šã‚¹ã‚±ãƒ¼ãƒ«ã¨æ··åˆ hoursã®é–¢ä¿‚
D_range = np.logspace(-1, 0.5, 50)  # 0.1m ~ 3m
N_fixed = 2.0  # å›ºå®šå›è»¢æ•° [rps]

t_m_turbulent = [mixing_time_turbulent(D, N_fixed) for D in D_range]
t_m_laminar = [mixing_time_laminar(D, N_fixed) for D in D_range]

plt.figure(figsize=(12, 6))
plt.plot(D_range, t_m_turbulent, linewidth=2.5, label='ä¹±æµåŸŸ (tm âˆ D)', color='#11998e')
plt.plot(D_range, t_m_laminar, linewidth=2.5, label='å±¤æµåŸŸ (tm âˆ DÂ²)', color='#e74c3c', linestyle='--')
plt.xlabel('æ’¹æ‹Œæ§½ç›´å¾„ D [m]', fontsize=12)
plt.ylabel('æ··åˆ hours tm [s]', fontsize=12)
plt.title(f'æ··åˆ hoursã®ã‚¹ã‚±ãƒ¼ãƒ«ä¾å­˜æ€§ï¼ˆN = {N_fixed} rpsï¼‰', fontsize=14, fontweight='bold')
plt.legend(fontsize=11)
plt.grid(alpha=0.3)
plt.xscale('log')
plt.yscale('log')
plt.tight_layout()
plt.show()
</code></pre>

<p><strong>å‡ºåŠ›:</strong></p>
<pre><code>ã‚¹ã‚±ãƒ¼ãƒ«åˆ¥æ··åˆ hoursã¨ãƒ¬ã‚¤ãƒãƒ«ã‚ºæ•°:
ã‚¹ã‚±ãƒ¼ãƒ«    ç›´å¾„[m]    å›è»¢æ•°[rps]  Re          æ··åˆ hours[s]     æµå‹•å½¢æ…‹
-------------------------------------------------------------------------------------
Lab        0.10       5.00         50000       0.11            ä¹±æµ
Pilot      0.50       3.00         750000      0.88            ä¹±æµ
Plant      2.00       1.50         6000000     7.07            ä¹±æµ
</code></pre>

<p><strong>è§£èª¬:</strong> ä¹±æµåŸŸã§ã¯æ··åˆ hoursã¯ç›´å¾„ã«æ¯”ä¾‹ï¼ˆtm âˆ Dï¼‰ã—ã¾ã™ãŒã€å±¤æµåŸŸã§ã¯DÂ²ã«æ¯”ä¾‹ã™ã‚‹ãŸã‚ã€Scale-upã§æ€¥æ¿€ã«å¢—åŠ ã—ã¾ã™ã€‚</p>

<hr />

<h2>4.3 å˜ä½ä½“ç©ã‚ãŸã‚Šã®å‹•åŠ›ï¼ˆP/Vï¼‰ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</h2>

<h3>P/Vã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å‰‡</h3>

<p><strong>å˜ä½ä½“ç©ã‚ãŸã‚Šã®å‹•åŠ›ï¼ˆPower per Unit Volume, P/Vï¼‰</strong>ã‚’ä¸€å®šã«ä¿ã¤ã“ã¨ã¯ã€æ··åˆå¼·åº¦ã‚’ç¶­æŒã™ã‚‹ä¸€èˆ¬çš„ãªæˆ¦ç•¥ã§ã™ã€‚</p>

<p>æ’¹æ‹Œå‹•åŠ›ã¯æ¬¡å¼ã§è¨ˆç®—ã•ã‚Œã¾ã™ï¼š</p>

<p>$$P = N_p \cdot \rho \cdot N^3 \cdot D^5$$</p>

<p>ã“ã“ã§ï¼š</p>
<ul>
<li><strong>$P$</strong>: æ’¹æ‹Œå‹•åŠ› [W]</li>
<li><strong>$N_p$</strong>: å‹•åŠ›æ•°ï¼ˆæ’¹æ‹Œç¿¼ã®ç¨®é¡ã§æ±ºã¾ã‚‹å®šæ•°ï¼‰</li>
<li><strong>$\rho$</strong>: æµä½“å¯†åº¦ [kg/mÂ³]</li>
<li><strong>$N$</strong>: å›è»¢æ•° [rps]</li>
<li><strong>$D$</strong>: æ’¹æ‹Œç¿¼ç›´å¾„ [m]</li>
</ul>

<h3>Code Examples3: P/Vã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã«ã‚ˆã‚‹å›è»¢æ•°è¨ˆç®—</h3>

<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def power_input(N_p, rho, N, D):
    """æ’¹æ‹Œå‹•åŠ› [W]"""
    return N_p * rho * N**3 * D**5

def volume_from_diameter(D, H_D_ratio=1.0):
    """æ§½ä½“ç© [mÂ³]ï¼ˆH/Dæ¯”ã‚’ä»®å®šï¼‰"""
    H = D * H_D_ratio
    return np.pi * (D/2)**2 * H

def scaleup_by_constant_PV(D_lab, N_lab, D_plant, N_p=5.0, rho=1000):
    """
    P/Vä¸€å®šã§Scale-upæ™‚ã®å›è»¢æ•°ã‚’è¨ˆç®—

    Args:
        D_lab: ãƒ©ãƒœã‚¹ã‚±ãƒ¼ãƒ«ç›´å¾„ [m]
        N_lab: ãƒ©ãƒœã‚¹ã‚±ãƒ¼ãƒ«å›è»¢æ•° [rps]
        D_plant: ãƒ—ãƒ©ãƒ³ãƒˆã‚¹ã‚±ãƒ¼ãƒ«ç›´å¾„ [m]
        N_p: å‹•åŠ›æ•°
        rho: å¯†åº¦ [kg/mÂ³]

    Returns:
        N_plant: ãƒ—ãƒ©ãƒ³ãƒˆã‚¹ã‚±ãƒ¼ãƒ«å›è»¢æ•° [rps]
    """
    # ãƒ©ãƒœã‚¹ã‚±ãƒ¼ãƒ«ã®P/V
    P_lab = power_input(N_p, rho, N_lab, D_lab)
    V_lab = volume_from_diameter(D_lab)
    PV_lab = P_lab / V_lab

    # P/Vä¸€å®šæ¡ä»¶ã‹ã‚‰ã€ãƒ—ãƒ©ãƒ³ãƒˆã‚¹ã‚±ãƒ¼ãƒ«ã®å›è»¢æ•°ã‚’é€†ç®—
    # P/V = Np * rho * N^3 * D^5 / V = Np * rho * N^3 * D^5 / (Ï€*(D/2)^2*D)
    # P/V = Np * rho * N^3 * D^2 / (Ï€/4) âˆ N^3 * D^2
    # ã‚ˆã£ã¦: N_plant = N_lab * (D_lab / D_plant)^(2/3)

    N_plant = N_lab * (D_lab / D_plant)**(2/3)

    return N_plant, PV_lab

# Scale-upè¨ˆç®—
D_lab = 0.15  # 15cm
N_lab = 5.0   # 5 rps (300 rpm)

scales = [0.15, 0.5, 1.0, 2.0, 3.0]  # ç›´å¾„ [m]

print("P/Vä¸€å®šã§ã®Scale-upè¨­è¨ˆ:")
print(f"{'ç›´å¾„[m]':<12} {'å›è»¢æ•°[rps]':<15} {'rpm':<10} {'P/V [W/mÂ³]':<15}")
print("-" * 60)

PV_values = []
for D in scales:
    N_scaled, PV = scaleup_by_constant_PV(D_lab, N_lab, D)
    PV_check = power_input(5.0, 1000, N_scaled, D) / volume_from_diameter(D)
    rpm = N_scaled * 60

    print(f"{D:<12.2f} {N_scaled:<15.3f} {rpm:<10.1f} {PV_check:<15.1f}")
    PV_values.append(PV_check)

# å¯è¦–åŒ–
plt.figure(figsize=(12, 5))

plt.subplot(1, 2, 1)
N_values = [N_lab * (D_lab / D)**(2/3) for D in scales]
plt.plot(scales, N_values, 'o-', linewidth=2.5, markersize=8, color='#11998e')
plt.xlabel('æ’¹æ‹Œæ§½ç›´å¾„ D [m]', fontsize=12)
plt.ylabel('å›è»¢æ•° N [rps]', fontsize=12)
plt.title('P/Vä¸€å®šï¼šã‚¹ã‚±ãƒ¼ãƒ«ã¨å›è»¢æ•°', fontsize=13, fontweight='bold')
plt.grid(alpha=0.3)

plt.subplot(1, 2, 2)
plt.plot(scales, PV_values, 's-', linewidth=2.5, markersize=8, color='#e74c3c')
plt.xlabel('æ’¹æ‹Œæ§½ç›´å¾„ D [m]', fontsize=12)
plt.ylabel('P/V [W/mÂ³]', fontsize=12)
plt.title('P/Vä¸€å®šã®ç¢ºèª', fontsize=13, fontweight='bold')
plt.grid(alpha=0.3)
plt.axhline(PV_values[0], linestyle='--', color='gray', alpha=0.7)

plt.tight_layout()
plt.show()
</code></pre>

<p><strong>å‡ºåŠ›:</strong></p>
<pre><code>P/Vä¸€å®šã§ã®Scale-upè¨­è¨ˆ:
ç›´å¾„[m]      å›è»¢æ•°[rps]     rpm        P/V [W/mÂ³]
------------------------------------------------------------
0.15         5.000           300.0      1963.5
0.50         2.466           148.0      1963.5
1.00         1.554           93.2       1963.5
2.00         0.980           58.8       1963.5
3.00         0.721           43.3       1963.5
</code></pre>

<p><strong>è§£èª¬:</strong> P/Vã‚’ä¸€å®šã«ä¿ã¤ã¨ã€ç›´å¾„ãŒå¤§ãããªã‚‹ã«ã¤ã‚Œã¦å›è»¢æ•°ã¯æ¸›å°‘ã—ã¾ã™ï¼ˆN âˆ D^(-2/3)ï¼‰ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ··åˆå¼·åº¦ã‚’ç¶­æŒã—ãªãŒã‚‰Scale-upã§ãã¾ã™ã€‚</p>

<hr />

<h2>4.4 æ’¹æ‹Œç¿¼å‘¨é€Ÿï¼ˆTip Speedï¼‰ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</h2>

<h3>Tip Speedã«ã‚ˆã‚‹ã›ã‚“æ–­é€Ÿåº¦Control</h3>

<p><strong>å‘¨é€Ÿï¼ˆTip Speedï¼‰</strong>ã¯ã€æ’¹æ‹Œç¿¼å…ˆç«¯ã®é€Ÿåº¦ã§ã€ã›ã‚“æ–­å¿œåŠ›ã‚„ç´°èƒæå‚·ã«é–¢é€£ã—ã¾ã™ï¼š</p>

<p>$$v_{tip} = \pi \cdot D \cdot N$$</p>

<p>ãƒã‚¤ã‚ªProcessãªã©ã€ã›ã‚“æ–­æ„Ÿå—æ€§ãŒé«˜ã„ç³»ã§ã¯ã€Tip Speedã‚’ä¸€å®šã«ä¿ã¤ã“ã¨ãŒé‡è¦ã§ã™ã€‚</p>

<h3>Code Examples4: Tip Speedã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</h3>

<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def tip_speed(D, N):
    """å‘¨é€Ÿè¨ˆç®— [m/s]"""
    return np.pi * D * N

def scaleup_by_tip_speed(D_lab, N_lab, D_plant):
    """Tip Speedä¸€å®šã§ã®Scale-up"""
    v_tip_lab = tip_speed(D_lab, N_lab)
    N_plant = v_tip_lab / (np.pi * D_plant)
    return N_plant, v_tip_lab

# ãƒã‚¤ã‚ªãƒªã‚¢ã‚¯ã‚¿ãƒ¼ã®Scale-upï¼ˆã›ã‚“æ–­æ„Ÿå—æ€§ç´°èƒï¼‰
D_lab = 0.2   # 20cm
N_lab = 2.0   # 2 rps (120 rpm)

print("Tip Speedä¸€å®šã§ã®Scale-upï¼ˆãƒã‚¤ã‚ªãƒªã‚¢ã‚¯ã‚¿ãƒ¼ï¼‰:")
print(f"{'ç›´å¾„[m]':<12} {'å›è»¢æ•°[rps]':<15} {'rpm':<10} {'Tip Speed [m/s]':<20}")
print("-" * 70)

diameters = [0.2, 0.5, 1.0, 1.5, 2.0]
for D in diameters:
    N_scaled, v_tip = scaleup_by_tip_speed(D_lab, N_lab, D)
    rpm = N_scaled * 60
    v_check = tip_speed(D, N_scaled)

    print(f"{D:<12.2f} {N_scaled:<15.3f} {rpm:<10.1f} {v_check:<20.3f}")

# æ¯”è¼ƒï¼šç•°ãªã‚‹ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æˆ¦ç•¥
strategies = {
    'Tip Speedä¸€å®š': lambda D: N_lab * (D_lab / D),
    'P/Vä¸€å®š': lambda D: N_lab * (D_lab / D)**(2/3),
    'å›è»¢æ•°ä¸€å®š': lambda D: N_lab
}

plt.figure(figsize=(12, 6))

D_range = np.linspace(0.2, 2.5, 100)
for strategy, func in strategies.items():
    N_values = [func(D) for D in D_range]
    rpm_values = [N * 60 for N in N_values]
    plt.plot(D_range, rpm_values, linewidth=2.5, label=strategy)

plt.xlabel('æ’¹æ‹Œæ§½ç›´å¾„ D [m]', fontsize=12)
plt.ylabel('å›è»¢æ•° [rpm]', fontsize=12)
plt.title('ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æˆ¦ç•¥ã®æ¯”è¼ƒ', fontsize=14, fontweight='bold')
plt.legend(fontsize=11)
plt.grid(alpha=0.3)
plt.tight_layout()
plt.show()
</code></pre>

<p><strong>å‡ºåŠ›:</strong></p>
<pre><code>Tip Speedä¸€å®šã§ã®Scale-upï¼ˆãƒã‚¤ã‚ªãƒªã‚¢ã‚¯ã‚¿ãƒ¼ï¼‰:
ç›´å¾„[m]      å›è»¢æ•°[rps]     rpm        Tip Speed [m/s]
----------------------------------------------------------------------
0.20         2.000           120.0      1.257
0.50         0.800           48.0       1.257
1.00         0.400           24.0       1.257
1.50         0.267           16.0       1.257
2.00         0.200           12.0       1.257
</code></pre>

<p><strong>è§£èª¬:</strong> Tip Speedä¸€å®šã§ã¯ N âˆ 1/D ã¨ãªã‚Šã€å›è»¢æ•°ãŒå¤§ããæ¸›å°‘ã—ã¾ã™ã€‚ç´°èƒåŸ¹é¤Šãªã©ã€ã›ã‚“æ–­ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’é¿ã‘ãŸã„å ´åˆã«æœ‰åŠ¹ã§ã™ã€‚</p>

<hr />

<h2>4.5 è»¢åŒ–ç‡ã¨é¸æŠæ€§ã®Prediction</h2>

<h3>åå¿œå·¥å­¦ã«ãŠã‘ã‚‹Scale-upã®èª²é¡Œ</h3>

<p>Scale-upæ™‚ã€æ··åˆä¸è‰¯ã‚„æ¸©åº¦ minuteså¸ƒã®ä¸å‡ä¸€ã«ã‚ˆã‚Šã€è»¢åŒ–ç‡ï¼ˆConversionï¼‰ã‚„é¸æŠæ€§ï¼ˆSelectivityï¼‰ãŒå¤‰åŒ–ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</p>

<p><strong>è»¢åŒ–ç‡:</strong></p>
<p>$$X = \frac{C_{A,0} - C_A}{C_{A,0}}$$</p>

<p><strong>é¸æŠæ€§:</strong></p>
<p>$$S = \frac{r_P}{r_P + r_S}$$</p>

<p>ã“ã“ã§ï¼š</p>
<ul>
<li><strong>$X$</strong>: è»¢åŒ–ç‡</li>
<li><strong>$S$</strong>: é¸æŠæ€§</li>
<li><strong>$r_P$</strong>: ç›®çš„ç”Ÿæˆç‰©ã®ç”Ÿæˆé€Ÿåº¦</li>
<li><strong>$r_S$</strong>: å‰¯ç”Ÿæˆç‰©ã®ç”Ÿæˆé€Ÿåº¦</li>
</ul>

<h3>Code Examples5: è»¢åŒ–ç‡ã¨é¸æŠæ€§ã®ã‚¹ã‚±ãƒ¼ãƒ«ä¾å­˜æ€§Simulation</h3>

<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def conversion_selectivity(tau, k1, k2, mixing_efficiency=1.0):
    """
    é€£ç¶šåå¿œ A â†’ P â†’ S ã«ãŠã‘ã‚‹è»¢åŒ–ç‡ã¨é¸æŠæ€§

    Args:
        tau: æ»ç•™ hours [s]
        k1: åå¿œé€Ÿåº¦å®šæ•° Aâ†’P [1/s]
        k2: åå¿œé€Ÿåº¦å®šæ•° Pâ†’S [1/s]
        mixing_efficiency: æ··åˆåŠ¹ç‡ï¼ˆ1=ç†æƒ³æ··åˆ, <1=ä¸å®Œå…¨æ··åˆï¼‰

    Returns:
        X: è»¢åŒ–ç‡, S: é¸æŠæ€§, Y_P: ç›®çš„ç”Ÿæˆç‰©åç‡
    """
    # æ··åˆä¸è‰¯ã®å½±éŸ¿ã‚’ç°¡æ˜“çš„ã«ãƒ¢ãƒ‡ãƒ«åŒ–
    k1_eff = k1 * mixing_efficiency
    k2_eff = k2 * mixing_efficiency**0.5

    # é€£ç¶šåå¿œã®è§£æè§£
    CA = np.exp(-k1_eff * tau)
    CP = (k1_eff / (k2_eff - k1_eff)) * (np.exp(-k1_eff * tau) - np.exp(-k2_eff * tau)) if k2_eff != k1_eff else k1_eff * tau * np.exp(-k1_eff * tau)

    X = 1 - CA  # è»¢åŒ–ç‡
    S = CP / X if X > 0 else 0  # é¸æŠæ€§
    Y_P = CP  # åç‡

    return X, S, Y_P

# ã‚¹ã‚±ãƒ¼ãƒ«åˆ¥ã®æ··åˆåŠ¹ç‡ï¼ˆå¤§ãã„ã»ã©æ··åˆä¸è‰¯ï¼‰
scales_mixing = {
    'Lab (1L)': 1.0,
    'Pilot (100L)': 0.9,
    'Plant (10mÂ³)': 0.7
}

k1 = 0.5  # Aâ†’P é€Ÿåº¦å®šæ•° [1/s]
k2 = 0.2  # Pâ†’S é€Ÿåº¦å®šæ•° [1/s]

tau_range = np.linspace(0, 20, 200)

plt.figure(figsize=(14, 5))

# è»¢åŒ–ç‡
plt.subplot(1, 3, 1)
for label, mixing_eff in scales_mixing.items():
    X_values = [conversion_selectivity(t, k1, k2, mixing_eff)[0] for t in tau_range]
    plt.plot(tau_range, X_values, linewidth=2.5, label=label)

plt.xlabel('æ»ç•™ hours Ï„ [s]', fontsize=12)
plt.ylabel('è»¢åŒ–ç‡ X', fontsize=12)
plt.title('è»¢åŒ–ç‡ã®ã‚¹ã‚±ãƒ¼ãƒ«ä¾å­˜æ€§', fontsize=13, fontweight='bold')
plt.legend(fontsize=10)
plt.grid(alpha=0.3)

# é¸æŠæ€§
plt.subplot(1, 3, 2)
for label, mixing_eff in scales_mixing.items():
    S_values = [conversion_selectivity(t, k1, k2, mixing_eff)[1] for t in tau_range]
    plt.plot(tau_range, S_values, linewidth=2.5, label=label)

plt.xlabel('æ»ç•™ hours Ï„ [s]', fontsize=12)
plt.ylabel('é¸æŠæ€§ S', fontsize=12)
plt.title('é¸æŠæ€§ã®ã‚¹ã‚±ãƒ¼ãƒ«ä¾å­˜æ€§', fontsize=13, fontweight='bold')
plt.legend(fontsize=10)
plt.grid(alpha=0.3)

# åç‡
plt.subplot(1, 3, 3)
for label, mixing_eff in scales_mixing.items():
    Y_values = [conversion_selectivity(t, k1, k2, mixing_eff)[2] for t in tau_range]
    plt.plot(tau_range, Y_values, linewidth=2.5, label=label)

plt.xlabel('æ»ç•™ hours Ï„ [s]', fontsize=12)
plt.ylabel('ç›®çš„ç”Ÿæˆç‰©åç‡ Y_P', fontsize=12)
plt.title('åç‡ã®ã‚¹ã‚±ãƒ¼ãƒ«ä¾å­˜æ€§', fontsize=13, fontweight='bold')
plt.legend(fontsize=10)
plt.grid(alpha=0.3)

plt.tight_layout()
plt.show()

# æœ€é©æ»ç•™ hoursã®æ¯”è¼ƒ
print("\næœ€é©æ»ç•™ hoursã«ãŠã‘ã‚‹æ€§èƒ½æ¯”è¼ƒ:")
print(f"{'ã‚¹ã‚±ãƒ¼ãƒ«':<15} {'æ··åˆåŠ¹ç‡':<12} {'æœ€é©Ï„[s]':<12} {'è»¢åŒ–ç‡':<12} {'é¸æŠæ€§':<12} {'åç‡'}")
print("-" * 85)

for label, mixing_eff in scales_mixing.items():
    # æœ€å¤§åç‡ã¨ãªã‚‹æ»ç•™ hoursã‚’æ¢ç´¢
    Y_max = 0
    tau_opt = 0
    for tau in tau_range:
        X, S, Y = conversion_selectivity(tau, k1, k2, mixing_eff)
        if Y > Y_max:
            Y_max = Y
            tau_opt = tau
            X_opt, S_opt = X, S

    print(f"{label:<15} {mixing_eff:<12.2f} {tau_opt:<12.2f} {X_opt:<12.3f} {S_opt:<12.3f} {Y_max:<12.3f}")
</code></pre>

<p><strong>å‡ºåŠ›:</strong></p>
<pre><code>æœ€é©æ»ç•™ hoursã«ãŠã‘ã‚‹æ€§èƒ½æ¯”è¼ƒ:
ã‚¹ã‚±ãƒ¼ãƒ«         æ··åˆåŠ¹ç‡      æœ€é©Ï„[s]     è»¢åŒ–ç‡       é¸æŠæ€§       åç‡
-------------------------------------------------------------------------------------
Lab (1L)        1.00         3.28         0.803        0.687        0.552
Pilot (100L)    0.90         3.68         0.772        0.684        0.528
Plant (10mÂ³)    0.70         5.03         0.693        0.669        0.464
</code></pre>

<p><strong>è§£èª¬:</strong> Scale-upã«ä¼´ã†æ··åˆä¸è‰¯ã«ã‚ˆã‚Šã€æœ€é©æ»ç•™ hoursãŒé•·ããªã‚Šã€åç‡ãŒä½ä¸‹ã—ã¾ã™ã€‚ã“ã‚Œã‚’è£œå„Ÿã™ã‚‹ãŸã‚ã€ã‚ˆã‚Šè‰¯ã„æ··åˆã‚’å®Ÿç¾ã™ã‚‹è¨­è¨ˆãŒå¿…è¦ã§ã™ã€‚</p>

<hr />

<h2>4.6 æ··åˆå“è³ªã®è©•ä¾¡</h2>

<h3>ãƒ–ãƒ¬ãƒ³ãƒ‰ hoursã¨å‡ä¸€æ€§</h3>

<p>æ··åˆå“è³ªã¯ã€æ¿ƒåº¦ã®æ¨™æº–åå·®ã§è©•ä¾¡ã•ã‚Œã¾ã™ï¼š</p>

<p>$$CoV = \frac{\sigma}{\bar{C}} \times 100\%$$</p>

<p>ã“ã“ã§ï¼š</p>
<ul>
<li><strong>$CoV$</strong>: å¤‰å‹•ä¿‚æ•°ï¼ˆCoefficient of Variationï¼‰</li>
<li><strong>$\sigma$</strong>: æ¿ƒåº¦ã®æ¨™æº–åå·®</li>
<li><strong>$\bar{C}$</strong>: å¹³å‡æ¿ƒåº¦</li>
</ul>

<p>ä¸€èˆ¬çš„ã«ã€CoV < 5%ã§è‰¯å¥½ãªæ··åˆã¨ã•ã‚Œã¾ã™ã€‚</p>

<h3>Code Examples6: æ··åˆå“è³ªã® hoursç™ºå±•Simulation</h3>

<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def mixing_quality(t, tm, initial_CoV=100):
    """
    æ··åˆå“è³ªã® hoursç™ºå±•

    Args:
        t:  hours [s]
        tm: æ··åˆ hours [s]
        initial_CoV: åˆæœŸå¤‰å‹•ä¿‚æ•° [%]

    Returns:
        CoV: å¤‰å‹•ä¿‚æ•° [%]
    """
    # æŒ‡æ•°æ¸›è¡°ãƒ¢ãƒ‡ãƒ«
    CoV = initial_CoV * np.exp(-t / tm)
    return CoV

# ã‚¹ã‚±ãƒ¼ãƒ«åˆ¥ã®æ··åˆ hoursï¼ˆå‰è¿°ã®è¨ˆç®—ã‚ˆã‚Šï¼‰
mixing_times = {
    'Lab (D=0.1m)': 0.11,
    'Pilot (D=0.5m)': 0.88,
    'Plant (D=2.0m)': 7.07
}

t_range = np.linspace(0, 30, 500)

plt.figure(figsize=(12, 6))

for label, tm in mixing_times.items():
    CoV_values = [mixing_quality(t, tm) for t in t_range]
    plt.plot(t_range, CoV_values, linewidth=2.5, label=f'{label}, tm={tm:.2f}s')

plt.axhline(5, linestyle='--', color='red', linewidth=2, alpha=0.7, label='ç›®æ¨™æ··åˆå“è³ª (CoV=5%)')
plt.xlabel(' hours [s]', fontsize=12)
plt.ylabel('å¤‰å‹•ä¿‚æ•° CoV [%]', fontsize=12)
plt.title('æ··åˆå“è³ªã® hoursç™ºå±•', fontsize=14, fontweight='bold')
plt.legend(fontsize=11)
plt.grid(alpha=0.3)
plt.yscale('log')
plt.ylim([1, 100])
plt.tight_layout()
plt.show()

# ç›®æ¨™æ··åˆå“è³ªåˆ°é” hours
print("\nç›®æ¨™æ··åˆå“è³ªï¼ˆCoV=5%ï¼‰åˆ°é” hours:")
print(f"{'ã‚¹ã‚±ãƒ¼ãƒ«':<20} {'æ··åˆ hours tm [s]':<18} {'åˆ°é” hours [s]':<18} {'æ¯”ç‡ (t/tm)'}")
print("-" * 75)

target_CoV = 5
for label, tm in mixing_times.items():
    # CoV = 100 * exp(-t/tm) = 5 ã‚ˆã‚Šã€t = tm * ln(100/5)
    t_target = tm * np.log(100 / target_CoV)
    ratio = t_target / tm

    print(f"{label:<20} {tm:<18.2f} {t_target:<18.2f} {ratio:<18.2f}")
</code></pre>

<p><strong>å‡ºåŠ›:</strong></p>
<pre><code>ç›®æ¨™æ··åˆå“è³ªï¼ˆCoV=5%ï¼‰åˆ°é” hours:
ã‚¹ã‚±ãƒ¼ãƒ«              æ··åˆ hours tm [s]    åˆ°é” hours [s]       æ¯”ç‡ (t/tm)
---------------------------------------------------------------------------
Lab (D=0.1m)         0.11               0.32               3.00
Pilot (D=0.5m)       0.88               2.64               3.00
Plant (D=2.0m)       7.07               21.18              3.00
</code></pre>

<p><strong>è§£èª¬:</strong> ç›®æ¨™æ··åˆå“è³ªã«åˆ°é”ã™ã‚‹ hoursã¯ã€æ··åˆ hoursã®ç´„3å€ã§ã™ã€‚å¤§å‹ã‚¹ã‚±ãƒ¼ãƒ«ã»ã©ã€å‡ä¸€æ··åˆã« hoursãŒã‹ã‹ã‚Šã¾ã™ã€‚</p>

<hr />

<h2>4.7 æ°—æ¶²ç‰©è³ªç§»å‹•ä¿‚æ•°ï¼ˆkLaï¼‰ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</h2>

<h3>kLaã®é‡è¦æ€§</h3>

<p>å¥½æ°—ç™ºé…µã‚„æ°—æ¶²åå¿œã§ã¯ã€<strong>ä½“ç©ç‰©è³ªç§»å‹•ä¿‚æ•°ï¼ˆkLaï¼‰</strong>ãŒå¾‹é€Ÿã¨ãªã‚‹ã“ã¨ãŒå¤šãã€Scale-upã®é‡è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã™ã€‚</p>

<p>kLaã¯æ¬¡å¼ã§æ¨ç®—ã•ã‚Œã¾ã™ï¼š</p>

<p>$$k_La = c \cdot \left(\frac{P}{V}\right)^{\alpha} \cdot v_s^{\beta}$$</p>

<p>ã“ã“ã§ï¼š</p>
<ul>
<li><strong>$k_La$</strong>: ä½“ç©ç‰©è³ªç§»å‹•ä¿‚æ•° [1/s]</li>
<li><strong>$P/V$</strong>: å˜ä½ä½“ç©ã‚ãŸã‚Šã®å‹•åŠ› [W/mÂ³]</li>
<li><strong>$v_s$</strong>: è¡¨é¢ã‚¬ã‚¹é€Ÿåº¦ [m/s]</li>
<li><strong>$c, \alpha, \beta$</strong>: çµŒé¨“å®šæ•°ï¼ˆ$\alpha \approx 0.4, \beta \approx 0.5$ï¼‰</li>
</ul>

<h3>Code Examples7: kLaã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°è¨ˆç®—</h3>

<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def kLa_correlation(PV, v_s, c=0.002, alpha=0.4, beta=0.5):
    """
    kLaç›¸é–¢å¼

    Args:
        PV: å˜ä½ä½“ç©ã‚ãŸã‚Šã®å‹•åŠ› [W/mÂ³]
        v_s: è¡¨é¢ã‚¬ã‚¹é€Ÿåº¦ [m/s]
        c, alpha, beta: ç›¸é–¢å®šæ•°

    Returns:
        kLa [1/s]
    """
    return c * (PV ** alpha) * (v_s ** beta)

def scaleup_kLa_analysis(scales_data):
    """ã‚¹ã‚±ãƒ¼ãƒ«åˆ¥kLaè§£æ"""
    results = []

    for scale_name, params in scales_data.items():
        D = params['D']
        N = params['N']
        Q_gas = params['Q_gas']  # ã‚¬ã‚¹æµé‡ [mÂ³/s]

        # å‹•åŠ›ã¨P/V
        N_p = 5.0
        rho = 1000
        P = N_p * rho * N**3 * D**5
        V = np.pi * (D/2)**2 * D  # ç°¡æ˜“çš„ã«H=D
        PV = P / V

        # è¡¨é¢ã‚¬ã‚¹é€Ÿåº¦
        A_cross = np.pi * (D/2)**2
        v_s = Q_gas / A_cross

        # kLaè¨ˆç®—
        kLa = kLa_correlation(PV, v_s)

        results.append({
            'scale': scale_name,
            'D': D,
            'N': N,
            'PV': PV,
            'v_s': v_s,
            'kLa': kLa
        })

    return results

# ã‚¹ã‚±ãƒ¼ãƒ«è¨­å®šï¼ˆç™ºé…µæ§½ï¼‰
scales_fermentation = {
    'Lab (5L)': {'D': 0.15, 'N': 5.0, 'Q_gas': 5e-5},      # 3 L/min
    'Pilot (500L)': {'D': 0.8, 'N': 2.0, 'Q_gas': 8e-4},   # 50 L/min
    'Plant (50mÂ³)': {'D': 3.0, 'N': 1.0, 'Q_gas': 0.05}    # 3000 L/min
}

results = scaleup_kLa_analysis(scales_fermentation)

print("ã‚¹ã‚±ãƒ¼ãƒ«åˆ¥kLaè§£æï¼ˆå¥½æ°—ç™ºé…µæ§½ï¼‰:")
print(f"{'ã‚¹ã‚±ãƒ¼ãƒ«':<15} {'ç›´å¾„[m]':<10} {'P/V[W/mÂ³]':<15} {'vs[m/s]':<12} {'kLa[1/s]':<12} {'kLa[1/h]'}")
print("-" * 85)

for r in results:
    kLa_per_hour = r['kLa'] * 3600
    print(f"{r['scale']:<15} {r['D']:<10.2f} {r['PV']:<15.1f} {r['v_s']:<12.4f} {r['kLa']:<12.4f} {kLa_per_hour:<12.1f}")

# kLaç¶­æŒã®ãŸã‚ã®æ¡ä»¶æ¢ç´¢
print("\n\nkLaç¶­æŒã®ãŸã‚ã®Scale-upæˆ¦ç•¥:")
target_kLa = results[0]['kLa']  # ãƒ©ãƒœã‚¹ã‚±ãƒ¼ãƒ«ã®kLaã‚’ç¶­æŒ

for r in results[1:]:  # Pilot, Plant
    # å¿…è¦ãªP/Vã‚’é€†ç®—ï¼ˆv_sã¯å›ºå®šã¨ä»®å®šï¼‰
    PV_required = (target_kLa / (0.002 * r['v_s']**0.5)) ** (1/0.4)
    PV_current = r['PV']
    PV_ratio = PV_required / PV_current

    print(f"\n{r['scale']}:")
    print(f"  ç¾åœ¨ã®P/V: {PV_current:.1f} W/mÂ³")
    print(f"  å¿…è¦ãªP/V: {PV_required:.1f} W/mÂ³ ({PV_ratio:.2f}å€)")
    print(f"  ç¾åœ¨ã®kLa: {r['kLa']:.4f} 1/s")
    print(f"  ç›®æ¨™kLa: {target_kLa:.4f} 1/s")

# å¯è¦–åŒ–
D_values = [r['D'] for r in results]
kLa_values = [r['kLa'] for r in results]
PV_values = [r['PV'] for r in results]

fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 5))

ax1.plot(D_values, kLa_values, 'o-', linewidth=2.5, markersize=10, color='#11998e')
ax1.set_xlabel('æ’¹æ‹Œæ§½ç›´å¾„ D [m]', fontsize=12)
ax1.set_ylabel('kLa [1/s]', fontsize=12)
ax1.set_title('ã‚¹ã‚±ãƒ¼ãƒ«ã¨kLaã®é–¢ä¿‚', fontsize=13, fontweight='bold')
ax1.grid(alpha=0.3)

ax2.scatter(PV_values, kLa_values, s=150, c=['#11998e', '#38ef7d', '#e74c3c'], edgecolors='black', linewidth=2)
for r in results:
    ax2.annotate(r['scale'], (r['PV'], r['kLa']), fontsize=10, ha='right')
ax2.set_xlabel('P/V [W/mÂ³]', fontsize=12)
ax2.set_ylabel('kLa [1/s]', fontsize=12)
ax2.set_title('P/Vã¨kLaã®ç›¸é–¢', fontsize=13, fontweight='bold')
ax2.grid(alpha=0.3)

plt.tight_layout()
plt.show()
</code></pre>

<p><strong>å‡ºåŠ›:</strong></p>
<pre><code>ã‚¹ã‚±ãƒ¼ãƒ«åˆ¥kLaè§£æï¼ˆå¥½æ°—ç™ºé…µæ§½ï¼‰:
ã‚¹ã‚±ãƒ¼ãƒ«         ç›´å¾„[m]    P/V[W/mÂ³]       vs[m/s]      kLa[1/s]     kLa[1/h]
-------------------------------------------------------------------------------------
Lab (5L)        0.15       1963.5          0.0028       0.0176       63.3
Pilot (500L)    0.80       251.3           0.0016       0.0084       30.2
Plant (50mÂ³)    3.00       35.3            0.0007       0.0044       15.8

kLaç¶­æŒã®ãŸã‚ã®Scale-upæˆ¦ç•¥:

Pilot (500L):
  ç¾åœ¨ã®P/V: 251.3 W/mÂ³
  å¿…è¦ãªP/V: 1963.5 W/mÂ³ (7.81å€)
  ç¾åœ¨ã®kLa: 0.0084 1/s
  ç›®æ¨™kLa: 0.0176 1/s

Plant (50mÂ³):
  ç¾åœ¨ã®P/V: 35.3 W/mÂ³
  å¿…è¦ãªP/V: 1963.5 W/mÂ³ (55.60å€)
  ç¾åœ¨ã®kLa: 0.0044 1/s
  ç›®æ¨™kLa: 0.0176 1/s
</code></pre>

<p><strong>è§£èª¬:</strong> Scale-upã§kLaã¯æ¸›å°‘ã—ã¾ã™ã€‚ã“ã‚Œã‚’è£œå„Ÿã™ã‚‹ã«ã¯ã€P/Vã‚’å¤§å¹…ã«å¢—åŠ ã•ã›ã‚‹ï¼ˆå›è»¢æ•°ã‚’ä¸Šã’ã‚‹ã€å¼·åŠ›ãªæ’¹æ‹Œç¿¼ã‚’ä½¿ã†ï¼‰ã‹ã€é€šæ°—é‡ã‚’å¢—ã‚„ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>

<hr />

<h2>Summary</h2>

<p>ã“ã® Chapterã§ã¯ã€åå¿œå·¥å­¦ã¨æ··åˆã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã«ã¤ã„ã¦å­¦ã³ã¾ã—ãŸï¼š</p>

<ul>
<li><strong>æ»ç•™ hours minuteså¸ƒï¼ˆRTDï¼‰</strong>: Scale-upã§ minutesæ•£ãŒå¤‰åŒ–ã—ã€åå¿œæ€§èƒ½ã«å½±éŸ¿</li>
<li><strong>æ··åˆ hours</strong>: ä¹±æµåŸŸã§ã¯ tm âˆ Dã€å±¤æµåŸŸã§ã¯ tm âˆ DÂ²</li>
<li><strong>P/Vã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</strong>: æ··åˆå¼·åº¦ç¶­æŒã®ãŸã‚ã€N âˆ D^(-2/3)</li>
<li><strong>Tip Speedã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</strong>: ã›ã‚“æ–­æ„Ÿå—æ€§ç³»ã§é‡è¦ã€N âˆ 1/D</li>
<li><strong>è»¢åŒ–ç‡ãƒ»é¸æŠæ€§</strong>: æ··åˆä¸è‰¯ã«ã‚ˆã‚Šä½ä¸‹ã€è£œå„Ÿç­–ãŒå¿…è¦</li>
<li><strong>æ··åˆå“è³ª</strong>: å¤§å‹ã‚¹ã‚±ãƒ¼ãƒ«ã»ã©å‡ä¸€åŒ–ã« hoursãŒã‹ã‹ã‚‹</li>
<li><strong>kLaã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</strong>: æ°—æ¶²åå¿œãƒ»ç™ºé…µã®å¾‹é€Ÿå› å­ã€P/Vã¨ã‚¬ã‚¹é€Ÿåº¦ã«ä¾å­˜</li>
</ul>

<p>æ¬¡ Chapterã§ã¯ã€Machine Learningã‚’ç”¨ã„ãŸã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°Predictionæ‰‹æ³•ã‚’å­¦ã³ã¾ã™ã€‚</p>

<hr />

<div class="navigation">
    <a href="chapter-3.html" class="nav-button">â† Chapter 3ï¼šç†±ç§»å‹•ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</a>
    <a href="chapter-5.html" class="nav-button">Chapter 5ï¼šMLã«ã‚ˆã‚‹ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°Prediction â†’</a>
</div>

    </main>

    <footer>
        <p>&copy; 2025 PI Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>
