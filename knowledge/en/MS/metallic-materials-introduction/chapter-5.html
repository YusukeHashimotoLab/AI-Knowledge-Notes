<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Chapter 5: PythonpracticeÔºömetallic materialsDataanalyze | MS Dojo</title><meta name="description" content="Materials Project API„ÄÅpymatgen„ÄÅmechanicallearningbymetallic materialsDataanalyze of practiceal chi triaru"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>    <link rel="stylesheet" href="../../assets/css/knowledge-base.css"></head><body><div class="header"><h1>Chapter 5: PythonpracticeÔºömetallic materialsDataanalyze</h1><p class="subtitle">Python Practice: Metallic Materials Data Analysis</p></div><div class="nav-breadcrumb"><a href="../index.html">MS Dojo Top</a>&gt;<a href="index.html">Introduction to Metallic Materials</a>&gt; Chapter 5</div><div class="container"><section id="introduction"><h2></h2><p>in„ÄÅPython usemetallic materialsDataanalyze of practiceal learn„ÄÇMaterials Project APIbymaterialDatabe s to of akses„ÄÅpymatgen/ASE usestructureanalyze„ÄÅpycalphadbyPhase DiagramCalculation„ÄÅ mechanicallearningbymaterialCharacteristicsPredictionto„ÄÅ of Materials Science of Data apro chi learn „ÄÇ</p><div class="highlight"><h3>of Learning Objectives</h3><ul><li>Materials Project API usingmaterialDatabe sfrominformation obtaincan</li><li>pymatgen/ASE Crystal Structure operation„ÉªVisualization„Éªanalyzecan</li><li>pycalphad systemPhase Diagram Calculation „ÄÅPhasestableity evaluatecan</li><li>pandas/numpy materialData treatment„Éªstatisticsanalyzecan</li><li>mechanicallearningÔºàscikit-learnÔºâ materialCharacteristics Predictiondomoderu constructioncan</li><li>highsru ptCalculationwa kfro design„Éª can</li><li>DataVisualizationbymaterialtrendo can</li></ul></div><div class="code-note"><strong>‚ö†Ô∏è</strong>: of ko do executedo is „ÄÅor less of raiburari necessaryis„ÄÇ<br><code>pip install pymatgen mp-api ase pycalphad scikit-learn pandas matplotlib seaborn plotly</code><br>Materials Project APIki is<a href="https://materialsproject.org/" style="color:#f093fb;">materialsproject.org</a>obtain „ÄÇ</div></section><section id="materials-project"><h2>5.1 Materials Project APIbyDataobtain</h2><h3>5.1.1 Materials Project and is</h3><p>Materials ProjectÔºàMPÔºâ is „ÄÅ Lawrence Berkeley National Laboratory domaterialDatabe s „ÄÅ150,000or more types of material of ChapteroneprincipleCalculationData provide „ÄÇCrystal Structure„ÄÅbandogi p„ÄÅ ityConstant„ÄÅformation energy„ÄÅPhase Diagrametc of information Python API akses „ÄÇ</p><h3>5.1.2 API and kraiantinitialization</h3><p>Materials Project API usedo is „ÄÅAPIki necessaryis„ÄÇu busait after„ÄÅ<code>MPRester</code>kraiant initialization „ÄÇ</p><div class="highlight"><strong>Code Example 1: Materials Project API of initialization and materialsearch</strong><pre><code class="language-python">from mp_api.client import MPRester import pandas as pd # APIki Ôºàactualki Ôºâ API_KEY = "your_api_key_here" def search_materials_by_formula(formula, api_key=API_KEY): """ izationstudyequation material search „ÄÅBasicinformation obtain Parameters: ----------- formula: str izationstudyequationÔºàexample: "Fe", "Al2O3", "Fe-Ni"Ôºâ api_key: str Materials Project APIki Returns: -------- df: DataFrame materialinformation of Datafre mu """ with MPRester(api_key) as mpr: # izationstudyequation material search docs = mpr.materials.summary.search(formula=formula, fields=["material_id", "formula_pretty", "structure", "energy_per_atom", "formation_energy_per_atom", "band_gap", "is_stable", "e_above_hull"]) if not docs: print(f"No materials found for formula: {formula}") return pd.DataFrame() # Datafre mu data = [] for doc in docs: data.append({ 'Material ID': doc.material_id, 'Formula': doc.formula_pretty, 'Energy [eV/atom]': doc.energy_per_atom, 'Formation Energy [eV/atom]': doc.formation_energy_per_atom, 'Band Gap [eV]': doc.band_gap, 'Stable': doc.is_stable, 'E above hull [eV/atom]': doc.e_above_hull }) df = pd.DataFrame(data) return df # useexample: ÔºàFeÔºâ of material search print("=== Searching for Fe materials ===") fe_materials = search_materials_by_formula("Fe") print(fe_materials.head(10)) # firutaringu: stable material of stable_fe = fe_materials[fe_materials['Stable'] == True] print(f"\nNumber of stable Fe materials: {len(stable_fe)}") # Fe-NiAlloy of search print("\n=== Searching for Fe-Ni alloys ===") fe_ni_alloys = search_materials_by_formula("Fe-Ni") print(fe_ni_alloys.head(10)) # statisticsinformation print("\n=== Statistics for Fe-Ni alloys ===") print(f"Total materials: {len(fe_ni_alloys)}") print(f"Average formation energy: {fe_ni_alloys['Formation Energy [eV/atom]'].mean():.3f} eV/atom") print(f"Stable materials: {fe_ni_alloys['Stable'].sum()}")</code></pre></div><h3>5.1.3 structureinformation of obtain and Visualization</h3><p>Materials Projectfromobtain structureData is „ÄÅpymatgen of Structureobuji ktasprovide „ÄÇ usingCrystal Structure analyze„ÉªVisualization „ÄÇ</p><div class="highlight"><strong>Code Example 2: structureData of obtain and analyze</strong><pre><code class="language-python">from mp_api.client import MPRester from pymatgen.core import Structure import matplotlib.pyplot as plt def get_structure_analysis(material_id, api_key=API_KEY): """ Material IDfromstructure obtain „ÄÅDetailedanalyze Parameters: ----------- material_id: str Materials Project IDÔºàexample: "mp-13"Ôºâ api_key: str APIki Returns: -------- structure: Structure pymatgen Structureobuji kt """ with MPRester(api_key) as mpr: # structureData obtain structure = mpr.get_structure_by_material_id(material_id) print(f"=== Structure Analysis for {material_id} ===") print(f"Formula: {structure.composition.reduced_formula}") print(f"Space Group: {structure.get_space_group_info()}") print(f"Lattice Parameters:") print(f" a = {structure.lattice.a:.4f} √Ö") print(f" b = {structure.lattice.b:.4f} √Ö") print(f" c = {structure.lattice.c:.4f} √Ö") print(f" Œ± = {structure.lattice.alpha:.2f}¬∞") print(f" Œ≤ = {structure.lattice.beta:.2f}¬∞") print(f" Œ≥ = {structure.lattice.gamma:.2f}¬∞") print(f"Volume: {structure.volume:.4f} √Ö¬≥") print(f"Density: {structure.density:.4f} g/cm¬≥") # Atomnumber and Composition print(f"\nComposition:") for elem, amount in structure.composition.items(): print(f" {elem}: {amount:.2f}") # print(f"\nNearest neighbor distances:") neighbors = structure.get_all_neighbors(r=3.5) for i, site_neighbors in enumerate(neighbors[:3]): # of 3sait if site_neighbors: min_dist = min([n.nn_distance for n in site_neighbors]) print(f" Site {i} ({structure[i].species_string}): {min_dist:.3f} √Ö") return structure # useexample: BCC Ôºàmp-13Ôºâ of structureanalyze bcc_fe_structure = get_structure_analysis("mp-13") # multiplematerial of densityRatiocomparison material_ids = ["mp-13", "mp-79", "mp-134"] # Fe (BCC), Ni (FCC), Al (FCC) densities = [] formulas = [] with MPRester(API_KEY) as mpr: for mat_id in material_ids: structure = mpr.get_structure_by_material_id(mat_id) formulas.append(structure.composition.reduced_formula) densities.append(structure.density) # Visualization plt.figure(figsize=(10, 6)) plt.bar(formulas, densities, color=['steelblue', 'lightcoral', 'lightgreen']) plt.ylabel('Density [g/cm¬≥]', fontsize=12) plt.title('Density Comparison of Metallic Elements', fontsize=14) plt.grid(axis='y', alpha=0.3) for i, (formula, density) in enumerate(zip(formulas, densities)): plt.text(i, density + 0.2, f'{density:.2f}', ha='center', fontsize=11) plt.tight_layout() plt.savefig('density_comparison.png', dpi=300, bbox_inches='tight') plt.show()</code></pre></div><h3>5.1.4 bachitreatmentÔºömultiplematerial of one Dataobtain</h3><p>highsru ptanalyzein„ÄÅ number of materialData one obtain „ÄÅstatisticsanalyze and mechanicallearning use „ÄÇ</p><div class="highlight"><strong>Code Example 3: metallic materials of one obtain and statisticsanalyze</strong><pre><code class="language-python">from mp_api.client import MPRester import pandas as pd import matplotlib.pyplot as plt import seaborn as sns def batch_download_transition_metals(api_key=API_KEY): """ element of materialData one daunro do Returns: -------- df: DataFrame materialDatabe s """ transition_metals = ['Sc', 'Ti', 'V', 'Cr', 'Mn', 'Fe', 'Co', 'Ni', 'Cu', 'Zn'] all_data = [] with MPRester(api_key) as mpr: for element in transition_metals: print(f"Downloading data for {element}...") # element of search docs = mpr.materials.summary.search(chemsys=element, fields=["material_id", "formula_pretty", "formation_energy_per_atom", "energy_per_atom", "band_gap", "density", "e_above_hull", "is_stable"]) for doc in docs: all_data.append({ 'Material ID': doc.material_id, 'Element': element, 'Formula': doc.formula_pretty, 'Formation Energy [eV/atom]': doc.formation_energy_per_atom, 'Energy [eV/atom]': doc.energy_per_atom, 'Band Gap [eV]': doc.band_gap, 'Density [g/cm¬≥]': doc.density, 'E above hull [eV/atom]': doc.e_above_hull, 'Stable': doc.is_stable }) df = pd.DataFrame(all_data) return df # Datadaunro do print("=== Batch Download Transition Metal Materials ===") tm_data = batch_download_transition_metals() # statisticsanalyze print(f"\nTotal materials: {len(tm_data)}") print(f"Stable materials: {tm_data['Stable'].sum()}") # element and of statistics print("\n=== Statistics by Element ===") element_stats = tm_data.groupby('Element').agg({ 'Formation Energy [eV/atom]': 'mean', 'Density [g/cm¬≥]': 'mean', 'Stable': 'sum' }).round(3) print(element_stats) # Visualization: formation energy of fig, axes = plt.subplots(2, 2, figsize=(14, 10)) # 1. formation energy vs density stable_data = tm_data[tm_data['Stable'] == True] axes[0, 0].scatter(stable_data['Density [g/cm¬≥]'], stable_data['Formation Energy [eV/atom]'], c=stable_data['Band Gap [eV]'], cmap='viridis', s=50, alpha=0.6) axes[0, 0].set_xlabel('Density [g/cm¬≥]', fontsize=11) axes[0, 0].set_ylabel('Formation Energy [eV/atom]', fontsize=11) axes[0, 0].set_title('Formation Energy vs. Density', fontsize=12) cbar = plt.colorbar(axes[0, 0].collections[0], ax=axes[0, 0]) cbar.set_label('Band Gap [eV]', fontsize=10) axes[0, 0].grid(alpha=0.3) # 2. element and of formation energy sns.boxplot(data=tm_data, x='Element', y='Formation Energy [eV/atom]', ax=axes[0, 1], palette='Set2') axes[0, 1].set_title('Formation Energy Distribution by Element', fontsize=12) axes[0, 1].set_ylabel('Formation Energy [eV/atom]', fontsize=11) axes[0, 1].tick_params(axis='x', rotation=45) axes[0, 1].grid(axis='y', alpha=0.3) # 3. density axes[1, 0].hist(stable_data['Density [g/cm¬≥]'], bins=20, color='steelblue', alpha=0.7, edgecolor='black') axes[1, 0].set_xlabel('Density [g/cm¬≥]', fontsize=11) axes[1, 0].set_ylabel('Count', fontsize=11) axes[1, 0].set_title('Density Distribution (Stable Materials)', fontsize=12) axes[1, 0].grid(alpha=0.3) # 4. stableity of Ratiorate stability_counts = tm_data.groupby('Element')['Stable'].value_counts().unstack(fill_value=0) stability_counts.plot(kind='bar', stacked=True, ax=axes[1, 1], color=['lightcoral', 'lightgreen'], legend=True) axes[1, 1].set_title('Stability Count by Element', fontsize=12) axes[1, 1].set_ylabel('Count', fontsize=11) axes[1, 1].tick_params(axis='x', rotation=45) axes[1, 1].legend(['Unstable', 'Stable'], fontsize=10) plt.tight_layout() plt.savefig('transition_metal_statistics.png', dpi=300, bbox_inches='tight') plt.show() # Data CSV tm_data.to_csv('transition_metals_data.csv', index=False) print("\nData saved to 'transition_metals_data.csv'")</code></pre></div></section><section id="pymatgen-analysis"><h2>5.2 pymatgenbystructureanalyze</h2><h3>5.2.1 Crystal Structure of formation and operation</h3><p>pymatgen is „ÄÅCrystal Structure of formation„ÄÅDeformation„ÄÅsymmetryityanalyzeetc of highdegree function provide „ÄÇ</p><div class="highlight"><strong>Code Example 4: Crystal Structure of formation and s pa serucreation</strong><pre><code class="language-python">from pymatgen.core import Structure, Lattice import numpy as np from pymatgen.io.ase import AseAtomsAdaptor from ase.visualize import view def create_fcc_structure(element, lattice_constant): """ FCCstructure formation Parameters: ----------- element: str element lattice_constant: float Lattice Parameter [√Ö] Returns: -------- structure: Structure FCCstructure """ lattice = Lattice.cubic(lattice_constant) coords = [[0, 0, 0], [0.5, 0.5, 0], [0.5, 0, 0.5], [0, 0.5, 0.5]] structure = Structure(lattice, [element]*4, coords) return structure # FCC Ni of formation fcc_ni = create_fcc_structure("Ni", 3.52) print("=== FCC Ni Structure ===") print(fcc_ni) # s pa seru of creationÔºà2x2x2Ôºâ supercell = fcc_ni.copy() supercell.make_supercell([2, 2, 2]) print(f"\n=== Supercell (2x2x2) ===") print(f"Number of atoms: {len(supercell)}") print(f"Volume: {supercell.volume:.2f} √Ö¬≥") # Substitutional Solid Solution of creationÔºàFe-NiÔºâ def create_substitutional_alloy(base_structure, substitute_element, substitute_fraction): """ Substitutional Solid Solution creation Parameters: ----------- base_structure: Structure be sstructure substitute_element: str element substitute_fraction: float Ôºà0-1Ôºâ Returns: -------- alloy_structure: Structure Alloystructure """ alloy = base_structure.copy() n_substitute = int(len(alloy) * substitute_fraction) # randamu sait np.random.seed(42) # ity of for substitute_indices = np.random.choice(len(alloy), n_substitute, replace=False) for idx in substitute_indices: alloy[idx] = substitute_element return alloy # Fe0.5Ni0.5Alloy of creationÔºàs pa serufromÔºâ fe_ni_alloy = create_substitutional_alloy(supercell, "Fe", 0.5) print(f"\n=== Fe-Ni Alloy (50% substitution) ===") print(f"Composition: {fe_ni_alloy.composition}") # from pymatgen.analysis.structure_analyzer import VoronoiConnectivity def analyze_nearest_neighbors(structure): """ Atom analyze """ print(f"\n=== Nearest Neighbor Analysis ===") all_neighbors = structure.get_all_neighbors(r=4.0) distances = [] for site_neighbors in all_neighbors: if site_neighbors: min_dist = min([n.nn_distance for n in site_neighbors]) distances.append(min_dist) distances = np.array(distances) print(f"Mean nearest neighbor distance: {distances.mean():.3f} √Ö") print(f"Std deviation: {distances.std():.3f} √Ö") print(f"Min distance: {distances.min():.3f} √Ö") print(f"Max distance: {distances.max():.3f} √Ö") return distances nn_distances = analyze_nearest_neighbors(fe_ni_alloy) # coordination number of Calculation def calculate_coordination_numbers(structure, cutoff=3.5): """ coordination number Calculation """ all_neighbors = structure.get_all_neighbors(r=cutoff) coordination_numbers = [len(neighbors) for neighbors in all_neighbors] print(f"\n=== Coordination Number Analysis (cutoff={cutoff} √Ö) ===") print(f"Mean coordination number: {np.mean(coordination_numbers):.2f}") print(f"Most common: {np.bincount(coordination_numbers).argmax()}") return coordination_numbers coord_nums = calculate_coordination_numbers(fe_ni_alloy) # ASE to of and VisualizationÔºàopshiyonÔºâ adaptor = AseAtomsAdaptor() ase_atoms = adaptor.get_atoms(fe_ni_alloy) # view(ase_atoms) # ASE GUI VisualizationÔºàintarakteibu Ôºâ</code></pre></div><h3>5.2.2 symmetryityanalyze and determination</h3><p>pymatgen is „ÄÅ of and symmetryityoperation of obtain possibleis„ÄÇ</p><div class="highlight"><strong>Code Example 5: symmetryityanalyze</strong><pre><code class="language-python">from pymatgen.symmetry.analyzer import SpacegroupAnalyzer from pymatgen.core import Structure def symmetry_analysis(structure, symprec=0.1): """ Crystal Structure of symmetryity Detailedanalyze Parameters: ----------- structure: Structure analyze of structure symprec: float symmetryity of degree [√Ö] Returns: -------- analysis_dict: dict analyzeresult """ sga = SpacegroupAnalyzer(structure, symprec=symprec) print(f"=== Symmetry Analysis ===") print(f"Space Group: {sga.get_space_group_symbol()}") print(f"Space Group Number: {sga.get_space_group_number()}") print(f"Point Group: {sga.get_point_group_symbol()}") print(f"Crystal System: {sga.get_crystal_system()}") print(f"Lattice Type: {sga.get_lattice_type()}") # symmetryityoperationnumber of symm_ops = sga.get_symmetry_operations() print(f"Number of symmetry operations: {len(symm_ops)}") # primiteibuseru to of primitive = sga.get_primitive_standard_structure() print(f"\nPrimitive cell:") print(f" Number of atoms: {len(primitive)}") print(f" Volume: {primitive.volume:.4f} √Ö¬≥") # konbenshiyonaruseru to of conventional = sga.get_conventional_standard_structure() print(f"\nConventional cell:") print(f" Number of atoms: {len(conventional)}") print(f" Volume: {conventional.volume:.4f} √Ö¬≥") return { 'space_group': sga.get_space_group_symbol(), 'sg_number': sga.get_space_group_number(), 'point_group': sga.get_point_group_symbol(), 'crystal_system': sga.get_crystal_system(), 'primitive': primitive, 'conventional': conventional } # FCC Nistructure of symmetryityanalyze fcc_ni_structure = create_fcc_structure("Ni", 3.52) ni_symmetry = symmetry_analysis(fcc_ni_structure) # BCC Festructure of formation and analyze def create_bcc_structure(element, lattice_constant): """BCCstructure formation""" lattice = Lattice.cubic(lattice_constant) coords = [[0, 0, 0], [0.5, 0.5, 0.5]] structure = Structure(lattice, [element]*2, coords) return structure bcc_fe_structure = create_bcc_structure("Fe", 2.87) print("\n" + "="*50) fe_symmetry = symmetry_analysis(bcc_fe_structure) # RatiocomparisonTable import pandas as pd comparison_df = pd.DataFrame({ 'Property': ['Space Group', 'SG Number', 'Point Group', 'Crystal System', 'Atoms in primitive', 'Atoms in conventional'], 'FCC Ni': [ni_symmetry['space_group'], ni_symmetry['sg_number'], ni_symmetry['point_group'], ni_symmetry['crystal_system'], len(ni_symmetry['primitive']), len(ni_symmetry['conventional'])], 'BCC Fe': [fe_symmetry['space_group'], fe_symmetry['sg_number'], fe_symmetry['point_group'], fe_symmetry['crystal_system'], len(fe_symmetry['primitive']), len(fe_symmetry['conventional'])] }) print("\n=== FCC vs BCC Comparison ===") print(comparison_df.to_string(index=False))</code></pre></div></section><section id="pycalphad"><h2>5.3 pycalphadbyPhase DiagramCalculation</h2><h3>5.3.1 CALPHADapro chi and pycalphad</h3><p>CALPHAD (CALculation of PHAse Diagrams) is „ÄÅthermodynamicsDatabe s using systemPhase Diagram Calculationdo is„ÄÇpycalphad is Python CALPHADCalculation executedoraiburari „ÄÅTDBÔºàThermodynamic DataBaseÔºâfairu „ÄÅEquilibriumCalculation possibleis„ÄÇ</p><div class="highlight"><strong>Code Example 6: Fe-Ctwo systemPhase Diagram of Calculation</strong><pre><code class="language-python">from pycalphad import Database, equilibrium, variables as v import matplotlib.pyplot as plt import numpy as np def calculate_binary_phase_diagram(tdb_file, elements, x_component, T_range, x_range): """ two systemPhase Diagram Calculation Parameters: ----------- tdb_file: str TDBfairupas elements: list elementristÔºàexample: ['FE', 'C']Ôºâ x_component: str of componentÔºàexample: 'C'Ôºâ T_range: tuple Temperaturerange [K] (T_min, T_max, num_points) x_range: tuple Compositionrange (x_min, x_max, num_points) Returns: -------- eq: xarray.Dataset EquilibriumCalculationresult """ # Databe s db = Database(tdb_file) # Temperature„ÉªCompositionrange of temps = np.linspace(T_range[0], T_range[1], T_range[2]) compositions = np.linspace(x_range[0], x_range[1], x_range[2]) # EquilibriumCalculation eq = equilibrium(db, elements, 'BCC_A2', {v.X(x_component): compositions, v.T: temps, v.P: 101325}, calc_opts={'pbar': False}) return eq, temps, compositions # Fe-CsystemPhase DiagramCalculation of exampleÔºà is TDBfairu necessaryÔºâ #: actualexecute is Fe-C of TDBfairu necessaryis # where is ko doasconcept show def plot_fe_c_phase_diagram_conceptual(): """ Fe-CsystemPhase Diagram of conceptalPlotÔºà Databe s Ôºâ """ # Temperature and carbonConcentration of range T = np.linspace(500, 1600, 100) # K to ¬∞C: T - 273 C_wt = np.linspace(0, 6.7, 100) # wt% C fig, ax = plt.subplots(figsize=(12, 8)) # A1lineÔºà727¬∞C„ÄÅEutectoidTemperatureÔºâ A1_temp = 727 ax.axhline(y=A1_temp, color='blue', linestyle='--', linewidth=2, label='A1 (Eutectoid, 727¬∞C)') # A3lineÔºàFerrite-Austeniteboundary„ÄÅconceptalÔºâ A3_C = np.linspace(0, 0.8, 50) A3_T = 912 - 200 * A3_C ax.plot(A3_C, A3_T, 'r-', linewidth=2, label='A3 (Ferrite-Austenite)') # AcmlineÔºàAustenite-Cementiteboundary„ÄÅconceptalÔºâ Acm_C = np.linspace(0.8, 6.7, 50) Acm_T = 727 + (1147 - 727) * (Acm_C - 0.8) / (6.7 - 0.8) ax.plot(Acm_C, Acm_T, 'g-', linewidth=2, label='Acm (Austenite-Cementite)') # Eutectoid Point ax.plot(0.8, 727, 'ko', markersize=12, label='Eutectoid Point (0.8%C, 727¬∞C)') # Eutectic PointÔºà4.3%C„ÄÅ1147¬∞CÔºâ ax.plot(4.3, 1147, 'rs', markersize=12, label='Eutectic Point (4.3%C, 1147¬∞C)') # Phaseregion of raberu ax.text(0.2, 500, 'Ferrite (Œ±)', fontsize=14, fontweight='bold') ax.text(0.2, 850, 'Austenite (Œ≥)', fontsize=14, fontweight='bold') ax.text(1.5, 650, 'Ferrite + Pearlite', fontsize=12) ax.text(5.5, 900, 'Austenite + Cementite', fontsize=12) ax.set_xlabel('Carbon Content [wt%]', fontsize=13) ax.set_ylabel('Temperature [¬∞C]', fontsize=13) ax.set_title('Fe-C Phase Diagram (Conceptual)', fontsize=15, fontweight='bold') ax.legend(fontsize=11, loc='upper right') ax.grid(True, alpha=0.3) ax.set_xlim(0, 6.7) ax.set_ylim(400, 1600) plt.tight_layout() plt.savefig('fe_c_phase_diagram_conceptual.png', dpi=300, bbox_inches='tight') plt.show() plot_fe_c_phase_diagram_conceptual() print("=== Fe-C Phase Diagram Key Points ===") print("Eutectoid: 0.8 wt% C, 727¬∞C (Austenite ‚Üí Ferrite + Cementite)") print("Eutectic: 4.3 wt% C, 1147¬∞C (Liquid ‚Üí Austenite + Cementite)") print("A1 temperature: 727¬∞C (Ferrite-Austenite-Cementite equilibrium)") print("A3 temperature: Variable (Ferrite-Austenite boundary, composition-dependent)")</code></pre></div><div class="code-note"><strong>‚ÑπÔ∏è TDBfairuabout</strong>: pycalphad actualPhase DiagramCalculation perform is „ÄÅTDBÔºàThermodynamic DataBaseÔºâfairu necessaryis„ÄÇFe-Csystem of TDBfairu is „ÄÅ<a href="https://github.com/pycalphad/pycalphad" style="color:#f093fb;">pycalphadFormulari jitri</a>of examples and „ÄÅ<a href="https://www.thermocalc.com/" style="color:#f093fb;">Thermocalc</a>etc „ÄÇ</div></section><section id="machine-learning"><h2>5.4 mechanicallearningbymaterialCharacteristicsPrediction</h2><h3>5.4.1 materialdescriptorÔºàMaterial DescriptorsÔºâ</h3><p>mechanicallearningmoderu material do is „ÄÅizationstudyComposition and structure valuebektruÔºàdescriptorÔºâ donecessary „ÄÇGeneral descriptor is „ÄÅelement of itydegree„ÄÅAtomic Radius„ÄÅ numberetc of value and „ÄÅCrystal Structure of symmetryity „ÄÇ</p><div class="highlight"><strong>Code Example 7: materialdescriptor of formation and mechanicallearningmoderuconstruction</strong><pre><code class="language-python">import pandas as pd import numpy as np from sklearn.model_selection import train_test_split, cross_val_score from sklearn.ensemble import RandomForestRegressor, GradientBoostingRegressor from sklearn.linear_model import Ridge from sklearn.metrics import mean_absolute_error, r2_score import matplotlib.pyplot as plt # DatasetcreationÔºà is Materials Projectfromdaunro doÔºâ def create_sample_dataset(n_samples=200): """ metallic materials of Dataset creation Returns: -------- df: DataFrame materialCharacteristicsData """ np.random.seed(42) # descriptorÔºàfeatureÔºâ atomic_radius = np.random.uniform(1.0, 2.0, n_samples) # √Ö electronegativity = np.random.uniform(1.5, 2.5, n_samples) valence_electrons = np.random.randint(3, 11, n_samples) density = np.random.uniform(2.0, 10.0, n_samples) # g/cm¬≥ formation_energy = np.random.uniform(-2.0, 0.5, n_samples) # eV/atom # ta get: Elastic ModulusÔºà al formationÔºâ # actualtrendo: density high„ÄÅ itydegree highhard elastic_modulus = (50 + 30 * density + 20 * electronegativity + 5 * valence_electrons - 10 * formation_energy + np.random.normal(0, 20, n_samples)) # GPa df = pd.DataFrame({ 'Atomic Radius [√Ö]': atomic_radius, 'Electronegativity': electronegativity, 'Valence Electrons': valence_electrons, 'Density [g/cm¬≥]': density, 'Formation Energy [eV/atom]': formation_energy, 'Elastic Modulus [GPa]': elastic_modulus }) return df # Datasetcreation materials_df = create_sample_dataset(200) print("=== Material Dataset ===") print(materials_df.head(10)) print(f"\nDataset shape: {materials_df.shape}") print(f"Statistical summary:") print(materials_df.describe()) # feature and ta get of X = materials_df.drop('Elastic Modulus [GPa]', axis=1) y = materials_df['Elastic Modulus [GPa]'] # Train-Test X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42) print(f"\nTraining set: {X_train.shape[0]} samples") print(f"Test set: {X_test.shape[0]} samples") # multiplemoderu of and evaluate models = { 'Ridge Regression': Ridge(alpha=1.0), 'Random Forest': RandomForestRegressor(n_estimators=100, max_depth=10, random_state=42), 'Gradient Boosting': GradientBoostingRegressor(n_estimators=100, max_depth=5, learning_rate=0.1, random_state=42) } results = {} print("\n=== Model Training and Evaluation ===") for name, model in models.items(): # model.fit(X_train, y_train) # Prediction y_train_pred = model.predict(X_train) y_test_pred = model.predict(X_test) # evaluate train_mae = mean_absolute_error(y_train, y_train_pred) test_mae = mean_absolute_error(y_test, y_test_pred) train_r2 = r2_score(y_train, y_train_pred) test_r2 = r2_score(y_test, y_test_pred) # Cross-validation cv_scores = cross_val_score(model, X_train, y_train, cv=5, scoring='r2') results[name] = { 'Train MAE': train_mae, 'Test MAE': test_mae, 'Train R¬≤': train_r2, 'Test R¬≤': test_r2, 'CV R¬≤ Mean': cv_scores.mean(), 'CV R¬≤ Std': cv_scores.std(), 'Predictions': y_test_pred } print(f"\n{name}:") print(f" Train MAE: {train_mae:.2f} GPa, R¬≤ = {train_r2:.3f}") print(f" Test MAE: {test_mae:.2f} GPa, R¬≤ = {test_r2:.3f}") print(f" Cross-validation R¬≤: {cv_scores.mean():.3f} ¬± {cv_scores.std():.3f}") # moderu of best_model_name = max(results, key=lambda k: results[k]['Test R¬≤']) print(f"\n=== Best Model: {best_model_name} ===") print(f"Test R¬≤ = {results[best_model_name]['Test R¬≤']:.3f}") # Visualization: Prediction vs fig, axes = plt.subplots(1, 3, figsize=(16, 5)) for i, (name, model) in enumerate(models.items()): y_pred = results[name]['Predictions'] axes[i].scatter(y_test, y_pred, alpha=0.6, s=50, color='steelblue') axes[i].plot([y_test.min(), y_test.max()], [y_test.min(), y_test.max()], 'r--', linewidth=2, label='Perfect Prediction') axes[i].set_xlabel('True Elastic Modulus [GPa]', fontsize=11) axes[i].set_ylabel('Predicted Elastic Modulus [GPa]', fontsize=11) axes[i].set_title(f'{name}\nR¬≤ = {results[name]["Test R¬≤"]:.3f}', fontsize=12) axes[i].legend(fontsize=10) axes[i].grid(alpha=0.3) plt.tight_layout() plt.savefig('ml_prediction_comparison.png', dpi=300, bbox_inches='tight') plt.show() # featureImportantdegreeÔºàRandom Forest of caseÔºâ if 'Random Forest' in models: rf_model = models['Random Forest'] feature_importance = pd.DataFrame({ 'Feature': X.columns, 'Importance': rf_model.feature_importances_ }).sort_values('Importance', ascending=False) print("\n=== Feature Importance (Random Forest) ===") print(feature_importance.to_string(index=False)) # Visualization plt.figure(figsize=(10, 6)) plt.barh(feature_importance['Feature'], feature_importance['Importance'], color='steelblue') plt.xlabel('Importance', fontsize=12) plt.title('Feature Importance for Elastic Modulus Prediction', fontsize=14) plt.gca().invert_yaxis() plt.tight_layout() plt.savefig('feature_importance.png', dpi=300, bbox_inches='tight') plt.show()</code></pre></div><h3>5.4.2 highdegree descriptorÔºöMagpiefeature</h3><p>MagpieÔºàMaterials Agnostic Platform for Informatics and ExplorationÔºâ is „ÄÅizationstudyCompositionfrom al 100or more types of descriptor formationdotsu ruis„ÄÇpymatgen and „ÄÅhigh degree materialCharacteristicsPrediction possibleis„ÄÇ</p></section><section id="workflow"><h2>5.5 highsru ptCalculationwa kfro</h2><h3>5.5.1 wa kfro design</h3><p>materialskri ninguin„ÄÅDataobtain‚Üí treatment‚Üíanalyze‚ÜíPrediction of wa kfro ization „ÄÇ</p><div class="highlight"><strong>Code Example 8: materialskri ninguwa kfro</strong><pre><code class="language-python">import pandas as pd import numpy as np from mp_api.client import MPRester from sklearn.ensemble import RandomForestRegressor from sklearn.preprocessing import StandardScaler import matplotlib.pyplot as plt class MaterialScreeningWorkflow: """ materialskri ningu izationwa kfro """ def __init__(self, api_key): self.api_key = api_key self.data = None self.model = None self.scaler = StandardScaler() def step1_data_collection(self, elements, max_materials=100): """ Step 1: Data """ print("=== Step 1: Data Collection ===") all_data = [] with MPRester(self.api_key) as mpr: for element in elements: print(f"Fetching data for {element}...") docs = mpr.materials.summary.search(chemsys=element, fields=["material_id", "formula_pretty", "formation_energy_per_atom", "band_gap", "density", "e_above_hull", "is_stable"], num_chunks=1) for doc in docs[:max_materials]: all_data.append({ 'Material ID': doc.material_id, 'Formula': doc.formula_pretty, 'Formation Energy [eV/atom]': doc.formation_energy_per_atom, 'Band Gap [eV]': doc.band_gap, 'Density [g/cm¬≥]': doc.density, 'E above hull [eV/atom]': doc.e_above_hull, 'Stable': doc.is_stable }) self.data = pd.DataFrame(all_data) print(f"Collected {len(self.data)} materials") return self.data def step2_preprocessing(self): """ Step 2: Data treatment """ print("\n=== Step 2: Preprocessing ===") # value of initial_count = len(self.data) self.data = self.data.dropna() print(f"Removed {initial_count - len(self.data)} samples with missing values") # stablematerial of firuta stable_data = self.data[self.data['Stable'] == True] print(f"Stable materials: {len(stable_data)} / {len(self.data)}") self.data = stable_data return self.data def step3_feature_engineering(self): """ Step 3: featureenjiniaringu """ print("\n=== Step 3: Feature Engineering ===") # feature of formationÔºàexample: Phase alstableity Ôºâ self.data['Stability Score'] = -self.data['E above hull [eV/atom]'] # density number Ôºàske ru Ôºâ self.data['Log Density'] = np.log10(self.data['Density [g/cm¬≥]']) print("New features created:") print(f" - Stability Score") print(f" - Log Density") return self.data def step4_screening(self, target_property, criteria): """ Step 4: skri ningu Parameters: ----------- target_property: str skri ningu of Characteristics criteria: dict skri ninguconditionÔºàexample: {'min': 5.0, 'max': 10.0}Ôºâ """ print(f"\n=== Step 4: Screening for {target_property} ===") print(f"Criteria: {criteria}") screened = self.data.copy() if 'min' in criteria: screened = screened[screened[target_property]>= criteria['min']] print(f" - {target_property}>= {criteria['min']}: {len(screened)} materials") if 'max' in criteria: screened = screened[screened[target_property]<= criteria['max']] print(f" - {target_property}<= {criteria['max']}: {len(screened)} materials") print(f"\nScreened candidates: {len(screened)}") return screened def step5_visualization(self, screened_data): """ Step 5: result of Visualization """ print("\n=== Step 5: Visualization ===") fig, axes = plt.subplots(2, 2, figsize=(14, 10)) # 1. formation energy vs density axes[0, 0].scatter(self.data['Density [g/cm¬≥]'], self.data['Formation Energy [eV/atom]'], alpha=0.3, s=30, color='gray', label='All materials') axes[0, 0].scatter(screened_data['Density [g/cm¬≥]'], screened_data['Formation Energy [eV/atom]'], alpha=0.7, s=50, color='red', label='Screened') axes[0, 0].set_xlabel('Density [g/cm¬≥]', fontsize=11) axes[0, 0].set_ylabel('Formation Energy [eV/atom]', fontsize=11) axes[0, 0].set_title('Formation Energy vs. Density', fontsize=12) axes[0, 0].legend() axes[0, 0].grid(alpha=0.3) # 2. density axes[0, 1].hist(self.data['Density [g/cm¬≥]'], bins=30, alpha=0.5, color='gray', label='All', edgecolor='black') axes[0, 1].hist(screened_data['Density [g/cm¬≥]'], bins=20, alpha=0.7, color='red', label='Screened', edgecolor='black') axes[0, 1].set_xlabel('Density [g/cm¬≥]', fontsize=11) axes[0, 1].set_ylabel('Count', fontsize=11) axes[0, 1].set_title('Density Distribution', fontsize=12) axes[0, 1].legend() axes[0, 1].grid(axis='y', alpha=0.3) # 3. E above hull axes[1, 0].hist(self.data['E above hull [eV/atom]'], bins=30, alpha=0.5, color='gray', label='All', edgecolor='black') axes[1, 0].hist(screened_data['E above hull [eV/atom]'], bins=20, alpha=0.7, color='red', label='Screened', edgecolor='black') axes[1, 0].set_xlabel('E above hull [eV/atom]', fontsize=11) axes[1, 0].set_ylabel('Count', fontsize=11) axes[1, 0].set_title('Stability Distribution', fontsize=12) axes[1, 0].legend() axes[1, 0].grid(axis='y', alpha=0.3) # 4. Top material of rist top_candidates = screened_data.nsmallest(10, 'Formation Energy [eV/atom]') axes[1, 1].axis('off') table_data = top_candidates[['Formula', 'Density [g/cm¬≥]', 'Formation Energy [eV/atom]']].values table = axes[1, 1].table(cellText=table_data, colLabels=['Formula', 'Density', 'Form. Energy'], cellLoc='center', loc='center', colWidths=[0.3, 0.3, 0.4]) table.auto_set_font_size(False) table.set_fontsize(9) table.scale(1, 2) axes[1, 1].set_title('Top 10 Candidates', fontsize=12, pad=20) plt.tight_layout() plt.savefig('screening_results.png', dpi=300, bbox_inches='tight') plt.show() # wa kfro executeexampleÔºàAPIki necessaryÔºâ if __name__ == "__main__": # initialization API_KEY = "your_api_key_here" # actualki workflow = MaterialScreeningWorkflow(API_KEY) # Step 1: Data Ôºà Ôºâ elements = ['Fe', 'Ni', 'Cu', 'Ti', 'Al'] # workflow.step1_data_collection(elements, max_materials=50) # Step 2: treatment # workflow.step2_preprocessing() # Step 3: featureenjiniaringu # workflow.step3_feature_engineering() # Step 4: skri ninguÔºàdensity5-10 g/cm¬≥ of materialÔºâ # screened = workflow.step4_screening('Density [g/cm¬≥]', {'min': 5.0, 'max': 10.0}) # Step 5: Visualization # workflow.step5_visualization(screened) # result of # screened.to_csv('screened_materials.csv', index=False) # print("\nScreened materials saved to 'screened_materials.csv'") print("\n=== Workflow Conceptual Example ===") print("The workflow demonstrates automated material screening:") print("1. Collect data from Materials Project API") print("2. Preprocess and filter stable materials") print("3. Engineer new features") print("4. Screen by target properties (density, formation energy, etc.)") print("5. Visualize and export results")</code></pre></div></section><section id="exercises"><h2>Exercises</h2><div class="exercise"><div class="exercise-title">üìù Exercise 1: Materials Project API AlAlloy search<span class="difficulty easy">Easy</span></div><p><strong>Problem</strong>: Materials Project API using„ÄÅAl-CusystemAlloyÔºàAl„ÄÅCu„ÄÅand of Ôºâ search „ÄÅstable material of please„ÄÇformation energy also up 5material of izationstudyequation and Material ID Tableshowplease„ÄÇ</p><div class="solution"><div class="solution-header">üí° Solutionexample</div><pre><code class="language-python">from mp_api.client import MPRester import pandas as pd API_KEY = "your_api_key_here" def search_al_cu_alloys(api_key=API_KEY): """Al-CusystemAlloy search""" with MPRester(api_key) as mpr: # Al-Cuizationstudysystem search docs = mpr.materials.summary.search(chemsys="Al-Cu", fields=["material_id", "formula_pretty", "formation_energy_per_atom", "is_stable", "e_above_hull"]) data = [] for doc in docs: data.append({ 'Material ID': doc.material_id, 'Formula': doc.formula_pretty, 'Formation Energy [eV/atom]': doc.formation_energy_per_atom, 'Stable': doc.is_stable, 'E above hull [eV/atom]': doc.e_above_hull }) df = pd.DataFrame(data) return df # searchexecute print("=== Searching Al-Cu Alloys ===") al_cu_alloys = search_al_cu_alloys() # stablematerial of firuta stable_alloys = al_cu_alloys[al_cu_alloys['Stable'] == True] print(f"\nTotal materials: {len(al_cu_alloys)}") print(f"Stable materials: {len(stable_alloys)}") # formation energy also up 5 top5 = stable_alloys.nsmallest(5, 'Formation Energy [eV/atom]') print("\n=== Top 5 Stable Al-Cu Alloys (Lowest Formation Energy) ===") print(top5[['Material ID', 'Formula', 'Formation Energy [eV/atom]']].to_string(index=False)) # result of print("\n=== Analysis ===") print(f"Most stable alloy: {top5.iloc[0]['Formula']} ({top5.iloc[0]['Material ID']})") print(f"Formation energy: {top5.iloc[0]['Formation Energy [eV/atom]']:.3f} eV/atom") print("\nStable Al-Cu compounds typically include Al2Cu, AlCu, and Cu-rich phases.") print("Formation energy<0 indicates thermodynamic stability relative to pure elements.")</code></pre><p><strong>expectedis doneoutput</strong>: Al2Cu„ÄÅAlCu of stableization of rist and formation energy</p><p><strong>explanation</strong>:<code>chemsys="Al-Cu"</code>Al-Cutwo system of of ization search „ÄÇ<code>is_stable=True</code>firutaringu „ÄÅformation energy of valueÔºàstableÔºâ of material „ÄÇ</p></div></div><div class="exercise"><div class="exercise-title">üìù Exercise 2: pymatgen s pa serucreation and coordination numberCalculation<span class="difficulty medium">Medium</span></div><p><strong>Problem</strong>: pymatgen usingFCC CustructureÔºàLattice Parameter3.61 √ÖÔºâ of 3√ó3√ó3s pa seru creation „ÄÅ Atom of coordination number Calculationplease„ÄÇ„ÄÅ Atom of and obtain„ÄÇ</p><div class="solution"><div class="solution-header">üí° Solutionexample</div><pre><code class="language-python">from pymatgen.core import Structure, Lattice import numpy as np def create_fcc_cu_supercell(): """FCC Custructure of 3x3x3s pa seru creation""" # FCCUnit Cell lattice = Lattice.cubic(3.61) coords = [[0, 0, 0], [0.5, 0.5, 0], [0.5, 0, 0.5], [0, 0.5, 0.5]] fcc_cu = Structure(lattice, ["Cu"]*4, coords) print("=== FCC Cu Unit Cell ===") print(f"Lattice parameter: 3.61 √Ö") print(f"Number of atoms: {len(fcc_cu)}") # s pa serucreation supercell = fcc_cu.copy() supercell.make_supercell([3, 3, 3]) print(f"\n=== 3x3x3 Supercell ===") print(f"Number of atoms: {len(supercell)}") print(f"Volume: {supercell.volume:.2f} √Ö¬≥") return supercell # s pa serucreation cu_supercell = create_fcc_cu_supercell() # coordination numberCalculationÔºàcutoff = 3.0 √Ö„ÄÅ of Ôºâ print("\n=== Coordination Number Analysis ===") cutoff = 3.0 # √Ö all_neighbors = cu_supercell.get_all_neighbors(r=cutoff) coordination_numbers = [len(neighbors) for neighbors in all_neighbors] print(f"Cutoff distance: {cutoff} √Ö") print(f"Coordination numbers:") print(f" Mean: {np.mean(coordination_numbers):.2f}") print(f" Std: {np.std(coordination_numbers):.3f}") print(f" Min: {np.min(coordination_numbers)}") print(f" Max: {np.max(coordination_numbers)}") # of statistics print("\n=== Nearest Neighbor Distance Analysis ===") nn_distances = [] for site_neighbors in all_neighbors: if site_neighbors: min_dist = min([n.nn_distance for n in site_neighbors]) nn_distances.append(min_dist) nn_distances = np.array(nn_distances) print(f"Mean nearest neighbor distance: {nn_distances.mean():.4f} √Ö") print(f"Std deviation: {nn_distances.std():.4f} √Ö") print(f"Min distance: {nn_distances.min():.4f} √Ö") print(f"Max distance: {nn_distances.max():.4f} √Ö") # theoryvalue and of Ratiocomparison theoretical_nn = 3.61 / np.sqrt(2) # FCC = a/‚àö2 print(f"\nTheoretical nearest neighbor distance (a/‚àö2): {theoretical_nn:.4f} √Ö") print(f"Difference from calculated: {abs(nn_distances.mean() - theoretical_nn):.4f} √Ö") # FCCstructure of coordination number is 12 print("\n=== Verification ===") if np.mean(coordination_numbers) == 12: print("‚úì Coordination number = 12 (FCC structure confirmed)") else: print(f"‚ö† Coordination number = {np.mean(coordination_numbers):.1f} (expected 12)")</code></pre><p><strong>expectedis doneoutput</strong>:</p><pre>Number of atoms: 108 (3√ó3√ó3√ó4) Mean coordination number: 12.00 Mean nearest neighbor distance: 2.552 √Ö (= 3.61/‚àö2)</pre><p><strong>explanation</strong>: FCCstructure of coordination number is 12is„ÄÇ is Lattice Parameter\(a\)from\(a/\sqrt{2}\) Calculation „ÄÇs pa seruwithin of Atom is same „ÄÇ</p></div></div><div class="exercise"><div class="exercise-title">üìù Exercise 3: mechanicallearning formation energyPrediction<span class="difficulty hard">Hard</span></div><p><strong>Problem</strong>: Materials Projectfrom ÔºàFe„ÄÅNi„ÄÅCu„ÄÅTi„ÄÅVÔºâ of materialData daunro do „ÄÅdensity„ÄÅbandogi p„ÄÅAtomnumber featureas„ÄÅformation energy Predictiondomechanicallearningmoderu constructionplease„ÄÇRandom Forest and Gradient Boosting of „ÄÅ degree highevaluateplease„ÄÇ</p><div class="solution"><div class="solution-header">üí° Solutionexample</div><pre><code class="language-python">from mp_api.client import MPRester import pandas as pd import numpy as np from sklearn.model_selection import train_test_split, cross_val_score from sklearn.ensemble import RandomForestRegressor, GradientBoostingRegressor from sklearn.metrics import mean_absolute_error, r2_score import matplotlib.pyplot as plt API_KEY = "your_api_key_here" def download_transition_metal_data(elements, api_key=API_KEY): """ Data of daunro do""" all_data = [] with MPRester(api_key) as mpr: for element in elements: print(f"Downloading {element}...") docs = mpr.materials.summary.search(chemsys=element, fields=["material_id", "formula_pretty", "formation_energy_per_atom", "band_gap", "density", "nsites", "is_stable"], num_chunks=1) for doc in docs[:50]: # eachelement50materialto if doc.is_stable: all_data.append({ 'Material ID': doc.material_id, 'Formula': doc.formula_pretty, 'Density [g/cm¬≥]': doc.density, 'Band Gap [eV]': doc.band_gap, 'Number of Sites': doc.nsites, 'Formation Energy [eV/atom]': doc.formation_energy_per_atom }) df = pd.DataFrame(all_data) return df # Datadaunro do elements = ['Fe', 'Ni', 'Cu', 'Ti', 'V'] print("=== Data Download ===") # tm_data = download_transition_metal_data(elements) # Data useÔºà is APIfromobtainÔºâ np.random.seed(42) n_samples = 150 tm_data = pd.DataFrame({ 'Material ID': [f'mp-{i}' for i in range(n_samples)], 'Formula': [f'Material_{i}' for i in range(n_samples)], 'Density [g/cm¬≥]': np.random.uniform(2, 10, n_samples), 'Band Gap [eV]': np.random.uniform(0, 3, n_samples), 'Number of Sites': np.random.randint(2, 20, n_samples), 'Formation Energy [eV/atom]': np.random.uniform(-2.5, 0.5, n_samples) }) print(f"Downloaded {len(tm_data)} materials") print(tm_data.head()) # feature and ta get X = tm_data[['Density [g/cm¬≥]', 'Band Gap [eV]', 'Number of Sites']] y = tm_data['Formation Energy [eV/atom]'] # Train-Test X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42) print(f"\nTraining: {len(X_train)}, Test: {len(X_test)}") # moderu models = { 'Random Forest': RandomForestRegressor(n_estimators=100, max_depth=10, random_state=42), 'Gradient Boosting': GradientBoostingRegressor(n_estimators=100, max_depth=5, learning_rate=0.1, random_state=42) } results = {} print("\n=== Model Training ===") for name, model in models.items(): model.fit(X_train, y_train) y_train_pred = model.predict(X_train) y_test_pred = model.predict(X_test) train_mae = mean_absolute_error(y_train, y_train_pred) test_mae = mean_absolute_error(y_test, y_test_pred) test_r2 = r2_score(y_test, y_test_pred) cv_scores = cross_val_score(model, X_train, y_train, cv=5, scoring='r2') results[name] = { 'Test MAE': test_mae, 'Test R¬≤': test_r2, 'CV R¬≤ Mean': cv_scores.mean(), 'Predictions': y_test_pred } print(f"\n{name}:") print(f" Test MAE: {test_mae:.3f} eV/atom") print(f" Test R¬≤: {test_r2:.3f}") print(f" CV R¬≤: {cv_scores.mean():.3f} ¬± {cv_scores.std():.3f}") # Ratiocomparison best_model = max(results, key=lambda k: results[k]['Test R¬≤']) print(f"\n=== Best Model: {best_model} ===") print(f"Test R¬≤ = {results[best_model]['Test R¬≤']:.3f}") # Visualization fig, axes = plt.subplots(1, 2, figsize=(14, 5)) for i, (name, model) in enumerate(models.items()): y_pred = results[name]['Predictions'] axes[i].scatter(y_test, y_pred, alpha=0.6, s=50) axes[i].plot([y_test.min(), y_test.max()], [y_test.min(), y_test.max()], 'r--', linewidth=2) axes[i].set_xlabel('True Formation Energy [eV/atom]', fontsize=11) axes[i].set_ylabel('Predicted [eV/atom]', fontsize=11) axes[i].set_title(f'{name}\nR¬≤ = {results[name]["Test R¬≤"]:.3f}', fontsize=12) axes[i].grid(alpha=0.3) plt.tight_layout() plt.savefig('ml_formation_energy_prediction.png', dpi=300, bbox_inches='tight') plt.show()</code></pre><p><strong>expectedis doneoutput</strong>: Random Forest and Gradient Boosting of R¬≤skoaRatiocomparisonÔºà 0.6-0.8DegreeÔºâ</p><p><strong>explanation</strong>: formation energy is density„ÄÅbandogi p„ÄÅstructure of ÔºàAtomnumberÔºâ and Phase „ÄÇRandom Forest is line Relation and „ÄÅGradient Boosting is al „ÄÇactualDatain„ÄÅthan of featureÔºà itydegree„ÄÅAtomic RadiusetcÔºâ do and degree improvement „ÄÇ</p></div></div></section><section id="references"><h2>References</h2><div class="reference"><strong>[1]</strong>Jain, A., Ong, S.P., Hautier, G., et al. (2013).<em>Commentary: The Materials Project: A materials genome approach to accelerating materials innovation</em>. APL Materials, 1(1), 011002. DOI: 10.1063/1.4812323.</div><div class="reference"><strong>[2]</strong>Ong, S.P., Richards, W.D., Jain, A., et al. (2013).<em>Python Materials Genomics (pymatgen): A robust, open-source python library for materials analysis</em>. Computational Materials Science, 68, 314-319, pp. 314-319.</div><div class="reference"><strong>[3]</strong>Otis, R., Liu, Z.K. (2017).<em>pycalphad: CALPHAD-based Computational Thermodynamics in Python</em>. Journal of Open Research Software, 5(1), pp. 1-11.</div><div class="reference"><strong>[4]</strong>Ward, L., Agrawal, A., Choudhary, A., Wolverton, C. (2016).<em>A general-purpose machine learning framework for predicting properties of inorganic materials</em>. npj Computational Materials, 2, 16028, pp. 1-7.</div><div class="reference"><strong>[5]</strong>Pedregosa, F., Varoquaux, G., Gramfort, A., et al. (2011).<em>Scikit-learn: Machine Learning in Python</em>. Journal of Machine Learning Research, 12, 2825-2830.</div><div class="reference"><strong>[6]</strong>McKinney, W. (2010).<em>Data Structures for Statistical Computing in Python</em>. Proceedings of the 9th Python in Science Conference, pp. 56-61.</div><div class="reference"><strong>[7]</strong>Hunter, J.D. (2007).<em>Matplotlib: A 2D Graphics Environment</em>. Computing in Science & Engineering, 9(3), 90-95.</div></section><section id="learning-check"><h2>Learning Objectives Checklist</h2><div class="learning-objectives"><h3>learnskiru and knowledge</h3><div class="objective-level"><h4>Level1: Basic UnderstandingÔºàknowledgeÔºâ</h4><ul><li>Materials Project API of Basical understand be</li><li>pymatgen Crystal Structure formation„Éªoperationcanthing be</li><li>pycalphad Phase DiagramCalculation bething understand be</li><li>mechanicallearning materialCharacteristics PredictiondoBasical be</li><li>materialdescriptorÔºàfeatureÔºâ of concept understand be</li><li>highsru ptCalculation of point explaincan</li></ul></div><div class="objective-level"><h4>Level2: Practical SkillsÔºàapplicationÔºâ</h4><ul><li>Materials Project API materialData search„Éªdaunro docan</li><li>pymatgen s pa seru creation „ÄÅcoordination number and Calculationcan</li><li>pymatgen symmetryityanalyze and determination can</li><li>pandas materialData statisticsanalyze„ÉªVisualizationcan</li><li>scikit-learn moderu construction „ÄÅmaterialCharacteristics Predictioncan</li><li>materialskri ninguwa kfro design„Éª can</li><li>Python multiplematerial of bachitreatment izationcan</li></ul></div><div class="objective-level"><h4>Level3: highdegree applicationÔºàProblem determineÔºâ</h4><ul><li>materialDatabe sfrom al Data rateal can</li><li>materialdescriptor design „ÄÅmechanicallearningmoderu of degree improvementcan</li><li>differentmechanicallearningarugorizumu Ratiocomparison „ÄÅ moderu can</li><li>highsru ptCalculation material can</li><li>Experimental Data and CalculationData materialdesign can</li><li>of materialanalyzetsu ru and wa kfro can</li><li>Python „Éª can</li></ul></div><p><strong>Confirmation</strong>: up of ExercisesÔºàExercise 1-3Ôºâ thing Confirmationplease„ÄÇ „ÄÅExercise 3ÔºàmechanicallearningPredictionÔºâ is „ÄÅactual proji kt useis doneImportant skiruis„ÄÇ</p></div></section><div class="nav-footer"><a href="chapter-4.html" class="nav-button">‚Üê Chapter 4: Processing and Heat Treatment</a><a href="index.html" class="nav-button">SeriesTOP to ‚Üí</a></div></div><script>mermaid.initialize({ startOnLoad: true, theme: 'default' }); // sori shiyon of Tableshow/ Tableshowtguru document.querySelectorAll('.solution-header').forEach(header =>{ header.style.cursor = 'pointer'; const solution = header.nextElementSibling; if (solution && solution.tagName === 'PRE') { solution.style.display = 'none'; } header.addEventListener('click', () =>{ const solution = header.nextElementSibling; if (solution && solution.tagName === 'PRE') { solution.style.display = solution.style.display === 'none'? 'block': 'none'; } }); });</script></body></html>