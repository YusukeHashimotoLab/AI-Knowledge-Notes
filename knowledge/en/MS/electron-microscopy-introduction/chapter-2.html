<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 2ï¼šSEMå…¥é–€ - MS Terakoya</title>

    <style>
        :root {
            --color-primary: #2c3e50;
            --color-primary-dark: #1a252f;
            --color-accent: #f093fb;
            --color-accent-light: #f5576c;
            --color-text: #2d3748;
            --color-text-light: #4a5568;
            --color-bg: #ffffff;
            --color-bg-alt: #f7fafc;
            --color-border: #e2e8f0;
            --color-code-bg: #f8f9fa;
            --color-link: #f093fb;
            --color-link-hover: #d07be8;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;

            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-size: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            padding: var(--spacing-xl) var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--box-shadow);
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
            margin-bottom: var(--spacing-md);
        }

        .meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md) var(--spacing-xl);
        }

        h2 {
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-top: var(--spacing-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 3px solid var(--color-accent);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--color-primary);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
        }

        h4 {
            font-size: 1.1rem;
            color: var(--color-primary-dark);
            margin-top: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        a {
            color: var(--color-link);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--color-link-hover);
            text-decoration: underline;
        }

        ul, ol {
            margin-left: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        li {
            margin-bottom: var(--spacing-xs);
            color: var(--color-text);
        }

        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            font-family: var(--font-mono);
            font-size: 0.9em;
            background-color: var(--color-code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--color-border);
            padding: var(--spacing-sm);
            text-align: left;
        }

        th {
            background-color: var(--color-bg-alt);
            font-weight: 600;
            color: var(--color-primary);
        }

        blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            color: var(--color-text-light);
            font-style: italic;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .mermaid {
            text-align: center;
            margin: var(--spacing-lg) 0;
            background-color: var(--color-bg-alt);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
        }

        .learning-objectives {
            background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--color-accent);
            margin-bottom: var(--spacing-xl);
        }

        .learning-objectives h2 {
            margin-top: 0;
            border-bottom: none;
        }

        .breadcrumb {
            max-width: 900px;
            margin: 0 auto;
            padding: var(--spacing-sm) var(--spacing-md);
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        .breadcrumb a {
            color: var(--color-link);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            margin: var(--spacing-xl) 0;
            padding-top: var(--spacing-lg);
            border-top: 2px solid var(--color-border);
        }

        .nav-button {
            flex: 1;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-light) 100%);
            color: white;
            border-radius: var(--border-radius);
            text-align: center;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--box-shadow);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            text-decoration: none;
        }

        footer {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg) var(--spacing-md);
            background-color: var(--color-bg-alt);
            border-top: 1px solid var(--color-border);
            text-align: center;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }
        .disclaimer {
            max-width: 900px;
            margin: 2rem auto;
            padding: 1.5rem;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 4px;
        }

        .disclaimer h3 {
            color: #495057;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .disclaimer ul {
            list-style: none;
            padding-left: 0;
        }

        .disclaimer li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
            font-size: 0.9rem;
            color: #6c757d;
            line-height: 1.6;
        }

        .disclaimer li::before {
            content: "âš ï¸";
            position: absolute;
            left: 0;
        }


        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .meta {
                font-size: 0.85rem;
            }

            .navigation {
                flex-direction: column;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: var(--spacing-xs);
            }
        }
    </style>

    <!-- Prism.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'strict' });
    </script>

    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'mermaid'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Chapter 2ï¼šSEMå…¥é–€</h1>
            <p class="subtitle">èµ°æŸ»å‹é›»å­é¡•å¾®é¡ã®åŸç†ã€äºŒæ¬¡é›»å­åƒã€å¾Œæ–¹æ•£ä¹±é›»å­åƒã€EDSminæ</p>
            <div class="meta">
                <span class="meta-item">ğŸ“– èª­äº†hours: 25-35min</span>
                <span class="meta-item">ğŸ“Š Level: Beginnerã€œIntermediate</span>
                <span class="meta-item">ğŸ’» Code Examples: 7å€‹</span>
            </div>
        </div>
    </header>

    <div class="breadcrumb">
        <a href="../../index.html">AI Terakoya Home</a> &gt;
        <a href="../index.html">MS Dojo</a> &gt;
        <a href="index.html">é›»å­é¡•å¾®é¡å…¥é–€</a> &gt;
        Chapter 2
    </div>

    <main class="container">
        <p class="chapter-description" style="margin: 1.5rem 0; padding: 1rem; background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%); border-left: 4px solid #f093fb; border-radius: 8px; font-size: 1.05rem; line-height: 1.8; color: #2d3748;">
            èµ°æŸ»å‹é›»å­é¡•å¾®é¡ï¼ˆSEMï¼‰ã¯ã€è©¦æ–™è¡¨é¢ã‚’é›»å­ç·šã§èµ°æŸ»ã—ã€äºŒæ¬¡é›»å­ï¼ˆSEï¼‰ã‚„å¾Œæ–¹æ•£ä¹±é›»å­ï¼ˆBSEï¼‰ã‚’æ¤œå‡ºã—ã¦é«˜minè§£èƒ½åƒã‚’å–å¾—ã™ã‚‹è£…ç½®ã§ã™ã€‚ã“ã®ç« ã§ã¯ã€SEMã®å‹•ä½œåŸç†ã€SEåƒã¨BSEåƒã®å½¢æˆæ©Ÿæ§‹ã€ã‚¨ãƒãƒ«ã‚®ãƒ¼minæ•£å‹Xç·šminæï¼ˆEDSï¼‰ã«ã‚ˆã‚‹å…ƒç´ minæã€ç”»åƒå‡¦ç†fundamentals ofã‚’å­¦ã³ã€Pythonã§ä¿¡å·ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€å®šé‡minæã€ç²’å­analysisã‚’practiceã—ã¾ã™ã€‚
        </p>

        <div class="learning-objectives">
            <h2>Learning Objectives</h2>
            <p>ã“ã®ç« ã‚’èª­ã‚€ã“ã¨ã§ã€ä»¥ä¸‹masterã§ãã¾ã™ï¼š</p>
            <ul>
                <li>âœ… SEMã®èµ°æŸ»åŸç†ã¨ä¿¡å·æ¤œå‡ºã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ understandã™ã‚‹</li>
                <li>âœ… äºŒæ¬¡é›»å­ï¼ˆSEï¼‰ã¨å¾Œæ–¹æ•£ä¹±é›»å­ï¼ˆBSEï¼‰ã®ç™ºç”Ÿæ©Ÿæ§‹ã¨ç‰¹æ€§ã‚’Descriptionã§ãã‚‹</li>
                <li>âœ… SEåƒã¨BSEåƒã®ä½¿ã„minã‘ã¨ã€ãã‚Œãã‚Œã®é•·æ‰€ãƒ»çŸ­æ‰€understandã™ã‚‹</li>
                <li>âœ… EDSï¼ˆã‚¨ãƒãƒ«ã‚®ãƒ¼minæ•£å‹Xç·šminæï¼‰ã®åŸç†ã¨å®šé‡minææ‰‹æ³•masterã™ã‚‹</li>
                <li>âœ… åŠ é€Ÿé›»åœ§ã¨ä½œå‹•è·é›¢ãŒç©ºé–“minè§£èƒ½ã¨ä¿¡å·å¼·åº¦ã«ä¸ãˆã‚‹å½±éŸ¿ã‚’è©•ä¾¡ã§ãã‚‹</li>
                <li>âœ… Pythonã§é›»å­åç‡ã€EDSå®šé‡è£œæ­£ã€ç²’å­ã‚µã‚¤ã‚ºminå¸ƒanalysisã‚’å®Ÿè£…ã§ãã‚‹</li>
                <li>âœ… SEMç”»åƒã®å–å¾—æ¡ä»¶ã®æœ€é©åŒ–ã¨ç”»åƒå‡¦ç†fundamentals ofunderstandã™ã‚‹</li>
            </ul>
        </div>

        <h2>2.1 SEMã®åŸºæœ¬åŸç†</h2>

        <h3>2.1.1 èµ°æŸ»é›»å­é¡•å¾®é¡ã®æ§‹æˆ</h3>
        <p>SEMï¼ˆScanning Electron Microscopeï¼‰ã¯ã€åæŸã—ãŸé›»å­ç·šã‚’è©¦æ–™è¡¨é¢ä¸Šã§èµ°æŸ»ã—ã€ç™ºç”Ÿã™ã‚‹ä¿¡å·ã‚’åŒæœŸã—ã¦æ¤œå‡ºã™ã‚‹ã“ã¨ã§ç”»åƒã‚’å½¢æˆã—ã¾ã™ã€‚</p>

        <div class="mermaid">
flowchart TD
    A[é›»å­éŠƒ<br/>Electron Gun] --> B[é›†æŸãƒ¬ãƒ³ã‚ºç³»<br/>Condenser Lenses]
    B --> C[å¯¾ç‰©ãƒ¬ãƒ³ã‚º<br/>Objective Lens]
    C --> D[èµ°æŸ»ã‚³ã‚¤ãƒ«<br/>Scan Coils]
    D --> E[è©¦æ–™<br/>Sample]

    E --> F[äºŒæ¬¡é›»å­<br/>SE]
    E --> G[å¾Œæ–¹æ•£ä¹±é›»å­<br/>BSE]
    E --> H[ç‰¹æ€§Xç·š<br/>X-ray]

    F --> I[ETæ¤œå‡ºå™¨]
    G --> J[BSEæ¤œå‡ºå™¨]
    H --> K[EDSæ¤œå‡ºå™¨]

    I --> L[ç”»åƒè¡¨ç¤º<br/>Display]
    J --> L
    K --> M[ã‚¹ãƒšã‚¯ãƒˆãƒ«analysis<br/>Analysis]

    style A fill:#f093fb,stroke:#f5576c,stroke-width:2px,color:#fff
    style E fill:#ffeb99,stroke:#ffa500,stroke-width:2px
    style L fill:#99ccff,stroke:#0066cc,stroke-width:2px
</div>

        <p><strong>SEMã®ç‰¹å¾´</strong>ï¼š</p>
        <ul>
            <li><strong>åºƒã„å€ç‡ç¯„å›²</strong>ï¼š10å€ã€œ100ä¸‡å€ï¼ˆå…‰å­¦é¡•å¾®é¡ã¨TEMã®ä¸­é–“ã‚’åŸ‹ã‚ã‚‹ï¼‰</li>
            <li><strong>å¤§ããªç„¦ç‚¹æ·±åº¦</strong>ï¼šå‡¹å‡¸ã®ã‚ã‚‹è©¦æ–™ã§ã‚‚åºƒã„ç¯„å›²ã§ç„¦ç‚¹ãŒåˆã†</li>
            <li><strong>è©¦æ–™ä½œè£½ãŒå®¹æ˜“</strong>ï¼šãƒãƒ«ã‚¯è©¦æ–™ã‚’ãã®ã¾ã¾è¦³å¯Ÿå¯èƒ½ï¼ˆå°é›»å‡¦ç†ã®ã¿ï¼‰</li>
            <li><strong>å¤šæ§˜ãªä¿¡å·æ¤œå‡º</strong>ï¼šSEã€BSEã€Xç·šã‚’åŒæ™‚ã«å–å¾—å¯èƒ½</li>
        </ul>

        <h3>2.1.2 é›»å­ç·šã¨è©¦æ–™ã®ç›¸äº’ä½œç”¨é ˜åŸŸ</h3>
        <p>é›»å­ç·šãŒè©¦æ–™ã«å…¥å°„ã™ã‚‹ã¨ã€<strong>ç›¸äº’ä½œç”¨ä½“ç©ï¼ˆInteraction Volumeï¼‰</strong>ã¨å‘¼ã°ã‚Œã‚‹é ˜åŸŸã§æ§˜ã€…ãªä¿¡å·ãŒç™ºç”Ÿã—ã¾ã™ã€‚ã“ã®ä½“ç©ã¯ã€åŠ é€Ÿé›»åœ§ã¨è©¦æ–™ã®atomç•ªå·ã«ã‚ˆã‚Šå¤‰åŒ–ã—ã¾ã™ã€‚</p>

        <p><strong>ç›¸äº’ä½œç”¨ä½“ç©ã®æ·±ã•ï¼ˆç°¡ç•¥å¼ï¼‰</strong>ï¼š</p>

        $$
        R_{\text{KO}} = \frac{0.0276 A E_0^{1.67}}{Z^{0.89} \rho}
        $$

        <p>ã“ã“ã§ã€$R_{\text{KO}}$ã¯Kanaya-Okayamaã®é£›ç¨‹ï¼ˆÎ¼mï¼‰ã€$A$ã¯atomé‡ã€$E_0$ã¯åŠ é€Ÿé›»åœ§ï¼ˆkVï¼‰ã€$Z$ã¯atomç•ªå·ã€$\rho$ã¯å¯†åº¦ï¼ˆg/cmÂ³ï¼‰ã§ã™ã€‚</p>

        <h4>code examples2-1: ç›¸äº’ä½œç”¨ä½“ç©ã®æ·±ã•calculation</h4>
        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def kanaya_okayama_range(Z, A, rho, E0_kV):
    """
    Kanaya-Okayamaå¼ã«ã‚ˆã‚‹é›»å­é£›ç¨‹ã‚’calculation

    Parameters
    ----------
    Z : int or array-like
        atomç•ªå·
    A : float or array-like
        atomé‡ [g/mol]
    rho : float or array-like
        å¯†åº¦ [g/cmÂ³]
    E0_kV : float or array-like
        åŠ é€Ÿé›»åœ§ [kV]

    Returns
    -------
    R_KO : float or array-like
        é›»å­é£›ç¨‹ [Î¼m]
    """
    R_KO = 0.0276 * A * (E0_kV ** 1.67) / ((Z ** 0.89) * rho)
    return R_KO

# ä»£è¡¨çš„ãªææ–™
materials = {
    'C': {'Z': 6, 'A': 12, 'rho': 2.26},
    'Al': {'Z': 13, 'A': 27, 'rho': 2.70},
    'Si': {'Z': 14, 'A': 28, 'rho': 2.33},
    'Fe': {'Z': 26, 'A': 56, 'rho': 7.87},
    'Cu': {'Z': 29, 'A': 64, 'rho': 8.96},
    'Au': {'Z': 79, 'A': 197, 'rho': 19.3}
}

# åŠ é€Ÿé›»åœ§ç¯„å›²
E0_values = np.array([5, 10, 15, 20, 30])  # [kV]

# ãƒ—ãƒ­ãƒƒãƒˆ
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(15, 6))

# å·¦å›³ï¼šåŠ é€Ÿé›»åœ§ä¾å­˜æ€§
colors = plt.cm.plasma(np.linspace(0.1, 0.9, len(materials)))
for (name, props), color in zip(materials.items(), colors):
    ranges = kanaya_okayama_range(props['Z'], props['A'], props['rho'], E0_values)
    ax1.plot(E0_values, ranges, 'o-', linewidth=2.5, markersize=8,
             label=f"{name} (Z={props['Z']})", color=color)

ax1.set_xlabel('Acceleration Voltage [kV]', fontsize=12)
ax1.set_ylabel('Electron Range R$_{KO}$ [Î¼m]', fontsize=12)
ax1.set_title('Interaction Volume Depth vs Acceleration Voltage', fontsize=14, fontweight='bold')
ax1.legend(fontsize=10, loc='upper left')
ax1.grid(alpha=0.3)
ax1.set_ylim(0, 8)

# å³å›³ï¼šatomç•ªå·ä¾å­˜æ€§ï¼ˆå›ºå®šåŠ é€Ÿé›»åœ§ï¼‰
E0_fixed = 15  # [kV]
Z_values = np.array([mat['Z'] for mat in materials.values()])
A_values = np.array([mat['A'] for mat in materials.values()])
rho_values = np.array([mat['rho'] for mat in materials.values()])
mat_names = list(materials.keys())

ranges_Z = kanaya_okayama_range(Z_values, A_values, rho_values, E0_fixed)

ax2.scatter(Z_values, ranges_Z, s=200, c=Z_values, cmap='plasma',
            edgecolors='black', linewidths=2, zorder=3)
ax2.plot(Z_values, ranges_Z, 'k--', linewidth=1.5, alpha=0.5, zorder=1)

for Z, R, name in zip(Z_values, ranges_Z, mat_names):
    ax2.text(Z, R + 0.15, name, fontsize=10, ha='center', fontweight='bold')

ax2.set_xlabel('Atomic Number Z', fontsize=12)
ax2.set_ylabel('Electron Range R$_{KO}$ [Î¼m]', fontsize=12)
ax2.set_title(f'Interaction Volume Depth vs Z\n(E$_0$ = {E0_fixed} kV)', fontsize=14, fontweight='bold')
ax2.grid(alpha=0.3)
ax2.set_ylim(0, 4)

plt.tight_layout()
plt.show()

# å…·ä½“çš„ãªæ•°å€¤ã‚’å‡ºåŠ›
print(f"åŠ é€Ÿé›»åœ§15 kVã§ã®é›»å­é£›ç¨‹:")
for name, props in materials.items():
    R = kanaya_okayama_range(props['Z'], props['A'], props['rho'], 15)
    print(f"  {name:2s}: {R:.2f} Î¼m")
</code></pre>

        <p><strong>é‡è¦ãªè¦³å¯Ÿ</strong>ï¼š</p>
        <ul>
            <li>åŠ é€Ÿé›»åœ§ãŒé«˜ã„ã»ã©ã€é›»å­é£›ç¨‹ãŒé•·ããªã‚‹ï¼ˆæ·±ã„é ˜åŸŸã‹ã‚‰ä¿¡å·ãŒç™ºç”Ÿï¼‰</li>
            <li>é‡å…ƒç´ ï¼ˆé«˜Zï¼‰ã»ã©ã€é›»å­é£›ç¨‹ãŒçŸ­ããªã‚‹ï¼ˆè¡¨é¢æ•æ„Ÿï¼‰</li>
            <li>ç©ºé–“minè§£èƒ½ã‚’é«˜ã‚ã‚‹ã«ã¯ã€ä½åŠ é€Ÿé›»åœ§ã§è¦³å¯Ÿã™ã‚‹</li>
        </ul>

        <h2>2.2 äºŒæ¬¡é›»å­åƒï¼ˆSEåƒï¼‰</h2>

        <h3>2.2.1 äºŒæ¬¡é›»å­ã®ç™ºç”Ÿæ©Ÿæ§‹</h3>
        <p><strong>äºŒæ¬¡é›»å­ï¼ˆSecondary Electron, SEï¼‰</strong>ã¯ã€å…¥å°„é›»å­ã¨ã®éå¼¾æ€§æ•£ä¹±ã«ã‚ˆã‚Šè©¦æ–™è¡¨é¢è¿‘å‚ï¼ˆæ•°nmï¼‰ã‹ã‚‰æ”¾å‡ºã•ã‚Œã‚‹ä½ã‚¨ãƒãƒ«ã‚®ãƒ¼é›»å­ï¼ˆ<50 eVï¼‰ã§ã™ã€‚</p>

        <p><strong>SEåƒã®ç‰¹å¾´</strong>ï¼š</p>
        <ul>
            <li><strong>è¡¨é¢æ•æ„Ÿ</strong>ï¼šè„±å‡ºæ·±åº¦ãŒæ•°nmã¨æµ…ã„ãŸã‚ã€è¡¨é¢å½¢æ…‹ã‚’é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã§è¦³å¯Ÿ</li>
            <li><strong>ã‚¨ãƒƒã‚¸åŠ¹æœ</strong>ï¼šè©¦æ–™ã®å‡¸éƒ¨ã‚„ç«¯éƒ¨ã§äºŒæ¬¡é›»å­åç‡ãŒå¢—åŠ ã—ã€æ˜ã‚‹ãè¦‹ãˆã‚‹</li>
            <li><strong>é«˜minè§£èƒ½</strong>ï¼šãƒ—ãƒ­ãƒ¼ãƒ–ã‚µã‚¤ã‚ºãŒç©ºé–“minè§£èƒ½ã‚’æ±ºå®šï¼ˆ5-10 nmï¼‰</li>
            <li><strong>ãƒãƒ£ãƒ¼ã‚¸ã‚¢ãƒƒãƒ—</strong>ï¼šçµ¶ç¸æ€§è©¦æ–™ã§ã¯é›»è·ãŒè“„ç©ã—ã€åƒãŒæ­ªã‚€</li>
        </ul>

        <h3>2.2.2 äºŒæ¬¡é›»å­åç‡</h3>
        <p>äºŒæ¬¡é›»å­åç‡$\delta$ã¯ã€å…¥å°„é›»å­1å€‹ã‚ãŸã‚Šã«æ”¾å‡ºã•ã‚Œã‚‹äºŒæ¬¡é›»å­ã®æ•°ã§ã™ã€‚$\delta$ã¯åŠ é€Ÿé›»åœ§ã¨è©¦æ–™ã®å‚¾æ–œè§’ã«ä¾å­˜ã—ã¾ã™ï¼š</p>

        $$
        \delta = \delta_{\max} \exp\left[-\left(\frac{E_0 - E_{\max}}{E_{\max}}\right)^2\right] \cdot \frac{1}{\cos\theta}
        $$

        <p>ã“ã“ã§ã€$\delta_{\max}$ã¯æœ€å¤§äºŒæ¬¡é›»å­åç‡ã€$E_{\max}$ã¯$\delta_{\max}$ã‚’ä¸ãˆã‚‹åŠ é€Ÿé›»åœ§ã€$\theta$ã¯è©¦æ–™ã®å‚¾æ–œè§’ã§ã™ã€‚</p>

        <h4>code examples2-2: äºŒæ¬¡é›»å­åç‡ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h4>
        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def se_yield(E0_kV, theta_deg, delta_max=1.5, E_max_kV=0.5):
    """
    äºŒæ¬¡é›»å­åç‡ã‚’calculation

    Parameters
    ----------
    E0_kV : float or array-like
        åŠ é€Ÿé›»åœ§ [kV]
    theta_deg : float or array-like
        è©¦æ–™å‚¾æ–œè§’ [degrees]ï¼ˆ0Â°ï¼šå‚ç›´å…¥å°„ï¼‰
    delta_max : float
        æœ€å¤§äºŒæ¬¡é›»å­åç‡
    E_max_kV : float
        æœ€å¤§åç‡ã‚’ä¸ãˆã‚‹åŠ é€Ÿé›»åœ§ [kV]

    Returns
    -------
    delta : float or array-like
        äºŒæ¬¡é›»å­åç‡
    """
    theta_rad = np.deg2rad(theta_deg)
    delta = delta_max * np.exp(-((E0_kV - E_max_kV) / E_max_kV)**2) / np.cos(theta_rad)
    return delta

# åŠ é€Ÿé›»åœ§ä¾å­˜æ€§
E0_range = np.linspace(0.1, 30, 200)  # [kV]
theta_values = [0, 30, 60, 75]  # [degrees]

fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(15, 6))

# å·¦å›³ï¼šåŠ é€Ÿé›»åœ§ä¾å­˜æ€§ï¼ˆç•°ãªã‚‹å‚¾æ–œè§’ï¼‰
colors = ['#f093fb', '#f5576c', '#ffa500', '#ff6347']
for theta, color in zip(theta_values, colors):
    delta = se_yield(E0_range, theta, delta_max=1.5, E_max_kV=0.5)
    ax1.plot(E0_range, delta, linewidth=2.5, label=f'Î¸ = {theta}Â°', color=color)

ax1.axhline(y=1, color='black', linestyle='--', linewidth=1.5, label='Î´ = 1 (Charge Balance)')
ax1.set_xlabel('Acceleration Voltage [kV]', fontsize=12)
ax1.set_ylabel('Secondary Electron Yield Î´', fontsize=12)
ax1.set_title('SE Yield vs Acceleration Voltage', fontsize=14, fontweight='bold')
ax1.legend(fontsize=11, loc='upper right')
ax1.grid(alpha=0.3)
ax1.set_xlim(0, 30)
ax1.set_ylim(0, 4)

# å³å›³ï¼šå‚¾æ–œè§’ä¾å­˜æ€§ï¼ˆå›ºå®šåŠ é€Ÿé›»åœ§ï¼‰
E0_fixed = 5  # [kV]
theta_range = np.linspace(0, 80, 100)  # [degrees]

delta_theta = se_yield(E0_fixed, theta_range, delta_max=1.5, E_max_kV=0.5)

ax2.plot(theta_range, delta_theta, linewidth=3, color='#f093fb')
ax2.fill_between(theta_range, 0, delta_theta, alpha=0.3, color='#f093fb')

ax2.set_xlabel('Sample Tilt Angle Î¸ [degrees]', fontsize=12)
ax2.set_ylabel('Secondary Electron Yield Î´', fontsize=12)
ax2.set_title(f'SE Yield vs Tilt Angle\n(E$_0$ = {E0_fixed} kV)', fontsize=14, fontweight='bold')
ax2.grid(alpha=0.3)
ax2.set_xlim(0, 80)
ax2.set_ylim(0, 10)

# ã‚¨ãƒƒã‚¸åŠ¹æœã®Descriptionã‚’è¿½åŠ 
ax2.text(60, 7, 'Edge Effect:\nHigher yield at steep angles',
         fontsize=11, bbox=dict(boxstyle='round', facecolor='wheat', alpha=0.8))

plt.tight_layout()
plt.show()

print("äºŒæ¬¡é›»å­åç‡ã®ç‰¹æ€§:")
print(f"  - å‚ç›´å…¥å°„ï¼ˆÎ¸=0Â°ï¼‰ã€5 kV: Î´ = {se_yield(5, 0):.2f}")
print(f"  - å‚¾æ–œ60Â°ã€5 kV: Î´ = {se_yield(5, 60):.2f}")
print("  - å‡¸éƒ¨ã‚„ç«¯éƒ¨ã§ã¯åç‡ãŒå¢—åŠ  â†’ æ˜ã‚‹ãè¦‹ãˆã‚‹ï¼ˆã‚¨ãƒƒã‚¸åŠ¹æœï¼‰")
</code></pre>

        <h2>2.3 å¾Œæ–¹æ•£ä¹±é›»å­åƒï¼ˆBSEåƒï¼‰</h2>

        <h3>2.3.1 å¾Œæ–¹æ•£ä¹±é›»å­ã®ç‰¹æ€§</h3>
        <p><strong>å¾Œæ–¹æ•£ä¹±é›»å­ï¼ˆBackscattered Electron, BSEï¼‰</strong>ã¯ã€è©¦æ–™ã¨ã®å¼¾æ€§æ•£ä¹±ã«ã‚ˆã‚Šè©¦æ–™è¡¨é¢ã‹ã‚‰åå°„ã•ã‚Œã¦æˆ»ã£ã¦ãã‚‹é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼é›»å­ï¼ˆ>50 eVï¼‰ã§ã™ã€‚</p>

        <p><strong>BSEåƒã®ç‰¹å¾´</strong>ï¼š</p>
        <ul>
            <li><strong>çµ„æˆã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ</strong>ï¼šatomç•ªå·$Z$ãŒå¤§ãã„ã»ã©BSEåç‡ãŒé«˜ãã€æ˜ã‚‹ãè¦‹ãˆã‚‹</li>
            <li><strong>æ·±ã„æƒ…å ±</strong>ï¼šç›¸äº’ä½œç”¨ä½“ç©å…¨ä½“ã‹ã‚‰BSEãŒç™ºç”Ÿï¼ˆæ•°ç™¾nmã€œæ•°Î¼mï¼‰</li>
            <li><strong>ãƒˆãƒã‚°ãƒ©ãƒ•ã‚£ãƒ¼æƒ…å ±</strong>ï¼šå‚¾æ–œã—ãŸé¢ã‹ã‚‰ã®BSEåç‡ãŒå¤‰åŒ–</li>
            <li><strong>ç©ºé–“minè§£èƒ½</strong>ï¼šSEåƒã‚ˆã‚ŠåŠ£ã‚‹ï¼ˆç›¸äº’ä½œç”¨ä½“ç©ãŒå¤§ãã„ï¼‰</li>
        </ul>

        <h3>2.3.2 å¾Œæ–¹æ•£ä¹±é›»å­åç‡</h3>
        <p>BSEåç‡$\eta$ã¯ã€atomç•ªå·$Z$ã«ã»ã¼æ¯”ä¾‹ã—ã¾ã™ï¼ˆçµŒé¨“å¼ï¼‰ï¼š</p>

        $$
        \eta \approx -0.0254 + 0.016 Z - 1.86 \times 10^{-4} Z^2 + 8.3 \times 10^{-7} Z^3
        $$

        <h4>code examples2-3: å¾Œæ–¹æ•£ä¹±é›»å­åç‡ã®atomç•ªå·ä¾å­˜æ€§</h4>
        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def bse_yield(Z):
    """
    å¾Œæ–¹æ•£ä¹±é›»å­åç‡ã‚’calculationï¼ˆçµŒé¨“å¼ï¼‰

    Parameters
    ----------
    Z : int or array-like
        atomç•ªå·

    Returns
    -------
    eta : float or array-like
        BSEåç‡
    """
    Z = np.asarray(Z)
    eta = -0.0254 + 0.016*Z - 1.86e-4*Z**2 + 8.3e-7*Z**3
    return eta

# å…ƒç´ ã”ã¨ã®BSEåç‡
elements = {
    'C': 6, 'Al': 13, 'Si': 14, 'Ti': 22, 'Fe': 26,
    'Cu': 29, 'Zn': 30, 'Mo': 42, 'Ag': 47, 'W': 74, 'Pt': 78, 'Au': 79
}

Z_values = np.array(list(elements.values()))
element_names = list(elements.keys())
eta_values = bse_yield(Z_values)

# ãƒ—ãƒ­ãƒƒãƒˆ
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(15, 6))

# å·¦å›³ï¼šatomç•ªå· vs BSEåç‡
Z_range = np.linspace(1, 92, 200)
eta_range = bse_yield(Z_range)

ax1.plot(Z_range, eta_range, linewidth=3, color='#f093fb', label='Empirical Formula')
ax1.scatter(Z_values, eta_values, s=150, c=Z_values, cmap='plasma',
            edgecolors='black', linewidths=1.5, zorder=3)

# ä»£è¡¨çš„ãªå…ƒç´ ã«ãƒ©ãƒ™ãƒ«
for Z, eta, name in zip(Z_values[::2], eta_values[::2], element_names[::2]):
    ax1.text(Z, eta + 0.02, name, fontsize=9, ha='center', fontweight='bold')

ax1.set_xlabel('Atomic Number Z', fontsize=12)
ax1.set_ylabel('Backscattered Electron Yield Î·', fontsize=12)
ax1.set_title('BSE Yield vs Atomic Number', fontsize=14, fontweight='bold')
ax1.legend(fontsize=11)
ax1.grid(alpha=0.3)
ax1.set_xlim(0, 90)
ax1.set_ylim(0, 0.6)

# å³å›³ï¼šçµ„æˆã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
# Fe-Cuåˆé‡‘ã®BSEåƒã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
size = 256
image = np.zeros((size, size))

# Feé ˜åŸŸï¼ˆZ=26ï¼‰
Z_Fe = 26
eta_Fe = bse_yield(Z_Fe)
image[:, :size//2] = eta_Fe

# Cué ˜åŸŸï¼ˆZ=29ï¼‰
Z_Cu = 29
eta_Cu = bse_yield(Z_Cu)
image[:, size//2:] = eta_Cu

# ãƒã‚¤ã‚ºè¿½åŠ 
image += np.random.normal(0, 0.01, image.shape)

im = ax2.imshow(image, cmap='gray', vmin=0.1, vmax=0.4)
ax2.axvline(x=size//2, color='red', linestyle='--', linewidth=2)
ax2.text(size//4, size*0.1, f'Fe (Z={Z_Fe})\nÎ·={eta_Fe:.3f}',
         fontsize=11, ha='center', color='white', fontweight='bold',
         bbox=dict(boxstyle='round', facecolor='black', alpha=0.7))
ax2.text(size*3//4, size*0.1, f'Cu (Z={Z_Cu})\nÎ·={eta_Cu:.3f}',
         fontsize=11, ha='center', color='black', fontweight='bold',
         bbox=dict(boxstyle='round', facecolor='white', alpha=0.7))
ax2.set_title('BSE Image Simulation: Fe-Cu Interface\n(Compositional Contrast)',
              fontsize=14, fontweight='bold')
ax2.axis('off')

cbar = plt.colorbar(im, ax=ax2, fraction=0.046, pad=0.04)
cbar.set_label('BSE Yield Î·', fontsize=11)

plt.tight_layout()
plt.show()

print("å¾Œæ–¹æ•£ä¹±é›»å­åç‡ã®ä¾‹:")
print(f"  C  (Z=6):  Î· = {bse_yield(6):.3f}")
print(f"  Fe (Z=26): Î· = {bse_yield(26):.3f}")
print(f"  Cu (Z=29): Î· = {bse_yield(29):.3f}")
print(f"  Au (Z=79): Î· = {bse_yield(79):.3f}")
print(f"\nAuã®è¼åº¦ã¯Cã®ç´„{bse_yield(79)/bse_yield(6):.1f}å€")
</code></pre>

        <h2>2.4 ã‚¨ãƒãƒ«ã‚®ãƒ¼minæ•£å‹Xç·šminæï¼ˆEDSï¼‰</h2>

        <h3>2.4.1 ç‰¹æ€§Xç·šã®ç™ºç”Ÿ</h3>
        <p>å…¥å°„é›»å­ãŒå†…æ®»é›»å­ã‚’åŠ±èµ·ã™ã‚‹ã¨ã€å¤–æ®»é›»å­ãŒé·ç§»ã™ã‚‹éš›ã«<strong>ç‰¹æ€§Xç·š</strong>ãŒæ”¾å‡ºã•ã‚Œã¾ã™ã€‚ã“ã®Xç·šã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã¯å…ƒç´ å›ºæœ‰ã§ã‚ã‚Šã€å…ƒç´ åŒå®šã¨å®šé‡minæãŒå¯èƒ½ã§ã™ã€‚</p>

        <p><strong>ä¸»ãªXç·šç³»åˆ—</strong>ï¼š</p>
        <ul>
            <li><strong>Kç³»åˆ—</strong>ï¼šKæ®»ï¼ˆn=1ï¼‰ã¸ã®é·ç§»ã€‚KÎ±ï¼ˆLâ†’Kï¼‰ã€KÎ²ï¼ˆMâ†’Kï¼‰</li>
            <li><strong>Lç³»åˆ—</strong>ï¼šLæ®»ï¼ˆn=2ï¼‰ã¸ã®é·ç§»ã€‚LÎ±ã€LÎ²ã€LÎ³</li>
            <li><strong>Mç³»åˆ—</strong>ï¼šMæ®»ï¼ˆn=3ï¼‰ã¸ã®é·ç§»ã€‚é‡å…ƒç´ ã§é‡è¦</li>
        </ul>

        <p><strong>ãƒ¢ãƒ¼ã‚ºãƒªãƒ¼ã®æ³•å‰‡</strong>ï¼šç‰¹æ€§Xç·šã‚¨ãƒãƒ«ã‚®ãƒ¼ã¯atomç•ªå·$Z$ã®2ä¹—ã«æ¯”ä¾‹ï¼š</p>

        $$
        E_{\text{K}\alpha} \approx 10.2 (Z - 1)^2 \text{ eV}
        $$

        <h3>2.4.2 EDSå®šé‡minæã¨ZAFè£œæ­£</h3>
        <p>EDSå®šé‡minæã§ã¯ã€æ¸¬å®šã—ãŸXç·šå¼·åº¦æ¯”ã‹ã‚‰çµ„æˆã‚’æ±‚ã‚ã¾ã™ãŒã€<strong>ZAFè£œæ­£</strong>ãŒå¿…è¦ã§ã™ï¼š</p>

        <ul>
            <li><strong>Zè£œæ­£ï¼ˆatomç•ªå·åŠ¹æœï¼‰</strong>ï¼šå¾Œæ–¹æ•£ä¹±ã¨åœæ­¢èƒ½ã®è£œæ­£</li>
            <li><strong>Aè£œæ­£ï¼ˆå¸åè£œæ­£ï¼‰</strong>ï¼šè©¦æ–™å†…ã§ã®Xç·šå¸åã®è£œæ­£</li>
            <li><strong>Fè£œæ­£ï¼ˆè›å…‰è£œæ­£ï¼‰</strong>ï¼šä»–å…ƒç´ ã®Xç·šã«ã‚ˆã‚‹äºŒæ¬¡åŠ±èµ·ã®è£œæ­£</li>
        </ul>

        <p>è£œæ­£å¾Œã®è³ªé‡æ¿ƒåº¦$C_i$ã¯ï¼š</p>

        $$
        C_i = \frac{k_i \cdot \text{ZAF}_i}{\sum_j k_j \cdot \text{ZAF}_j}
        $$

        <p>ã“ã“ã§ã€$k_i$ã¯æ¨™æº–è©¦æ–™ã«å¯¾ã™ã‚‹å¼·åº¦æ¯”ã§ã™ã€‚</p>

        <h4>code examples2-4: EDSå®šé‡minæã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆZAFè£œæ­£ï¼‰</h4>
        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def zaf_correction(Z, A, F=1.0):
    """
    ç°¡ç•¥åŒ–ã•ã‚ŒãŸZAFè£œæ­£ä¿‚æ•°

    Parameters
    ----------
    Z : float
        atomç•ªå·è£œæ­£ä¿‚æ•°
    A : float
        å¸åè£œæ­£ä¿‚æ•°
    F : float
        è›å…‰è£œæ­£ä¿‚æ•°ï¼ˆé€šå¸¸1ã«è¿‘ã„ï¼‰

    Returns
    -------
    ZAF : float
        ç·åˆè£œæ­£ä¿‚æ•°
    """
    return Z * A * F

def quantitative_eds_analysis(k_ratios, elements, Z_factors, A_factors):
    """
    EDSå®šé‡minæï¼ˆZAFè£œæ­£ï¼‰

    Parameters
    ----------
    k_ratios : array-like
        å„å…ƒç´ ã®å¼·åº¦æ¯”ï¼ˆæ¨™æº–è©¦æ–™ã«å¯¾ã™ã‚‹æ¯”ï¼‰
    elements : list
        å…ƒç´ åã®ãƒªã‚¹ãƒˆ
    Z_factors : array-like
        atomç•ªå·è£œæ­£ä¿‚æ•°
    A_factors : array-like
        å¸åè£œæ­£ä¿‚æ•°

    Returns
    -------
    concentrations : dict
        å„å…ƒç´ ã®è³ªé‡æ¿ƒåº¦ [wt%]
    """
    k_ratios = np.array(k_ratios)
    Z_factors = np.array(Z_factors)
    A_factors = np.array(A_factors)

    # ZAFè£œæ­£
    zaf_factors = zaf_correction(Z_factors, A_factors)
    corrected_intensities = k_ratios * zaf_factors

    # æ­£è¦åŒ–
    total = np.sum(corrected_intensities)
    concentrations = {elem: (corr / total) * 100 for elem, corr in zip(elements, corrected_intensities)}

    return concentrations

# Fe-Cr-Niåˆé‡‘ã®å®šé‡minæä¾‹
elements = ['Fe', 'Cr', 'Ni']
k_ratios = [0.70, 0.18, 0.12]  # æ¸¬å®šå¼·åº¦æ¯”
Z_factors = [1.00, 0.98, 1.03]  # atomç•ªå·è£œæ­£
A_factors = [1.00, 0.95, 1.02]  # å¸åè£œæ­£

concentrations = quantitative_eds_analysis(k_ratios, elements, Z_factors, A_factors)

# ãƒ—ãƒ­ãƒƒãƒˆ
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(15, 6))

# å·¦å›³ï¼šè£œæ­£å‰å¾Œã®æ¯”è¼ƒ
uncorrected = {elem: (k / sum(k_ratios)) * 100 for elem, k in zip(elements, k_ratios)}

x = np.arange(len(elements))
width = 0.35

bars1 = ax1.bar(x - width/2, list(uncorrected.values()), width,
                label='Before ZAF Correction', color='#f093fb', alpha=0.7, edgecolor='black')
bars2 = ax1.bar(x + width/2, list(concentrations.values()), width,
                label='After ZAF Correction', color='#f5576c', alpha=0.7, edgecolor='black')

ax1.set_ylabel('Concentration [wt%]', fontsize=12)
ax1.set_title('EDS Quantitative Analysis: Fe-Cr-Ni Alloy', fontsize=14, fontweight='bold')
ax1.set_xticks(x)
ax1.set_xticklabels(elements, fontsize=12)
ax1.legend(fontsize=11)
ax1.grid(axis='y', alpha=0.3)

# æ•°å€¤ãƒ©ãƒ™ãƒ«
for bar in bars1:
    height = bar.get_height()
    ax1.text(bar.get_x() + bar.get_width()/2, height + 1, f'{height:.1f}',
             ha='center', fontsize=10)
for bar in bars2:
    height = bar.get_height()
    ax1.text(bar.get_x() + bar.get_width()/2, height + 1, f'{height:.1f}',
             ha='center', fontsize=10, fontweight='bold')

# å³å›³ï¼šEDSã‚¹ãƒšã‚¯ãƒˆãƒ«ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
energy = np.linspace(0, 10, 1000)  # [keV]

# å„å…ƒç´ ã®ç‰¹æ€§Xç·šãƒ”ãƒ¼ã‚¯
Fe_Ka = 6.40  # [keV]
Cr_Ka = 5.41
Ni_Ka = 7.47

# ã‚¬ã‚¦ã‚¹å‹ãƒ”ãƒ¼ã‚¯
def gaussian_peak(E, E0, sigma, amplitude):
    return amplitude * np.exp(-((E - E0) / sigma)**2)

spectrum = np.zeros_like(energy)
spectrum += gaussian_peak(energy, Fe_Ka, 0.15, concentrations['Fe'] * 10)
spectrum += gaussian_peak(energy, Cr_Ka, 0.15, concentrations['Cr'] * 10)
spectrum += gaussian_peak(energy, Ni_Ka, 0.15, concentrations['Ni'] * 10)

# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ï¼ˆåˆ¶å‹•Xç·šï¼‰
background = 500 * np.exp(-energy / 2)
spectrum += background

ax2.plot(energy, spectrum, linewidth=2, color='#2c3e50')
ax2.fill_between(energy, 0, spectrum, alpha=0.3, color='#f093fb')

# ãƒ”ãƒ¼ã‚¯ä½ç½®ã‚’çŸ¢å°ã§ç¤ºã™
ax2.annotate('Fe KÎ±', xy=(Fe_Ka, gaussian_peak(Fe_Ka, Fe_Ka, 0.15, concentrations['Fe']*10)),
             xytext=(Fe_Ka-1, 800), fontsize=11, fontweight='bold',
             arrowprops=dict(arrowstyle='->', color='red', lw=2))
ax2.annotate('Cr KÎ±', xy=(Cr_Ka, gaussian_peak(Cr_Ka, Cr_Ka, 0.15, concentrations['Cr']*10)),
             xytext=(Cr_Ka-1.5, 600), fontsize=11, fontweight='bold',
             arrowprops=dict(arrowstyle='->', color='blue', lw=2))
ax2.annotate('Ni KÎ±', xy=(Ni_Ka, gaussian_peak(Ni_Ka, Ni_Ka, 0.15, concentrations['Ni']*10)),
             xytext=(Ni_Ka+0.5, 600), fontsize=11, fontweight='bold',
             arrowprops=dict(arrowstyle='->', color='green', lw=2))

ax2.set_xlabel('Energy [keV]', fontsize=12)
ax2.set_ylabel('Intensity [counts]', fontsize=12)
ax2.set_title('Simulated EDS Spectrum', fontsize=14, fontweight='bold')
ax2.grid(alpha=0.3)
ax2.set_xlim(0, 10)
ax2.set_ylim(0, 1000)

plt.tight_layout()
plt.show()

print("EDSå®šé‡minæçµæœï¼ˆZAFè£œæ­£å¾Œï¼‰:")
for elem, conc in concentrations.items():
    print(f"  {elem}: {conc:.2f} wt%")
</code></pre>

        <h2>2.5 SEMç”»åƒanalysis</h2>

        <h3>2.5.1 ç²’å­ã‚µã‚¤ã‚ºminå¸ƒanalysis</h3>
        <p>SEMç”»åƒã‹ã‚‰ç²’å­ã‚µã‚¤ã‚ºminå¸ƒã‚’å®šé‡çš„ã«analysisã™ã‚‹ã“ã¨ã¯ã€ææ–™è©•ä¾¡ã«ãŠã„ã¦é‡è¦ã§ã™ã€‚ç”»åƒå‡¦ç†ã®æ‰‹é †ï¼š</p>

        <ol>
            <li><strong>å‰å‡¦ç†</strong>ï¼šãƒã‚¤ã‚ºé™¤å»ï¼ˆã‚¬ã‚¦ã‚·ã‚¢ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ï¼‰ã€ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆèª¿æ•´</li>
            <li><strong>äºŒå€¤åŒ–</strong>ï¼šé–¾å€¤å‡¦ç†ã«ã‚ˆã‚Šç²’å­é ˜åŸŸã‚’æŠ½å‡º</li>
            <li><strong>ãƒ©ãƒ™ãƒªãƒ³ã‚°</strong>ï¼šå„ç²’å­ã«å›ºæœ‰ã®IDã‚’å‰²ã‚Šå½“ã¦</li>
            <li><strong>ç‰¹å¾´æŠ½å‡º</strong>ï¼šé¢ç©ã€å‘¨å›²é•·ã€å††å½¢åº¦ãªã©ã‚’calculation</li>
            <li><strong>çµ±è¨ˆanalysis</strong>ï¼šã‚µã‚¤ã‚ºminå¸ƒã€å¹³å‡ç²’å¾„ã€æ¨™æº–åå·®ã‚’ç®—å‡º</li>
        </ol>

        <h4>code examples2-5: SEMç”»åƒã‹ã‚‰ã®ç²’å­ã‚µã‚¤ã‚ºminå¸ƒanalysis</h4>
        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from scipy.ndimage import gaussian_filter, label
from scipy import ndimage

def generate_particle_image(size=512, num_particles=50):
    """
    ç²’å­ãŒminæ•£ã—ãŸSEMç”»åƒã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ

    Parameters
    ----------
    size : int
        ç”»åƒã‚µã‚¤ã‚º [pixels]
    num_particles : int
        ç²’å­æ•°

    Returns
    -------
    image : ndarray
        ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã•ã‚ŒãŸç”»åƒ
    """
    image = np.ones((size, size)) * 0.2  # ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰

    np.random.seed(42)
    for _ in range(num_particles):
        # ãƒ©ãƒ³ãƒ€ãƒ ãªä½ç½®ã¨ã‚µã‚¤ã‚º
        x = np.random.randint(20, size-20)
        y = np.random.randint(20, size-20)
        radius = np.random.randint(5, 25)

        # å††å½¢ç²’å­ã‚’æç”»
        Y, X = np.ogrid[:size, :size]
        mask = (X - x)**2 + (Y - y)**2 <= radius**2
        image[mask] = 0.8 + np.random.normal(0, 0.05)

    # ãƒã‚¤ã‚ºè¿½åŠ 
    image += np.random.normal(0, 0.03, image.shape)
    image = np.clip(image, 0, 1)

    # ã¼ã‹ã—
    image = gaussian_filter(image, sigma=1.0)

    return image

def analyze_particles(image, threshold=0.5, pixel_size_nm=10):
    """
    ç²’å­ã‚µã‚¤ã‚ºminå¸ƒã‚’analysis

    Parameters
    ----------
    image : ndarray
        å…¥åŠ›ç”»åƒ
    threshold : float
        äºŒå€¤åŒ–é–¾å€¤
    pixel_size_nm : float
        ãƒ”ã‚¯ã‚»ãƒ«ã‚µã‚¤ã‚º [nm/pixel]

    Returns
    -------
    areas : list
        å„ç²’å­ã®é¢ç© [nmÂ²]
    diameters : list
        å„ç²’å­ã®ç›¸å½“ç›´å¾„ [nm]
    binary : ndarray
        äºŒå€¤åŒ–ç”»åƒ
    labeled : ndarray
        ãƒ©ãƒ™ãƒ«ç”»åƒ
    """
    # äºŒå€¤åŒ–
    binary = image > threshold

    # ãƒ©ãƒ™ãƒªãƒ³ã‚°
    labeled, num_features = label(binary)

    # å„ç²’å­ã®é¢ç©ã‚’calculation
    areas = []
    diameters = []

    for i in range(1, num_features + 1):
        area_pixels = np.sum(labeled == i)
        area_nm2 = area_pixels * (pixel_size_nm ** 2)

        # ç›¸å½“ç›´å¾„ï¼ˆå††ã¨åŒã˜é¢ç©ã‚’æŒã¤ç›´å¾„ï¼‰
        diameter_nm = 2 * np.sqrt(area_nm2 / np.pi)

        # å°ã•ã™ãã‚‹ç²’å­ã¯é™¤å¤–
        if area_pixels > 10:
            areas.append(area_nm2)
            diameters.append(diameter_nm)

    return areas, diameters, binary, labeled

# ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
image = generate_particle_image(size=512, num_particles=60)
areas, diameters, binary, labeled = analyze_particles(image, threshold=0.5, pixel_size_nm=5)

# ãƒ—ãƒ­ãƒƒãƒˆ
fig = plt.figure(figsize=(16, 10))
gs = fig.add_gridspec(2, 3, hspace=0.3, wspace=0.3)

# å…ƒç”»åƒ
ax1 = fig.add_subplot(gs[0, 0])
ax1.imshow(image, cmap='gray')
ax1.set_title('Original SEM Image', fontsize=13, fontweight='bold')
ax1.axis('off')

# äºŒå€¤åŒ–ç”»åƒ
ax2 = fig.add_subplot(gs[0, 1])
ax2.imshow(binary, cmap='gray')
ax2.set_title('Binary Image\n(Threshold = 0.5)', fontsize=13, fontweight='bold')
ax2.axis('off')

# ãƒ©ãƒ™ãƒ«ç”»åƒ
ax3 = fig.add_subplot(gs[0, 2])
ax3.imshow(labeled, cmap='tab20')
ax3.set_title(f'Labeled Image\n({len(diameters)} particles detected)', fontsize=13, fontweight='bold')
ax3.axis('off')

# ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ï¼šç²’å­ç›´å¾„minå¸ƒ
ax4 = fig.add_subplot(gs[1, :2])
ax4.hist(diameters, bins=20, color='#f093fb', alpha=0.7, edgecolor='black', linewidth=1.5)
ax4.set_xlabel('Particle Diameter [nm]', fontsize=12)
ax4.set_ylabel('Frequency', fontsize=12)
ax4.set_title('Particle Size Distribution', fontsize=14, fontweight='bold')
ax4.grid(axis='y', alpha=0.3)

# çµ±è¨ˆæƒ…å ±ã‚’è¿½åŠ 
mean_diameter = np.mean(diameters)
std_diameter = np.std(diameters)
ax4.axvline(mean_diameter, color='red', linestyle='--', linewidth=2, label=f'Mean: {mean_diameter:.1f} nm')
ax4.axvline(mean_diameter - std_diameter, color='orange', linestyle=':', linewidth=1.5, label=f'Std: Â±{std_diameter:.1f} nm')
ax4.axvline(mean_diameter + std_diameter, color='orange', linestyle=':', linewidth=1.5)
ax4.legend(fontsize=11)

# çµ±è¨ˆãƒ†ãƒ¼ãƒ–ãƒ«
ax5 = fig.add_subplot(gs[1, 2])
ax5.axis('off')

stats_text = f"""
Particle Analysis Results

Number of particles: {len(diameters)}

Diameter [nm]:
  Mean:   {mean_diameter:.2f}
  Median: {np.median(diameters):.2f}
  Std:    {std_diameter:.2f}
  Min:    {np.min(diameters):.2f}
  Max:    {np.max(diameters):.2f}

Area [nmÂ²]:
  Mean:   {np.mean(areas):.1f}
  Total:  {np.sum(areas):.1f}
"""

ax5.text(0.1, 0.5, stats_text, fontsize=11, verticalalignment='center',
         fontfamily='monospace', bbox=dict(boxstyle='round', facecolor='wheat', alpha=0.8))

plt.tight_layout()
plt.show()

print(f"ç²’å­analysisçµæœ:")
print(f"  æ¤œå‡ºç²’å­æ•°: {len(diameters)}")
print(f"  å¹³å‡ç›´å¾„: {mean_diameter:.2f} Â± {std_diameter:.2f} nm")
print(f"  ç²’å¾„ç¯„å›²: {np.min(diameters):.2f} - {np.max(diameters):.2f} nm")
</code></pre>

        <h2>2.6 æ¼”ç¿’å•é¡Œ</h2>

        <h3>æ¼”ç¿’2-1: é›»å­é£›ç¨‹ã®calculationï¼ˆEasyï¼‰</h3>
        <p><strong>å•é¡Œ</strong>ï¼šSiè©¦æ–™ï¼ˆZ=14, A=28, Ï=2.33 g/cmÂ³ï¼‰ã‚’15 kVã§è¦³å¯Ÿã™ã‚‹éš›ã®é›»å­é£›ç¨‹ã‚’calculationã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">Z = 14
A = 28
rho = 2.33
E0 = 15

R_KO = 0.0276 * A * (E0 ** 1.67) / ((Z ** 0.89) * rho)
print(f"Siï¼ˆ15 kVï¼‰ã®é›»å­é£›ç¨‹: {R_KO:.2f} Î¼m")
</code></pre>
        </details>

        <h3>æ¼”ç¿’2-2: äºŒæ¬¡é›»å­åç‡ã®è©•ä¾¡ï¼ˆMediumï¼‰</h3>
        <p><strong>å•é¡Œ</strong>ï¼š5 kVã®åŠ é€Ÿé›»åœ§ã§ã€è©¦æ–™ã‚’60Â°å‚¾æ–œã•ã›ãŸå ´åˆã®äºŒæ¬¡é›»å­åç‡ã‚’calculationã›ã‚ˆï¼ˆÎ´_max=1.5, E_max=0.5 kVï¼‰ã€‚å‚ç›´å…¥å°„ã®å ´åˆã¨æ¯”è¼ƒã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">import numpy as np

E0 = 5
delta_max = 1.5
E_max = 0.5

# å‚ç›´å…¥å°„ï¼ˆÎ¸=0Â°ï¼‰
theta_0 = 0
delta_0 = delta_max * np.exp(-((E0 - E_max) / E_max)**2) / np.cos(np.deg2rad(theta_0))

# å‚¾æ–œ60Â°
theta_60 = 60
delta_60 = delta_max * np.exp(-((E0 - E_max) / E_max)**2) / np.cos(np.deg2rad(theta_60))

print(f"å‚ç›´å…¥å°„ï¼ˆÎ¸=0Â°ï¼‰: Î´ = {delta_0:.3f}")
print(f"å‚¾æ–œ60Â°: Î´ = {delta_60:.3f}")
print(f"åç‡å¢—åŠ : {delta_60 / delta_0:.2f}å€")
</code></pre>
        </details>

        <h3>æ¼”ç¿’2-3: BSEçµ„æˆã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã®å®šé‡åŒ–ï¼ˆMediumï¼‰</h3>
        <p><strong>å•é¡Œ</strong>ï¼šTiï¼ˆZ=22ï¼‰ã¨Niï¼ˆZ=28ï¼‰ã®å¢ƒç•Œã‚’BSEåƒã§è¦³å¯Ÿã™ã‚‹ã€‚ä¸¡è€…ã®BSEåç‡ã‚’calculationã—ã€åƒã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’æ¨å®šã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">Z_Ti = 22
Z_Ni = 28

eta_Ti = -0.0254 + 0.016*Z_Ti - 1.86e-4*Z_Ti**2 + 8.3e-7*Z_Ti**3
eta_Ni = -0.0254 + 0.016*Z_Ni - 1.86e-4*Z_Ni**2 + 8.3e-7*Z_Ni**3

contrast = (eta_Ni - eta_Ti) / eta_Ti * 100

print(f"Ti (Z={Z_Ti}): Î· = {eta_Ti:.3f}")
print(f"Ni (Z={Z_Ni}): Î· = {eta_Ni:.3f}")
print(f"ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ: {contrast:.1f}%")
print(f"Nié ˜åŸŸãŒTié ˜åŸŸã‚ˆã‚Š{contrast:.1f}%æ˜ã‚‹ãè¦‹ãˆã‚‹")
</code></pre>
        </details>

        <h3>æ¼”ç¿’2-4: EDSå®šé‡minæï¼ˆHardï¼‰</h3>
        <p><strong>å•é¡Œ</strong>ï¼šAl-Siåˆé‡‘ã®EDSminæã§ã€k(Al)=0.65ã€k(Si)=0.35ã‚’å¾—ãŸã€‚ZAFè£œæ­£ä¿‚æ•°ãŒAl: 1.02ã€Si: 0.98ã®å ´åˆã€çµ„æˆã‚’æ±‚ã‚ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">k_Al = 0.65
k_Si = 0.35
ZAF_Al = 1.02
ZAF_Si = 0.98

corrected_Al = k_Al * ZAF_Al
corrected_Si = k_Si * ZAF_Si

total = corrected_Al + corrected_Si

C_Al = (corrected_Al / total) * 100
C_Si = (corrected_Si / total) * 100

print(f"ZAFè£œæ­£å¾Œã®çµ„æˆ:")
print(f"  Al: {C_Al:.2f} wt%")
print(f"  Si: {C_Si:.2f} wt%")
</code></pre>
        </details>

        <h3>æ¼”ç¿’2-5: ç²’å­ã‚µã‚¤ã‚ºçµ±è¨ˆï¼ˆHardï¼‰</h3>
        <p><strong>å•é¡Œ</strong>ï¼š10å€‹ã®ç²’å­ã®ç›´å¾„ãŒ[50, 55, 60, 52, 58, 62, 48, 54, 56, 61] nmã§ã‚ã‚‹ã€‚å¹³å‡ç²’å¾„ã€æ¨™æº–åå·®ã€ç›¸å¯¾æ¨™æº–åå·®ï¼ˆRSDï¼‰ã‚’calculationã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">import numpy as np

diameters = np.array([50, 55, 60, 52, 58, 62, 48, 54, 56, 61])

mean_d = np.mean(diameters)
std_d = np.std(diameters, ddof=1)  # ä¸åæ¨™æº–åå·®
rsd = (std_d / mean_d) * 100

print(f"å¹³å‡ç²’å¾„: {mean_d:.2f} nm")
print(f"æ¨™æº–åå·®: {std_d:.2f} nm")
print(f"ç›¸å¯¾æ¨™æº–åå·®ï¼ˆRSDï¼‰: {rsd:.2f} %")
</code></pre>
        </details>

        <h3>æ¼”ç¿’2-6: åŠ é€Ÿé›»åœ§ã®æœ€é©åŒ–ï¼ˆHardï¼‰</h3>
        <p><strong>å•é¡Œ</strong>ï¼šTiã¨Feã®çµ„æˆã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’æœ€å¤§åŒ–ã™ã‚‹ãŸã‚ã«ã€5 kVã¨20 kVã®ã©ã¡ã‚‰ãŒé©åˆ‡ã‹ã€BSEåç‡ã®å·®ã‚’calculationã—ã¦è­°è«–ã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <p><strong>è§£ç­”ã®ãƒã‚¤ãƒ³ãƒˆ</strong>ï¼š</p>
            <ul>
                <li>BSEåç‡$\eta$ã¯åŠ é€Ÿé›»åœ§ã«ã»ã¨ã‚“ã©ä¾å­˜ã—ãªã„ï¼ˆatomç•ªå·ã«ä¸»ã«ä¾å­˜ï¼‰</li>
                <li>ã—ãŸãŒã£ã¦ã€5 kVã§ã‚‚20 kVã§ã‚‚çµ„æˆã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆè‡ªä½“ã¯åŒç¨‹åº¦</li>
                <li>ã—ã‹ã—ã€ä½åŠ é€Ÿé›»åœ§ï¼ˆ5 kVï¼‰ã®æ–¹ãŒè¡¨é¢æ•æ„Ÿã§ã€ç©ºé–“minè§£èƒ½ãŒé«˜ã„</li>
                <li><strong>çµè«–</strong>ï¼šè¡¨é¢ã®çµ„æˆminå¸ƒã‚’é«˜minè§£èƒ½ã§è¦³å¯Ÿã—ãŸã„å ´åˆã¯5 kVãŒæœ‰åˆ©</li>
            </ul>
        </details>

        <h3>æ¼”ç¿’2-7: Xç·šç©ºé–“minè§£èƒ½ã®è©•ä¾¡ï¼ˆHardï¼‰</h3>
        <p><strong>å•é¡Œ</strong>ï¼šAlè©¦æ–™ã‚’15 kVã§è¦³å¯Ÿã™ã‚‹éš›ã€Al KÎ±ç·šï¼ˆ1.49 keVï¼‰ã®ç™ºç”Ÿé ˜åŸŸã®æ·±ã•ã‚’æ¨å®šã›ã‚ˆã€‚é›»å­é£›ç¨‹ã®70%ç¨‹åº¦ã¨ä»®å®šã™ã‚‹ã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <pre><code class="language-python">Z_Al = 13
A_Al = 27
rho_Al = 2.70
E0 = 15

R_KO = 0.0276 * A_Al * (E0 ** 1.67) / ((Z_Al ** 0.89) * rho_Al)
X_ray_depth = R_KO * 0.7

print(f"Alï¼ˆ15 kVï¼‰ã®é›»å­é£›ç¨‹: {R_KO:.2f} Î¼m")
print(f"Al KÎ±ç·šã®ç™ºç”Ÿæ·±ã•ï¼ˆæ¨å®šï¼‰: {X_ray_depth:.2f} Î¼m")
print(f"EDSã®ç©ºé–“minè§£èƒ½ã¯ç´„{X_ray_depth*1000:.0f} nmç¨‹åº¦")
</code></pre>
        </details>

        <h3>æ¼”ç¿’2-8: å®Ÿé¨“è¨ˆç”»ï¼ˆHardï¼‰</h3>
        <p><strong>å•é¡Œ</strong>ï¼šAlåˆé‡‘ä¸­ã®Mg<sub>2</sub>Siæå‡ºç‰©ï¼ˆã‚µã‚¤ã‚ºæ•°ånmï¼‰ã‚’è¦³å¯Ÿãƒ»å®šé‡ã™ã‚‹å®Ÿé¨“è¨ˆç”»ã‚’ç«‹æ¡ˆã›ã‚ˆã€‚SEåƒã€BSEåƒã€EDSã®ä½¿ã„minã‘ã‚’Descriptionã›ã‚ˆã€‚</p>

        <details>
            <summary><strong>è§£ç­”ä¾‹ã‚’è¡¨ç¤º</strong></summary>
            <p><strong>å®Ÿé¨“è¨ˆç”»</strong>ï¼š</p>
            <ol>
                <li><strong>SEåƒï¼ˆä½å€ç‡ï¼‰</strong>ï¼šè©¦æ–™è¡¨é¢ã®å…¨ä½“è¦³å¯Ÿã€æå‡ºç‰©ã®minå¸ƒç¢ºèªï¼ˆ5-10 kVï¼‰</li>
                <li><strong>BSEåƒï¼ˆé«˜å€ç‡ï¼‰</strong>ï¼šMg<sub>2</sub>Siï¼ˆè»½å…ƒç´ ï¼‰ã¨Alæ¯ç›¸ã®çµ„æˆã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆè¦³å¯Ÿï¼ˆ10-15 kVï¼‰ã€‚Mg<sub>2</sub>Siã¯æš—ãè¦‹ãˆã‚‹</li>
                <li><strong>SEåƒï¼ˆé«˜å€ç‡ï¼‰</strong>ï¼šæå‡ºç‰©ã®å½¢æ…‹ã¨ç²’å¾„æ¸¬å®šï¼ˆ5 kVã€è¡¨é¢æ•æ„Ÿï¼‰</li>
                <li><strong>EDSç‚¹minæ</strong>ï¼šæå‡ºç‰©ä¸Šã¨æ¯ç›¸ä¸Šã§ãã‚Œãã‚Œã‚¹ãƒšã‚¯ãƒˆãƒ«å–å¾—ã€Mg/Si/Alæ¯”ã‚’å®šé‡ï¼ˆ15 kVï¼‰</li>
                <li><strong>EDSãƒãƒƒãƒ”ãƒ³ã‚°</strong>ï¼šMgã€Siã€Alã®å…ƒç´ minå¸ƒã‚’visualizationï¼ˆ15 kVã€é•·hoursç©ç®—ï¼‰</li>
                <li><strong>ç”»åƒanalysis</strong>ï¼šSEåƒã¾ãŸã¯BSEåƒã‹ã‚‰ç²’å¾„minå¸ƒã€æ•°å¯†åº¦ã‚’å®šé‡</li>
            </ol>
            <p><strong>ç†ç”±</strong>ï¼š</p>
            <ul>
                <li>SEåƒã¯è¡¨é¢å½¢æ…‹è¦³å¯Ÿã«æœ€é©ã€BSEåƒã¯çµ„æˆã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã§æå‡ºç‰©ã‚’è­˜åˆ¥</li>
                <li>15 kVã¯ã€Mg KÎ±ï¼ˆ1.25 keVï¼‰ã¨Si KÎ±ï¼ˆ1.74 keVï¼‰ã®åŠ±èµ·ã«åmin</li>
                <li>ä½åŠ é€Ÿé›»åœ§ï¼ˆ5 kVï¼‰ã¯é«˜minè§£èƒ½ã ãŒã€Xç·šåŠ±èµ·åŠ¹ç‡ãŒä½ä¸‹ã™ã‚‹ãŸã‚å®šé‡ã«ã¯ä¸å‘ã</li>
            </ul>
        </details>

        <h2>2.7 å­¦ç¿’ãƒã‚§ãƒƒã‚¯</h2>
        <p>ä»¥ä¸‹ã®è³ªå•ã«ç­”ãˆã¦ã€ç†è§£åº¦ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼š</p>

        <ol>
            <li>SEMã®èµ°æŸ»åŸç†ã¨ç”»åƒå½¢æˆã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’Descriptionã§ãã¾ã™ã‹ï¼Ÿ</li>
            <li>äºŒæ¬¡é›»å­ã¨å¾Œæ–¹æ•£ä¹±é›»å­ã®ç™ºç”Ÿæ©Ÿæ§‹ã®é•ã„understandã—ã¦ã„ã¾ã™ã‹ï¼Ÿ</li>
            <li>SEåƒã¨BSEåƒã®ç‰¹å¾´ã¨ä½¿ã„minã‘ã‚’Descriptionã§ãã¾ã™ã‹ï¼Ÿ</li>
            <li>é›»å­é£›ç¨‹ã®atomç•ªå·ä¾å­˜æ€§ã¨åŠ é€Ÿé›»åœ§ä¾å­˜æ€§understandã—ã¦ã„ã¾ã™ã‹ï¼Ÿ</li>
            <li>ç‰¹æ€§Xç·šã®ç™ºç”Ÿæ©Ÿæ§‹ã¨ãƒ¢ãƒ¼ã‚ºãƒªãƒ¼ã®æ³•å‰‡ã‚’Descriptionã§ãã¾ã™ã‹ï¼Ÿ</li>
            <li>EDSå®šé‡minæã«ãŠã‘ã‚‹ZAFè£œæ­£ã®å¿…è¦æ€§understandã—ã¦ã„ã¾ã™ã‹ï¼Ÿ</li>
            <li>SEMç”»åƒã‹ã‚‰ã®ç²’å­ã‚µã‚¤ã‚ºminå¸ƒanalysisã®æ‰‹é †ã‚’Descriptionã§ãã¾ã™ã‹ï¼Ÿ</li>
            <li>åŠ é€Ÿé›»åœ§ã¨ä½œå‹•è·é›¢ã®é¸æŠãŒåƒè³ªã«ä¸ãˆã‚‹å½±éŸ¿understandã—ã¦ã„ã¾ã™ã‹ï¼Ÿ</li>
        </ol>

        <h2>2.8 å‚è€ƒæ–‡çŒ®</h2>
        <ol>
            <li>Goldstein, J. I., et al. (2017). <em>Scanning Electron Microscopy and X-Ray Microanalysis</em> (4th ed.). Springer. - SEMã¨EDSminæã®åŒ…æ‹¬çš„æ•™ç§‘æ›¸</li>
            <li>Reimer, L. (1998). <em>Scanning Electron Microscopy: Physics of Image Formation and Microanalysis</em> (2nd ed.). Springer. - SEMçµåƒç†è«–ã®è©³ç´°</li>
            <li>Newbury, D. E., & Ritchie, N. W. M. (2013). "Is Scanning Electron Microscopy/Energy Dispersive X-ray Spectrometry (SEM/EDS) Quantitative?" <em>Scanning</em>, 35, 141-168. - EDSå®šé‡minæã®ç²¾åº¦è©•ä¾¡</li>
            <li>Joy, D. C. (1995). <em>Monte Carlo Modeling for Electron Microscopy and Microanalysis</em>. Oxford University Press. - é›»å­ç·šã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</li>
            <li>Echlin, P. (2009). <em>Handbook of Sample Preparation for Scanning Electron Microscopy and X-Ray Microanalysis</em>. Springer. - è©¦æ–™ä½œè£½æŠ€è¡“</li>
            <li>JEOL Application Notes. "SEM Basics and Applications" - ãƒ¡ãƒ¼ã‚«ãƒ¼æŠ€è¡“è³‡æ–™</li>
            <li>Williams, D. B., & Carter, C. B. (2009). <em>Transmission Electron Microscopy: A Textbook for Materials Science</em> (2nd ed.). Springer. - é›»å­ç·šã¨ç‰©è³ªã®ç›¸äº’ä½œç”¨ï¼ˆåŸºç¤ç†è«–ï¼‰</li>
        </ol>

        <h2>2.9 æ¬¡ç« ã¸</h2>
        <p>æ¬¡ç« ã§ã¯ã€é€éå‹é›»å­é¡•å¾®é¡ï¼ˆTEMï¼‰ã®åŸç†ã€çµåƒç†è«–ã€æ˜è¦–é‡ãƒ»æš—è¦–é‡åƒã€åˆ¶é™è¦–é‡é›»å­å›æŠ˜ï¼ˆSAEDï¼‰ã€é«˜minè§£èƒ½TEMï¼ˆHRTEMï¼‰ã€åå·®è£œæ­£æŠ€è¡“will be coveredã€‚TEMã¯ã€è©¦æ–™ã‚’é€éã—ãŸé›»å­ç·šã‚’åˆ©ç”¨ã—ã¦ã€atomãƒ¬ãƒ™ãƒ«ã®æ§‹é€ ã‚’è¦³å¯Ÿã™ã‚‹å¼·åŠ›ãªæ‰‹æ³•ã§ã™ã€‚</p>

        <div class="navigation">
            <a href="chapter-1.html" class="nav-button">â† Chapter 1ï¼šé›»å­é¡•å¾®é¡fundamentals of</a>
            <a href="index.html" class="nav-button">ç›®æ¬¡ã«æˆ»ã‚‹</a>
            <a href="chapter-3.html" class="nav-button">Chapter 3ï¼šTEMå…¥é–€ â†’</a>
        </div>
    </main>

    <section class="disclaimer">
        <h3>Disclaimer</h3>
        <ul>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯æ•™è‚²ãƒ»ç ”ç©¶ãƒ»æƒ…å ±æä¾›ã®ã¿ã‚’ç›®çš„ã¨ã—ã¦ãŠã‚Šã€å°‚é–€çš„ãªåŠ©è¨€ï¼ˆæ³•å¾‹ãƒ»ä¼šè¨ˆãƒ»æŠ€è¡“çš„ä¿è¨¼ãªã©ï¼‰ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŠã‚ˆã³ä»˜éšã™ã‚‹code examplesã¯ã€Œç¾çŠ¶æœ‰å§¿ï¼ˆAS ISï¼‰ã€ã§æä¾›ã•ã‚Œã€æ˜ç¤ºã¾ãŸã¯é»™ç¤ºã‚’å•ã‚ãšã€å•†å“æ€§ã€ç‰¹å®šç›®çš„é©åˆæ€§ã€æ¨©åˆ©éä¾µå®³ã€æ­£ç¢ºæ€§ãƒ»å®Œå…¨æ€§ã€å‹•ä½œãƒ»å®‰å…¨æ€§ç­‰ã„ã‹ãªã‚‹ä¿è¨¼ã‚‚ã—ã¾ã›ã‚“ã€‚</li>
            <li>å¤–éƒ¨ãƒªãƒ³ã‚¯ã€ç¬¬ä¸‰è€…ãŒæä¾›ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ„ãƒ¼ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç­‰ã®å†…å®¹ãƒ»å¯ç”¨æ€§ãƒ»å®‰å…¨æ€§regardingã€AuthorãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ©ç”¨ãƒ»å®Ÿè¡Œãƒ»è§£é‡ˆã«ã‚ˆã‚Šç›´æ¥çš„ãƒ»é–“æ¥çš„ãƒ»ä»˜éšçš„ãƒ»ç‰¹åˆ¥ãƒ»çµæœçš„ãƒ»æ‡²ç½°çš„æå®³ãŒç”Ÿã˜ãŸå ´åˆã§ã‚‚ã€é©ç”¨æ³•ã§è¨±å®¹ã•ã‚Œã‚‹æœ€å¤§é™ã®ç¯„å›²ã§ã€AuthorãŠã‚ˆã³æ±åŒ—å¤§å­¦ã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å†…å®¹ã¯ã€äºˆå‘Šãªãå¤‰æ›´ãƒ»æ›´æ–°ãƒ»æä¾›åœæ­¢ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</li>
            <li>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‘—ä½œæ¨©ãƒ»Licenseã¯æ˜è¨˜ã•ã‚ŒãŸæ¡ä»¶ï¼ˆä¾‹: CC BY 4.0ï¼‰ã«å¾“ã„ã¾ã™ã€‚å½“è©²Licenseã¯é€šå¸¸ã€ç„¡ä¿è¨¼æ¡é …ã‚’å«ã¿ã¾ã™ã€‚</li>
        </ul>
    </section>

    <footer>
        <p><strong>Author</strong>: MS Knowledge Hub Content Team</p>
        <p><strong>Version</strong>: 1.0 | <strong>Created</strong>: 2025-10-28</p>
        <p><strong>License</strong>: Creative Commons BY 4.0</p>
        <p>&copy; 2025 MS Terakoya. All rights reserved.</p>
    </footer>
</body>
</html>
