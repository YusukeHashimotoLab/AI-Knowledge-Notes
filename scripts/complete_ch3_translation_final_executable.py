#!/usr/bin/env python3
"""
COMPLETE translation of processing-introduction/chapter-3.html
This script creates the full English version from line 1 to 1965

Run this script to complete the translation:
python3 complete_ch3_translation_final_executable.py
"""

import os
import sys

# Define comprehensive Japanese-to-English translation mappings
TRANSLATIONS = {
    # Section headings and key terms
    '電圧範囲のスキャン': 'Scan voltage range',
    'バリア層厚さ': 'Barrier layer thickness',
    '印加電圧': 'Applied Voltage',
    '全体厚さ': 'Total thickness',
    '硫酸浴': 'Sulfuric acid bath',
    '設計例': 'Design example',
    '陽極酸化プロセス設計': 'Anodizing Process Design',
    '目標バリア層厚さ': 'Target barrier layer thickness',
    '必要電圧': 'Required voltage',
    '時間の影響': 'Effect of time',
    '処理時間': 'Treatment Time',
    '陽極酸化膜厚と処理時間の関係': 'Anodizing Film Thickness vs Treatment Time',
    '封孔処理': 'Sealing Treatment',
    'ポーラス層の孔を閉じて耐食性を向上させる後処理です': 'Post-treatment to close the pores in the porous layer and improve corrosion resistance',
    '熱水封孔': 'Hot water sealing',
    '純水': 'pure water',
    '孔を閉じる': 'closes the pores',
    '蒸気封孔': 'Steam sealing',
    '水蒸気': 'steam',
    '冷封孔': 'Cold sealing',
    'ニッケル塩溶液': 'Nickel salt solution',
    '常温処理': 'room temperature',
    '省エネ': 'energy-saving',
    '表面改質技術': 'Surface Modification Technologies',
    'イオン注入': 'Ion Implantation',
    '高エネルギーイオンを材料表面に打ち込み、化学組成や結晶構造を改変する技術です': 'is a technique that bombards the material surface with high-energy ions to modify chemical composition and crystal structure',
    '半導体製造のドーピングや金属の表面硬化に利用されます': 'It is used for doping in semiconductor manufacturing and surface hardening of metals',
    'イオン注入プロセス': 'Ion Implantation Process',
    'イオン源でイオン生成（例：': 'Ion generation at ion source (e.g., ',
    '加速電場で': 'Acceleration to',
    'に加速': 'in acceleration field',
    '質量分析器で目的イオンのみ選択': 'Selection of desired ions by mass analyzer',
    '真空チャンバ内で試料に照射': 'Irradiation of sample in vacuum chamber',
    '濃度プロファイル': 'Concentration Profile',
    'イオン注入後の濃度分布はガウス分布で近似されます': 'The concentration distribution after ion implantation is approximated by a Gaussian distribution',
    'での濃度': 'at depth',
    'ドーズ量（全イオン数/面積）': 'Dose (total ions/area)',
    '飛程（ピーク深さ）': 'Range (peak depth)',
    '飛程のばらつき（標準偏差）': 'Range straggling (standard deviation)',
    'イオン注入濃度プロファイル（ガウスLSS理論）': 'Ion Implantation Concentration Profile (Gaussian LSS Theory)',
    'イオン注入濃度プロファイル計算（ガウス近似）': 'Ion implantation concentration profile calculation (Gaussian approximation)',
    'イオンエネルギー': 'Ion energy',
    'イオン種': 'Ion species',
    '基板材料': 'Substrate material',
    '深さ範囲': 'Depth range',
    '自動設定': 'auto-set if None',
    '深さ': 'Depth',
    '濃度': 'Concentration',
    '簡易LSS理論パラメータ（経験式）': 'Simplified LSS theory parameters (empirical formulas)',
    '実際は SRIM/TRIM などのシミュレーションツールを使用': 'In practice, use simulation tools like SRIM/TRIM',
    'イオン質量': 'Ion mass',
    '基板密度・原子量': 'Substrate density and atomic weight',
    'ガウス濃度分布': 'Gaussian concentration distribution',
    '実行例：窒素イオンをシリコンに注入': 'Example: Nitrogen ion implantation into silicon',
    'イオン注入濃度プロファイル（': 'Ion Implantation Concentration Profile (',
    'エネルギー依存性': 'Energy dependence',
    'イオン注入エネルギーと濃度プロファイル': 'Ion Implantation Energy and Concentration Profile',
    'イオン注入パラメータ': 'Ion Implantation Parameters',
    '基板': 'Substrate',
    'ピーク濃度': 'Peak concentration',
    'プラズマ処理': 'Plasma Treatment',
    'プラズマにより表面の化学結合を切断・改質し、濡れ性、接着性、生体適合性を向上させます': 'Plasma breaks and modifies surface chemical bonds to improve wettability, adhesion, and biocompatibility',
    '酸素プラズマ': 'Oxygen plasma',
    '表面親水化、有機物除去': 'Surface hydrophilization, organic matter removal',
    'アルゴンプラズマ': 'Argon plasma',
    '表面クリーニング、活性化': 'Surface cleaning, activation',
    '窒素プラズマ': 'Nitrogen plasma',
    '表面窒化、硬度向上': 'Surface nitriding, hardness improvement',
    'レーザー表面溶融': 'Laser Surface Melting',
    '高出力レーザーで表面を急速加熱・溶融・冷却し、微細結晶粒や非晶質層を形成します。硬度、耐摩耗性が向上します': 'High-power laser rapidly heats, melts, and cools the surface to form fine grains or amorphous layers. Hardness and wear resistance are improved',
    'コーティング技術': 'Coating Technologies',
    '熱溶射': 'Thermal Spray',
    '溶融または半溶融状態の粒子を高速で基材に衝突させ、コーティング層を形成するプロセスです': 'is a process that forms a coating layer by impacting molten or semi-molten particles at high velocity onto the substrate',
    '熱溶射法の分類': 'Classification of Thermal Spray Methods',
    'フレーム溶射': 'Flame spray',
    'アセチレン/酸素炎で粒子溶融、安価、密着力中': 'Particle melting with acetylene/oxygen flame, inexpensive, medium adhesion',
    'プラズマ溶射': 'Plasma spray',
    '高温プラズマ（': 'High-temperature plasma (',
    '以上）、高品質、セラミックス可': 'high quality, ceramics possible',
    '高速フレーム溶射（HVOF）': 'High Velocity Oxy-Fuel (HVOF)',
    '超音速炎（Mach': 'Supersonic flame (Mach',
    '）、高密着力、高密度': 'high adhesion, high density',
    'コールドスプレー': 'Cold spray',
    '粒子を固相で超音速加速、低酸化、金属・複合材料': 'Supersonic acceleration of particles in solid phase, low oxidation, metals and composites',
    '重要パラメータ': 'Important Parameters',
    '粒子速度': 'Particle velocity',
    '手法により異なる': 'varies by method',
    '粒子温度': 'Particle temperature',
    '融点付近': 'Near melting point',
    '密着強度': 'Adhesion strength',
    '機械的かみ合い': 'Mechanical interlocking',
    '金属結合': 'metallic bonding',
    '拡散結合': 'diffusion bonding',
    'コーティング密着強度予測（機械的・熱的特性）': 'Coating Adhesion Strength Prediction (Mechanical and Thermal Properties)',
    'コーティング密着強度の予測（簡易モデル）': 'Coating adhesion strength prediction (simplified model)',
    'コーティング材料': 'Coating material',
    '予測密着強度': 'Predicted adhesion strength',
    '材料物性データベース': 'Material property database',
    '簡易密着強度モデル（経験式）': 'Simplified adhesion strength model (empirical formula)',
    '速度寄与（運動エネルギー': 'Velocity contribution (kinetic energy',
    '塑性変形）': 'plastic deformation)',
    '正規化': 'Normalized',
    '温度寄与（拡散結合促進）': 'Temperature contribution (promotes diffusion bonding)',
    'ヤング率の適合性（大きい差は不利）': "Young's modulus compatibility (large difference is disadvantageous)",
    '基礎密着強度（材料依存）': 'Base adhesion strength (material-dependent)',
    '総合密着強度': 'Total adhesion strength',
    'パラメータスキャン：粒子速度の影響': 'Parameter scan: Effect of particle velocity',
    '粒子速度とコーティング密着強度': 'Particle Velocity and Coating Adhesion Strength',
    'パラメータスキャン：粒子温度の影響': 'Parameter scan: Effect of particle temperature',
    '粒子温度とコーティング密着強度': 'Particle Temperature and Coating Adhesion Strength',
    '最適化例': 'Optimization example',
    '最適粒子速度': 'Optimal particle velocity',
    '最適粒子温度': 'Optimal particle temperature',
    '熱溶射プロセス最適化': 'Thermal Spray Process Optimization',
    'PVD/CVD基礎': 'PVD/CVD Basics',
    '物理的蒸発・スパッタリングによる薄膜形成（詳細は第5章）': 'Thin film formation by physical evaporation and sputtering (details in Chapter 5)',
    '化学反応による薄膜形成（詳細は第5章）': 'Thin film formation by chemical reactions (details in Chapter 5)',
    '表面処理の文脈では、TiN（窒化チタン）、CrN（窒化クロム）、DLC（ダイヤモンドライクカーボン）などの硬質コーティングに利用されます': 'In the context of surface treatment, these are used for hard coatings such as TiN (titanium nitride), CrN (chromium nitride), and DLC (diamond-like carbon)',
    'ゾル-ゲルコーティング': 'Sol-Gel Coating',
    'ゾル-ゲル法は液相からゲル化・焼成により酸化物薄膜を形成する手法です': 'Sol-gel method is a technique to form oxide thin films by gelation and sintering from liquid phase',
    '利点': 'Advantages',
    '低温プロセス、大面積対応、多孔質膜可能、組成制御容易': 'Low-temperature process, large-area compatible, porous films possible, easy composition control',
    '用途': 'Applications',
    '反射防止膜、耐食膜、触媒担体、光学膜': 'Anti-reflection films, corrosion-resistant films, catalyst supports, optical films',
    '熱溶射粒子の温度・速度モデリング': 'Thermal Spray Particle Temperature and Velocity Modeling',
    '熱溶射粒子の飛行中の温度・速度変化モデル': 'Thermal spray particle temperature and velocity change model during flight',
    '粒子直径': 'Particle diameter',
    '粒子材料': 'Particle material',
    '溶射法': 'Spray method',
    '噴射距離': 'Spray distance',
    '温度': 'Temperature',
    '距離': 'Distance',
    '材料物性': 'Material properties',
    '溶射法ごとの初期条件': 'Initial conditions for each spray method',
    '距離範囲': 'Distance range',
    '簡易抗力モデル（速度減衰）': 'Simple drag model (velocity decay)',
    '球形粒子': 'Spherical particle',
    '速度減衰定数': 'Velocity decay constant',
    '温度減衰（対流冷却）': 'Temperature decay (convective cooling)',
    '熱伝達係数': 'Heat transfer coefficient',
    '空気温度': 'Air temperature',
    '温度減衰定数': 'Temperature decay constant',
    '温度を℃に変換': 'Convert temperature to °C',
    '実行例：HVOF溶射でWC-Co粒子': 'Example: HVOF spray with WC-Co particles',
    '速度プロファイル': 'Velocity profile',
    '熱溶射粒子の速度プロファイル': 'Thermal Spray Particle Velocity Profile',
    '温度プロファイル': 'Temperature profile',
    '熱溶射粒子の温度プロファイル': 'Thermal Spray Particle Temperature Profile',
    '融点': 'melting point',
    '基板到達時の粒子状態': 'Particle State at Substrate Impact',
    '到達速度': 'Impact velocity',
    '到達温度': 'Impact temperature',
    '溶融状態': 'Melting state',
    '溶融': 'Molten',
    '固相': 'Solid phase',
    '複数粒径の比較': 'Comparison of multiple particle sizes',
    '粒径による速度プロファイルの違い': 'Velocity Profile Differences by Particle Size',
    '表面処理技術の選定': 'Surface Treatment Technology Selection',
    '要求特性と技術の対応': 'Required Properties and Technology Correspondence',
    '要求特性': 'Required Property',
    '適した技術': 'Suitable Technology',
    '特徴': 'Characteristics',
    '耐食性': 'Corrosion resistance',
    'めっき': 'Plating',
    '陽極酸化': 'Anodizing',
    '化学的バリア層形成': 'Chemical barrier layer formation',
    '耐摩耗性': 'Wear resistance',
    '高硬度層形成': 'High hardness layer formation',
    '装飾性（外観）': 'Decorative (appearance)',
    '光沢、色彩': 'Gloss, coloration',
    '導電性': 'Conductivity',
    '低抵抗接触': 'Low resistance contact',
    '生体適合性': 'Biocompatibility',
    '表面硬化': 'Surface hardening',
    '母材変形なし': 'No substrate deformation',
    '表面処理プロセス総合ワークフロー（パラメータ最適化）': 'Surface Treatment Process Comprehensive Workflow (Parameter Optimization)',
    '表面処理プロセスパラメータ最適化クラス': 'Surface treatment process parameter optimization class',
    '電気めっきプロセス最適化': 'Electroplating Process Optimization',
    '目標': 'Target',
    '最適パラメータ': 'Optimal parameters',
    '電流密度': 'Current density',
    'めっき時間': 'Plating time',
    '電流効率': 'Current efficiency',
    '達成膜厚': 'Achieved thickness',
    '誤差': 'Error',
    '陽極酸化プロセス最適化': 'Anodizing Process Optimization',
    '目標膜厚': 'Target thickness',
    '電圧': 'Voltage',
    'めっきプロセスパラメータマップ': 'Plating Process Parameter Map',
    '最適点': 'Optimal point',
    '演習問題': 'Practice Exercises',
    '演習': 'Exercise',
    'めっき厚さ計算': 'Plating Thickness Calculation',
    '銅めっきプロセスにおいて': 'In a copper plating process',
    '計算せよ': 'calculate',
    '解答を表示': 'Show Solution',
    '計算手順': 'Calculation Procedure',
    '銅のパラメータ': 'Copper parameters',
    '答え': 'Answer',
    'めっき厚さ': 'Plating thickness',
    '陽極酸化電圧の決定': 'Determining Anodizing Voltage',
    'アルミニウムのアルマイト処理で': 'in aluminum anodization',
    '経験則': 'empirical rule',
    '計算': 'Calculation',
    '実用上は': 'in practice',
    '表面処理技術の選定': 'Surface Treatment Technology Selection',
    '航空機エンジン部品': 'aircraft engine component',
    'チタン合金製': 'titanium alloy',
    '温度は': 'The temperature',
    '到達する': 'reaches',
    '適切な表面処理技術を選び、理由を説明せよ': 'Select an appropriate surface treatment technology and explain the reason',
    '推奨技術': 'Recommended technology',
    'による': 'by',
    'セラミックコーティング': 'ceramic coating',
    '理由': 'Reasons',
    '高温環境': 'high-temperature environments',
    'では': 'in',
    'は不適': 'are unsuitable',
    'は高温酸化に強い': 'are resistant to high-temperature oxidation',
    '厚膜': 'thick films',
    '形成可能で': 'can form',
    'に優れる': 'are excellent for',
    '法は密着力が高く、高速回転部品に適する': 'method has high adhesion and is suitable for high-speed rotating parts',
    '均一電着性の改善': 'Improving Throwing Power',
    '複雑形状部品のめっきで': 'In plating complex-shaped parts',
    '凸部のめっき厚さが': 'the plating thickness is',
    '凹部が': 'in concave areas',
    'と不均一になっている': 'non-uniform',
    '均一電着性を改善する方法を3つ挙げ、それぞれの効果を説明せよ': 'Propose three methods to improve throwing power and explain the effects of each',
    '改善方法': 'Improvement Methods',
    '電流密度の低減': 'Reduce current density',
    '効果': 'Effect',
    '電位分布の均一化、拡散支配領域へ移行': 'Homogenization of potential distribution, transition to diffusion-controlled regime',
    '実装': 'Implementation',
    'に低減、めっき時間延長で補償': 'compensate by extending plating time',
    'レベリング剤の添加': 'Add leveling agent',
    '凸部での析出速度を選択的に抑制、凹部優先析出': 'Selectively suppress deposition rate on convex areas, preferential deposition in concave areas',
    'などの添加剤を': 'such as',
    '添加': 'Add',
    '浴の攪拌強化': 'Enhanced bath agitation',
    '金属イオンの拡散層厚さの均一化': 'Homogenization of metal ion diffusion layer thickness',
    'エアレーション、試料回転、ポンプ循環': 'Aeration, sample rotation, pump circulation',
    '期待効果': 'Expected effect',
    '膜厚比': 'Thickness ratio',
    '均一性': 'uniformity',
    'イオン注入ドーズ量の計算': 'Ion Implantation Dose Calculation',
    'シリコン基板に窒素イオンを注入し': 'You want to achieve',
    '表面から': 'from the silicon substrate surface',
    'の深さでピーク濃度': 'at a depth of',
    'を達成したい': 'by nitrogen ion implantation',
    'の場合、必要なドーズ量を計算せよ': 'calculate the required dose',
    'ピーク濃度': 'Peak concentration',
    '問題では': 'In the problem',
    'なので': 'so',
    '熱溶射プロセスパラメータの選定': 'Thermal Spray Process Parameter Selection',
    'でWC-Coコーティングを施す': 'Applying WC-Co coating',
    'の条件で、基板到達時の粒子速度を': 'Under the conditions',
    '以上、温度を': 'you want to maintain particle velocity at',
    '以上に保ちたい': 'or higher and temperature at',
    'を参考に、この条件を満たすか検証し、満たさない場合は改善策を提案せよ': 'verify if these conditions are met, and if not, propose improvement measures',
    '検証': 'Verification',
    '判定': 'Judgment',
    '速度は満たすが、温度が不足': 'Velocity is satisfied, but temperature is insufficient',
    '改善策': 'Improvement Measures',
    '噴射距離短縮': 'Shorten spray distance',
    'で温度損失減少': 'reduces temperature loss',
    '粒径縮小': 'Reduce particle size',
    'で冷却速度低減（熱容量/表面積比↑）': 'reduces cooling rate (heat capacity/surface area ratio↑)',
    '初期温度上昇': 'Increase initial temperature',
    '燃料/酸素比調整、プレヒート強化': 'Adjust fuel/oxygen ratio, enhance preheating',
    '最終推奨': 'Final recommendation',
    '目標達成': 'target achieved',
    '多層コーティング設計': 'Multi-layer Coating Design',
    '自動車エンジン部品（鋼材）に': 'to an automotive engine part (steel)',
    '耐摩耗性と耐食性を同時に付与したい': 'want to impart both wear and corrosion resistance',
    '以下の条件で多層コーティングを設計せよ': 'Design a multi-layer coating under the following conditions',
    '最内層': 'Innermost layer',
    '密着層（薄膜）': 'Adhesion layer (thin film)',
    '中間層': 'Middle layer',
    '耐摩耗層（厚膜）': 'Wear-resistant layer (thick film)',
    '最外層': 'Outermost layer',
    '耐食層（中膜）': 'Corrosion-resistant layer (medium film)',
    '各層の材料、厚さ、製法を選定し、設計理由を説明せよ': 'Select materials, thickness, and fabrication methods for each layer and explain the design rationale',
    '層': 'Layer',
    '材料': 'Material',
    '厚さ': 'Thickness',
    '製法': 'Method',
    '理由': 'Reason',
    'との密着性良好、応力緩和': 'Good adhesion to steel, stress relaxation',
    '高硬度': 'High hardness',
    '耐酸化性、耐高温腐食': 'Oxidation resistance, high-temperature corrosion resistance',
    'プロセスシーケンス': 'Process Sequence',
    '基材の前処理（脱脂、サンドブラスト': 'Substrate pretreatment (degreasing, sandblasting',
    '電気めっきで': 'by electroplating',
    '密着層': 'adhesion layer',
    '溶射で': 'by spray',
    '層': 'layer',
    '後処理（必要に応じて研磨、封孔）': 'Post-treatment (polishing, sealing as needed)',
    '期待性能': 'Expected Performance',
    '摩擦係数': 'Coefficient of friction',
    '摩耗率': 'wear rate',
    '塩水噴霧': 'Salt spray test',
    '時間以上': 'hours',
    'プロセストラブルシューティング': 'Process Troubleshooting',
    '銅めっき工程で以下の不良が発生した。各不良の原因と対策を提案せよ': 'The following defects occurred in the copper plating process. Propose causes and countermeasures for each defect',
    '不良': 'Defect',
    'めっき表面に小さな突起（ノジュール）が多数発生': 'Many small protrusions (nodules) on the plating surface',
    'めっき厚さが目標': 'Plating thickness only achieves',
    'に対し': 'against target',
    'しか達成できない': 'only achieves',
    'めっき後の密着試験（テープ試験）で剥離が発生': 'Peeling occurs in adhesion test (tape test) after plating',
    'ノジュール（表面突起）': 'Nodules (Surface Protrusions)',
    '原因候補': 'Candidate Causes',
    'めっき浴中の不純物・パーティクル（ダスト、他金属イオン）': 'Impurities/particles in plating bath (dust, other metal ions)',
    '浴のろ過不足': 'Insufficient bath filtration',
    '電流密度過大による樹枝状成長': 'Dendritic growth due to excessive current density',
    '対策': 'Countermeasures',
    'めっき浴のろ過': 'Plating bath filtration',
    'カートリッジフィルタ': 'cartridge filter',
    '時間循環': 'hour circulation',
    '陽極の活性炭処理（不純物除去）': 'Activated carbon treatment of anode (impurity removal)',
    '電流密度の低減': 'Reduce current density',
    '試料の前処理強化（脱脂': 'Strengthen sample pretreatment (degreasing',
    '酸洗い': 'pickling',
    '純水リンス）': 'pure water rinse)',
    '膜厚不足': 'Insufficient Film Thickness',
    '電流効率の低下（副反応による）': 'Decreased current efficiency (due to side reactions)',
    '金属イオン濃度の不足': 'Insufficient metal ion concentration',
    '実際の電流値が設定値より低い': 'Actual current value lower than set value',
    '理論膜厚（効率95%）': 'Theoretical thickness (efficiency 95%)',
    '実測': 'actual',
    'から逆算される電流効率': 'Current efficiency calculated back from',
    '浴組成分析（': 'Bath composition analysis (',
    '濃度、': 'concentration, ',
    '濃度）': 'concentration)',
    '不足なら補充': 'replenish if insufficient',
    '電流計の校正確認': 'Check ammeter calibration',
    '浴温度の確認（低温は電流効率低下）': 'Check bath temperature (low temperature decreases current efficiency)',
    'に維持': 'maintain at',
    '陽極面積と陰極面積のバランス確認（': 'Check balance of anode and cathode area (',
    'が理想）': 'is ideal)',
    '密着不良': 'Poor Adhesion',
    '基材表面の汚れ（油脂、酸化膜）': 'Contamination on substrate surface (oils, oxide film)',
    '前処理不足': 'Insufficient pretreatment',
    '基材との熱膨張係数の不一致による応力': 'Stress due to mismatch in thermal expansion coefficient with substrate',
    '前処理プロセスの見直し': 'Review pretreatment process',
    '脱脂': 'Degreasing',
    'アルカリ脱脂': 'Alkaline degreasing',
    '超音波洗浄': 'ultrasonic cleaning',
    'で酸化膜除去': 'for oxide film removal',
    '活性化': 'Activation',
    '直前処理': 'immediate pretreatment',
    'ストライクめっき（薄い': 'Strike plating (thin',
    'または': 'or',
    '層）で密着性向上': 'layer) to improve adhesion',
    'めっき後のベーキング（': 'Post-plating baking (',
    '）で水素脆化除去と密着力向上': 'to remove hydrogen embrittlement and improve adhesion',
    '検証方法': 'Verification Methods',
    '密着試験': 'Adhesion test',
    '引張試験': 'Tensile test',
    '引張密着強度': 'tensile adhesion strength',
    '目標': 'target',
    '学習確認チェックリスト': 'Learning Confirmation Checklist',
    '基本理解（5項目）': 'Basic Understanding (5 items)',
    'を用いてめっき厚さを計算できる': 'Can calculate plating thickness using',
    'のバリア層とポーラス層の違いを説明できる': 'Can explain the difference between barrier layer and porous layer in',
    'の飛程とドーズ量の関係を理解している': 'Understand the relationship between range and dose',
    'の分類（': 'classification',
    '）を理解している': 'Understand the',
    'の粒子速度と温度が密着性に与える影響を説明できる': 'Can explain the impact of particle velocity and temperature on adhesion',
    '実践スキル（5項目）': 'Practical Skills (5 items)',
    'と電流効率を考慮してめっき条件を設計できる': 'Can design plating conditions considering current density and current efficiency',
    'の電圧と膜厚の関係を計算できる': 'Can calculate the relationship between voltage and film thickness',
    'プロファイルをPythonでシミュレートできる': 'Can simulate profiles in Python',
    'の選定フローチャートを使いこなせる': 'Can use the selection flowchart',
    '不良（': 'defects (',
    '）の原因を推定できる': 'Can estimate causes of plating defects',
    '応用力（5項目）': 'Applied Skills (5 items)',
    'の均一電着性を改善する方法を提案できる': 'Can propose methods to improve throwing power for complex-shaped parts',
    'を設計し、各層の材料・厚さ・製法を選定できる': 'Can design multi-layer coatings and select materials, thickness, and fabrication methods for each layer',
    'プロセスパラメータ（粒径、噴射距離）を最適化できる': 'Can optimize thermal spray process parameters (particle size, spray distance)',
    '要求特性（耐食性、耐摩耗性、導電性など）に応じて表面処理技術を選べる': 'Can select surface treatment technologies according to required properties (corrosion resistance, wear resistance, conductivity, etc.)',
    'プロセス異常に対するトラブルシューティングができる': 'Can troubleshoot process anomalies',
    '参考文献': 'References',
    'の法則と電気化学基礎': "'s law and electrochemical fundamentals",
    'プロセスと膜構造': 'process and film structure',
    'プロセスとコーティング特性': 'processes and coating properties',
    '溶射と粒子ダイナミクス': 'spray and particle dynamics',
    '理論とLSSモデル': 'theory and LSS model',
    'プロセス': 'process',
    'の基礎と応用': 'fundamentals and applications',
    '最新めっき技術とトラブルシューティング': 'Modern plating technology and troubleshooting',
    'まとめ': 'Summary',
    '本章では、材料表面処理技術の基礎から実践まで学習しました': 'In this chapter, we learned the basics to practice of material surface treatment technologies',
    '電気めっきでは': 'in electroplating',
    'による膜厚計算と電流密度の最適化': 'film thickness calculation and current density optimization using Faradays law',
    '陽極酸化では': 'in anodizing',
    'とポーラス層の形成メカニズム': 'and porous layer formation mechanisms',
    'イオン注入では': 'in ion implantation',
    'のモデリング': 'modeling of concentration profiles',
    'そして熱溶射では': 'and in thermal spray',
    'と密着強度の関係を習得しました': 'we mastered the relationship between particle dynamics and adhesion strength',
    '表面処理技術は、材料の内部特性を変えることなく表面機能（耐食性、耐摩耗性、導電性、装飾性など）を付与する重要なプロセス技術です': 'Surface treatment technology is an important process technology that imparts surface functions (corrosion resistance, wear resistance, conductivity, decorativeness, etc.) without changing the internal properties of materials',
    '適切な技術選定とパラメータ最適化により、製品の性能と寿命を大幅に向上させることができます': 'Appropriate technology selection and parameter optimization can significantly improve product performance and lifespan',
    '次章では、粉末焼結プロセスについて学びます': 'In the next chapter, we will learn about powder sintering processes',
    '焼結メカニズム、緻密化モデル、ホットプレス、SPSなど、粉末冶金の基礎と実践を習得します': 'We will acquire the fundamentals and practice of powder metallurgy, including sintering mechanisms, densification models, hot pressing, and SPS',
    '第': 'Chapter ',
    '章': '',
    '熱処理プロセス': 'Heat Treatment Processes',
    '目次に戻る': 'Return to Table of Contents',
    '焼結プロセス': 'Sintering Processes',
    '免責事項': 'Disclaimer',
    '本コンテンツは教育・研究・情報提供のみを目的としており、専門的な助言（法律・会計・技術的保証など）を提供するものではありません': 'This content is provided solely for educational, research, and informational purposes and does not constitute professional advice (legal, accounting, technical guarantees, etc.)',
    '本コンテンツおよび付随するコード例は「現状有姿（AS IS）」で提供され、明示または黙示を問わず、商品性、特定目的適合性、権利非侵害、正確性・完全性、動作・安全性等いかなる保証もしません': 'This content and accompanying code examples are provided "AS IS" without any warranties, express or implied, including merchantability, fitness for a particular purpose, non-infringement, accuracy, completeness, operation, safety, etc.',
    '外部リンク、第三者が提供するデータ・ツール・ライブラリ等の内容・可用性・安全性について、作成者および東北大学は一切の責任を負いません': 'The authors and Tohoku University assume no responsibility for the content, availability, or safety of external links, third-party data, tools, libraries, etc.',
    '本コンテンツの利用・実行・解釈により直接的・間接的・付随的・特別・結果的・懲罰的損害が生じた場合でも、適用法で許容される最大限の範囲で、作成者および東北大学は責任を負いません': 'To the maximum extent permitted by applicable law, the authors and Tohoku University shall not be liable for any direct, indirect, incidental, special, consequential, or punitive damages arising from the use, execution, or interpretation of this content',
    '本コンテンツの内容は、予告なく変更・更新・提供停止されることがあります': 'The content of this material may be changed, updated, or discontinued without notice',
    '本コンテンツの著作権・ライセンスは明記された条件（例: CC BY 4.0）に従います。当該ライセンスは通常、無保証条項を含みます': 'The copyright and license of this content are subject to the stated conditions (e.g., CC BY 4.0). Such licenses typically include warranty disclaimers',
    '作成者': 'Author',
    'バージョン': 'Version',
    '作成日': 'Date',
    'ライセンス': 'License',
}


def translate_text(text):
    """Apply all translations to a given text"""
    result = text
    for jp, en in TRANSLATIONS.items():
        result = result.replace(jp, en)
    return result


def main():
    """Main translation function"""

    # File paths
    src_file = 'knowledge/jp/MS/processing-introduction/chapter-3.html'
    current_en_file = 'knowledge/en/MS/processing-introduction/chapter-3.html'
    output_file = 'knowledge/en/MS/processing-introduction/chapter-3.html'

    print("Reading Japanese source file...")
    with open(src_file, 'r', encoding='utf-8') as f:
        jp_lines = f.readlines()

    print(f"Japanese source: {len(jp_lines)} lines")

    print("Reading current English file...")
    with open(current_en_file, 'r', encoding='utf-8') as f:
        current_en = f.read()

    print(f"Current English file size: {len(current_en)} characters")

    # The current English file is complete up to line 864
    # We need to translate lines 865-1965

    print("\nTranslating remaining lines (865-1965)...")

    remaining_jp = ''.join(jp_lines[864:])  # Lines 865 onwards (0-indexed)
    remaining_en = translate_text(remaining_jp)

    # Combine existing English with newly translated content
    complete_en = current_en.rstrip() + '\n' + remaining_en

    print(f"\nComplete translated file size: {len(complete_en)} characters")

    # Write the complete translation
    print(f"Writing complete translation to: {output_file}")
    with open(output_file, 'w', encoding='utf-8') as f:
        f.write(complete_en)

    print("\n✅ Translation complete!")
    print(f"Output file: {output_file}")

    # Verify Japanese characters remaining
    import re
    japanese_chars = re.findall(r'[あ-んア-ンー一-龯ぁ-ゔゕ-ゞァ-・ヽヾ゛゜ー]', complete_en)
    print(f"\n Japanese characters remaining: {len(japanese_chars)}")

    if len(japanese_chars) > 0:
        print(f"⚠️  Warning: {len(japanese_chars)} Japanese characters still present")
        print("Sample remaining Japanese:")
        print(''.join(japanese_chars[:50]))
    else:
        print("✅ No Japanese characters detected - translation appears complete!")


if __name__ == '__main__':
    try:
        # Change to repository root
        os.chdir('/Users/yusukehashimoto/Documents/pycharm/AI_Homepage/wp')
        main()
    except Exception as e:
        print(f"\n❌ Error: {e}")
        import traceback
        traceback.print_exc()
        sys.exit(1)
